/*! For license information please see ZegoSuperBoardWeb.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var o=t();for(var r in o)("object"==typeof exports?exports:e)[r]=o[r]}}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function o(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=343)}([function(e,t,o){"use strict";o.d(t,"d",(function(){return r})),o.d(t,"b",(function(){return i})),o.d(t,"a",(function(){return n})),o.d(t,"e",(function(){return a})),o.d(t,"f",(function(){return s})),o.d(t,"g",(function(){return l})),o.d(t,"h",(function(){return d})),o.d(t,"c",(function(){return h})),o.d(t,"k",(function(){return p})),o.d(t,"l",(function(){return f}));var r,i,n,a,s,c,u,l,d,h,p,f,g=o(94);o.d(t,"i",(function(){return g.a})),o.d(t,"j",(function(){return g.b})),o.d(t,"m",(function(){return g.c})),o.d(t,"n",(function(){return g.d})),o.d(t,"o",(function(){return g.e})),function(e){e[e.PPT=1]="PPT",e[e.DOC=2]="DOC",e[e.ELS=4]="ELS",e[e.PDF=8]="PDF",e[e.IMG=16]="IMG",e[e.TXT=32]="TXT",e[e.PPTH5=512]="PPTH5",e[e.CUSTOM_H5=4096]="CUSTOM_H5"}(r||(r={})),function(e){e[e.Single=1]="Single",e[e.Multi=2]="Multi",e[e.Other=4]="Other"}(i||(i={})),function(e){e[e.Append=1]="Append",e[e.Update=2]="Update",e[e.Delete=4]="Delete",e[e.Move=8]="Move",e[e.Create=32]="Create"}(n||(n={})),function(e){e[e.Local=0]="Local",e[e.Remote=1]="Remote",e[e.UnReDo=2]="UnReDo",e[e.Reload=3]="Reload"}(a||(a={})),function(e){e[e.Pencil=1]="Pencil",e[e.Text=2]="Text",e[e.Line=4]="Line",e[e.Rect=8]="Rect",e[e.Ellipse=16]="Ellipse",e[e.Laser=128]="Laser",e[e.Image=256]="Image",e[e.BgImage=512]="BgImage",e[e.RealTime=999]="RealTime"}(s||(s={})),function(e){e[e.Pc=1]="Pc",e[e.Mobile=2]="Mobile"}(c||(c={})),function(e){e[e.Init=1]="Init",e[e.Down=2]="Down",e[e.Move=3]="Move",e[e.DownMove=4]="DownMove",e[e.DownMoveUp=5]="DownMoveUp",e[e.DownNoMoveUp=6]="DownNoMoveUp",e[e.Leave=7]="Leave",e[e.DownLeave=8]="DownLeave"}(u||(u={})),function(e){e[e.success=1]="success",e[e.error=2]="error"}(l||(l={})),function(e){e[e.InProgress=1]="InProgress",e[e.Pending=2]="Pending"}(d||(d={})),function(e){e[e.BatchSelete=0]="BatchSelete",e[e.ClearPage=1]="ClearPage",e[e.EraserTool=2]="EraserTool"}(h||(h={})),function(e){e[e.None=0]="None",e[e.Scale=1]="Scale",e[e.Scroll=2]="Scroll"}(p||(p={})),function(e){e[e.None=0]="None",e[e.Append=1]="Append",e[e.Update=2]="Update",e[e.Delete=4]="Delete",e[e.Move=8]="Move",e[e.Clear=16]="Clear",e[e.Create=32]="Create"}(f||(f={}))},function(e,t,o){"use strict";var r,i,n,a,s;o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return n})),o.d(t,"d",(function(){return a})),o.d(t,"e",(function(){return s})),function(e){e.UnloadVideoSrc="unloadVideoSrc",e.DisableH5ImageDrag="disableH5ImageDrag",e.PptStepMode="pptStepMode",e.ThumbnailMode="thumbnailMode",e.Domain="domain"}(r||(r={})),function(e){e[e.ZegoDocsViewSuccess=0]="ZegoDocsViewSuccess",e[e.ZegoDocsViewErrorInternal=2000001]="ZegoDocsViewErrorInternal",e[e.ZegoDocsViewErrorParamInvalid=2000002]="ZegoDocsViewErrorParamInvalid",e[e.ZegoDocsViewErrorNetworkTimeout=2000003]="ZegoDocsViewErrorNetworkTimeout",e[e.ZegoDocsViewErrorFileNotExist=2010001]="ZegoDocsViewErrorFileNotExist",e[e.ZegoDocsViewErrorUploadFailed=2010002]="ZegoDocsViewErrorUploadFailed",e[e.ZegoDocsViewErrorUnsupportRenderType=2010003]="ZegoDocsViewErrorUnsupportRenderType",e[e.ZegoDocsViewErrorFileEncrypt=2020001]="ZegoDocsViewErrorFileEncrypt",e[e.ZegoDocsViewErrorFileSizeLimit=2020002]="ZegoDocsViewErrorFileSizeLimit",e[e.ZegoDocsViewErrorFileSheetLimit=2020003]="ZegoDocsViewErrorFileSheetLimit",e[e.ZegoDocsViewErrorConvertFail=2020004]="ZegoDocsViewErrorConvertFail",e[e.ZegoDocsViewErrorConvertCancel=2020005]="ZegoDocsViewErrorConvertCancel",e[e.ZegoDocsViewErrorFileContentEmpty=2020006]="ZegoDocsViewErrorFileContentEmpty",e[e.ZegoDocsViewErrorFileReadOnly=2020007]="ZegoDocsViewErrorFileReadOnly",e[e.ZegoDocsViewErrorConvertElementNotSupported=2020008]="ZegoDocsViewErrorConvertElementNotSupported",e[e.ZegoDocsViewErrorConvertFileTypeInvalid=2020009]="ZegoDocsViewErrorConvertFileTypeInvalid",e[e.ZegoDocsViewErrorAuthParamInvalid=2030001]="ZegoDocsViewErrorAuthParamInvalid",e[e.ZegoDocsViewErrorFilePathNotAccess=2030002]="ZegoDocsViewErrorFilePathNotAccess",e[e.ZegoDocsViewErrorInitFailed=2030003]="ZegoDocsViewErrorInitFailed",e[e.ZegoDocsViewErrorSizeInvalid=2030004]="ZegoDocsViewErrorSizeInvalid",e[e.ZegoDocsViewErrorFreeSpaceLimit=2030005]="ZegoDocsViewErrorFreeSpaceLimit",e[e.ZegoDocsViewErrorUploadNotSupported=2030006]="ZegoDocsViewErrorUploadNotSupported",e[e.ZegoDocsViewErrorUploadDuplicated=2030007]="ZegoDocsViewErrorUploadDuplicated",e[e.ZegoDocsViewErrorEmptyDomain=2030008]="ZegoDocsViewErrorEmptyDomain",e[e.ZegoDocsViewErrorHaveInit=2030009]="ZegoDocsViewErrorHaveInit",e[e.ZegoDocsViewErrorServerFileNotExist=2030010]="ZegoDocsViewErrorServerFileNotExist",e[e.ZegoDocsViewErrorCacheNotSupported=2030014]="ZegoDocsViewErrorCacheNotSupported",e[e.ZegoDocsViewErrorCacheFailed=2030015]="ZegoDocsViewErrorCacheFailed",e[e.ZegoDocsViewErrorZipFileInvalid=2030016]="ZegoDocsViewErrorZipFileInvalid",e[e.ZegoDocsViewErrorH5FileInvalid=2030017]="ZegoDocsViewErrorH5FileInvalid"}(i||(i={})),function(e){e[e.ZegoDocsViewFileTypeUnknown=0]="ZegoDocsViewFileTypeUnknown",e[e.ZegoDocsViewFileTypePPT=1]="ZegoDocsViewFileTypePPT",e[e.ZegoDocsViewFileTypeDOC=2]="ZegoDocsViewFileTypeDOC",e[e.ZegoDocsViewFileTypeELS=4]="ZegoDocsViewFileTypeELS",e[e.ZegoDocsViewFileTypePDF=8]="ZegoDocsViewFileTypePDF",e[e.ZegoDocsViewFileTypeIMG=16]="ZegoDocsViewFileTypeIMG",e[e.ZegoDocsViewFileTypeTXT=32]="ZegoDocsViewFileTypeTXT",e[e.ZegoDocsViewFileTypeDynamicPPTH5=512]="ZegoDocsViewFileTypeDynamicPPTH5",e[e.ZegoDocsViewFileTypeAudio=1024]="ZegoDocsViewFileTypeAudio",e[e.ZegoDocsViewFileTypeVideo=2048]="ZegoDocsViewFileTypeVideo",e[e.ZegoDocsViewFileTypeCustomH5=4096]="ZegoDocsViewFileTypeCustomH5"}(n||(n={})),function(e){e[e.ZegoDocsViewRenderTypeVector=1]="ZegoDocsViewRenderTypeVector",e[e.ZegoDocsViewRenderTypeIMG=2]="ZegoDocsViewRenderTypeIMG",e[e.ZegoDocsViewRenderTypeVectorAndIMG=3]="ZegoDocsViewRenderTypeVectorAndIMG",e[e.ZegoDocsViewRenderTypeDynamicPPTH5=6]="ZegoDocsViewRenderTypeDynamicPPTH5"}(a||(a={})),function(e){e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.WAITING=4]="WAITING",e[e.CONVERTING=8]="CONVERTING",e[e.CONVERTED=16]="CONVERTED",e[e.CONVERT_FAIL=32]="CONVERT_FAIL",e[e.CONVERT_CANCEL=64]="CONVERT_CANCEL"}(s||(s={}))},function(e,t,o){"use strict";o.d(t,"b",(function(){return u})),o.d(t,"a",(function(){return l}));o(35),o(50),o(51),o(93),o(57),o(85),o(37),o(88);var r=function(){return(r=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=function(){function e(e,t){this.appid="",this.roomid="",this.userid="",this.token="",this.isTestEnv=!0,this.version="",this.platform="",this.extra={},this.isProd=!1,this.isElectron=!1,this.logLevel=1,this.logCacheSend=[],this.logCacheMax=100,this.platform=e||"",this.isElectron=t,this.openLogServer()}return e.prototype.init=function(e){var t=e.appid,o=e.isTestEnv,r=e.version,i=e.isProd,n=e.liveroom;this.appid=(t||this.appid)+"",this.isTestEnv=o,this.version=r||this.version,this.isProd=i,n&&!this.platform.includes("liveroom")&&(this.platform+=",liveroom")},e.prototype.initRoom=function(e){var t=e.roomid,o=e.userid,r=e.token,i=e.logLevel;this.roomid=t||this.roomid,this.userid=o||this.userid,this.token=r||this.token,"number"==typeof i&&(this.logLevel=i)},e.prototype.setExtraConfig=function(e){Object.assign(this.extra,e)},e.prototype.getConfig=function(){return{appid:+this.appid,roomid:this.roomid,userid:this.userid,token:this.token,isTestEnv:this.isTestEnv}},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this.log(0,e);if(this.logLevel>0);else{var r=console.debug;r(o)}},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this.log(1,e);if(this.logLevel>1);else{var r=console.info;r(o)}},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this.log(2,e);if(this.logLevel>2);else{var r=console.warn;r(o)}},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this.log(3,e);if(this.logLevel>3);else{var r=console.error;r(o)}},e.prototype.writeLocalLog=function(e){},e.prototype.log=function(e,t){var o=this.isProd||this.isElectron?this.logParamList(e,t.join("")):t.join("");return this.isProd&&this.remoteWebSocketLog(e,o),this.isElectron&&this.writeLocalLog(o),o},e.prototype.openLogServer=function(){this.stopWebSocketServer(),this.websocket=new WebSocket("wss://weblogger-edu.zego.im/log")},e.prototype.stopWebSocketServer=function(){this.websocket&&(this.websocket.close(),this.websocket=null)},e.prototype.remoteWebSocketLog=function(e,t){if(!("string"==typeof t&&t.length>4e3))if(null==this.websocket||2==this.websocket.readyState||3==this.websocket.readyState)this.openLogServer(),this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t);else if(0==this.websocket.readyState)this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t);else if(1==this.websocket.readyState)if(this.logCacheSend.length>0){for(var o="",r=0;r<this.logCacheSend.length;r++)(o+this.logCacheSend[r]).length>4e3&&(this.websocket.send(o),o=""),o=o+this.logCacheSend[r]+"\n";t=o+t,this.logCacheSend=[],this.websocket.send(t)}else this.websocket.send(t);else this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t)},e.prototype.logParamList=function(e,t){var o=(new Date).toLocaleString(),i=t.indexOf(" "),n=t.substr(0,i)||t,a=t.substr(i+1,4500),s=r(r({time:o,level:e,action:n,content:a,appid:this.appid,userid:this.userid,roomid:this.roomid},this.extra),{version:this.version,platform:this.platform});return JSON.stringify(s)},e}(),n=function(e,t,o){var r=!(!e||!e.versions.electron);return{electron:r,platform:(r?e.platform:t)+","+o[o.length-2]+","+o[o.length-1]}}(window.process,navigator.platform,navigator.userAgent.split(" ")),a=n.electron,s=n.platform,c=a?"ec.":"web.";function u(e,t){return""+c+e+t+" "}var l=window.zegoLogger||(window.zegoLogger=new i(s,a))},function(e,t,o){"use strict";var r=o(0),i="ontouchstart"in window||navigator.maxTouchPoints>0;t.a={reservedPrefix:{whiteboardZoom:"zego-whiteboard-zoom",fileWhiteboardCon:"zego-docsview-con",whiteboardCon:"zego-whiteboard-con",whiteboard:"zego-whiteboard",laserContainer:"zego-other-container",graphicsBgContainer:"zego-graphics-bg-container",graphicsBgImageContainer:"zego-graphics-bgImage-container",graphicsContainer:"zego-graphics-container",graphicsSvg:"zego-svg",textareaCon:"zego-textarea",laserCon:"zego-laser",graphics:"zego-graphics",boxContainer:"zego-box-container",graphicsBox:"zego-graphics-box"},basicState:{type:r.j.ZegoWhiteboardViewToolPen,size:6,fontSize:24,color:"#f54326",bgColor:"rgb(241, 243, 244)",attributes:'{"bold": false, "italic": false, "stroke": false}'},basicExtraState:{drawSize:0,drawFontSize:0,customImage:{url:"",w:80,h:80},defaultFileBgColor:"rgb(255, 255, 255, 0)"},realTimeState:{localDrawCount:10,remoteDrawDelay:4,remoteDrawCount:2,remoteDrawEndDelay:1e4},scaleModes:{sync:!1,response:!1},handWritingFactor:{step:.016,max_speed:1.2,min_speed:.05,max_width_factor:1.2,min_width_factor:.5,last_size:0,lastX:0,lastY:0},svgPath:{tops:[],bottoms:[]},isTouch:i,boxPadding:0,textareaBoxPadding:24,textareaHPadding:6,textareaVPadding:0,textareaConBorderWidth:1,lineHeight:1.5,boxBorderWidth:2,selectedBorderCss:"2px solid #b0b3b8",unSelectedBorderCss:"2px solid transparent",maxlength:200,scrollbarSize:20,initLaserX:0,initLaserY:0,hiddenLaserX:-100,hiddenLaserY:-100,hiddenLaserDelay:5e3,mouseEvents:{down:"mousedown",move:"mousemove",up:"mouseup",leave:"mouseleave",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend",mouseleave:"touchcancel"},calStandard:{sizeWidth:1280,placeWidth:128e4,minFontSize:i?1:12,maxFontSize:100,minLineWidth:1,maxLineWidth:100}}},function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return n})),o.d(t,"d",(function(){return a}));var r,i,n,a;o(85),o(105),o(43),o(44),o(183);!function(e){e.Upload="onUpload",e.LoadFile="onLoadFile",e.StepChange="onStepChange",e.Scroll="onScroll",e.PlayAnimation="onPlayAnimation"}(r||(r={})),function(e){e.Error="error",e.ViewAdd="viewAdd",e.ViewRemoved="viewRemoved",e.ViewScroll="viewScroll",e.WhiteboardAuthChange="whiteboardAuthChange",e.WhiteboardGraphicAuthChange="whiteboardGraphicAuthChange"}(i||(i={})),function(e){e.PushAddMod="pushAddMod",e.PushRemovedMod="pushRemovedMod",e.PushDrawPageGraphics="pushDrawPageGraphics",e.PushClearPageGraphics="pushClearPageGraphics",e.PushScroll="pushScroll",e.PushScale="pushScale",e.PushH5ExtraAppended="pushH5ExtraAppended",e.PushAuthChange="pushAuthChange",e.GetPageGraphicsList="getPageGraphicsList",e.AppendH5Extra="appendH5Extra",e.Scroll="scroll",e.Scale="scale",e.RoomConnected="roomConnected",e.RoomDisConnected="roomDisConnected",e.AttachedView="attachedView"}(n||(n={})),function(e){e.SubViewScrolled="superBoardSubViewScrolled",e.SubViewScaleChanged="superBoardSubViewScaleChanged",e.RemoteSubViewAdd="remoteSuperBoardSubViewAdded",e.RemoteSubViewRemoved="remoteSuperBoardSubViewRemoved",e.RemoteSubViewSwitched="remoteSuperBoardSubViewSwitched",e.RemoteSubViewExcelSwitched="remoteSuperBoardSubViewExcelSwitched",e.RemoteAuthChange="remoteSuperBoardAuthChanged",e.RemoteGraphicAuthChange="remoteSuperBoardGraphicAuthChanged",e.SyncSwitchMod="syncSwitchMod",e.RemoteSwitchMod="remoteSwitchMod",e.RemoteModAdd="remoteModAdd",e.RemoteModRemoved="remoteModRemoved"}(a||(a={}));var s=function(){function e(){var e;this.listeners=((e={})[i.Error]=[],e[r.LoadFile]=[],e[r.Upload]=[],e[r.Scroll]=[],e[r.StepChange]=[],e[r.PlayAnimation]=[],e[n.PushAddMod]=[],e[n.PushRemovedMod]=[],e[n.PushDrawPageGraphics]=[],e[n.PushClearPageGraphics]=[],e[n.PushScroll]=[],e[n.PushScale]=[],e[n.PushH5ExtraAppended]=[],e[n.PushAuthChange]=[],e[n.GetPageGraphicsList]=[],e[n.AppendH5Extra]=[],e[n.Scroll]=[],e[n.Scale]=[],e[n.RoomConnected]=[],e[n.RoomDisConnected]=[],e[n.AttachedView]=[],e[i.ViewAdd]=[],e[i.ViewRemoved]=[],e[i.ViewScroll]=[],e[i.WhiteboardAuthChange]=[],e[i.WhiteboardGraphicAuthChange]=[],e[a.RemoteSubViewAdd]=[],e[a.RemoteSubViewRemoved]=[],e[a.RemoteSubViewSwitched]=[],e[a.RemoteSubViewExcelSwitched]=[],e[a.RemoteAuthChange]=[],e[a.RemoteGraphicAuthChange]=[],e[a.SyncSwitchMod]=[],e[a.RemoteSwitchMod]=[],e[a.RemoteModAdd]=[],e[a.RemoteModRemoved]=[],e[a.SubViewScrolled]=[],e[a.SubViewScaleChanged]=[],e)}return e.prototype.on=function(e,t){return!!this.listeners[e]&&("function"==typeof t&&(-1==this.listeners[e].indexOf(t)&&this.listeners[e].push(t),!0))},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var o=this.listeners[e];return t?o.splice(o.indexOf(t),1):this.listeners[e]=[],!0},e.prototype.removeAllListeners=function(){var e=this;return Object.keys(this.listeners).forEach((function(t){e.listeners[t]=[]})),!0},e.prototype.emit=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];this.listeners[e]&&this.listeners[e].forEach((function(e){e.apply(void 0,t)}))},e}();t.e=new s},function(e,t,o){"use strict";o.d(t,"k",(function(){return B})),o.d(t,"d",(function(){return m})),o.d(t,"n",(function(){return y})),o.d(t,"g",(function(){return v})),o.d(t,"c",(function(){return b})),o.d(t,"l",(function(){return S})),o.d(t,"o",(function(){return x})),o.d(t,"e",(function(){return E})),o.d(t,"p",(function(){return P})),o.d(t,"q",(function(){return T})),o.d(t,"a",(function(){return D})),o.d(t,"b",(function(){return O})),o.d(t,"h",(function(){return M})),o.d(t,"i",(function(){return A})),o.d(t,"t",(function(){return C})),o.d(t,"s",(function(){return L})),o.d(t,"r",(function(){return N})),o.d(t,"f",(function(){return _})),o.d(t,"m",(function(){return I})),o.d(t,"j",(function(){return V}));o(86),o(85),o(93),o(235),o(43),o(44),o(37),o(88),o(95),o(311),o(65),o(313),o(57),o(32),o(204),o(315);var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function n(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}for(var a=[],s=0;s<256;++s)a.push((s+256).toString(16).substr(1));var c=function(e,t){var o=t||0;return(a[e[o+0]]+a[e[o+1]]+a[e[o+2]]+a[e[o+3]]+"-"+a[e[o+4]]+a[e[o+5]]+"-"+a[e[o+6]]+a[e[o+7]]+"-"+a[e[o+8]]+a[e[o+9]]+"-"+a[e[o+10]]+a[e[o+11]]+a[e[o+12]]+a[e[o+13]]+a[e[o+14]]+a[e[o+15]]).toLowerCase()};var u=function(e,t,o){var r=(e=e||{}).random||(e.rng||n)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){o=o||0;for(var i=0;i<16;++i)t[o+i]=r[i];return t}return c(r)},l=o(299),d=o.n(l),h=o(277),p=o.n(h),f=o(3),g=o(0),m=function(){return""+p()(u())},_=function(){var e=Math.sqrt(Math.sqrt(+p()(u())))*Math.random()|0;return e>99?.3*e|0:e<3?e+10*Math.random()|0:e},y=function(e){if(e){var t=e.parentNode;t?t.removeChild(e):e.remove?e.remove():e.removeNode()}},v=function(e){return e.children||e.childNodes},b=function(e,t,o,r){var i,n=f.a.calStandard,a=n.sizeWidth,s=n.minFontSize,c=n.minLineWidth;return r?i=Math.round(e*a/o):(i=Math.round(o*e/a),g.f.Text===t?i<s&&(i=s):i<c&&(i=c)),i},w=function(e){var t=e[0],o=e[1],r=e[2],i=e[3];return[Math.min(t,r||t),Math.min(o,i||o)]},S=function(e,t){var o;switch(e){case g.f.Pencil:o=function(e){for(var t=e.length,o=.1,r=t-4,i="M"+e[0]+", "+e[1],n=0;n<t-2;n+=2){var a=n?e[n-2]:e[0],s=n?e[n-1]:e[1],c=e[n+0],u=e[n+1],l=e[n+2],d=e[n+3],h=n!==r?e[n+4]:l,p=n!==r?e[n+5]:d;i+=" C"+(Number(c)+(l-a)/6*o)+","+(Number(u)+(d-s)/6*o)+","+(Number(l)-(h-c)/6*o)+","+(Number(d)-(p-u)/6*o)+","+l+","+d}return i}(t);break;case g.f.Line:o={x1:t[0],y1:t[1],x2:t[2]||t[0],y2:t[3]||t[1]};break;case g.f.Rect:var r=Math.abs((t[2]||t[0])-t[0])||1,i=Math.abs((t[3]||t[1])-t[1])||1,n=w(t);o={x:n[0],y:n[1],width:r,height:i};break;case g.f.Ellipse:var a=Math.abs((t[2]||t[0])-t[0])/2||.5,s=Math.abs((t[3]||t[1])-t[1])/2||.5,c=w(t);o={cx:c[0]+a,cy:c[1]+s,rx:a,ry:s};break;default:o=""}return o},I=function(e,t,o){var r=f.a.handWritingFactor,i=r.step,n=r.max_width_factor,a=r.min_width_factor,s=r.max_speed,c=r.min_speed,u=f.a.handWritingFactor,l=u.lastX,d=u.lastY,h=e.data,p=h.length,g=!0;f.a.svgPath.tops=[],f.a.svgPath.bottoms=[];for(var m={tx1:0,ty1:0,tx2:0,ty2:0,bx1:0,by1:0,bx2:0,by2:0,mtx1:0,mty1:0,mbx1:0,mby1:0},_=2;_<p;_+=2){2===_&&(l=h[0],d=h[1]);var y=l,v=d,b=h[_]-y,w=h[_+1]-v,S=Math.sqrt(Math.pow(b,2)+Math.pow(w,2));if(!(S<o/1280*3*2.5)){var I=S*i;I>s&&(I=s),I<c&&(I=c);var x=n*t,E=a*t,P=(x-E)*(1-I/s)+E;P>x&&(P=x),P<E&&(P=E);var T,D;if(T=P/2*w/S,D=P/2*b/S,m.tx1=l+T,m.ty1=d-D,m.tx2=h[_]+T,m.ty2=h[_+1]-D,m.bx1=l-T,m.by1=d+D,m.bx2=h[_]-T,m.by2=h[_+1]+D,g&&(m.tx1=l,m.ty1=d,m.bx1=l,m.by1=d),m.mtx1=(m.tx1+m.tx2)/2,m.mty1=(m.ty1+m.ty2)/2,m.mbx1=(m.bx1+m.bx2)/2,m.mby1=(m.by1+m.by2)/2,g)f.a.svgPath.tops.push("M"+l+" "+d+" L"+m.mtx1+" "+m.mty1),f.a.svgPath.bottoms.unshift("Q"+m.bx2+" "+m.by2+" "+m.mbx1+" "+m.mby1+" L"+l+" "+d);else if(f.a.svgPath.tops.join("").indexOf("M")<0&&f.a.svgPath.tops.push("M"+m.mtx1+" "+m.mty1),_===p-2){var O=h[p-2],M=h[p-1];I===c?f.a.svgPath.tops.push("Q"+O+" "+M+" "+O+" "+M):f.a.svgPath.tops.push("Q"+m.tx1+" "+m.ty1+" "+O+" "+M)}else f.a.svgPath.tops.push("Q"+m.tx1+" "+m.ty1+" "+m.mtx1+" "+m.mty1),f.a.svgPath.bottoms.unshift("Q"+m.bx2+" "+m.by2+" "+m.mbx1+" "+m.mby1);l=h[_],d=h[_+1],g=!1}}return f.a.svgPath.tops.concat(f.a.svgPath.bottoms).join(" ")},x=function(e,t){t.forEach((function(t){e.setAttribute(t.attr,t.value)}))},E=function(e,t,o,r){var i,n=document.querySelector("#"+e);if(n)return r&&n.setAttribute("data-z",r+""),[i=n.querySelector("#"+t)];n=document.createElementNS("http://www.w3.org/2000/svg","svg");var a=document.createElementNS("http://www.w3.org/2000/svg","g");return i=document.createElementNS("http://www.w3.org/2000/svg",o),n.id=e,n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("version","1.1"),r&&n.setAttribute("data-z",r+""),i.id=t,a.appendChild(i),n.appendChild(a),[i,n]},P=function(e,t){void 0===t&&(t=1);var o=[],r=[];return e.forEach((function(e,t,o){t%2==0&&r.push({x:e,y:o[t+1]})})),d()(r,t).forEach((function(e){o=o.concat([e.x,e.y])})),o},T=function(e){var t=e.split(",");return{beginX:t[0],beginY:t[1],text:t.slice(2).join(",")}},D=function(e,t,o){return parseInt(t)+","+parseInt(o)+","+e},O=function(e,t){t.forEach((function(t){e.addEventListener(t,(function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}))}))},M=function(e){var t=0,o=0;if(e)for(t+=e.offsetTop,o+=e.offsetLeft;e.offsetParent;)t+=e.offsetParent.offsetTop,o+=e.offsetParent.offsetLeft,e=e.offsetParent;return{offsetTop:t,offsetLeft:o}},A=function(e){var t=0,o=0;if(e)for(t+=e.scrollTop,o+=e.scrollLeft;e.parentNode;)t+=e.parentNode.scrollTop||0,o+=e.parentNode.scrollLeft||0,e=e.parentNode;return{scrollTop:t,scrollLeft:o}},C=function(e,t){var o=e.length>1?g.b.Multi:g.b.Single,r=JSON.parse(JSON.stringify(e));return r.forEach((function(e){e.action_type=o,t&&(e.action=t),delete e.selected,delete e.fontSize,delete e.bgColor})),r},L=function(e,t){return t?e?"#"+(e=e.toString(16)).slice(2).padStart(6,"0"):f.a.basicState.color:(e=function(e){if(0===e.indexOf("#"))return e;var t=e.replace(/rgba?/,"").replace(/\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),o=parseFloat(t[3]||"1"),r=Math.floor(o*parseInt(t[0])+255*(1-o)),i=Math.floor(o*parseInt(t[1])+255*(1-o)),n=Math.floor(o*parseInt(t[2])+255*(1-o));return"#"+("0"+r.toString(16)).slice(-2)+("0"+i.toString(16)).slice(-2)+("0"+n.toString(16)).slice(-2)}(e),parseInt("0xFF"+e.split("#")[1]))},B=function(e){return"number"==typeof e&&!isNaN(e)},N=function(e){for(var t=e.length,o=.1,r=t-4,i=[e[0],e[1]],n=[],a=0;a<t-2;a+=2){var s=a?e[a-2]:e[0],c=a?e[a-1]:e[1],u=e[a+0],l=e[a+1],d=e[a+2],h=e[a+3],p=a!==r?e[a+4]:d,f=a!==r?e[a+5]:h,g=Number(u)+(d-s)/6*o,m=Number(l)+(h-c)/6*o,_=Number(d)-(p-u)/6*o,y=Number(h)-(f-l)/6*o;n.push([g,m,_,y,d,h])}return{moveTo:i,path:n}},V=function(e){var t=e.type,o=e.attributes;return(t==g.f.Pencil||t==g.f.RealTime)&&JSON.parse(o||f.a.basicState.attributes).stroke}},function(e,t,o){(function(t){var o=function(e){return e&&e.Math==Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,o(116))},function(e,t,o){var r=o(6),i=o(52).f,n=o(24),a=o(25),s=o(99),c=o(150),u=o(110);e.exports=function(e,t){var o,l,d,h,p,f=e.target,g=e.global,m=e.stat;if(o=g?r:m?r[f]||s(f,{}):(r[f]||{}).prototype)for(l in t){if(h=t[l],d=e.noTargetGet?(p=i(o,l))&&p.value:o[l],!u(g?l:f+(m?".":"#")+l,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&n(h,"sham",!0),a(o,l,h,e)}}},function(e,t,o){"use strict";o.d(t,"b",(function(){return c})),o.d(t,"a",(function(){return u}));var r,i=o(4),n=o(0),a=((r={})[n.i.ZegoWhiteboardViewErrorInternal]="内部错误",r[n.i.ZegoWhiteboardViewErrorParamInvalid]="参数错误",r[n.i.ZegoWhiteboardViewErrorNetworkTimeout]="网络超时",r[n.i.ZegoWhiteboardViewErrorNetworkDisconnect]="网络断开",r[n.i.ZegoWhiteboardViewErrorInvalidRsp]="网络回包错误",r[n.i.ZegoWhiteboardViewErrorRequestTooMany]="请求过于频繁",r[n.i.ZegoWhiteboardViewErrorNoLoginRoom]="未登录房间",r[n.i.ZegoWhiteboardViewErrorUserNotExist]="用户不存在",r[n.i.ZegoWhiteboardViewErrorViewNotExist]="白板view不存在",r[n.i.ZegoWhiteboardViewErrorViewCreateFail]="创建白板view失败",r[n.i.ZegoWhiteboardViewErrorViewModifyFail]="修改白板view失败",r[n.i.ZegoWhiteboardViewErrorViewNameLimit]="白板view名称或者content过长",r[n.i.ZegoWhiteboardViewErrorViewParentNotExist]="白板view的parent不存在",r[n.i.ZegoWhiteboardViewErrorViewNumLimit]="超过白板最大数量限制",r[n.i.ZegoWhiteboardViewErrorGraphicNotExist]="图元不存在",r[n.i.ZegoWhiteboardViewErrorGraphicCreateFail]="创建图元错误",r[n.i.ZegoWhiteboardViewErrorGraphicModifyFail]="修改图元错误",r[n.i.ZegoWhiteboardViewErrorGraphicUnableDraw]="未开启绘制",r[n.i.ZegoWhiteboardViewErrorGraphicDataLimit]="图元数据大小超过限制",r[n.i.ZegoWhiteboardViewErrorGraphicNumLimit]="超过图元最大数量限制",r[n.i.ZegoWhiteboardViewErrorGraphicTextLimit]="文本字数超过上限",r[n.i.ZegoWhiteboardViewErrorGraphicImageSizeLimit]="图片图元大小超限制",r[n.i.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport]="不支持的图片类型",r[n.i.ZegoWhiteboardViewErrorGraphicIllegalUrl]="无效图片地址",r[n.i.ZegoWhiteboardViewErrorInitFail]="初始化失败",r[n.i.ZegoWhiteboardViewErrorGetListFail]="拉取白板view列表失败",r[n.i.ZegoWhiteboardViewErrorCreateFail]="创建白板view失败",r[n.i.ZegoWhiteboardViewErrorDestroyFail]="销毁白板view失败",r[n.i.ZegoWhiteboardViewErrorAttachFail]="attach白板view失败",r[n.i.ZegoWhiteboardViewErrorClearFail]="清空白板view失败",r[n.i.ZegoWhiteboardViewErrorScrollFail]="滚动白板view失败",r[n.i.ZegoWhiteboardViewErrorUndoFail]="撤销操作失败",r[n.i.ZegoWhiteboardViewErrorRedoFail]="重做操作失败",r[n.i.ZegoWhiteboardViewErrorLogFolderNotAccess]="日志目录无法创建或写入",r[n.i.ZegoWhiteboardViewErrorCacheFolderNotAccess]="缓目录径无法创建或写入",r[n.i.ZegoWhiteboardViewErrorNoAuthScale]="无白板缩放权限",r[n.i.ZegoWhiteboardViewErrorNoAuthScroll]="无白板滚动权限",r[n.i.ZegoWhiteboardViewErrorNoAuthCreateGraphic]="无图元创建权限",r[n.i.ZegoWhiteboardViewErrorNoAuthUpdateGraphic]="无图元编辑权限",r[n.i.ZegoWhiteboardViewErrorNoAuthMoveGraphic]="无图元移动权限",r[n.i.ZegoWhiteboardViewErrorNoAuthDeleteGraphic]="无图元删除权限",r[n.i.ZegoWhiteboardViewErrorNoAuthClearGraphic]="无白板清空权限",r),s={1003:n.i.ZegoWhiteboardViewErrorNoLoginRoom,1014:n.i.ZegoWhiteboardViewErrorUserNotExist,1101:n.i.ZegoWhiteboardViewErrorViewNotExist,1102:n.i.ZegoWhiteboardViewErrorViewCreateFail,1104:n.i.ZegoWhiteboardViewErrorViewModifyFail,1114:n.i.ZegoWhiteboardViewErrorViewNumLimit,1201:n.i.ZegoWhiteboardViewErrorGraphicModifyFail,1202:n.i.ZegoWhiteboardViewErrorGraphicModifyFail,1212:n.i.ZegoWhiteboardViewErrorGraphicCreateFail,1217:n.i.ZegoWhiteboardViewErrorGraphicDataLimit,1219:n.i.ZegoWhiteboardViewErrorGraphicModifyFail,1222:n.i.ZegoWhiteboardViewErrorGraphicDataLimit,1223:n.i.ZegoWhiteboardViewErrorGraphicNumLimit,60003001:n.i.ZegoWhiteboardViewErrorInvalidRsp,10001e3:n.i.ZegoWhiteboardViewErrorInternal,10001001:n.i.ZegoWhiteboardViewErrorParamInvalid,110000001:n.i.ZegoWhiteboardViewErrorGraphicIllegalUrl,110000003:n.i.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport,110000004:n.i.ZegoWhiteboardViewErrorGraphicImageSizeLimit,110000005:n.i.ZegoWhiteboardViewErrorGraphicIllegalUrl,110000007:n.i.ZegoWhiteboardViewErrorLogFolderNotAccess,110000008:n.i.ZegoWhiteboardViewErrorCacheFolderNotAccess,110000009:n.i.ZegoWhiteboardViewErrorViewNameLimit,111001001:n.i.ZegoWhiteboardViewErrorNetworkDisconnect,111001002:n.i.ZegoWhiteboardViewErrorNetworkTimeout,111101001:n.i.ZegoWhiteboardViewErrorRequestTooMany,112001003:n.i.ZegoWhiteboardViewErrorNoLoginRoom,112001014:n.i.ZegoWhiteboardViewErrorUserNotExist,112001101:n.i.ZegoWhiteboardViewErrorViewNotExist,112001102:n.i.ZegoWhiteboardViewErrorViewCreateFail,112001104:n.i.ZegoWhiteboardViewErrorViewModifyFail,112001114:n.i.ZegoWhiteboardViewErrorViewNumLimit,112001201:n.i.ZegoWhiteboardViewErrorGraphicModifyFail,112001202:n.i.ZegoWhiteboardViewErrorGraphicModifyFail,112001212:n.i.ZegoWhiteboardViewErrorGraphicCreateFail,112001217:n.i.ZegoWhiteboardViewErrorGraphicDataLimit,112001219:n.i.ZegoWhiteboardViewErrorGraphicModifyFail,112001222:n.i.ZegoWhiteboardViewErrorGraphicDataLimit,112001223:n.i.ZegoWhiteboardViewErrorGraphicNumLimit},c=function(e,t,o){return{code:e=s[e]||e,msg:t=a[e]&&o&&t?t:a[e]||t||a[n.i.ZegoWhiteboardViewErrorInternal]}},u=function(e,t,o){var r=c(e,t,o);return i.e.emit(i.b.Error,r),r}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,o){"use strict";var r,i,n,a=o(157),s=o(17),c=o(6),u=o(13),l=o(16),d=o(72),h=o(24),p=o(25),f=o(18).f,g=o(79),m=o(48),_=o(11),y=o(69),v=c.Int8Array,b=v&&v.prototype,w=c.Uint8ClampedArray,S=w&&w.prototype,I=v&&g(v),x=b&&g(b),E=Object.prototype,P=E.isPrototypeOf,T=_("toStringTag"),D=y("TYPED_ARRAY_TAG"),O=y("TYPED_ARRAY_CONSTRUCTOR"),M=a&&!!m&&"Opera"!==d(c.opera),A=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},B=function(e){if(!u(e))return!1;var t=d(e);return l(C,t)||l(L,t)};for(r in C)(n=(i=c[r])&&i.prototype)?h(n,O,i):M=!1;for(r in L)(n=(i=c[r])&&i.prototype)&&h(n,O,i);if((!M||"function"!=typeof I||I===Function.prototype)&&(I=function(){throw TypeError("Incorrect invocation")},M))for(r in C)c[r]&&m(c[r],I);if((!M||!x||x===E)&&(x=I.prototype,M))for(r in C)c[r]&&m(c[r].prototype,x);if(M&&g(S)!==x&&m(S,x),s&&!l(x,T))for(r in A=!0,f(x,T,{get:function(){return u(this)?this[D]:void 0}}),C)c[r]&&h(c[r],D,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_CONSTRUCTOR:O,TYPED_ARRAY_TAG:A&&D,aTypedArray:function(e){if(B(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(m&&!P.call(I,e))throw TypeError("Target is not a typed array constructor");return e},exportTypedArrayMethod:function(e,t,o){if(s){if(o)for(var r in C){var i=c[r];if(i&&l(i.prototype,e))try{delete i.prototype[e]}catch(e){}}x[e]&&!o||p(x,e,o?t:M&&b[e]||t)}},exportTypedArrayStaticMethod:function(e,t,o){var r,i;if(s){if(m){if(o)for(r in C)if((i=c[r])&&l(i,e))try{delete i[e]}catch(e){}if(I[e]&&!o)return;try{return p(I,e,o?t:M&&I[e]||t)}catch(e){}}for(r in C)!(i=c[r])||i[e]&&!o||p(i,e,t)}},isView:function(e){if(!u(e))return!1;var t=d(e);return"DataView"===t||l(C,t)||l(L,t)},isTypedArray:B,TypedArray:I,TypedArrayPrototype:x}},function(e,t,o){var r=o(6),i=o(75),n=o(16),a=o(69),s=o(97),c=o(148),u=i("wks"),l=r.Symbol,d=c?l:l&&l.withoutSetter||a;e.exports=function(e){return n(u,e)&&(s||"string"==typeof u[e])||(s&&n(l,e)?u[e]=l[e]:u[e]=d("Symbol."+e)),u[e]}},function(e,t,o){var r=o(27),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,o){"use strict";o.d(t,"b",(function(){return c})),o.d(t,"a",(function(){return i}));var r,i,n=o(1),a=((r={30001:"请求过于频繁",60011:"token无效",60012:"token已过期",60013:"文档转换请求已处理",60014:"不存在的任务ID"})[n.b.ZegoDocsViewSuccess]="执行成功",r[n.b.ZegoDocsViewErrorInternal]="内部错误",r[n.b.ZegoDocsViewErrorParamInvalid]="参数错误",r[n.b.ZegoDocsViewErrorNetworkTimeout]="网络超时",r[n.b.ZegoDocsViewErrorFileNotExist]="找不到对应的本地文件",r[n.b.ZegoDocsViewErrorUploadFailed]="上传失败",r[n.b.ZegoDocsViewErrorUnsupportRenderType]="不支持渲染模式",r[n.b.ZegoDocsViewErrorFileEncrypt]="文件被加密",r[n.b.ZegoDocsViewErrorFileSizeLimit]="文件内容过大",r[n.b.ZegoDocsViewErrorFileSheetLimit]="文件页数过多",r[n.b.ZegoDocsViewErrorConvertFail]="格式转换失败",r[n.b.ZegoDocsViewErrorConvertCancel]="格式转换被取消",r[n.b.ZegoDocsViewErrorFileContentEmpty]="文件内容为空",r[n.b.ZegoDocsViewErrorFileReadOnly]="文件为只读模式",r[n.b.ZegoDocsViewErrorConvertElementNotSupported]="源文件中存在不支持转码的元素",r[n.b.ZegoDocsViewErrorConvertFileTypeInvalid]="文件后缀名不匹配",r[n.b.ZegoDocsViewErrorAuthParamInvalid]="认证参数错误",r[n.b.ZegoDocsViewErrorFilePathNotAccess]="路径权限不足",r[n.b.ZegoDocsViewErrorInitFailed]="初始化失败",r[n.b.ZegoDocsViewErrorSizeInvalid]="无法获取当前 view 宽高",r[n.b.ZegoDocsViewErrorFreeSpaceLimit]="本地空间不足",r[n.b.ZegoDocsViewErrorUploadNotSupported]="不支持文件上传功能",r[n.b.ZegoDocsViewErrorUploadDuplicated]="正在上传相同文件",r[n.b.ZegoDocsViewErrorEmptyDomain]="空域名",r[n.b.ZegoDocsViewErrorHaveInit]="已初始化",r[n.b.ZegoDocsViewErrorServerFileNotExist]="找不到对应的转码后文件",r[n.b.ZegoDocsViewErrorCacheNotSupported]="当前 AppID 不支持动态 PPT 预加载",r[n.b.ZegoDocsViewErrorCacheFailed]="预加载失败",r[n.b.ZegoDocsViewErrorZipFileInvalid]="无效的 ZIP 文件",r[n.b.ZegoDocsViewErrorH5FileInvalid]="无效的 H5 文件，不符合 ZEGO 定义的 H5 文件规范",r),s={4:n.b.ZegoDocsViewErrorParamInvalid,32:n.b.ZegoDocsViewErrorConvertFail,64:n.b.ZegoDocsViewErrorConvertCancel,128:n.b.ZegoDocsViewErrorFileEncrypt,256:n.b.ZegoDocsViewErrorFileSizeLimit,512:n.b.ZegoDocsViewErrorFileSheetLimit,1024:n.b.ZegoDocsViewErrorFileContentEmpty,8192:n.b.ZegoDocsViewErrorFileReadOnly,32768:n.b.ZegoDocsViewErrorConvertElementNotSupported,32769:n.b.ZegoDocsViewErrorConvertFileTypeInvalid,60002:n.b.ZegoDocsViewErrorFileNotExist,60011:n.b.ZegoDocsViewErrorAuthParamInvalid,60013:n.b.ZegoDocsViewErrorConvertCancel,60015:n.b.ZegoDocsViewErrorUnsupportRenderType,60016:n.b.ZegoDocsViewErrorFileSizeLimit,60018:n.b.ZegoDocsViewErrorServerFileNotExist,60021:n.b.ZegoDocsViewErrorUnsupportRenderType,60036:n.b.ZegoDocsViewErrorZipFileInvalid,60037:n.b.ZegoDocsViewErrorFileEncrypt,60038:n.b.ZegoDocsViewErrorH5FileInvalid,"-102":n.b.ZegoDocsViewErrorNetworkTimeout,"-105":n.b.ZegoDocsViewErrorFileNotExist,"-108":n.b.ZegoDocsViewErrorUnsupportRenderType,"-109":n.b.ZegoDocsViewErrorUploadFailed,"-110":n.b.ZegoDocsViewErrorFilePathNotAccess,"-114":n.b.ZegoDocsViewErrorCacheFailed,"-115":n.b.ZegoDocsViewErrorFreeSpaceLimit,"-116":n.b.ZegoDocsViewErrorInitFailed,"-117":n.b.ZegoDocsViewErrorFileSizeLimit,"-118":n.b.ZegoDocsViewErrorUploadNotSupported,"-119":n.b.ZegoDocsViewErrorUploadDuplicated,"-120":n.b.ZegoDocsViewErrorUnsupportRenderType,"-121":n.b.ZegoDocsViewErrorEmptyDomain,"-123":n.b.ZegoDocsViewErrorFileContentEmpty,"-124":n.b.ZegoDocsViewErrorFilePathNotAccess,"-125":n.b.ZegoDocsViewErrorCacheNotSupported,"-126":n.b.ZegoDocsViewErrorFileEncrypt,"-127":n.b.ZegoDocsViewErrorZipFileInvalid,"-128":n.b.ZegoDocsViewErrorFileEncrypt,"-129":n.b.ZegoDocsViewErrorH5FileInvalid,"-130":n.b.ZegoDocsViewErrorConvertElementNotSupported,"-131":n.b.ZegoDocsViewErrorConvertFileTypeInvalid,"-132":n.b.ZegoDocsViewErrorConvertFileTypeInvalid,"-999998":n.b.ZegoDocsViewErrorSizeInvalid,"-999999":n.b.ZegoDocsViewErrorParamInvalid},c=function(e,t){return{code:e=s[e]||e,message:t=a[e]||t||a[n.b.ZegoDocsViewErrorInternal]}};!function(e){e[e.ZegoWhiteboardViewErrorNoAuthScroll=3050002]="ZegoWhiteboardViewErrorNoAuthScroll"}(i||(i={}))},function(e,t,o){var r=o(13);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,o){var r=o(19),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},function(e,t,o){var r=o(9);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,o){var r=o(17),i=o(149),n=o(15),a=o(61),s=Object.defineProperty;t.f=r?s:function(e,t,o){if(n(e),t=a(t),n(o),i)try{return s(e,t,o)}catch(e){}if("get"in o||"set"in o)throw TypeError("Accessors not supported");return"value"in o&&(e[t]=o.value),e}},function(e,t,o){var r=o(29);e.exports=function(e){return Object(r(e))}},function(e,t,o){var r=o(63),i=o(60),n=o(19),a=o(12),s=o(117),c=[].push,u=function(e){var t=1==e,o=2==e,u=3==e,l=4==e,d=6==e,h=7==e,p=5==e||d;return function(f,g,m,_){for(var y,v,b=n(f),w=i(b),S=r(g,m,3),I=a(w.length),x=0,E=_||s,P=t?E(f,I):o||h?E(f,0):void 0;I>x;x++)if((p||x in w)&&(v=S(y=w[x],x,b),e))if(t)P[x]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return x;case 2:c.call(P,y)}else switch(e){case 4:return!1;case 7:c.call(P,y)}return d?-1:u||l?l:P}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(e,t,o){var r=o(55);e.exports=function(e){if(r(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},function(e,t,o){"use strict";e.exports=o(317)},function(e,t,o){"use strict";var r,i;o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i})),function(e){e.Docs="zegoeventdocs",e.Whiteboard="zegoeventwb"}(r||(r={})),function(e){e.WbInit="wbinit",e.WbDragTool="wbdragtool",e.WbScale="wbscale",e.WbDestroy="wbdestroy",e.WbError="wberror",e.Snapshot="snapshot",e.Page="page",e.Step="step",e.SyncDrag="syncDrag",e.Animation="targetclick",e.H5Snapshot="getH5SnapshotResult",e.DocsAspect="getAspectCache",e.ReloadView="reloadview"}(i||(i={}))},function(e,t,o){var r=o(17),i=o(18),n=o(46);e.exports=r?function(e,t,o){return i.f(e,t,n(1,o))}:function(e,t,o){return e[t]=o,e}},function(e,t,o){var r=o(6),i=o(24),n=o(16),a=o(99),s=o(104),c=o(30),u=c.get,l=c.enforce,d=String(String).split("String");(e.exports=function(e,t,o,s){var c,u=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof o&&("string"!=typeof t||n(o,"name")||i(o,"name",t),(c=l(o)).source||(c.source=d.join("string"==typeof t?t:""))),e!==r?(u?!p&&e[t]&&(h=!0):delete e[t],h?e[t]=o:i(e,t,o)):h?e[t]=o:a(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},function(e,t,o){"use strict";var r=o(192),i=Object.prototype.toString;function n(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),n(e))for(var o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function o(o,r){"object"==typeof t[r]&&"object"==typeof o?t[r]=e(t[r],o):t[r]=o}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],o);return t},deepMerge:function e(){var t={};function o(o,r){"object"==typeof t[r]&&"object"==typeof o?t[r]=e(t[r],o):t[r]="object"==typeof o?e({},o):o}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],o);return t},extend:function(e,t,o){return u(t,(function(t,i){e[i]=o&&"function"==typeof t?r(t,o):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){var o=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:o)(e)}},function(e,t,o){var r=o(60),i=o(29);e.exports=function(e){return r(i(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,o){var r,i,n,a=o(214),s=o(6),c=o(13),u=o(24),l=o(16),d=o(98),h=o(76),p=o(70),f=s.WeakMap;if(a||d.state){var g=d.state||(d.state=new f),m=g.get,_=g.has,y=g.set;r=function(e,t){if(_.call(g,e))throw new TypeError("Object already initialized");return t.facade=e,y.call(g,e,t),t},i=function(e){return m.call(g,e)||{}},n=function(e){return _.call(g,e)}}else{var v=h("state");p[v]=!0,r=function(e,t){if(l(e,v))throw new TypeError("Object already initialized");return t.facade=e,u(e,v,t),t},i=function(e){return l(e,v)?e[v]:{}},n=function(e){return l(e,v)}}e.exports={set:r,get:i,has:n,enforce:function(e){return n(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var o;if(!c(t)||(o=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return o}}}},function(e,t,o){"use strict";var r=o(28),i=o(92),n=o(64),a=o(30),s=o(154),c=a.set,u=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){c(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,o=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==o?{value:r,done:!1}:"values"==o?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),n.Arguments=n.Array,i("keys"),i("values"),i("entries")},function(e,t,o){var r=o(102),i=o(25),n=o(222);r||i(Object.prototype,"toString",n,{unsafe:!0})},function(e,t,o){"use strict";o.d(t,"e",(function(){return s})),o.d(t,"b",(function(){return c})),o.d(t,"c",(function(){return u})),o.d(t,"d",(function(){return l})),o.d(t,"f",(function(){return d})),o.d(t,"g",(function(){return h})),o.d(t,"a",(function(){return p})),o.d(t,"h",(function(){return f})),o.d(t,"o",(function(){return g})),o.d(t,"j",(function(){return m})),o.d(t,"k",(function(){return _})),o.d(t,"n",(function(){return y})),o.d(t,"l",(function(){return v})),o.d(t,"m",(function(){return b})),o.d(t,"i",(function(){return w}));o(275),o(276),o(50),o(51),o(183);var r=o(3),i=o(8),n=o(0),a=function(e){return/^#[0-9a-fA-F]{6}|rgba?\(*.+\d\)$/.test(e)};function s(){return r.a.basicState.type||null}function c(){return r.a.basicState.color}function u(){return r.a.basicState.size}function l(){return r.a.basicState.fontSize}function d(){return JSON.parse(r.a.basicState.attributes).bold}function h(){return JSON.parse(r.a.basicState.attributes).italic}function p(){return r.a.basicState.bgColor}function f(){return JSON.parse(r.a.basicState.attributes).stroke}function g(e){return!e||Object.keys(n.j).includes(String(e))?(r.a.basicState.type=e||0,!0):(Object(i.a)(n.i.ZegoWhiteboardViewErrorParamInvalid),!1)}function m(e){return a(e)?(r.a.basicState.color=e,!0):(Object(i.a)(n.i.ZegoWhiteboardViewErrorParamInvalid,"参数错误：color仅支持16进制、rgba",!0),!1)}function _(e){return/^([1-9]|[1-9]\d|100)$/.test(""+(t=e))&&"number"==typeof t?(r.a.basicState.size=e,!0):(Object(i.a)(n.i.ZegoWhiteboardViewErrorParamInvalid,"参数错误: 画笔粗细为100内的正整数",!0),!1);var t}function y(e){return/^([1-9]|[1-9]\d|100)$/.test(""+(t=e))&&"number"==typeof t?(r.a.basicState.fontSize=e,!0):(Object(i.a)(n.i.ZegoWhiteboardViewErrorParamInvalid,"参数错误: 文本大小为100内的正整数",!0),!1);var t}function v(e){if("boolean"!=typeof e)return Object(i.a)(n.i.ZegoWhiteboardViewErrorParamInvalid),!1;var t=r.a.basicState.attributes,o=JSON.parse(t);return o.bold=e,r.a.basicState.attributes=JSON.stringify(o),!0}function b(e){if("boolean"!=typeof e)return Object(i.a)(n.i.ZegoWhiteboardViewErrorParamInvalid),!1;var t=r.a.basicState.attributes,o=JSON.parse(t);return o.italic=e,r.a.basicState.attributes=JSON.stringify(o),!0}function w(e){return a(e)?(r.a.basicState.bgColor=e,!0):(Object(i.a)(n.i.ZegoWhiteboardViewErrorParamInvalid,"参数错误: color仅支持16进制、rgba",!0),!1)}},function(e,t,o){var r;e.exports=(r=r||function(e,t){var o=Object.create||function(){function e(){}return function(t){var o;return e.prototype=t,o=new e,e.prototype=null,o}}(),r={},i=r.lib={},n=i.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,o=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var n=0;n<i;n++){var a=o[n>>>2]>>>24-n%4*8&255;t[r+n>>>2]|=a<<24-(r+n)%4*8}else for(n=0;n<i;n+=4)t[r+n>>>2]=o[n>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,o=this.sigBytes;t[o>>>2]&=4294967295<<32-o%4*8,t.length=e.ceil(o/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var o,r=[],i=function(t){t=t;var o=987654321,r=4294967295;return function(){var i=((o=36969*(65535&o)+(o>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},n=0;n<t;n+=4){var s=i(4294967296*(o||e.random()));o=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,o=e.sigBytes,r=[],i=0;i<o;i++){var n=t[i>>>2]>>>24-i%4*8&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,o=[],r=0;r<t;r+=2)o[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(o,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,o=e.sigBytes,r=[],i=0;i<o;i++){var n=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(n))}return r.join("")},parse:function(e){for(var t=e.length,o=[],r=0;r<t;r++)o[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(o,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var o=this._data,r=o.words,i=o.sigBytes,n=this.blockSize,s=i/(4*n),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*n,u=e.min(4*c,i);if(c){for(var l=0;l<c;l+=n)this._doProcessBlock(r,l);var d=r.splice(0,c);o.sigBytes-=u}return new a.init(d,u)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=d.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,o){return new e.init(o).finalize(t)}},_createHmacHelper:function(e){return function(t,o){return new h.HMAC.init(e,o).finalize(t)}}}),r.algo={});return r}(Math),r)},function(e,t,o){var r=o(7),i=o(171);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,o){var r=o(38);e.exports=r("navigator","userAgent")||""},function(e,t,o){"use strict";var r=o(7),i=o(78);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,o){var r=o(6),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},function(e,t,o){"use strict";var r,i,n,a,s=o(7),c=o(53),u=o(6),l=o(38),d=o(243),h=o(25),p=o(111),f=o(48),g=o(54),m=o(166),_=o(13),y=o(40),v=o(80),b=o(104),w=o(244),S=o(113),I=o(83),x=o(189).set,E=o(245),P=o(248),T=o(249),D=o(191),O=o(250),M=o(30),A=o(110),C=o(11),L=o(251),B=o(114),N=o(62),V=C("species"),k="Promise",H=M.get,j=M.set,z=M.getterFor(k),q=d&&d.prototype,F=d,R=q,Z=u.TypeError,W=u.document,G=u.process,U=D.f,J=U,X=!!(W&&W.createEvent&&u.dispatchEvent),Y="function"==typeof PromiseRejectionEvent,Q=!1,K=A(k,(function(){var e=b(F),t=e!==String(F);if(!t&&66===N)return!0;if(c&&!R.finally)return!0;if(N>=51&&/native code/.test(e))return!1;var o=new F((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(o.constructor={})[V]=r,!(Q=o.then((function(){}))instanceof r)||!t&&L&&!Y})),$=K||!S((function(e){F.all(e).catch((function(){}))})),ee=function(e){var t;return!(!_(e)||"function"!=typeof(t=e.then))&&t},te=function(e,t){if(!e.notified){e.notified=!0;var o=e.reactions;E((function(){for(var r=e.value,i=1==e.state,n=0;o.length>n;){var a,s,c,u=o[n++],l=i?u.ok:u.fail,d=u.resolve,h=u.reject,p=u.domain;try{l?(i||(2===e.rejection&&ne(e),e.rejection=1),!0===l?a=r:(p&&p.enter(),a=l(r),p&&(p.exit(),c=!0)),a===u.promise?h(Z("Promise-chain cycle")):(s=ee(a))?s.call(a,d,h):d(a)):h(r)}catch(e){p&&!c&&p.exit(),h(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&re(e)}))}},oe=function(e,t,o){var r,i;X?((r=W.createEvent("Event")).promise=t,r.reason=o,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:o},!Y&&(i=u["on"+e])?i(r):"unhandledrejection"===e&&T("Unhandled promise rejection",o)},re=function(e){x.call(u,(function(){var t,o=e.facade,r=e.value;if(ie(e)&&(t=O((function(){B?G.emit("unhandledRejection",r,o):oe("unhandledrejection",o,r)})),e.rejection=B||ie(e)?2:1,t.error))throw t.value}))},ie=function(e){return 1!==e.rejection&&!e.parent},ne=function(e){x.call(u,(function(){var t=e.facade;B?G.emit("rejectionHandled",t):oe("rejectionhandled",t,e.value)}))},ae=function(e,t,o){return function(r){e(t,r,o)}},se=function(e,t,o){e.done||(e.done=!0,o&&(e=o),e.value=t,e.state=2,te(e,!0))},ce=function(e,t,o){if(!e.done){e.done=!0,o&&(e=o);try{if(e.facade===t)throw Z("Promise can't be resolved itself");var r=ee(t);r?E((function(){var o={done:!1};try{r.call(t,ae(ce,o,e),ae(se,o,e))}catch(t){se(o,t,e)}})):(e.value=t,e.state=1,te(e,!1))}catch(t){se({done:!1},t,e)}}};if(K&&(R=(F=function(e){v(this,F,k),y(e),r.call(this);var t=H(this);try{e(ae(ce,t),ae(se,t))}catch(e){se(t,e)}}).prototype,(r=function(e){j(this,{type:k,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(R,{then:function(e,t){var o=z(this),r=U(I(this,F));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=B?G.domain:void 0,o.parent=!0,o.reactions.push(r),0!=o.state&&te(o,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=H(e);this.promise=e,this.resolve=ae(ce,t),this.reject=ae(se,t)},D.f=U=function(e){return e===F||e===n?new i(e):J(e)},!c&&"function"==typeof d&&q!==Object.prototype)){a=q.then,Q||(h(q,"then",(function(e,t){var o=this;return new F((function(e,t){a.call(o,e,t)})).then(e,t)}),{unsafe:!0}),h(q,"catch",R.catch,{unsafe:!0}));try{delete q.constructor}catch(e){}f&&f(q,R)}s({global:!0,wrap:!0,forced:K},{Promise:F}),g(F,k,!1,!0),m(k),n=l(k),s({target:k,stat:!0,forced:K},{reject:function(e){var t=U(this);return t.reject.call(void 0,e),t.promise}}),s({target:k,stat:!0,forced:c||K},{resolve:function(e){return P(c&&this===n?F:this,e)}}),s({target:k,stat:!0,forced:$},{all:function(e){var t=this,o=U(t),r=o.resolve,i=o.reject,n=O((function(){var o=y(t.resolve),n=[],a=0,s=1;w(e,(function(e){var c=a++,u=!1;n.push(void 0),s++,o.call(t,e).then((function(e){u||(u=!0,n[c]=e,--s||r(n))}),i)})),--s||r(n)}));return n.error&&i(n.value),o.promise},race:function(e){var t=this,o=U(t),r=o.reject,i=O((function(){var i=y(t.resolve);w(e,(function(e){i.call(t,e).then(o.resolve,r)}))}));return i.error&&r(i.value),o.promise}})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){var o={}.toString;e.exports=function(e){return o.call(e).slice(8,-1)}},function(e,t,o){var r,i=o(15),n=o(172),a=o(100),s=o(70),c=o(164),u=o(103),l=o(76),d=l("IE_PROTO"),h=function(){},p=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;g="undefined"!=typeof document?document.domain&&r?f(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):f(r);for(var o=a.length;o--;)delete g.prototype[a[o]];return g()};s[d]=!0,e.exports=Object.create||function(e,t){var o;return null!==e?(h.prototype=i(e),o=new h,h.prototype=null,o[d]=e):o=g(),void 0===t?o:n(o,t)}},function(e,t,o){"use strict";var r=o(7),i=o(160);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,o){var r=o(6),i=o(161),n=o(160),a=o(24);for(var s in i){var c=r[s],u=c&&c.prototype;if(u&&u.forEach!==n)try{a(u,"forEach",n)}catch(e){u.forEach=n}}},function(e,t,o){"use strict";var r=o(108).charAt,i=o(21),n=o(30),a=o(154),s=n.set,c=n.getterFor("String Iterator");a(String,"String",(function(e){s(this,{type:"String Iterator",string:i(e),index:0})}),(function(){var e,t=c(this),o=t.string,i=t.index;return i>=o.length?{value:void 0,done:!0}:(e=r(o,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,o){var r=o(27),i=Math.max,n=Math.min;e.exports=function(e,t){var o=r(e);return o<0?i(o+t,0):n(o,t)}},function(e,t,o){var r=o(15),i=o(220);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,o={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(o,[]),t=o instanceof Array}catch(e){}return function(o,n){return r(o),i(n),t?e.call(o,n):o.__proto__=n,o}}():void 0)},function(e,t,o){var r=o(151),i=o(100).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,o){"use strict";var r=o(7),i=o(71).includes,n=o(92);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},function(e,t,o){"use strict";var r=o(7),i=o(205),n=o(29),a=o(21);r({target:"String",proto:!0,forced:!o(206)("includes")},{includes:function(e){return!!~a(n(this)).indexOf(a(i(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){var r=o(17),i=o(91),n=o(46),a=o(28),s=o(61),c=o(16),u=o(149),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t),u)try{return l(e,t)}catch(e){}if(c(e,t))return n(!i.f.call(e,t),e[t])}},function(e,t){e.exports=!1},function(e,t,o){var r=o(18).f,i=o(16),n=o(11)("toStringTag");e.exports=function(e,t,o){e&&!i(e=o?e:e.prototype,n)&&r(e,n,{configurable:!0,value:t})}},function(e,t,o){var r=o(38),i=o(148);e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return"function"==typeof t&&Object(e)instanceof t}},function(e,t,o){"use strict";var r=o(9);e.exports=function(e,t){var o=[][e];return!!o&&r((function(){o.call(null,t||function(){throw 1},1)}))}},function(e,t,o){var r=o(25),i=Date.prototype,n=i.toString,a=i.getTime;"Invalid Date"!=String(new Date(NaN))&&r(i,"toString",(function(){var e=a.call(this);return e==e?n.call(this):"Invalid Date"}))},function(e,t,o){var r=o(6),i=o(161),n=o(31),a=o(24),s=o(11),c=s("iterator"),u=s("toStringTag"),l=n.values;for(var d in i){var h=r[d],p=h&&h.prototype;if(p){if(p[c]!==l)try{a(p,c,l)}catch(e){p[c]=l}if(p[u]||a(p,u,d),i[d])for(var f in n)if(p[f]!==n[f])try{a(p,f,n[f])}catch(e){p[f]=n[f]}}}},function(e,t,o){o(7)({target:"Function",proto:!0},{bind:o(228)})},function(e,t,o){var r=o(9),i=o(41),n="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?n.call(e,""):Object(e)}:Object},function(e,t,o){var r=o(170),i=o(55);e.exports=function(e){var t=r(e,"string");return i(t)?t:String(t)}},function(e,t,o){var r,i,n=o(6),a=o(36),s=n.process,c=n.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l?i=(r=l.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,o){var r=o(40);e.exports=function(e,t,o){if(r(e),void 0===t)return e;switch(o){case 0:return function(){return e.call(t)};case 1:return function(o){return e.call(t,o)};case 2:return function(o,r){return e.call(t,o,r)};case 3:return function(o,r,i){return e.call(t,o,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports={}},function(e,t,o){"use strict";var r=o(118),i=o(9),n=o(15),a=o(27),s=o(12),c=o(21),u=o(29),l=o(119),d=o(270),h=o(120),p=o(11)("replace"),f=Math.max,g=Math.min,m="$0"==="a".replace(/./,"$0"),_=!!/./[p]&&""===/./[p]("a","$0");r("replace",(function(e,t,o){var r=_?"$":"$0";return[function(e,o){var r=u(this),i=null==e?void 0:e[p];return void 0!==i?i.call(e,r,o):t.call(c(r),e,o)},function(e,i){var u=n(this),p=c(e);if("string"==typeof i&&-1===i.indexOf(r)&&-1===i.indexOf("$<")){var m=o(t,u,p,i);if(m.done)return m.value}var _="function"==typeof i;_||(i=c(i));var y=u.global;if(y){var v=u.unicode;u.lastIndex=0}for(var b=[];;){var w=h(u,p);if(null===w)break;if(b.push(w),!y)break;""===c(w[0])&&(u.lastIndex=l(p,s(u.lastIndex),v))}for(var S,I="",x=0,E=0;E<b.length;E++){w=b[E];for(var P=c(w[0]),T=f(g(a(w.index),p.length),0),D=[],O=1;O<w.length;O++)D.push(void 0===(S=w[O])?S:String(S));var M=w.groups;if(_){var A=[P].concat(D,T,p);void 0!==M&&A.push(M);var C=c(i.apply(void 0,A))}else C=d(P,p,T,D,M,i);T>=x&&(I+=p.slice(x,T)+C,x=T+P.length)}return I+p.slice(x)}]}),!!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!m||_)},function(e,t,o){"use strict";var r=o(7),i=o(6),n=o(38),a=o(53),s=o(17),c=o(97),u=o(9),l=o(16),d=o(73),h=o(13),p=o(55),f=o(15),g=o(19),m=o(28),_=o(61),y=o(21),v=o(46),b=o(42),w=o(77),S=o(49),I=o(179),x=o(101),E=o(52),P=o(18),T=o(91),D=o(24),O=o(25),M=o(75),A=o(76),C=o(70),L=o(69),B=o(11),N=o(162),V=o(163),k=o(54),H=o(30),j=o(20).forEach,z=A("hidden"),q=B("toPrimitive"),F=H.set,R=H.getterFor("Symbol"),Z=Object.prototype,W=i.Symbol,G=n("JSON","stringify"),U=E.f,J=P.f,X=I.f,Y=T.f,Q=M("symbols"),K=M("op-symbols"),$=M("string-to-symbol-registry"),ee=M("symbol-to-string-registry"),te=M("wks"),oe=i.QObject,re=!oe||!oe.prototype||!oe.prototype.findChild,ie=s&&u((function(){return 7!=b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,o){var r=U(Z,t);r&&delete Z[t],J(e,t,o),r&&e!==Z&&J(Z,t,r)}:J,ne=function(e,t){var o=Q[e]=b(W.prototype);return F(o,{type:"Symbol",tag:e,description:t}),s||(o.description=t),o},ae=function(e,t,o){e===Z&&ae(K,t,o),f(e);var r=_(t);return f(o),l(Q,r)?(o.enumerable?(l(e,z)&&e[z][r]&&(e[z][r]=!1),o=b(o,{enumerable:v(0,!1)})):(l(e,z)||J(e,z,v(1,{})),e[z][r]=!0),ie(e,r,o)):J(e,r,o)},se=function(e,t){f(e);var o=m(t),r=w(o).concat(de(o));return j(r,(function(t){s&&!ce.call(o,t)||ae(e,t,o[t])})),e},ce=function(e){var t=_(e),o=Y.call(this,t);return!(this===Z&&l(Q,t)&&!l(K,t))&&(!(o||!l(this,t)||!l(Q,t)||l(this,z)&&this[z][t])||o)},ue=function(e,t){var o=m(e),r=_(t);if(o!==Z||!l(Q,r)||l(K,r)){var i=U(o,r);return!i||!l(Q,r)||l(o,z)&&o[z][r]||(i.enumerable=!0),i}},le=function(e){var t=X(m(e)),o=[];return j(t,(function(e){l(Q,e)||l(C,e)||o.push(e)})),o},de=function(e){var t=e===Z,o=X(t?K:m(e)),r=[];return j(o,(function(e){!l(Q,e)||t&&!l(Z,e)||r.push(Q[e])})),r};(c||(O((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?y(arguments[0]):void 0,t=L(e),o=function(e){this===Z&&o.call(K,e),l(this,z)&&l(this[z],t)&&(this[z][t]=!1),ie(this,t,v(1,e))};return s&&re&&ie(Z,t,{configurable:!0,set:o}),ne(t,e)}).prototype,"toString",(function(){return R(this).tag})),O(W,"withoutSetter",(function(e){return ne(L(e),e)})),T.f=ce,P.f=ae,E.f=ue,S.f=I.f=le,x.f=de,N.f=function(e){return ne(B(e),e)},s&&(J(W.prototype,"description",{configurable:!0,get:function(){return R(this).description}}),a||O(Z,"propertyIsEnumerable",ce,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),j(w(te),(function(e){V(e)})),r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=y(e);if(l($,t))return $[t];var o=W(t);return $[t]=o,ee[o]=t,o},keyFor:function(e){if(!p(e))throw TypeError(e+" is not a symbol");if(l(ee,e))return ee[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(e,t){return void 0===t?b(e):se(b(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:le,getOwnPropertySymbols:de}),r({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(e){return x.f(g(e))}}),G)&&r({target:"JSON",stat:!0,forced:!c||u((function(){var e=W();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}))},{stringify:function(e,t,o){for(var r,i=[e],n=1;arguments.length>n;)i.push(arguments[n++]);if(r=t,(h(t)||void 0!==e)&&!p(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!p(t))return t}),i[1]=t,G.apply(null,i)}});W.prototype[q]||D(W.prototype,q,W.prototype.valueOf),k(W,"Symbol"),C[z]=!0},function(e,t,o){"use strict";var r=o(7),i=o(17),n=o(6),a=o(16),s=o(13),c=o(18).f,u=o(150),l=n.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};u(h,l);var p=h.prototype=l.prototype;p.constructor=h;var f=p.toString,g="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=f.call(e);if(a(d,e))return"";var o=g?t.slice(7,-1):t.replace(m,"$1");return""===o?void 0:o}}),r({global:!0,forced:!0},{Symbol:h})}},function(e,t,o){o(163)("iterator")},function(e,t){var o=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++o+r).toString(36)}},function(e,t){e.exports={}},function(e,t,o){var r=o(28),i=o(12),n=o(47),a=function(e){return function(t,o,a){var s,c=r(t),u=i(c.length),l=n(a,u);if(e&&o!=o){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===o)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,o){var r=o(102),i=o(41),n=o(11)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,o,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),n))?o:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,o){var r=o(41);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,o){"use strict";var r=o(7),i=o(20).map;r({target:"Array",proto:!0,forced:!o(87)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){var r=o(53),i=o(98);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.16.3",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,o){var r=o(75),i=o(69),n=r("keys");e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,o){var r=o(151),i=o(100);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,o){"use strict";var r,i,n=o(21),a=o(152),s=o(153),c=o(75),u=o(42),l=o(30).get,d=o(217),h=o(218),p=RegExp.prototype.exec,f=c("native-string-replace",String.prototype.replace),g=p,m=(r=/a/,i=/b*/g,p.call(r,"a"),p.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),_=s.UNSUPPORTED_Y||s.BROKEN_CARET,y=void 0!==/()??/.exec("")[1];(m||y||_||d||h)&&(g=function(e){var t,o,r,i,s,c,d,h=this,v=l(h),b=n(e),w=v.raw;if(w)return w.lastIndex=h.lastIndex,t=g.call(w,b),h.lastIndex=w.lastIndex,t;var S=v.groups,I=_&&h.sticky,x=a.call(h),E=h.source,P=0,T=b;if(I&&(-1===(x=x.replace("y","")).indexOf("g")&&(x+="g"),T=b.slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==b.charAt(h.lastIndex-1))&&(E="(?: "+E+")",T=" "+T,P++),o=new RegExp("^(?:"+E+")",x)),y&&(o=new RegExp("^"+E+"$(?!\\s)",x)),m&&(r=h.lastIndex),i=p.call(I?o:h,T),I?i?(i.input=i.input.slice(P),i[0]=i[0].slice(P),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:m&&i&&(h.lastIndex=h.global?i.index+i[0].length:r),y&&i&&i.length>1&&f.call(i[0],o,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&S)for(i.groups=c=u(null),s=0;s<S.length;s++)c[(d=S[s])[0]]=i[d[1]];return i}),e.exports=g},function(e,t,o){var r=o(16),i=o(19),n=o(76),a=o(219),s=n("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,t){e.exports=function(e,t,o){if(!(e instanceof t))throw TypeError("Incorrect "+(o?o+" ":"")+"invocation");return e}},function(e,t,o){var r=o(10),i=o(83),n=r.TYPED_ARRAY_CONSTRUCTOR,a=r.aTypedArrayConstructor;e.exports=function(e){return a(i(e,e[n]))}},function(e,t,o){var r=o(7),i=o(6),n=o(36),a=[].slice,s=function(e){return function(t,o){var r=arguments.length>2,i=r?a.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,o)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(n)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},function(e,t,o){var r=o(15),i=o(40),n=o(11)("species");e.exports=function(e,t){var o,a=r(e).constructor;return void 0===a||null==(o=r(a)[n])?t:i(o)}},function(e,t,o){var r=o(72),i=o(64),n=o(11)("iterator");e.exports=function(e){if(null!=e)return e[n]||e["@@iterator"]||i[r(e)]}},function(e,t,o){"use strict";var r=o(7),i=o(71).indexOf,n=o(56),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,c=n("indexOf");r({target:"Array",proto:!0,forced:s||!c},{indexOf:function(e){return s?a.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){"use strict";var r=o(17),i=o(6),n=o(110),a=o(25),s=o(16),c=o(41),u=o(174),l=o(55),d=o(170),h=o(9),p=o(42),f=o(49).f,g=o(52).f,m=o(18).f,_=o(233).trim,y=i.Number,v=y.prototype,b="Number"==c(p(v)),w=function(e){if(l(e))throw TypeError("Cannot convert a Symbol value to a number");var t,o,r,i,n,a,s,c,u=d(e,"number");if("string"==typeof u&&u.length>2)if(43===(t=(u=_(u)).charCodeAt(0))||45===t){if(88===(o=u.charCodeAt(2))||120===o)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(n=u.slice(2)).length,s=0;s<a;s++)if((c=n.charCodeAt(s))<48||c>i)return NaN;return parseInt(n,r)}return+u};if(n("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,I=function(e){var t=arguments.length<1?0:e,o=this;return o instanceof I&&(b?h((function(){v.valueOf.call(o)})):"Number"!=c(o))?u(new y(w(t)),o,I):w(t)},x=r?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;x.length>E;E++)s(y,S=x[E])&&!s(I,S)&&m(I,S,g(y,S));I.prototype=v,v.constructor=I,a(i,"Number",I)}},function(e,t,o){var r=o(9),i=o(11),n=o(62),a=i("species");e.exports=function(e){return n>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,o){"use strict";var r=o(118),i=o(165),n=o(15),a=o(29),s=o(83),c=o(119),u=o(12),l=o(21),d=o(120),h=o(78),p=o(153),f=o(9),g=p.UNSUPPORTED_Y,m=[].push,_=Math.min;r("split",(function(e,t,o){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,o){var r=l(a(this)),n=void 0===o?4294967295:o>>>0;if(0===n)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,n);for(var s,c,u,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,g=new RegExp(e.source,p+"g");(s=h.call(g,r))&&!((c=g.lastIndex)>f&&(d.push(r.slice(f,s.index)),s.length>1&&s.index<r.length&&m.apply(d,s.slice(1)),u=s[0].length,f=c,d.length>=n));)g.lastIndex===s.index&&g.lastIndex++;return f===r.length?!u&&g.test("")||d.push(""):d.push(r.slice(f)),d.length>n?d.slice(0,n):d}:"0".split(void 0,0).length?function(e,o){return void 0===e&&0===o?[]:t.call(this,e,o)}:t,[function(t,o){var i=a(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,i,o):r.call(l(i),t,o)},function(e,i){var a=n(this),h=l(e),p=o(r,a,h,i,r!==t);if(p.done)return p.value;var f=s(a,RegExp),m=a.unicode,y=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(g?"g":"y"),v=new f(g?"^(?:"+a.source+")":a,y),b=void 0===i?4294967295:i>>>0;if(0===b)return[];if(0===h.length)return null===d(v,h)?[h]:[];for(var w=0,S=0,I=[];S<h.length;){v.lastIndex=g?0:S;var x,E=d(v,g?h.slice(S):h);if(null===E||(x=_(u(v.lastIndex+(g?S:0)),h.length))===w)S=c(h,S,m);else{if(I.push(h.slice(w,S)),I.length===b)return I;for(var P=1;P<=E.length-1;P++)if(I.push(E[P]),I.length===b)return I;S=w=x}}return I.push(h.slice(w)),I}]}),!!f((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var o="ab".split(e);return 2!==o.length||"a"!==o[0]||"b"!==o[1]})),g)},function(e,t,o){var r=o(17),i=o(18).f,n=Function.prototype,a=n.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in n)&&i(n,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,o){"use strict";var r=o(7),i=o(20).filter;r({target:"Array",proto:!0,forced:!o(87)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!r.call({1:2},1);t.f=n?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,o){var r=o(11),i=o(42),n=o(18),a=r("unscopables"),s=Array.prototype;null==s[a]&&n.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,o){"use strict";var r=o(7),i=o(60),n=o(28),a=o(56),s=[].join,c=i!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(e){return s.call(n(this),void 0===e?",":e)}})},function(e,t,o){"use strict";var r,i,n,a,s,c;o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return i})),o.d(t,"d",(function(){return a})),o.d(t,"c",(function(){return s})),o.d(t,"e",(function(){return c})),function(e){e[e.ZegoWhiteboardViewSuccess=0]="ZegoWhiteboardViewSuccess",e[e.ZegoWhiteboardViewErrorInternal=3000001]="ZegoWhiteboardViewErrorInternal",e[e.ZegoWhiteboardViewErrorParamInvalid=3000002]="ZegoWhiteboardViewErrorParamInvalid",e[e.ZegoWhiteboardViewErrorNetworkTimeout=3000003]="ZegoWhiteboardViewErrorNetworkTimeout",e[e.ZegoWhiteboardViewErrorNetworkDisconnect=3000004]="ZegoWhiteboardViewErrorNetworkDisconnect",e[e.ZegoWhiteboardViewErrorInvalidRsp=3000005]="ZegoWhiteboardViewErrorInvalidRsp",e[e.ZegoWhiteboardViewErrorRequestTooMany=3000006]="ZegoWhiteboardViewErrorRequestTooMany",e[e.ZegoWhiteboardViewErrorVersionMismatch=3000007]="ZegoWhiteboardViewErrorVersionMismatch",e[e.ZegoWhiteboardViewErrorNoLoginRoom=3010001]="ZegoWhiteboardViewErrorNoLoginRoom",e[e.ZegoWhiteboardViewErrorUserNotExist=3010002]="ZegoWhiteboardViewErrorUserNotExist",e[e.ZegoWhiteboardViewErrorViewNotExist=3020001]="ZegoWhiteboardViewErrorViewNotExist",e[e.ZegoWhiteboardViewErrorViewCreateFail=3020002]="ZegoWhiteboardViewErrorViewCreateFail",e[e.ZegoWhiteboardViewErrorViewModifyFail=3020003]="ZegoWhiteboardViewErrorViewModifyFail",e[e.ZegoWhiteboardViewErrorViewNameLimit=3020004]="ZegoWhiteboardViewErrorViewNameLimit",e[e.ZegoWhiteboardViewErrorViewParentNotExist=3020005]="ZegoWhiteboardViewErrorViewParentNotExist",e[e.ZegoWhiteboardViewErrorViewNumLimit=3020006]="ZegoWhiteboardViewErrorViewNumLimit",e[e.ZegoWhiteboardViewErrorAnimationInfoLimit=3020007]="ZegoWhiteboardViewErrorAnimationInfoLimit",e[e.ZegoWhiteboardViewErrorGraphicNotExist=3030001]="ZegoWhiteboardViewErrorGraphicNotExist",e[e.ZegoWhiteboardViewErrorGraphicCreateFail=3030002]="ZegoWhiteboardViewErrorGraphicCreateFail",e[e.ZegoWhiteboardViewErrorGraphicModifyFail=3030003]="ZegoWhiteboardViewErrorGraphicModifyFail",e[e.ZegoWhiteboardViewErrorGraphicUnableDraw=3030004]="ZegoWhiteboardViewErrorGraphicUnableDraw",e[e.ZegoWhiteboardViewErrorGraphicDataLimit=3030005]="ZegoWhiteboardViewErrorGraphicDataLimit",e[e.ZegoWhiteboardViewErrorGraphicNumLimit=3030006]="ZegoWhiteboardViewErrorGraphicNumLimit",e[e.ZegoWhiteboardViewErrorGraphicTextLimit=3030007]="ZegoWhiteboardViewErrorGraphicTextLimit",e[e.ZegoWhiteboardViewErrorGraphicImageSizeLimit=3030008]="ZegoWhiteboardViewErrorGraphicImageSizeLimit",e[e.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport=3030009]="ZegoWhiteboardViewErrorGraphicImageTypeNotSupport",e[e.ZegoWhiteboardViewErrorGraphicIllegalUrl=3030010]="ZegoWhiteboardViewErrorGraphicIllegalUrl",e[e.ZegoWhiteboardViewErrorInitFail=3040001]="ZegoWhiteboardViewErrorInitFail",e[e.ZegoWhiteboardViewErrorGetListFail=3040002]="ZegoWhiteboardViewErrorGetListFail",e[e.ZegoWhiteboardViewErrorCreateFail=3040003]="ZegoWhiteboardViewErrorCreateFail",e[e.ZegoWhiteboardViewErrorDestroyFail=3040004]="ZegoWhiteboardViewErrorDestroyFail",e[e.ZegoWhiteboardViewErrorAttachFail=3040005]="ZegoWhiteboardViewErrorAttachFail",e[e.ZegoWhiteboardViewErrorClearFail=3040006]="ZegoWhiteboardViewErrorClearFail",e[e.ZegoWhiteboardViewErrorScrollFail=3040007]="ZegoWhiteboardViewErrorScrollFail",e[e.ZegoWhiteboardViewErrorUndoFail=3040008]="ZegoWhiteboardViewErrorUndoFail",e[e.ZegoWhiteboardViewErrorRedoFail=3040009]="ZegoWhiteboardViewErrorRedoFail",e[e.ZegoWhiteboardViewErrorLogFolderNotAccess=3040010]="ZegoWhiteboardViewErrorLogFolderNotAccess",e[e.ZegoWhiteboardViewErrorCacheFolderNotAccess=3040011]="ZegoWhiteboardViewErrorCacheFolderNotAccess",e[e.ZegoWhiteboardViewErrorNoAuthScale=3050001]="ZegoWhiteboardViewErrorNoAuthScale",e[e.ZegoWhiteboardViewErrorNoAuthScroll=3050002]="ZegoWhiteboardViewErrorNoAuthScroll",e[e.ZegoWhiteboardViewErrorNoAuthCreateGraphic=3050003]="ZegoWhiteboardViewErrorNoAuthCreateGraphic",e[e.ZegoWhiteboardViewErrorNoAuthUpdateGraphic=3050004]="ZegoWhiteboardViewErrorNoAuthUpdateGraphic",e[e.ZegoWhiteboardViewErrorNoAuthMoveGraphic=3050005]="ZegoWhiteboardViewErrorNoAuthMoveGraphic",e[e.ZegoWhiteboardViewErrorNoAuthDeleteGraphic=3050006]="ZegoWhiteboardViewErrorNoAuthDeleteGraphic",e[e.ZegoWhiteboardViewErrorNoAuthClearGraphic=3050007]="ZegoWhiteboardViewErrorNoAuthClearGraphic"}(r||(r={})),function(e){e[e.ZegoWhiteboardViewToolPen=1]="ZegoWhiteboardViewToolPen",e[e.ZegoWhiteboardViewToolText=2]="ZegoWhiteboardViewToolText",e[e.ZegoWhiteboardViewToolLine=4]="ZegoWhiteboardViewToolLine",e[e.ZegoWhiteboardViewToolRect=8]="ZegoWhiteboardViewToolRect",e[e.ZegoWhiteboardViewToolEllipse=16]="ZegoWhiteboardViewToolEllipse",e[e.ZegoWhiteboardViewToolSelector=32]="ZegoWhiteboardViewToolSelector",e[e.ZegoWhiteboardViewToolEraser=64]="ZegoWhiteboardViewToolEraser",e[e.ZegoWhiteboardViewToolLaser=128]="ZegoWhiteboardViewToolLaser",e[e.ZegoWhiteboardViewToolClick=256]="ZegoWhiteboardViewToolClick",e[e.ZegoWhitebaordViewToolCustomImage=512]="ZegoWhitebaordViewToolCustomImage"}(i||(i={})),function(e){e[e.ZegoWhiteboardOperationModeNone=1]="ZegoWhiteboardOperationModeNone",e[e.ZegoWhiteboardOperationModeScroll=2]="ZegoWhiteboardOperationModeScroll",e[e.ZegoWhiteboardOperationModeDraw=4]="ZegoWhiteboardOperationModeDraw",e[e.ZegoWhiteboardOperationModeZoom=8]="ZegoWhiteboardOperationModeZoom"}(n||(n={})),function(e){e[e.ZegoWhiteboardViewImageGraphic=0]="ZegoWhiteboardViewImageGraphic",e[e.ZegoWhiteboardViewImageCustom=1]="ZegoWhiteboardViewImageCustom"}(a||(a={})),function(e){e[e.ZegoWhiteboardViewImageFitModeLeft=0]="ZegoWhiteboardViewImageFitModeLeft",e[e.ZegoWhiteboardViewImageFitModeRight=1]="ZegoWhiteboardViewImageFitModeRight",e[e.ZegoWhiteboardViewImageFitModeBottom=2]="ZegoWhiteboardViewImageFitModeBottom",e[e.ZegoWhiteboardViewImageFitModeTop=3]="ZegoWhiteboardViewImageFitModeTop",e[e.ZegoWhiteboardViewImageFitModeCenter=4]="ZegoWhiteboardViewImageFitModeCenter"}(s||(s={})),function(e){e[e.Center=0]="Center",e[e.Horizontal=1]="Horizontal",e[e.Vertical=2]="Vertical"}(c||(c={}))},function(e,t,o){"use strict";var r=o(7),i=o(13),n=o(73),a=o(47),s=o(12),c=o(28),u=o(106),l=o(11),d=o(87)("slice"),h=l("species"),p=[].slice,f=Math.max;r({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var o,r,l,d=c(this),g=s(d.length),m=a(e,g),_=a(void 0===t?g:t,g);if(n(d)&&("function"!=typeof(o=d.constructor)||o!==Array&&!n(o.prototype)?i(o)&&null===(o=o[h])&&(o=void 0):o=void 0,o===Array||void 0===o))return p.call(d,m,_);for(r=new(void 0===o?Array:o)(f(_-m,0)),l=0;m<_;m++,l++)m in d&&u(r,l,d[m]);return r.length=l,r}})},function(e,t,o){var r,i,n;e.exports=(n=o(34),i=(r=n).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,o=e.sigBytes,r=this._map;e.clamp();for(var i=[],n=0;n<o;n+=3)for(var a=(t[n>>>2]>>>24-n%4*8&255)<<16|(t[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|t[n+2>>>2]>>>24-(n+2)%4*8&255,s=0;s<4&&n+.75*s<o;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,o=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var n=0;n<o.length;n++)r[o.charCodeAt(n)]=n}var a=o.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,o){for(var r=[],n=0,a=0;a<t;a++)if(a%4){var s=o[e.charCodeAt(a-1)]<<a%4*2,c=o[e.charCodeAt(a)]>>>6-a%4*2;r[n>>>2]|=(s|c)<<24-n%4*8,n++}return i.create(r,n)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)},function(e,t,o){var r=o(62),i=o(9);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(e,t,o){var r=o(6),i=o(99),n=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=n},function(e,t,o){var r=o(6);e.exports=function(e,t){try{Object.defineProperty(r,e,{value:t,configurable:!0,writable:!0})}catch(o){r[e]=t}return t}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,o){var r={};r[o(11)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,o){var r=o(6),i=o(13),n=r.document,a=i(n)&&i(n.createElement);e.exports=function(e){return a?n.createElement(e):{}}},function(e,t,o){var r=o(98),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,o){"use strict";var r=o(7),i=o(47),n=o(27),a=o(12),s=o(19),c=o(117),u=o(106),l=o(87)("splice"),d=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!l},{splice:function(e,t){var o,r,l,p,f,g,m=s(this),_=a(m.length),y=i(e,_),v=arguments.length;if(0===v?o=r=0:1===v?(o=0,r=_-y):(o=v-2,r=h(d(n(t),0),_-y)),_+o-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=c(m,r),p=0;p<r;p++)(f=y+p)in m&&u(l,p,m[f]);if(l.length=r,o<r){for(p=y;p<_-r;p++)g=p+o,(f=p+r)in m?m[g]=m[f]:delete m[g];for(p=_;p>_-r+o;p--)delete m[p-1]}else if(o>r)for(p=_-r;p>y;p--)g=p+o-1,(f=p+r-1)in m?m[g]=m[f]:delete m[g];for(p=0;p<o;p++)m[p+y]=arguments[p+2];return m.length=_-r+o,l}})},function(e,t,o){"use strict";var r=o(61),i=o(18),n=o(46);e.exports=function(e,t,o){var a=r(t);a in e?i.f(e,a,n(0,o)):e[a]=o}},function(e,t,o){"use strict";o.d(t,"b",(function(){return h})),o.d(t,"a",(function(){return p}));o(57),o(271),o(32),o(39);var r=o(200),i=o.n(r),n=o(96),a=o.n(n),s=o(201),c=o.n(s),u=o(202),l=o.n(u),d=function(e,t){return a.a.stringify(c()(t,e))},h=function(e){var t=e.access_key_id,o=e.access_key_secret,r=e.bucket_name,n=e.security_token,a=e.endpoint,s=e.object_name,c=e.timeout,u=void 0===c?1:c,l=e.maxSize,h=function(e,t){var o=new Date;o.setHours(o.getHours()+e);var r={expiration:o.toISOString(),conditions:[["content-length-range",0,1024*t*1024]]};return i.a.Base64.encode(JSON.stringify(r))}(u,void 0===l?150:l);return{url:"https://"+r+"."+a,signature:d(o,h),securityToken:n,policy:h,key:s,OSSAccessKeyId:t,successActionStatus:"200",objectName:s}},p=function(e){return new Promise((function(t,o){try{var r=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,i=Math.ceil(e.size/1048576),n=new l.a.ArrayBuffer,a=0,s=new FileReader;s.onload=function(){var e=s.result||s.content;e?(n.append(e),++a<i?c():t(n.end())):o({code:2020006,message:"文件内容为空"})},s.onerror=function(){o({code:2010001,message:"找不到对应的本地文件"})};var c=function(){var t=1048576*a,o=t+1048576>=e.size?e.size:t+1048576,i=r.call(e,t,o);s.readAsArrayBuffer(i)};c()}catch(e){o(e)}}))}},function(e,t,o){var r=o(27),i=o(21),n=o(29),a=function(e){return function(t,o){var a,s,c=i(n(t)),u=r(o),l=c.length;return u<0||u>=l?e?"":void 0:(a=c.charCodeAt(u))<55296||a>56319||u+1===l||(s=c.charCodeAt(u+1))<56320||s>57343?e?c.charAt(u):a:e?c.slice(u,u+2):s-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,o){var r=o(11),i=o(64),n=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[n]===e)}},function(e,t,o){var r=o(9),i=/#|\.prototype\./,n=function(e,t){var o=s[a(e)];return o==u||o!=c&&("function"==typeof t?r(t):!!t)},a=n.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=n.data={},c=n.NATIVE="N",u=n.POLYFILL="P";e.exports=n},function(e,t,o){var r=o(25);e.exports=function(e,t,o){for(var i in t)r(e,i,t[i],o);return e}},function(e,t,o){"use strict";var r=o(19),i=o(47),n=o(12);e.exports=function(e){for(var t=r(this),o=n(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,o),c=a>2?arguments[2]:void 0,u=void 0===c?o:i(c,o);u>s;)t[s++]=e;return t}},function(e,t,o){var r=o(11)("iterator"),i=!1;try{var n=0,a={next:function(){return{done:!!n++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var o=!1;try{var n={};n[r]=function(){return{next:function(){return{done:o=!0}}}},e(n)}catch(e){}return o}},function(e,t,o){var r=o(41),i=o(6);e.exports="process"==r(i.process)},function(e,t,o){"use strict";var r=o(7),i=o(20).findIndex,n=o(92),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("findIndex")},function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){var r=o(216);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},function(e,t,o){"use strict";o(37);var r=o(25),i=o(78),n=o(9),a=o(11),s=o(24),c=a("species"),u=RegExp.prototype;e.exports=function(e,t,o,l){var d=a(e),h=!n((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=h&&!n((function(){var t=!1,o=/a/;return"split"===e&&((o={}).constructor={},o.constructor[c]=function(){return o},o.flags="",o[d]=/./[d]),o.exec=function(){return t=!0,null},o[d](""),!t}));if(!h||!p||o){var f=/./[d],g=t(d,""[e],(function(e,t,o,r,n){var a=t.exec;return a===i||a===u.exec?h&&!n?{done:!0,value:f.call(t,o,r)}:{done:!0,value:e.call(o,t,r)}:{done:!1}}));r(String.prototype,e,g[0]),r(u,d,g[1])}l&&s(u[d],"sham",!0)}},function(e,t,o){"use strict";var r=o(108).charAt;e.exports=function(e,t,o){return t+(o?r(e,t).length:1)}},function(e,t,o){var r=o(41),i=o(78);e.exports=function(e,t){var o=e.exec;if("function"==typeof o){var n=o.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,o){"use strict";var r=o(7),i=o(9),n=o(156),a=o(15),s=o(47),c=o(12),u=o(83),l=n.ArrayBuffer,d=n.DataView,h=l.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i((function(){return!new l(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==h&&void 0===t)return h.call(a(this),e);for(var o=a(this).byteLength,r=s(e,o),i=s(void 0===t?o:t,o),n=new(u(this,l))(c(i-r)),p=new d(this),f=new d(n),g=0;r<i;)f.setUint8(g++,p.getUint8(r++));return n}})},function(e,t,o){o(184)("Uint8",(function(e){return function(t,o,r){return e(this,t,o,r)}}))},function(e,t,o){"use strict";var r=o(10),i=o(225),n=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(e,t){return i.call(n(this),e,t,arguments.length>2?arguments[2]:void 0)}))},function(e,t,o){"use strict";var r=o(10),i=o(20).every,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(10),i=o(112),n=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(e){return i.apply(n(this),arguments)}))},function(e,t,o){"use strict";var r=o(10),i=o(20).filter,n=o(226),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=i(a(this),e,arguments.length>1?arguments[1]:void 0);return n(this,t)}))},function(e,t,o){"use strict";var r=o(10),i=o(20).find,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(10),i=o(20).findIndex,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(10),i=o(20).forEach,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(10),i=o(71).includes,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(10),i=o(71).indexOf,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(6),i=o(10),n=o(31),a=o(11)("iterator"),s=r.Uint8Array,c=n.values,u=n.keys,l=n.entries,d=i.aTypedArray,h=i.exportTypedArrayMethod,p=s&&s.prototype[a],f=!!p&&("values"==p.name||null==p.name),g=function(){return c.call(d(this))};h("entries",(function(){return l.call(d(this))})),h("keys",(function(){return u.call(d(this))})),h("values",g,!f),h(a,g,!f)},function(e,t,o){"use strict";var r=o(10),i=r.aTypedArray,n=r.exportTypedArrayMethod,a=[].join;n("join",(function(e){return a.apply(i(this),arguments)}))},function(e,t,o){"use strict";var r=o(10),i=o(187),n=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){return i.apply(n(this),arguments)}))},function(e,t,o){"use strict";var r=o(10),i=o(20).map,n=o(81),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(n(e))(t)}))}))},function(e,t,o){"use strict";var r=o(10),i=o(137).left,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){return i(n(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){var r=o(40),i=o(19),n=o(60),a=o(12),s=function(e){return function(t,o,s,c){r(o);var u=i(t),l=n(u),d=a(u.length),h=e?d-1:0,p=e?-1:1;if(s<2)for(;;){if(h in l){c=l[h],h+=p;break}if(h+=p,e?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=p)h in l&&(c=o(c,l[h],h,u));return c}};e.exports={left:s(!1),right:s(!0)}},function(e,t,o){"use strict";var r=o(10),i=o(137).right,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){return i(n(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(10),i=r.aTypedArray,n=r.exportTypedArrayMethod,a=Math.floor;n("reverse",(function(){for(var e,t=i(this).length,o=a(t/2),r=0;r<o;)e=this[r],this[r++]=this[--t],this[t]=e;return this}))},function(e,t,o){"use strict";var r=o(10),i=o(12),n=o(159),a=o(19),s=o(9),c=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(e){c(this);var t=n(arguments.length>1?arguments[1]:void 0,1),o=this.length,r=a(e),s=i(r.length),u=0;if(s+t>o)throw RangeError("Wrong length");for(;u<s;)this[t+u]=r[u++]}),s((function(){new Int8Array(1).set({})})))},function(e,t,o){"use strict";var r=o(10),i=o(81),n=o(9),a=r.aTypedArray,s=r.exportTypedArrayMethod,c=[].slice;s("slice",(function(e,t){for(var o=c.call(a(this),e,t),r=i(this),n=0,s=o.length,u=new r(s);s>n;)u[n]=o[n++];return u}),n((function(){new Int8Array(1).slice()})))},function(e,t,o){"use strict";var r=o(10),i=o(20).some,n=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,o){"use strict";var r=o(10),i=o(6),n=o(9),a=o(40),s=o(12),c=o(175),u=o(176),l=o(177),d=o(62),h=o(178),p=r.aTypedArray,f=r.exportTypedArrayMethod,g=i.Uint16Array,m=g&&g.prototype.sort,_=!!m&&!n((function(){var e=new g(2);e.sort(null),e.sort({})})),y=!!m&&!n((function(){if(d)return d<74;if(u)return u<67;if(l)return!0;if(h)return h<602;var e,t,o=new g(516),r=Array(516);for(e=0;e<516;e++)t=e%4,o[e]=515-e,r[e]=e-2*t+3;for(o.sort((function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(o[e]!==r[e])return!0}));f("sort",(function(e){if(void 0!==e&&a(e),y)return m.call(this,e);p(this);var t,o=s(this.length),r=Array(o);for(t=0;t<o;t++)r[t]=this[t];for(r=c(this,function(e){return function(t,o){return void 0!==e?+e(t,o)||0:o!=o?-1:t!=t?1:0===t&&0===o?1/t>0&&1/o<0?1:-1:t>o}}(e)),t=0;t<o;t++)this[t]=r[t];return this}),!y||_)},function(e,t,o){"use strict";var r=o(10),i=o(12),n=o(47),a=o(81),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var o=s(this),r=o.length,c=n(e,r);return new(a(o))(o.buffer,o.byteOffset+c*o.BYTES_PER_ELEMENT,i((void 0===t?r:n(t,r))-c))}))},function(e,t,o){"use strict";var r=o(6),i=o(10),n=o(9),a=r.Int8Array,s=i.aTypedArray,c=i.exportTypedArrayMethod,u=[].toLocaleString,l=[].slice,d=!!a&&n((function(){u.call(new a(1))}));c("toLocaleString",(function(){return u.apply(d?l.call(s(this)):s(this),arguments)}),n((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!n((function(){a.prototype.toLocaleString.call([1,2])})))},function(e,t,o){"use strict";var r=o(10).exportTypedArrayMethod,i=o(9),n=o(6).Uint8Array,a=n&&n.prototype||{},s=[].toString,c=[].join;i((function(){s.call({})}))&&(s=function(){return c.call(this)});var u=a.toString!=s;r("toString",s,u)},function(e,t,o){"use strict";(function(e){var r=t;function i(e,t,o){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&o||(e[r[i]]=t[r[i]]);return e}function n(e){function t(e,o){if(!(this instanceof t))return new t(e,o);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),o&&i(this,o)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=o(318),r.base64=o(319),r.EventEmitter=o(320),r.float=o(321),r.inquire=o(322),r.utf8=o(323),r.pool=o(324),r.LongBits=o(325),r.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),r.global=r.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var o=e[t];return!(null==o||!e.hasOwnProperty(t))&&("object"!=typeof o||(Array.isArray(o)?o.length:Object.keys(o).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var o=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(o.lo,o.hi,t):o.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=n,r.ProtocolError=n("ProtocolError"),r.oneOfGetter=function(e){for(var t={},o=0;o<e.length;++o)t[e[o]]=1;return function(){for(var e=Object.keys(this),o=e.length-1;o>-1;--o)if(1===t[e[o]]&&void 0!==this[e[o]]&&null!==this[e[o]])return e[o]}},r.oneOfSetter=function(e){return function(t){for(var o=0;o<e.length;++o)e[o]!==t&&delete this[e[o]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,o){return new e(t,o)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,o(116))},function(e,t,o){var r=o(97);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,o){var r=o(17),i=o(9),n=o(103);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},function(e,t,o){var r=o(16),i=o(215),n=o(52),a=o(18);e.exports=function(e,t){for(var o=i(t),s=a.f,c=n.f,u=0;u<o.length;u++){var l=o[u];r(e,l)||s(e,l,c(t,l))}}},function(e,t,o){var r=o(16),i=o(28),n=o(71).indexOf,a=o(70);e.exports=function(e,t){var o,s=i(e),c=0,u=[];for(o in s)!r(a,o)&&r(s,o)&&u.push(o);for(;t.length>c;)r(s,o=t[c++])&&(~n(u,o)||u.push(o));return u}},function(e,t,o){"use strict";var r=o(15);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,o){var r=o(9),i=o(6).RegExp;t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,o){"use strict";var r=o(7),i=o(173),n=o(79),a=o(48),s=o(54),c=o(24),u=o(25),l=o(11),d=o(53),h=o(64),p=o(155),f=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=l("iterator"),_=function(){return this};e.exports=function(e,t,o,l,p,y,v){i(o,t,l);var b,w,S,I=function(e){if(e===p&&D)return D;if(!g&&e in P)return P[e];switch(e){case"keys":case"values":case"entries":return function(){return new o(this,e)}}return function(){return new o(this)}},x=t+" Iterator",E=!1,P=e.prototype,T=P[m]||P["@@iterator"]||p&&P[p],D=!g&&T||I(p),O="Array"==t&&P.entries||T;if(O&&(b=n(O.call(new e)),f!==Object.prototype&&b.next&&(d||n(b)===f||(a?a(b,f):"function"!=typeof b[m]&&c(b,m,_)),s(b,x,!0,!0),d&&(h[x]=_))),"values"==p&&T&&"values"!==T.name&&(E=!0,D=function(){return T.call(this)}),d&&!v||P[m]===D||c(P,m,D),h[t]=D,p)if(w={values:I("values"),keys:y?D:I("keys"),entries:I("entries")},v)for(S in w)(g||E||!(S in P))&&u(P,S,w[S]);else r({target:t,proto:!0,forced:g||E},w);return w}},function(e,t,o){"use strict";var r,i,n,a=o(9),s=o(79),c=o(24),u=o(16),l=o(11),d=o(53),h=l("iterator"),p=!1;[].keys&&("next"in(n=[].keys())?(i=s(s(n)))!==Object.prototype&&(r=i):p=!0);var f=null==r||a((function(){var e={};return r[h].call(e)!==e}));f&&(r={}),d&&!f||u(r,h)||c(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(e,t,o){"use strict";var r=o(6),i=o(17),n=o(157),a=o(24),s=o(111),c=o(9),u=o(80),l=o(27),d=o(12),h=o(158),p=o(221),f=o(79),g=o(48),m=o(49).f,_=o(18).f,y=o(112),v=o(54),b=o(30),w=b.get,S=b.set,I=r.ArrayBuffer,x=I,E=r.DataView,P=E&&E.prototype,T=Object.prototype,D=r.RangeError,O=p.pack,M=p.unpack,A=function(e){return[255&e]},C=function(e){return[255&e,e>>8&255]},L=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},B=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},N=function(e){return O(e,23,4)},V=function(e){return O(e,52,8)},k=function(e,t){_(e.prototype,t,{get:function(){return w(this)[t]}})},H=function(e,t,o,r){var i=h(o),n=w(e);if(i+t>n.byteLength)throw D("Wrong index");var a=w(n.buffer).bytes,s=i+n.byteOffset,c=a.slice(s,s+t);return r?c:c.reverse()},j=function(e,t,o,r,i,n){var a=h(o),s=w(e);if(a+t>s.byteLength)throw D("Wrong index");for(var c=w(s.buffer).bytes,u=a+s.byteOffset,l=r(+i),d=0;d<t;d++)c[u+d]=l[n?d:t-d-1]};if(n){if(!c((function(){I(1)}))||!c((function(){new I(-1)}))||c((function(){return new I,new I(1.5),new I(NaN),"ArrayBuffer"!=I.name}))){for(var z,q=(x=function(e){return u(this,x),new I(h(e))}).prototype=I.prototype,F=m(I),R=0;F.length>R;)(z=F[R++])in x||a(x,z,I[z]);q.constructor=x}g&&f(P)!==T&&g(P,T);var Z=new E(new x(2)),W=P.setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||s(P,{setInt8:function(e,t){W.call(this,e,t<<24>>24)},setUint8:function(e,t){W.call(this,e,t<<24>>24)}},{unsafe:!0})}else x=function(e){u(this,x,"ArrayBuffer");var t=h(e);S(this,{bytes:y.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},E=function(e,t,o){u(this,E,"DataView"),u(e,x,"DataView");var r=w(e).byteLength,n=l(t);if(n<0||n>r)throw D("Wrong offset");if(n+(o=void 0===o?r-n:d(o))>r)throw D("Wrong length");S(this,{buffer:e,byteLength:o,byteOffset:n}),i||(this.buffer=e,this.byteLength=o,this.byteOffset=n)},i&&(k(x,"byteLength"),k(E,"buffer"),k(E,"byteLength"),k(E,"byteOffset")),s(E.prototype,{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return B(H(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return B(H(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return M(H(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return M(H(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){j(this,1,e,A,t)},setUint8:function(e,t){j(this,1,e,A,t)},setInt16:function(e,t){j(this,2,e,C,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){j(this,2,e,C,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){j(this,4,e,L,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){j(this,4,e,L,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){j(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){j(this,8,e,V,t,arguments.length>2?arguments[2]:void 0)}});v(x,"ArrayBuffer"),v(E,"DataView"),e.exports={ArrayBuffer:x,DataView:E}},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,o){var r=o(27),i=o(12);e.exports=function(e){if(void 0===e)return 0;var t=r(e),o=i(t);if(t!==o)throw RangeError("Wrong length or index");return o}},function(e,t,o){var r=o(224);e.exports=function(e,t){var o=r(e);if(o%t)throw RangeError("Wrong offset");return o}},function(e,t,o){"use strict";var r=o(20).forEach,i=o(56)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,o){var r=o(11);t.f=r},function(e,t,o){var r=o(229),i=o(16),n=o(162),a=o(18).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:n.f(e)})}},function(e,t,o){var r=o(38);e.exports=r("document","documentElement")},function(e,t,o){var r=o(13),i=o(41),n=o(11)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==i(e))}},function(e,t,o){"use strict";var r=o(38),i=o(18),n=o(11),a=o(17),s=n("species");e.exports=function(e){var t=r(e),o=i.f;a&&t&&!t[s]&&o(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,o){"use strict";var r=o(7),i=o(20).some;r({target:"Array",proto:!0,forced:!o(56)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){"use strict";var r=o(7),i=o(73),n=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),n.call(this)}})},function(e,t,o){e.exports=o(253)},function(e,t,o){var r=o(13),i=o(55),n=o(213),a=o(11)("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var o,s=e[a];if(void 0!==s){if(void 0===t&&(t="default"),o=s.call(e,t),!r(o)||i(o))return o;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),n(e,t)}},function(e,t,o){"use strict";var r=o(17),i=o(9),n=o(77),a=o(101),s=o(91),c=o(19),u=o(60),l=Object.assign,d=Object.defineProperty;e.exports=!l||i((function(){if(r&&1!==l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},o=Symbol();return e[o]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[o]||"abcdefghijklmnopqrst"!=n(l({},t)).join("")}))?function(e,t){for(var o=c(e),i=arguments.length,l=1,d=a.f,h=s.f;i>l;)for(var p,f=u(arguments[l++]),g=d?n(f).concat(d(f)):n(f),m=g.length,_=0;m>_;)p=g[_++],r&&!h.call(f,p)||(o[p]=f[p]);return o}:l},function(e,t,o){var r=o(17),i=o(18),n=o(15),a=o(77);e.exports=r?Object.defineProperties:function(e,t){n(e);for(var o,r=a(t),s=r.length,c=0;s>c;)i.f(e,o=r[c++],t[o]);return e}},function(e,t,o){"use strict";var r=o(155).IteratorPrototype,i=o(42),n=o(46),a=o(54),s=o(64),c=function(){return this};e.exports=function(e,t,o){var u=t+" Iterator";return e.prototype=i(r,{next:n(1,o)}),a(e,u,!1,!0),s[u]=c,e}},function(e,t,o){var r=o(13),i=o(48);e.exports=function(e,t,o){var n,a;return i&&"function"==typeof(n=t.constructor)&&n!==o&&r(a=n.prototype)&&a!==o.prototype&&i(e,a),e}},function(e,t){var o=Math.floor,r=function(e,t){var a=e.length,s=o(a/2);return a<8?i(e,t):n(r(e.slice(0,s),t),r(e.slice(s),t),t)},i=function(e,t){for(var o,r,i=e.length,n=1;n<i;){for(r=n,o=e[n];r&&t(e[r-1],o)>0;)e[r]=e[--r];r!==n++&&(e[r]=o)}return e},n=function(e,t,o){for(var r=e.length,i=t.length,n=0,a=0,s=[];n<r||a<i;)n<r&&a<i?s.push(o(e[n],t[a])<=0?e[n++]:t[a++]):s.push(n<r?e[n++]:t[a++]);return s};e.exports=r},function(e,t,o){var r=o(36).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},function(e,t,o){var r=o(36);e.exports=/MSIE|Trident/.test(r)},function(e,t,o){var r=o(36).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},function(e,t,o){var r=o(28),i=o(49).f,n={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==n.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,o){o(7)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(e,t,o){"use strict";var r=o(7),i=o(27),n=o(289),a=o(209),s=o(9),c=1..toFixed,u=Math.floor,l=function(e,t,o){return 0===t?o:t%2==1?l(e,t-1,o*e):l(e*e,t/2,o)},d=function(e,t,o){for(var r=-1,i=o;++r<6;)i+=t*e[r],e[r]=i%1e7,i=u(i/1e7)},h=function(e,t){for(var o=6,r=0;--o>=0;)r+=e[o],e[o]=u(r/t),r=r%t*1e7},p=function(e){for(var t=6,o="";--t>=0;)if(""!==o||0===t||0!==e[t]){var r=String(e[t]);o=""===o?r:o+a.call("0",7-r.length)+r}return o};r({target:"Number",proto:!0,forced:c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}))},{toFixed:function(e){var t,o,r,s,c=n(this),u=i(e),f=[0,0,0,0,0,0],g="",m="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(o=(t=function(e){for(var t=0,o=e;o>=4096;)t+=12,o/=4096;for(;o>=2;)t+=1,o/=2;return t}(c*l(2,69,1))-69)<0?c*l(2,-t,1):c/l(2,t,1),o*=4503599627370496,(t=52-t)>0){for(d(f,0,o),r=u;r>=7;)d(f,1e7,0),r-=7;for(d(f,l(10,r,1),0),r=t-1;r>=23;)h(f,1<<23),r-=23;h(f,1<<r),d(f,1,1),h(f,2),m=p(f)}else d(f,0,o),d(f,1<<-t,0),m=p(f)+a.call("0",u);return m=u>0?g+((s=m.length)<=u?"0."+a.call("0",u-s)+m:m.slice(0,s-u)+"."+m.slice(s-u)):g+m}})},function(e,t,o){"use strict";var r=o(7),i=o(40),n=o(19),a=o(12),s=o(21),c=o(9),u=o(175),l=o(56),d=o(176),h=o(177),p=o(62),f=o(178),g=[],m=g.sort,_=c((function(){g.sort(void 0)})),y=c((function(){g.sort(null)})),v=l("sort"),b=!c((function(){if(p)return p<70;if(!(d&&d>3)){if(h)return!0;if(f)return f<603;var e,t,o,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(r=0;r<47;r++)g.push({k:t+r,v:o})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));r({target:"Array",proto:!0,forced:_||!y||!v||!b},{sort:function(e){void 0!==e&&i(e);var t=n(this);if(b)return void 0===e?m.call(t):m.call(t,e);var o,r,c=[],l=a(t.length);for(r=0;r<l;r++)r in t&&c.push(t[r]);for(o=(c=u(c,function(e){return function(t,o){return void 0===o?-1:void 0===t?1:void 0!==e?+e(t,o)||0:s(t)>s(o)?1:-1}}(e))).length,r=0;r<o;)t[r]=c[r++];for(;r<l;)delete t[r++];return t}})},function(e,t,o){var r=o(7),i=o(19),n=o(77);r({target:"Object",stat:!0,forced:o(9)((function(){n(1)}))},{keys:function(e){return n(i(e))}})},function(e,t,o){"use strict";var r=o(7),i=o(6),n=o(17),a=o(185),s=o(10),c=o(156),u=o(80),l=o(46),d=o(24),h=o(223),p=o(12),f=o(158),g=o(159),m=o(61),_=o(16),y=o(72),v=o(13),b=o(55),w=o(42),S=o(48),I=o(49).f,x=o(186),E=o(20).forEach,P=o(166),T=o(18),D=o(52),O=o(30),M=o(174),A=O.get,C=O.set,L=T.f,B=D.f,N=Math.round,V=i.RangeError,k=c.ArrayBuffer,H=c.DataView,j=s.NATIVE_ARRAY_BUFFER_VIEWS,z=s.TYPED_ARRAY_CONSTRUCTOR,q=s.TYPED_ARRAY_TAG,F=s.TypedArray,R=s.TypedArrayPrototype,Z=s.aTypedArrayConstructor,W=s.isTypedArray,G=function(e,t){for(var o=0,r=t.length,i=new(Z(e))(r);r>o;)i[o]=t[o++];return i},U=function(e,t){L(e,t,{get:function(){return A(this)[t]}})},J=function(e){var t;return e instanceof k||"ArrayBuffer"==(t=y(e))||"SharedArrayBuffer"==t},X=function(e,t){return W(e)&&!b(t)&&t in e&&h(+t)&&t>=0},Y=function(e,t){return t=m(t),X(e,t)?l(2,e[t]):B(e,t)},Q=function(e,t,o){return t=m(t),!(X(e,t)&&v(o)&&_(o,"value"))||_(o,"get")||_(o,"set")||o.configurable||_(o,"writable")&&!o.writable||_(o,"enumerable")&&!o.enumerable?L(e,t,o):(e[t]=o.value,e)};n?(j||(D.f=Y,T.f=Q,U(R,"buffer"),U(R,"byteOffset"),U(R,"byteLength"),U(R,"length")),r({target:"Object",stat:!0,forced:!j},{getOwnPropertyDescriptor:Y,defineProperty:Q}),e.exports=function(e,t,o){var n=e.match(/\d+$/)[0]/8,s=e+(o?"Clamped":"")+"Array",c="get"+e,l="set"+e,h=i[s],m=h,_=m&&m.prototype,y={},b=function(e,t){L(e,t,{get:function(){return function(e,t){var o=A(e);return o.view[c](t*n+o.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=A(e);o&&(r=(r=N(r))<0?0:r>255?255:255&r),i.view[l](t*n+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};j?a&&(m=t((function(e,t,o,r){return u(e,m,s),M(v(t)?J(t)?void 0!==r?new h(t,g(o,n),r):void 0!==o?new h(t,g(o,n)):new h(t):W(t)?G(m,t):x.call(m,t):new h(f(t)),e,m)})),S&&S(m,F),E(I(h),(function(e){e in m||d(m,e,h[e])})),m.prototype=_):(m=t((function(e,t,o,r){u(e,m,s);var i,a,c,l=0,d=0;if(v(t)){if(!J(t))return W(t)?G(m,t):x.call(m,t);i=t,d=g(o,n);var h=t.byteLength;if(void 0===r){if(h%n)throw V("Wrong length");if((a=h-d)<0)throw V("Wrong length")}else if((a=p(r)*n)+d>h)throw V("Wrong length");c=a/n}else c=f(t),i=new k(a=c*n);for(C(e,{buffer:i,byteOffset:d,byteLength:a,length:c,view:new H(i)});l<c;)b(e,l++)})),S&&S(m,F),_=m.prototype=w(R)),_.constructor!==m&&d(_,"constructor",m),d(_,z,m),q&&d(_,q,s),y[s]=m,r({global:!0,forced:m!=h,sham:!j},y),"BYTES_PER_ELEMENT"in m||d(m,"BYTES_PER_ELEMENT",n),"BYTES_PER_ELEMENT"in _||d(_,"BYTES_PER_ELEMENT",n),P(s)}):e.exports=function(){}},function(e,t,o){var r=o(6),i=o(9),n=o(113),a=o(10).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,c=r.Int8Array;e.exports=!a||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!n((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},function(e,t,o){var r=o(19),i=o(12),n=o(84),a=o(109),s=o(63),c=o(10).aTypedArrayConstructor;e.exports=function(e){var t,o,u,l,d,h,p=r(e),f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,_=n(p);if(null!=_&&!a(_))for(h=(d=_.call(p)).next,p=[];!(l=h.call(d)).done;)p.push(l.value);for(m&&f>2&&(g=s(g,arguments[2],2)),o=i(p.length),u=new(c(this))(o),t=0;o>t;t++)u[t]=m?g(p[t],t):p[t];return u}},function(e,t,o){"use strict";var r=o(28),i=o(27),n=o(12),a=o(56),s=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,l=a("lastIndexOf"),d=u||!l;e.exports=d?function(e){if(u)return c.apply(this,arguments)||0;var t=r(this),o=n(t.length),a=o-1;for(arguments.length>1&&(a=s(a,i(arguments[1]))),a<0&&(a=o+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:c},function(e,t,o){var r=o(15);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},function(e,t,o){var r,i,n,a,s=o(6),c=o(9),u=o(63),l=o(164),d=o(103),h=o(190),p=o(114),f=s.setImmediate,g=s.clearImmediate,m=s.process,_=s.MessageChannel,y=s.Dispatch,v=0,b={};try{r=s.location}catch(e){}var w=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},S=function(e){return function(){w(e)}},I=function(e){w(e.data)},x=function(e){s.postMessage(String(e),r.protocol+"//"+r.host)};f&&g||(f=function(e){for(var t=[],o=arguments.length,r=1;o>r;)t.push(arguments[r++]);return b[++v]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(v),v},g=function(e){delete b[e]},p?i=function(e){m.nextTick(S(e))}:y&&y.now?i=function(e){y.now(S(e))}:_&&!h?(a=(n=new _).port2,n.port1.onmessage=I,i=u(a.postMessage,a,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&r&&"file:"!==r.protocol&&!c(x)?(i=x,s.addEventListener("message",I,!1)):i="onreadystatechange"in d("script")?function(e){l.appendChild(d("script")).onreadystatechange=function(){l.removeChild(this),w(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:f,clear:g}},function(e,t,o){var r=o(36);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},function(e,t,o){"use strict";var r=o(40),i=function(e){var t,o;this.promise=new e((function(e,r){if(void 0!==t||void 0!==o)throw TypeError("Bad Promise constructor");t=e,o=r})),this.resolve=r(t),this.reject=r(o)};e.exports.f=function(e){return new i(e)}},function(e,t,o){"use strict";e.exports=function(e,t){return function(){for(var o=new Array(arguments.length),r=0;r<o.length;r++)o[r]=arguments[r];return e.apply(t,o)}}},function(e,t,o){"use strict";var r=o(26);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,o){if(!t)return e;var n;if(o)n=o(t);else if(r.isURLSearchParams(t))n=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),n=a.join("&")}if(n){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}},function(e,t,o){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,o){"use strict";(function(t){var r=o(26),i=o(259),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=o(196)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(n)})),e.exports=c}).call(this,o(258))},function(e,t,o){"use strict";var r=o(26),i=o(260),n=o(193),a=o(262),s=o(265),c=o(266),u=o(197);e.exports=function(e){return new Promise((function(t,l){var d=e.data,h=e.headers;r.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",g=e.auth.password||"";h.Authorization="Basic "+btoa(f+":"+g)}var m=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),n(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var o="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:o,config:e,request:p};i(t,l,r),p=null}},p.onabort=function(){p&&(l(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(u(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var _=o(267),y=(e.withCredentials||c(m))&&e.xsrfCookieName?_.read(e.xsrfCookieName):void 0;y&&(h[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),l(e),p=null)})),void 0===d&&(d=null),p.send(d)}))}},function(e,t,o){"use strict";var r=o(261);e.exports=function(e,t,o,i,n){var a=new Error(e);return r(a,t,o,i,n)}},function(e,t,o){"use strict";var r=o(26);e.exports=function(e,t){t=t||{};var o={},i=["url","method","params","data"],n=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){void 0!==t[e]&&(o[e]=t[e])})),r.forEach(n,(function(i){r.isObject(t[i])?o[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?o[i]=t[i]:r.isObject(e[i])?o[i]=r.deepMerge(e[i]):void 0!==e[i]&&(o[i]=e[i])})),r.forEach(a,(function(r){void 0!==t[r]?o[r]=t[r]:void 0!==e[r]&&(o[r]=e[r])}));var s=i.concat(n).concat(a),c=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return r.forEach(c,(function(r){void 0!==t[r]?o[r]=t[r]:void 0!==e[r]&&(o[r]=e[r])})),o}},function(e,t,o){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,o){(function(o){var r;!function(o,i){e.exports=function(o){"use strict";var i,n=(o=o||{}).Base64,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(e){for(var t={},o=0,r=e.length;o<r;o++)t[e.charAt(o)]=o;return t}(a),c=String.fromCharCode,u=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)},l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(e){return e.replace(l,u)},h=function(e){var t=[0,2,1][e.length%3],o=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[a.charAt(o>>>18),a.charAt(o>>>12&63),t>=2?"=":a.charAt(o>>>6&63),t>=1?"=":a.charAt(63&o)].join("")},p=o.btoa&&"function"==typeof o.btoa?function(e){return o.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,h)},f=function(e){return p(d(String(e)))},g=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},m=function(e,t){return t?g(f(e)):f(e)};o.Uint8Array&&(i=function(e,t){for(var o="",r=0,i=e.length;r<i;r+=3){var n=e[r],s=e[r+1],c=e[r+2],u=n<<16|s<<8|c;o+=a.charAt(u>>>18)+a.charAt(u>>>12&63)+(void 0!==s?a.charAt(u>>>6&63):"=")+(void 0!==c?a.charAt(63&u):"=")}return t?g(o):o});var _,y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,v=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return c(55296+(t>>>10))+c(56320+(1023&t));case 3:return c((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return c((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},b=function(e){return e.replace(y,v)},w=function(e){var t=e.length,o=t%4,r=(t>0?s[e.charAt(0)]<<18:0)|(t>1?s[e.charAt(1)]<<12:0)|(t>2?s[e.charAt(2)]<<6:0)|(t>3?s[e.charAt(3)]:0),i=[c(r>>>16),c(r>>>8&255),c(255&r)];return i.length-=[0,0,2,1][o],i.join("")},S=o.atob&&"function"==typeof o.atob?function(e){return o.atob(e)}:function(e){return e.replace(/\S{1,4}/g,w)},I=function(e){return S(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},x=function(e){return function(e){return b(S(e))}(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))};o.Uint8Array&&(_=function(e){return Uint8Array.from(I(e),(function(e){return e.charCodeAt(0)}))});var E=function(){var e=o.Base64;return o.Base64=n,e};if(o.Base64={VERSION:"2.6.2",atob:I,btoa:p,fromBase64:x,toBase64:m,utob:d,encode:m,encodeURI:function(e){return m(e,!0)},btou:b,decode:x,noConflict:E,fromUint8Array:i,toUint8Array:_},"function"==typeof Object.defineProperty){var P=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};o.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",P((function(){return x(this)}))),Object.defineProperty(String.prototype,"toBase64",P((function(e){return m(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",P((function(){return m(this,!0)})))}}o.Meteor&&(Base64=o.Base64);e.exports?e.exports.Base64=o.Base64:void 0===(r=function(){return o.Base64}.apply(t,[]))||(e.exports=r);return{Base64:o.Base64}}(o)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:this)}).call(this,o(116))},function(e,t,o){var r;e.exports=(r=o(34),o(207),o(208),r.HmacSHA1)},function(e,t,o){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function o(e,t){var o=e[0],r=e[1],i=e[2],n=e[3];r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&i|~r&n)+t[0]-680876936|0)<<7|o>>>25)+r|0)&r|~o&i)+t[1]-389564586|0)<<12|n>>>20)+o|0)&o|~n&r)+t[2]+606105819|0)<<17|i>>>15)+n|0)&n|~i&o)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&i|~r&n)+t[4]-176418897|0)<<7|o>>>25)+r|0)&r|~o&i)+t[5]+1200080426|0)<<12|n>>>20)+o|0)&o|~n&r)+t[6]-1473231341|0)<<17|i>>>15)+n|0)&n|~i&o)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&i|~r&n)+t[8]+1770035416|0)<<7|o>>>25)+r|0)&r|~o&i)+t[9]-1958414417|0)<<12|n>>>20)+o|0)&o|~n&r)+t[10]-42063|0)<<17|i>>>15)+n|0)&n|~i&o)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&i|~r&n)+t[12]+1804603682|0)<<7|o>>>25)+r|0)&r|~o&i)+t[13]-40341101|0)<<12|n>>>20)+o|0)&o|~n&r)+t[14]-1502002290|0)<<17|i>>>15)+n|0)&n|~i&o)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&n|i&~n)+t[1]-165796510|0)<<5|o>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|n>>>23)+o|0)&r|o&~r)+t[11]+643717713|0)<<14|i>>>18)+n|0)&o|n&~o)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&n|i&~n)+t[5]-701558691|0)<<5|o>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|n>>>23)+o|0)&r|o&~r)+t[15]-660478335|0)<<14|i>>>18)+n|0)&o|n&~o)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&n|i&~n)+t[9]+568446438|0)<<5|o>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|n>>>23)+o|0)&r|o&~r)+t[3]-187363961|0)<<14|i>>>18)+n|0)&o|n&~o)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r&n|i&~n)+t[13]-1444681467|0)<<5|o>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|n>>>23)+o|0)&r|o&~r)+t[7]+1735328473|0)<<14|i>>>18)+n|0)&o|n&~o)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r^i^n)+t[5]-378558|0)<<4|o>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|n>>>21)+o|0)^o^r)+t[11]+1839030562|0)<<16|i>>>16)+n|0)^n^o)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r^i^n)+t[1]-1530992060|0)<<4|o>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|n>>>21)+o|0)^o^r)+t[7]-155497632|0)<<16|i>>>16)+n|0)^n^o)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r^i^n)+t[13]+681279174|0)<<4|o>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|n>>>21)+o|0)^o^r)+t[3]-722521979|0)<<16|i>>>16)+n|0)^n^o)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((n=((n+=((o=((o+=(r^i^n)+t[9]-640364487|0)<<4|o>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|n>>>21)+o|0)^o^r)+t[15]+530742520|0)<<16|i>>>16)+n|0)^n^o)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((n=((n+=(r^((o=((o+=(i^(r|~n))+t[0]-198630844|0)<<6|o>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|n>>>22)+o|0)^((i=((i+=(o^(n|~r))+t[14]-1416354905|0)<<15|i>>>17)+n|0)|~o))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((n=((n+=(r^((o=((o+=(i^(r|~n))+t[12]+1700485571|0)<<6|o>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|n>>>22)+o|0)^((i=((i+=(o^(n|~r))+t[10]-1051523|0)<<15|i>>>17)+n|0)|~o))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((n=((n+=(r^((o=((o+=(i^(r|~n))+t[8]+1873313359|0)<<6|o>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|n>>>22)+o|0)^((i=((i+=(o^(n|~r))+t[6]-1560198380|0)<<15|i>>>17)+n|0)|~o))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((n=((n+=(r^((o=((o+=(i^(r|~n))+t[4]-145523070|0)<<6|o>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|n>>>22)+o|0)^((i=((i+=(o^(n|~r))+t[2]+718787259|0)<<15|i>>>17)+n|0)|~o))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=o+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=n+e[3]|0}function r(e){var t,o=[];for(t=0;t<64;t+=4)o[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return o}function i(e){var t,o=[];for(t=0;t<64;t+=4)o[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return o}function n(e){var t,i,n,a,s,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)o(l,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(o(l,n),t=0;t<16;t+=1)n[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,n[14]=s,n[15]=c,o(l,n),l}function a(e){var o,r="";for(o=0;o<4;o+=1)r+=t[e>>8*o+4&15]+t[e>>8*o&15];return r}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e){var t,o=[],r=e.length;for(t=0;t<r-1;t+=2)o.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,o)}function l(){this.reset()}return s(n("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(o,r){var i,n,a,s,c=this.byteLength,u=t(o,c),l=c;return r!==e&&(l=t(r,c)),u>l?new ArrayBuffer(0):(i=l-u,n=new ArrayBuffer(i),a=new Uint8Array(n),s=new Uint8Array(this,u,i),a.set(s),n)}}(),l.prototype.append=function(e){return this.appendBinary(c(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)o(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,o,r=this._buff,i=r.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)n[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(n,i),o=s(this._hash),e&&(o=u(o)),this.reset(),o},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var r,i,n,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(o(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),n=parseInt(r[1],16)||0,e[14]=i,e[15]=n,o(this._hash,e)},l.hash=function(e,t){return l.hashBinary(c(e),t)},l.hashBinary=function(e,t){var o=s(n(e));return t?u(o):o},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,r,n,a,s,c=(r=this._buff.buffer,n=e,a=!0,(s=new Uint8Array(r.byteLength+n.byteLength)).set(new Uint8Array(r)),s.set(new Uint8Array(n),r.byteLength),a?s:s.buffer),u=c.length;for(this._length+=e.byteLength,t=64;t<=u;t+=64)o(this._hash,i(c.subarray(t-64,t)));return this._buff=t-64<u?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,o,r=this._buff,i=r.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)n[t>>2]|=r[t]<<(t%4<<3);return this._finish(n,i),o=s(this._hash),e&&(o=u(o)),this.reset(),o},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e,t=l.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var o,r=e.length,i=new ArrayBuffer(r),n=new Uint8Array(i);for(o=0;o<r;o+=1)n[o]=e.charCodeAt(o);return t?n:i}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var r=s(function(e){var t,r,n,a,s,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)o(l,i(e.subarray(t-64,t)));for(e=t-64<u?e.subarray(t-64):new Uint8Array(0),r=e.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)n[t>>2]|=e[t]<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(o(l,n),t=0;t<16;t+=1)n[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,n[14]=s,n[15]=c,o(l,n),l}(new Uint8Array(e)));return t?u(r):r},l}()},function(e,t,o){var r;e.exports=(r=o(34),r.enc.Hex)},function(e,t,o){"use strict";var r=o(25),i=o(15),n=o(21),a=o(9),s=o(152),c=RegExp.prototype,u=c.toString,l=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d="toString"!=u.name;(l||d)&&r(RegExp.prototype,"toString",(function(){var e=i(this),t=n(e.source),o=e.flags;return"/"+t+"/"+n(void 0===o&&e instanceof RegExp&&!("flags"in c)?s.call(e):o)}),{unsafe:!0})},function(e,t,o){var r=o(165);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,o){var r=o(11)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,o){var r,i,n,a,s,c,u,l;e.exports=(l=o(34),i=(r=l).lib,n=i.WordArray,a=i.Hasher,s=r.algo,c=[],u=s.SHA1=a.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var o=this._hash.words,r=o[0],i=o[1],n=o[2],a=o[3],s=o[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var d=(r<<5|r>>>27)+s+c[u];d+=u<20?1518500249+(i&n|~i&a):u<40?1859775393+(i^n^a):u<60?(i&n|i&a|n&a)-1894007588:(i^n^a)-899497514,s=a,a=n,n=i<<30|i>>>2,i=r,r=d}o[0]=o[0]+r|0,o[1]=o[1]+i|0,o[2]=o[2]+n|0,o[3]=o[3]+a|0,o[4]=o[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,o=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(o/4294967296),t[15+(r+64>>>9<<4)]=o,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=a._createHelper(u),r.HmacSHA1=a._createHmacHelper(u),l.SHA1)},function(e,t,o){var r,i,n,a;e.exports=(r=o(34),n=(i=r).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var o=e.blockSize,r=4*o;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),n=this._iKey=t.clone(),s=i.words,c=n.words,u=0;u<o;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=n.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,o=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(o))}})))},function(e,t,o){"use strict";var r=o(27),i=o(21),n=o(29);e.exports=function(e){var t=i(n(this)),o="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(o+=t);return o}},function(e,t,o){var r=o(7),i=o(230);r({target:"Array",stat:!0,forced:!o(113)((function(e){Array.from(e)}))},{from:i})},function(e,t,o){"use strict";var r,i=o(7),n=o(52).f,a=o(12),s=o(21),c=o(205),u=o(29),l=o(206),d=o(53),h="".startsWith,p=Math.min,f=l("startsWith");i({target:"String",proto:!0,forced:!!(d||f||(r=n(String.prototype,"startsWith"),!r||r.writable))&&!f},{startsWith:function(e){var t=s(u(this));c(e);var o=a(p(arguments.length>1?arguments[1]:void 0,t.length)),r=s(e);return h?h.call(t,r,o):t.slice(o,o+r.length)===r}})},function(e,t,o){"use strict";var r=o(7),i=o(20).find,n=o(92),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("find")},function(e,t,o){var r=o(13);e.exports=function(e,t){var o,i;if("string"===t&&"function"==typeof(o=e.toString)&&!r(i=o.call(e)))return i;if("function"==typeof(o=e.valueOf)&&!r(i=o.call(e)))return i;if("string"!==t&&"function"==typeof(o=e.toString)&&!r(i=o.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,o){var r=o(6),i=o(104),n=r.WeakMap;e.exports="function"==typeof n&&/native code/.test(i(n))},function(e,t,o){var r=o(38),i=o(49),n=o(101),a=o(15);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),o=n.f;return o?t.concat(o(e)):t}},function(e,t,o){var r=o(13),i=o(73),n=o(11)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)?r(t)&&null===(t=t[n])&&(t=void 0):t=void 0),void 0===t?Array:t}},function(e,t,o){var r=o(9),i=o(6).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,o){var r=o(9),i=o(6).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,o){var r=o(9);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,o){var r=o(13);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t){var o=Math.abs,r=Math.pow,i=Math.floor,n=Math.log,a=Math.LN2;e.exports={pack:function(e,t,s){var c,u,l,d=new Array(s),h=8*s-t-1,p=(1<<h)-1,f=p>>1,g=23===t?r(2,-24)-r(2,-77):0,m=e<0||0===e&&1/e<0?1:0,_=0;for((e=o(e))!=e||e===1/0?(u=e!=e?1:0,c=p):(c=i(n(e)/a),e*(l=r(2,-c))<1&&(c--,l*=2),(e+=c+f>=1?g/l:g*r(2,1-f))*l>=2&&(c++,l/=2),c+f>=p?(u=0,c=p):c+f>=1?(u=(e*l-1)*r(2,t),c+=f):(u=e*r(2,f-1)*r(2,t),c=0));t>=8;d[_++]=255&u,u/=256,t-=8);for(c=c<<t|u,h+=t;h>0;d[_++]=255&c,c/=256,h-=8);return d[--_]|=128*m,d},unpack:function(e,t){var o,i=e.length,n=8*i-t-1,a=(1<<n)-1,s=a>>1,c=n-7,u=i-1,l=e[u--],d=127&l;for(l>>=7;c>0;d=256*d+e[u],u--,c-=8);for(o=d&(1<<-c)-1,d>>=-c,c+=t;c>0;o=256*o+e[u],u--,c-=8);if(0===d)d=1-s;else{if(d===a)return o?NaN:l?-1/0:1/0;o+=r(2,t),d-=s}return(l?-1:1)*o*r(2,d-t)}}},function(e,t,o){"use strict";var r=o(102),i=o(72);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,o){var r=o(13),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,o){var r=o(27);e.exports=function(e){var t=r(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},function(e,t,o){"use strict";var r=o(19),i=o(47),n=o(12),a=Math.min;e.exports=[].copyWithin||function(e,t){var o=r(this),s=n(o.length),c=i(e,s),u=i(t,s),l=arguments.length>2?arguments[2]:void 0,d=a((void 0===l?s:i(l,s))-u,s-c),h=1;for(u<c&&c<u+d&&(h=-1,u+=d-1,c+=d-1);d-- >0;)u in o?o[c]=o[u]:delete o[c],c+=h,u+=h;return o}},function(e,t,o){var r=o(227),i=o(81);e.exports=function(e,t){return r(i(e),t)}},function(e,t){e.exports=function(e,t){for(var o=0,r=t.length,i=new e(r);r>o;)i[o]=t[o++];return i}},function(e,t,o){"use strict";var r=o(40),i=o(13),n=[].slice,a={},s=function(e,t,o){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,o)};e.exports=Function.bind||function(e){var t=r(this),o=n.call(arguments,1),a=function(){var r=o.concat(n.call(arguments));return this instanceof a?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(a.prototype=t.prototype),a}},function(e,t,o){var r=o(6);e.exports=r},function(e,t,o){"use strict";var r=o(63),i=o(19),n=o(252),a=o(109),s=o(12),c=o(106),u=o(84);e.exports=function(e){var t,o,l,d,h,p,f=i(e),g="function"==typeof this?this:Array,m=arguments.length,_=m>1?arguments[1]:void 0,y=void 0!==_,v=u(f),b=0;if(y&&(_=r(_,m>2?arguments[2]:void 0,2)),null==v||g==Array&&a(v))for(o=new g(t=s(f.length));t>b;b++)p=y?_(f[b],b):f[b],c(o,b,p);else for(h=(d=v.call(f)).next,o=new g;!(l=h.call(d)).done;b++)p=y?n(d,_,[l.value,b],!0):l.value,c(o,b,p);return o.length=b,o}},function(e,t,o){var r=o(12),i=o(21),n=o(209),a=o(29),s=Math.ceil,c=function(e){return function(t,o,c){var u,l,d=i(a(t)),h=d.length,p=void 0===c?" ":i(c),f=r(o);return f<=h||""==p?d:(u=f-h,(l=n.call(p,s(u/p.length))).length>u&&(l=l.slice(0,u)),e?d+l:l+d)}};e.exports={start:c(!1),end:c(!0)}},function(e,t,o){var r=o(7),i=o(239),n=o(9),a=o(13),s=o(288).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:n((function(){c(1)})),sham:!i},{freeze:function(e){return c&&a(e)?c(s(e)):e}})},function(e,t,o){var r=o(29),i=o(21),n="["+o(234)+"]",a=RegExp("^"+n+n+"*"),s=RegExp(n+n+"*$"),c=function(e){return function(t){var o=i(r(t));return 1&e&&(o=o.replace(a,"")),2&e&&(o=o.replace(s,"")),o}};e.exports={start:c(1),end:c(2),trim:c(3)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,o){"use strict";var r=o(7),i=o(9),n=o(73),a=o(13),s=o(19),c=o(12),u=o(106),l=o(117),d=o(87),h=o(11),p=o(62),f=h("isConcatSpreadable"),g=p>=51||!i((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),m=d("concat"),_=function(e){if(!a(e))return!1;var t=e[f];return void 0!==t?!!t:n(e)};r({target:"Array",proto:!0,forced:!g||!m},{concat:function(e){var t,o,r,i,n,a=s(this),d=l(a,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(_(n=-1===t?a:arguments[t])){if(h+(i=c(n.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(o=0;o<i;o++,h++)o in n&&u(d,h,n[o])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(d,h++,n)}return d.length=h,d}})},function(e,t,o){var r=o(9),i=o(11),n=o(53),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,o="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),o+=r+e})),n&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==o||"x"!==new URL("http://x",void 0).host}))},function(e,t,o){var r,i,n,a,s,c,u,l;e.exports=(l=o(34),o(207),o(208),i=(r=l).lib,n=i.Base,a=i.WordArray,s=r.algo,c=s.MD5,u=s.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var o=this.cfg,r=o.hasher.create(),i=a.create(),n=i.words,s=o.keySize,c=o.iterations;n.length<s;){u&&r.update(u);var u=r.update(e).finalize(t);r.reset();for(var l=1;l<c;l++)u=r.finalize(u),r.reset();i.concat(u)}return i.sigBytes=4*s,i}}),r.EvpKDF=function(e,t,o){return u.create(o).compute(e,t)},l.EvpKDF)},function(e,t,o){var r;e.exports=(r=o(34),o(237),void(r.lib.Cipher||function(e){var t=r,o=t.lib,i=o.Base,n=o.WordArray,a=o.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),u=t.algo.EvpKDF,l=o.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,o){this.cfg=this.cfg.extend(o),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:_}return function(t){return{encrypt:function(o,r,i){return e(r).encrypt(t,o,r,i)},decrypt:function(o,r,i){return e(r).decrypt(t,o,r,i)}}}}()}),d=(o.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),h=o.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=d.CBC=function(){var e=h.extend();function t(e,t,o){var r=this._iv;if(r){var i=r;this._iv=void 0}else i=this._prevBlock;for(var n=0;n<o;n++)e[t+n]^=i[n]}return e.Encryptor=e.extend({processBlock:function(e,o){var r=this._cipher,i=r.blockSize;t.call(this,e,o,i),r.encryptBlock(e,o),this._prevBlock=e.slice(o,o+i)}}),e.Decryptor=e.extend({processBlock:function(e,o){var r=this._cipher,i=r.blockSize,n=e.slice(o,o+i);r.decryptBlock(e,o),t.call(this,e,o,i),this._prevBlock=n}}),e}(),f=(t.pad={}).Pkcs7={pad:function(e,t){for(var o=4*t,r=o-e.sigBytes%o,i=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(i);var c=n.create(a,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(o.BlockCipher=l.extend({cfg:l.cfg.extend({mode:p,padding:f}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,o=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=o.createEncryptor;else r=o.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==r?this._mode.init(this,t&&t.words):(this._mode=r.call(o,this,t&&t.words),this._mode.__creator=r)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),o.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,o=e.salt;if(o)var r=n.create([1398893684,1701076831]).concat(o).concat(t);else r=t;return r.toString(c)},parse:function(e){var t=c.parse(e),o=t.words;if(1398893684==o[0]&&1701076831==o[1]){var r=n.create(o.slice(2,4));o.splice(0,4),t.sigBytes-=16}return g.create({ciphertext:t,salt:r})}},_=o.SerializableCipher=i.extend({cfg:i.extend({format:m}),encrypt:function(e,t,o,r){r=this.cfg.extend(r);var i=e.createEncryptor(o,r),n=i.finalize(t),a=i.cfg;return g.create({ciphertext:n,key:o,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,o,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(o,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,o,r){r||(r=n.random(8));var i=u.create({keySize:t+o}).compute(e,r),a=n.create(i.words.slice(t),4*o);return i.sigBytes=4*t,g.create({key:i,iv:a,salt:r})}},v=o.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:y}),encrypt:function(e,t,o,r){var i=(r=this.cfg.extend(r)).kdf.execute(o,e.keySize,e.ivSize);r.iv=i.iv;var n=_.encrypt.call(this,e,t,i.key,r);return n.mixIn(i),n},decrypt:function(e,t,o,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(o,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,_.decrypt.call(this,e,t,i.key,r)}})}()))},function(e,t,o){var r=o(9);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,o){var r;e.exports=(r=o(34),o(96),o(287),o(237),o(238),function(){var e=r,t=e.lib.BlockCipher,o=e.algo,i=[],n=[],a=[],s=[],c=[],u=[],l=[],d=[],h=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var o=0,r=0;for(t=0;t<256;t++){var f=r^r<<1^r<<2^r<<3^r<<4;f=f>>>8^255&f^99,i[o]=f,n[f]=o;var g=e[o],m=e[g],_=e[m],y=257*e[f]^16843008*f;a[o]=y<<24|y>>>8,s[o]=y<<16|y>>>16,c[o]=y<<8|y>>>24,u[o]=y,y=16843009*_^65537*m^257*g^16843008*o,l[f]=y<<24|y>>>8,d[f]=y<<16|y>>>16,h[f]=y<<8|y>>>24,p[f]=y,o?(o=g^e[e[e[_^g]]],r^=e[e[r]]):o=r=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],g=o.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,o=e.sigBytes/4,r=4*((this._nRounds=o+6)+1),n=this._keySchedule=[],a=0;a<r;a++)if(a<o)n[a]=t[a];else{var s=n[a-1];a%o?o>6&&a%o==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=f[a/o|0]<<24),n[a]=n[a-o]^s}for(var c=this._invKeySchedule=[],u=0;u<r;u++)a=r-u,s=u%4?n[a]:n[a-4],c[u]=u<4||a<=4?s:l[i[s>>>24]]^d[i[s>>>16&255]]^h[i[s>>>8&255]]^p[i[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,i)},decryptBlock:function(e,t){var o=e[t+1];e[t+1]=e[t+3],e[t+3]=o,this._doCryptBlock(e,t,this._invKeySchedule,l,d,h,p,n),o=e[t+1],e[t+1]=e[t+3],e[t+3]=o},_doCryptBlock:function(e,t,o,r,i,n,a,s){for(var c=this._nRounds,u=e[t]^o[0],l=e[t+1]^o[1],d=e[t+2]^o[2],h=e[t+3]^o[3],p=4,f=1;f<c;f++){var g=r[u>>>24]^i[l>>>16&255]^n[d>>>8&255]^a[255&h]^o[p++],m=r[l>>>24]^i[d>>>16&255]^n[h>>>8&255]^a[255&u]^o[p++],_=r[d>>>24]^i[h>>>16&255]^n[u>>>8&255]^a[255&l]^o[p++],y=r[h>>>24]^i[u>>>16&255]^n[l>>>8&255]^a[255&d]^o[p++];u=g,l=m,d=_,h=y}g=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&h])^o[p++],m=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[h>>>8&255]<<8|s[255&u])^o[p++],_=(s[d>>>24]<<24|s[h>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^o[p++],y=(s[h>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^o[p++],e[t]=g,e[t+1]=m,e[t+2]=_,e[t+3]=y},keySize:8});e.AES=t._createHelper(g)}(),r.AES)},function(e,t,o){var r;e.exports=(r=o(34),o(238),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},function(e,t,o){"use strict";o.d(t,"a",(function(){return q}));o(35),o(32),o(39),o(66),o(67),o(68),o(31),o(45),o(58),o(59),o(85),o(50),o(51),o(82);var r,i,n,a,s,c,u,l=o(14),d=(o(89),o(121),o(122),o(123),o(124),o(125),o(126),o(127),o(128),o(129),o(130),o(131),o(132),o(133),o(134),o(135),o(136),o(138),o(139),o(140),o(141),o(142),o(143),o(144),o(145),o(146),o(95),o(283),o(169)),h=o.n(d),p=(o(37),o(88),o(57),o(204),o(74),o(65),o(43),o(44),o(115),o(168),o(240)),f=o.n(p),g=o(203),m=o.n(g),_=o(96),y=o.n(_),v=o(241),b=o.n(v),w=o(34),S=o.n(w);!function(e){e[e.TXT=0]="TXT",e[e.MD=1]="MD",e[e.C=2]="C",e[e.CPP=3]="CPP",e[e.H=4]="H",e[e.HPP=5]="HPP",e[e.PY=6]="PY",e[e.JS=7]="JS",e[e.XML=8]="XML"}(r||(r={})),function(e){e[e.JPG=0]="JPG",e[e.JPEG=1]="JPEG",e[e.PNG=2]="PNG",e[e.BMP=3]="BMP",e[e.SVG=4]="SVG",e[e.HEIC=5]="HEIC"}(i||(i={})),function(e){e[e.PDF=0]="PDF"}(n||(n={})),function(e){e[e.XLSX=0]="XLSX",e[e.XLS=1]="XLS"}(a||(a={})),function(e){e[e.DOC=0]="DOC",e[e.DOCX=1]="DOCX"}(s||(s={})),function(e){e[e.PPT=0]="PPT",e[e.PPTX=1]="PPTX"}(c||(c={})),function(e){e[e.PPT=1]="PPT",e[e.DOC=2]="DOC",e[e.ELS=4]="ELS",e[e.PDF=8]="PDF",e[e.IMG=16]="IMG",e[e.TXT=32]="TXT",e[e.H5=64]="H5",e[e.H5PDF=128]="H5PDF",e[e.IMGAndPDF=256]="IMGAndPDF",e[e.PPTH5=512]="PPTH5",e[e.H5ZIP=4096]="H5ZIP"}(u||(u={}));var I=o(1),x=o(2),E=x.b.bind(null,"docs.s."),P=m.a.parse("89c78c018ed563571a3024342073c002"),T=m.a.parse("0d9d89c53bd0a086834b411fe8387946"),D={},O=function(e){return e&&!isNaN(e)&&/^[1-9]\d*$/.test(String(e))},M=function(e){var t=I.c.ZegoDocsViewFileTypeUnknown,o=("string"==typeof e?e:e.name).split(".").pop();switch(o?o.toUpperCase():o){case"XLSX":case"XLS":t=I.c.ZegoDocsViewFileTypeELS;break;case"DOC":case"DOCX":t=I.c.ZegoDocsViewFileTypeDOC;break;case"PPT":case"PPTX":t=I.c.ZegoDocsViewFileTypePPT;break;case"TXT":case"MD":case"C":case"CPP":case"H":case"HPP":case"PY":case"JS":case"XML":t=I.c.ZegoDocsViewFileTypeTXT;break;case"PDF":t=I.c.ZegoDocsViewFileTypePDF;break;case"JPG":case"JPEG":case"PNG":case"BMP":case"SVG":case"HEIC":t=I.c.ZegoDocsViewFileTypeIMG;break;case"ZIP":t=I.c.ZegoDocsViewFileTypeCustomH5}return t};var A=function(e){var t=function(e){for(var t=e.length,o=[],r=0;r<t;r++)o[r>>>2]|=(255&e[r])<<24-r%4*8;return S.a.lib.WordArray.create(o,t)}(e).toString(y.a);return function(e){for(var t=e.words,o=e.sigBytes,r=new Uint8Array(o),i=0;i<o;i++){var n=t[i>>>2]>>>24-i%4*8&255;r[i]=n}return r}(f.a.decrypt(t,P,{iv:T,mode:S.a.mode.CBC,padding:b.a}))};function C(e,t,o){var r,i=D;if(e&&t.length){i[e]=1;var n=(t.findIndex((function(t){return t===e}))+1)%t.length;if(!i[t[n]]){var a=t[n],s=new XMLHttpRequest;if(s.open("GET",a+"/"+o,!1),s.onreadystatechange=function(){if(4==s.readyState)if(200!=s.status){r=!1;var e={status:s.status,src:a+o};x.a.info(E("preload_h5_cdn"),JSON.stringify(e))}else r=!0},s.send(null),!r)return!1}return!0}return!1}var L=o(107),B=function(){function e(){this.axiosInstance=h.a.create({timeout:3e4}),this.getFileName=function(e){return e.name}}return e.prototype.getMd5=function(e){return Object(L.a)(e)},e.prototype.getFileSize=function(e){return Promise.resolve(e.size)},e.prototype.request=function(e){return this.axiosInstance(e)},e.prototype.decryptImage=function(e){return this.request({url:e,method:"get",timeout:3e4,responseType:"arraybuffer"}).then((function(e){var t=new Uint8Array(e.data),o=A(t.slice(0,1024));return URL.createObjectURL(new Blob([o,t.slice(1024)],{type:"image/jpg"}))}))},e.prototype.uploadDoc=function(e,t,o){var r=e.fileServerProvider;return"oss"===r?this.uploadDocToOss(e,t):"sfs"===r?this.uploadDocToSfs(e,o):Promise.reject(Object(l.b)(I.b.ZegoDocsViewErrorParamInvalid))},e.prototype.uploadH5File=function(e,t,o,r){var i=e.name,n={app_id:r.app_id,user_id:r.id_name,platform:r.platform,web_token:r.web_token,file_name:i,file_type:I.c.ZegoDocsViewFileTypeCustomH5,width:t.width,height:t.height,page_count:t.pageCount};t.thumbnailList&&t.thumbnailList.length&&(n.thumbnails=t.thumbnailList);var a=new FormData;return a.append("req",new Blob([JSON.stringify(n)],{type:"application/json"})),a.append("document",e),this.axiosInstance({method:"post",url:r.url,data:a,timeout:36e5,onUploadProgress:function(e){if(o){var t=e.total,r=e.loaded;o({fileName:i,uploadPercent:Math.floor(r/t*100),total:t,loaded:r})}}})},e.prototype.uploadDocToOss=function(e,t){var o=e.oss,r=e.file,i=e.onProgress,n=e.fileName,a=e.fileHash,s=Object(L.b)(o),c=new FormData;return c.append("OSSAccessKeyId",s.OSSAccessKeyId),c.append("x-oss-security-token",s.securityToken),c.append("signature",s.signature),c.append("policy",s.policy),c.append("successActionStatus",s.successActionStatus),c.append("key",s.objectName),c.append("file",r),c.append("name",r.name),this.axiosInstance({method:"post",url:s.url,data:c,timeout:36e5,onUploadProgress:function(e){if(i&&!t){var o=e.total,r=e.loaded;i({status:I.e.UPLOADING,fileName:n,fileHash:a,uploadPercent:Math.floor(r/o*100),total:o,loaded:r})}}})},e.prototype.uploadDocToSfs=function(e,t){var o=e.sfs,r=e.fileHash,i=e.file,n=e.onProgress,a=e.fileName,s=o,c=s.token,u=s.expired_timestamp,l=s.api,d=s.object_name,h={app_id:t.app_id,user_id:t.id_name,platform:t.platform,expired_timestamp:u,sfs_token:c,file_name:d,file_hash:r},p=new FormData;return p.append("req",new Blob([JSON.stringify(h)],{type:"application/json"})),p.append("document",i),this.axiosInstance({method:"post",url:l,data:p,timeout:36e5,onUploadProgress:function(e){if(n){var t=e.total,o=e.loaded;n({status:I.e.UPLOADING,fileName:a,fileHash:r,uploadPercent:Math.floor(o/t*100),total:t,loaded:o})}}})},e}(),N=function(){return(N=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},V=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},k=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},H=x.b.bind(null,"docs.s."),j=-1!=="".indexOf("wx")?"wx":"web",z=-1!=="".indexOf("private"),q=function(){function e(e){if(this.commonParams={platform:"wx"===j?16:32,app_id:0,web_token:"",id_name:""},this.stateCenter={env:"",cancelMap:{},preloadPPTH5CDNUsedMap:{}},!e||!e.appID||isNaN(e.appID)||!e.token)throw new Error("constructor parameter error.");this.platformAPI=new B,this.init(e),x.a.init({appid:e.appID,isTestEnv:!!e.isTestEnv,version:this.getVersion(),isProd:!0}),x.a.initRoom({roomid:"",userid:e.userID,token:e.token}),x.a.info(H("new"),JSON.stringify({params:e}))}return e.prototype.init=function(e){var t=e.token,o=e.appID,r=e.userID,i=e.isTestEnv;this.commonParams.app_id=o,this.commonParams.web_token=t,this.commonParams.id_name=r||"",this.config={domain:z?"":this.getDomain("")},this.setTestEnv(!!i)},e.prototype.getDomain=function(e){return"https://docservice"+e+".zego.im"},e.prototype.isInvalidDomain=function(){return!this.stateCenter.env&&!this.config.domain},e.prototype.getVersion=function(){return"2.0.0"},e.prototype.setTestEnv=function(e){"boolean"==typeof e&&(this.stateCenter.env=e?"-test":"");var t=this.stateCenter.env?this.getDomain(this.stateCenter.env):this.config.domain;this.requestUrls={queryStatusUrl:t+"/doc/query_status",createCvtUrl:t+"/doc/cvt_doc",cancelCvtUrl:t+"/doc/cancel_cvt",queryUrl:t+"/doc/access",uploadH5Url:t+"/doc/upload_file"}},e.prototype.setConfig=function(e,t){return!(!e||null==t)&&(["dynamicPPT_HD","dynamicPPT_AutomaticPage",I.a.Domain,I.a.ThumbnailMode].includes(e)?(this.config[e]=t,e===I.a.Domain&&this.setTestEnv()):(this.stateCenter.env="true"===t||!0===t?"-alpha":"-test",this.setTestEnv()),!0)},e.prototype.getConfig=function(e){return this.config[e]},e.prototype.decryptImage=function(e){return this.platformAPI.decryptImage(e)},e.prototype.uploadH5File=function(e,t,o){return V(this,void 0,void 0,(function(){var r,i,n,a,s,c,d,h=this;return k(this,(function(p){switch(p.label){case 0:if(!e||!t||!O(t.width)||!O(t.height)||!O(t.pageCount)||t.thumbnailList&&t.thumbnailList.length&&t.thumbnailList.length!==t.pageCount)return[2,Promise.reject(Object(l.b)(I.b.ZegoDocsViewErrorParamInvalid))];p.label=1;case 1:return p.trys.push([1,5,,6]),(r=M(e))!=I.c.ZegoDocsViewFileTypeCustomH5?[2,Promise.reject(Object(l.b)(I.b.ZegoDocsViewErrorZipFileInvalid))]:[4,this.platformAPI.getFileSize(e)];case 2:return i=p.sent(),this.checkSizeHandle(r,i)?[4,this.platformAPI.getMd5(e)]:[2,Promise.reject(Object(l.b)(I.b.ZegoDocsViewErrorFileSizeLimit))];case 3:return n=p.sent(),[4,this.queryStatus({fileHash:n,fileType:r,expectFileType:u.H5ZIP})];case 4:return a=p.sent(),(s=a.fileID)?[2,Promise.resolve(s)]:[3,6];case 5:return c=p.sent(),d=Object(l.b)(I.b.ZegoDocsViewErrorUploadFailed),[2,Promise.reject(N(N({},d),{error:c}))];case 6:return[2,this.platformAPI.uploadH5File(e,t,o,N(N({},this.commonParams),{url:this.requestUrls.uploadH5Url})).then((function(o){var r,i=o.data;x.a.info(H("uploadH5File"),JSON.stringify({params:t,file:h.platformAPI.getFileName(e),result:i}));var n=null===(r=i.ret)||void 0===r?void 0:r.code;return 0===n?i.file_id:Promise.reject(Object(l.b)(n))})).catch((function(e){var t;throw 413===(null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.status)?Object(l.b)(I.b.ZegoDocsViewErrorFileSizeLimit):e}))]}}))}))},e.prototype.uploadFile=function(e){return!e.file||"number"!=typeof e.renderType||isNaN(e.renderType)?Promise.reject(Object(l.b)(I.b.ZegoDocsViewErrorParamInvalid)):e.file instanceof File&&0===e.file.size?Promise.reject(Object(l.b)(I.b.ZegoDocsViewErrorFileContentEmpty)):this.isInvalidDomain()?Promise.reject(Object(l.b)(I.b.ZegoDocsViewErrorEmptyDomain)):this.uploadProgress(e).then((function(t){return x.a.info(H("uploadFile"),JSON.stringify({params:e,result:t})),t}))},e.prototype.loadFile=function(e){var t=this;return this.isInvalidDomain()?Promise.reject(Object(l.b)(I.b.ZegoDocsViewErrorEmptyDomain)):e?new Promise((function(o,r){return V(t,void 0,void 0,(function(){var t,i,n,a;return k(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),t=N(N({},this.commonParams),{file_id:e}),[4,this.platformAPI.request({url:this.requestUrls.queryUrl,method:"post",timeout:3e4,data:t})];case 1:return i=s.sent(),0===(n=i.data).ret.code?(n.file_urls=n.file_urls||[],n.page_count=n.page_count||n.file_urls.length||1,o(function(e,t){var o=I.c.ZegoDocsViewFileTypeDynamicPPTH5,r=t.file_type,i=t.expect_file_type,n=t.file_name,a=t.width,s=t.height,c=t.split_file_list,u=t.file_urls,l=i===o?o:r,d=l===I.c.ZegoDocsViewFileTypeELS,h={file_id:e,file_name:n,file_type:l,width:a,height:s,file_size:t.file_size,file_hash:t.file_hash,expect_file_type:i,file_urls:u,notes:t.notes||[],thumbnails:t.thumbnails||[],cdn_hosts:t.cdn_hosts||[],preload:t.preload||[]};if(c){var p=1;h.file_list=c.map((function(e){var o={};if(d){var r=Math.floor(e.width),i=Math.floor(e.height);o.name=n,o.file_name=e.file_name.replace(/\.[a-zA-Z]+$/,""),o.page_count=e.file_urls.length,o.page_list=e.file_urls.map((function(e,t){return{width:r,height:i,src:e,virtual_page_list:[{width:r,height:i,virtual_page_number:t+p}]}})),p+=e.file_urls.length}else{var a=0,s=[];e.split_data.forEach((function(e){e.page_data.forEach((function(e){for(var t=Math.floor(e[0]),o=Math.floor(e[1]),r=e[3],i=0;i<r;i++)s.push({width:t,height:o,src:u[a++],virtual_page_list:[{width:t,height:o,virtual_page_number:a}]})}))})),o.file_name=n,o.page_count=t.page_count,o.page_list=s}return o}))}else h.file_list=[{file_name:n,page_count:t.page_count,page_list:u.map((function(e,t){return{width:a,height:s,src:e,virtual_page_list:[{width:a,height:s,virtual_page_number:t+1}]}}))}];return h}(e,n))):r(Object(l.b)(n.ret.code,n.ret.message)),[3,3];case 2:return a=s.sent(),r(a),[3,3];case 3:return[2]}}))}))})):Promise.reject(Object(l.b)(I.b.ZegoDocsViewErrorParamInvalid))},e.prototype.cacheFile=function(e){var t=this;return this.isInvalidDomain()?Promise.reject(Object(l.b)(I.b.ZegoDocsViewErrorEmptyDomain)):e?new Promise((function(o,r){return V(t,void 0,void 0,(function(){var t,i,n,a,s;return k(this,(function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),t=N(N({},this.commonParams),{file_id:e}),[4,this.platformAPI.request({url:this.requestUrls.queryUrl,method:"post",timeout:3e4,data:t})];case 1:return i=c.sent(),0!==(n=i.data).ret.code?[3,3]:[4,(u=n,new Promise((function(e,t){if(u.expect_file_type!==I.c.ZegoDocsViewFileTypeDynamicPPTH5&&u.expect_file_type!==I.c.ZegoDocsViewFileTypeCustomH5||!u.preload)t(Object(l.b)(I.b.ZegoDocsViewErrorCacheNotSupported));else{u.preload.slide_files||e({totalFileNum:0,failedFileNum:0});var o=0,r=0,i=u.file_urls[0].replace("index.html",""),n=u.cdn_hosts.reverse();u.preload.slide_files.forEach((function(e){for(var t in e)e[t].forEach((function(e){var t=new XMLHttpRequest;t.open("GET",i+e.rel,!1),t.onreadystatechange=function(){if(4==t.readyState&&(o++,200!=t.status)){var a={status:t.status,src:i+e.rel};x.a.info(E("preload_h5"),JSON.stringify(a)),!C(i,n,e.rel)&&r++}},t.send(null)}))})),e({totalFileNum:o,failedFileNum:r})}})))];case 2:return a=c.sent(),o(a),[3,4];case 3:r(Object(l.b)(n.ret.code,n.ret.message)),c.label=4;case 4:return[3,6];case 5:return s=c.sent(),r(s),[3,6];case 6:return[2]}var u}))}))})):Promise.reject(Object(l.b)(I.b.ZegoDocsViewErrorParamInvalid))},e.prototype.cancelUploadFile=function(e){var t=this,o=e.fileHash,r=e.taskID;return new Promise(r?function(i,n){return V(t,void 0,void 0,(function(){var t,a,s,c;return k(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),t=N(N({},this.commonParams),{task_id:r}),[4,this.platformAPI.request({url:this.requestUrls.cancelCvtUrl,method:"post",timeout:3e4,data:t})];case 1:return a=u.sent(),0===(s=a.data).ret.code?(this.stateCenter.cancelMap[o]=r,x.a.info(H("cancelUploadFile"),JSON.stringify({result:e})),i(!0)):n(Object(l.b)(s.ret.code,s.ret.message)),[3,3];case 2:return c=u.sent(),n(c),[3,3];case 3:return[2]}}))}))}:function(e,r){t.stateCenter.cancelMap[o]=!0,e(!0)})},e.prototype.uploadSucceedAfter=function(e){var t=e.result,o=e.onProgress,r=e.resolve;o&&o(t),r&&r(t.fileID)},e.prototype.uploadFailedAfter=function(e,t){e&&e(t)},e.prototype.uploadProgressInit=function(e){return V(this,void 0,void 0,(function(){var t,o,r,i,n,a,s,c,u;return k(this,(function(l){switch(l.label){case 0:return t=e.statusInitSub,o=e.file,r=e.fileName,i=e.onProgress,a=(n=t).oss,s=n.fileServerProvider,c=n.fileHash,u=n.sfs,this.stateCenter.cancelMap[c]?(i&&i({status:I.e.CONVERT_CANCEL,fileName:r,fileHash:c}),this.stateCenter.cancelMap[c]=!1,[2,!1]):[4,this.platformAPI.uploadDoc({file:o,fileServerProvider:s,oss:a,sfs:u,fileHash:c,fileName:r,onProgress:i},this.stateCenter.cancelMap[c],this.commonParams)];case 1:return l.sent(),i&&i({status:I.e.UPLOADED,fileName:r,fileHash:c}),[4,this.uploadProgressCvt(e)];case 2:return l.sent(),[2,!0]}}))}))},e.prototype.uploadProgressCvt=function(e){return V(this,void 0,void 0,(function(){var t,o,r,i,n,a,s,c,u,l,d,h,p,f,g;return k(this,(function(m){switch(m.label){case 0:return t=e.file,o=e.onProgress,r=e.fileType,i=e.fileHash,n=e.fileName,a=e.originReslove,s=e.resolve,c=e.expectFileType,u=e.originReject,l=e.reject,d=this.stateCenter.cancelMap[i],o&&o({status:d?I.e.CONVERT_CANCEL:I.e.UPLOADED,fileName:n,fileHash:i}),d?(this.stateCenter.cancelMap[i]=!1,[2,!1]):(p=this.createCvtDoc,f={},[4,this.platformAPI.getFileSize(t)]);case 1:return[4,p.apply(this,[(f.fileSize=m.sent(),f.fileName=this.platformAPI.getFileName(t),f.fileType=r,f.fileHash=i,f.expectFileType=c,f)])];case 2:return h=m.sent(),g={fileName:n,fileHash:i,taskID:h.taskID,onProgress:o},[4,this.uploadProgress(g,a||s,u||l)];case 3:return m.sent(),[2,!0]}}))}))},e.prototype.checkTypeHandle=function(e){return e!==I.c.ZegoDocsViewFileTypeUnknown},e.prototype.checkRenderTypeHandle=function(e,t){return(t!=I.d.ZegoDocsViewRenderTypeVectorAndIMG&&t!=I.d.ZegoDocsViewRenderTypeIMG||e!=I.c.ZegoDocsViewFileTypeCustomH5)&&(t!=I.d.ZegoDocsViewRenderTypeDynamicPPTH5||e===I.c.ZegoDocsViewFileTypePPT)},e.prototype.checkSizeHandle=function(e,t){var o=!0;switch(e){case I.c.ZegoDocsViewFileTypePPT:case I.c.ZegoDocsViewFileTypeDOC:case I.c.ZegoDocsViewFileTypePDF:case I.c.ZegoDocsViewFileTypeIMG:t>104857600&&(o=!1);break;case I.c.ZegoDocsViewFileTypeELS:t>10485760&&(o=!1);break;case I.c.ZegoDocsViewFileTypeTXT:t>2097152&&(o=!1);break;case I.c.ZegoDocsViewFileTypeCustomH5:t>52428800&&(o=!1)}return o},e.prototype.uploadProgress=function(e,t,o){var r=this;return new Promise((function(i,n){return V(r,void 0,void 0,(function(){var r,a,s,c,d,h,p,f,g,m,_,y,v,b,w=this;return k(this,(function(S){switch(S.label){case 0:r="",a="",s=0,c=I.c.ZegoDocsViewFileTypeUnknown,S.label=1;case 1:return S.trys.push([1,19,,20]),h=(d=e).file,p=d.renderType,f=void 0,g=u.PDF,h?I.d[p]?(c=M(h),this.checkTypeHandle(c)?this.checkRenderTypeHandle(c,p)?[4,this.platformAPI.getFileSize(h)]:[2,n(Object(l.b)(I.b.ZegoDocsViewErrorUnsupportRenderType))]:[2,n(Object(l.b)(I.b.ZegoDocsViewErrorConvertFileTypeInvalid))]):[2,n(Object(l.b)(I.b.ZegoDocsViewErrorUnsupportRenderType))]:[3,5];case 2:return s=S.sent(),this.checkSizeHandle(c,s)?(a=this.platformAPI.getFileName(h),g=function(e,t){var o;switch(e){case I.d.ZegoDocsViewRenderTypeVector:o=u.PDF;break;case I.d.ZegoDocsViewRenderTypeIMG:case I.d.ZegoDocsViewRenderTypeVectorAndIMG:o=t===I.c.ZegoDocsViewFileTypeIMG?u.IMG:u.IMGAndPDF;break;case I.d.ZegoDocsViewRenderTypeDynamicPPTH5:o=u.PPTH5;break;default:o=u.IMGAndPDF}return o}(p,c),[4,this.platformAPI.getMd5(h)]):[2,n(Object(l.b)(I.b.ZegoDocsViewErrorFileSizeLimit))];case 3:return r=S.sent(),[4,this.queryStatus({fileHash:r,fileType:c,expectFileType:g})];case 4:return f=S.sent(),[3,7];case 5:return a=(m=e).fileName,r=m.fileHash,[4,this.queryStatus({taskID:m.taskID})];case 6:f=S.sent(),S.label=7;case 7:switch(_=f.status,_){case I.e.UPLOADING:return[3,8];case I.e.UPLOADED:return[3,10];case I.e.WAITING:case I.e.CONVERTING:return[3,12];case I.e.CONVERTED:return[3,16]}return[3,17];case 8:return[4,this.uploadProgressInit({file:h,expectFileType:g,fileType:c,fileHash:r,fileName:a,statusInitSub:f,onProgress:e.onProgress,originReslove:t,resolve:i,originReject:o,reject:n})];case 9:return S.sent(),[3,18];case 10:return[4,this.uploadProgressCvt({file:h,expectFileType:g,fileType:c,fileHash:r,fileName:a,onProgress:e.onProgress,originReslove:t,resolve:i,originReject:o,reject:n})];case 11:return S.sent(),[3,18];case 12:return y=this.stateCenter.cancelMap[r],v=f.taskID,e.onProgress&&e.onProgress({status:y?I.e.CONVERT_CANCEL:_,fileName:a,fileHash:r,taskID:v}),y?(this.stateCenter.cancelMap[r]=!1,[4,this.cancelUploadFile({fileHash:r,taskID:v})]):[3,14];case 13:return S.sent(),[3,15];case 14:setTimeout((function(){return V(w,void 0,void 0,(function(){return k(this,(function(s){switch(s.label){case 0:return[4,this.uploadProgress({taskID:v,fileName:a,fileHash:r,onProgress:e.onProgress},t||i,o||n)];case 1:return s.sent(),[2]}}))}))}),2e3),S.label=15;case 15:return[3,18];case 16:return this.uploadSucceedAfter({result:{status:f.status,fileID:f.fileID,fileName:a,fileHash:r},onProgress:e.onProgress,resolve:t||i}),[3,18];case 17:return this.uploadFailedAfter(o||n,N({status:_,taskID:v},Object(l.b)(I.b.ZegoDocsViewErrorConvertFail))),[3,18];case 18:return[3,20];case 19:return b=S.sent(),this.uploadFailedAfter(o||n,N(N({status:I.e.CONVERT_FAIL},Object(l.b)(b&&b.code||I.b.ZegoDocsViewErrorConvertFail)),{error:b})),[3,20];case 20:return[2]}}))}))}))},e.prototype.queryStatus=function(e){var t=this,o=N({},this.commonParams);if(e.taskID)o.task_id=e.taskID;else{var r=e,i=r.fileHash,n=r.fileType,a=r.expectFileType;o.file_hash=i,o.file_type=n,o.expect_file_type=a}return new Promise((function(r,i){return V(t,void 0,void 0,(function(){var t,n,a,s,c,u,d,h,p,f,g,m,_;return k(this,(function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,this.platformAPI.request({url:this.requestUrls.queryStatusUrl,method:"post",timeout:e.timeout||3e4,data:o})];case 1:if(t=y.sent(),n=t.data,a=n.ret,s=n.file_type,c=n.status,u=n.file_hash,d=n.file_server_provider,h=n.oss,p=n.sfs,f=n.task_id,g=n.query_interval,m=n.file_id,0===a.code)switch(c){case 32:case 64:case 128:case 256:case 512:case 1024:case 8192:case 32768:case 32769:i(Object(l.b)(c));break;case 1:r({fileType:s,status:c,fileHash:u,fileServerProvider:d,oss:h,sfs:p});break;case 2:r({fileType:s,status:c,fileHash:u});break;case 4:r({fileType:s,status:c,taskID:f,queryInterval:g||1e3});break;case 8:r({fileType:s,status:c,taskID:f});break;case 16:r({fileID:m,status:c});break;default:i(Object(l.b)(I.b.ZegoDocsViewErrorConvertFail))}else i(Object(l.b)(n.ret.code,n.ret.message));return[3,3];case 2:return _=y.sent(),i(_),[3,3];case 3:return[2]}}))}))}))},e.prototype.getCvtH5HighQualityMode=function(){return"true"===String(this.config.dynamicPPT_HD)},e.prototype.getCvtThumbnailMode=function(){return+this.config.thumbnailMode||1},e.prototype.getCvtH5AutomaticPageMode=function(){var e=this.config.dynamicPPT_AutomaticPage;return null==e||"true"===String(e)?2:1},e.prototype.createCvtDoc=function(e){var t=this,o=e.timeout,r=e.srcFileUrl,i=e.fileName,n=e.fileHash,a=e.fileSize,s=e.fileType,c=e.expectFileType,u=N(N({},this.commonParams),{file_name:i,file_hash:n,file_size:a,file_type:s,expect_file_type:c}),d=this.getCvtThumbnailMode();1!=d&&(u.thumbnail_height_type=d);var h=this.getCvtH5HighQualityMode();h&&(u.export_high_quality_images=h);var p=this.getCvtH5AutomaticPageMode();return 2!=p&&(u.h5_automatic_page_turning=p),r&&(u.src_file_url=r),new Promise((function(e,r){return V(t,void 0,void 0,(function(){var t,i,n;return k(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.platformAPI.request({url:this.requestUrls.createCvtUrl,method:"post",timeout:o||3e4,data:u})];case 1:return t=a.sent(),i=t.data,0===i.ret.code?e({status:i.status,taskID:i.task_id}):r(Object(l.b)(i.ret.code,i.ret.message)),[3,3];case 2:return n=a.sent(),r(n),[3,3];case 3:return[2]}}))}))}))},e}()},function(e,t,o){var r=o(6);e.exports=r.Promise},function(e,t,o){var r=o(15),i=o(109),n=o(12),a=o(63),s=o(84),c=o(188),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,o){var l,d,h,p,f,g,m,_=o&&o.that,y=!(!o||!o.AS_ENTRIES),v=!(!o||!o.IS_ITERATOR),b=!(!o||!o.INTERRUPTED),w=a(t,_,1+y+b),S=function(e){return l&&c(l),new u(!0,e)},I=function(e){return y?(r(e),b?w(e[0],e[1],S):w(e[0],e[1])):b?w(e,S):w(e)};if(v)l=e;else{if("function"!=typeof(d=s(e)))throw TypeError("Target is not iterable");if(i(d)){for(h=0,p=n(e.length);p>h;h++)if((f=I(e[h]))&&f instanceof u)return f;return new u(!1)}l=d.call(e)}for(g=l.next;!(m=g.call(l)).done;){try{f=I(m.value)}catch(e){throw c(l),e}if("object"==typeof f&&f&&f instanceof u)return f}return new u(!1)}},function(e,t,o){var r,i,n,a,s,c,u,l,d=o(6),h=o(52).f,p=o(189).set,f=o(190),g=o(246),m=o(247),_=o(114),y=d.MutationObserver||d.WebKitMutationObserver,v=d.document,b=d.process,w=d.Promise,S=h(d,"queueMicrotask"),I=S&&S.value;I||(r=function(){var e,t;for(_&&(e=b.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():n=void 0,e}}n=void 0,e&&e.enter()},f||_||m||!y||!v?!g&&w&&w.resolve?((u=w.resolve(void 0)).constructor=w,l=u.then,a=function(){l.call(u,r)}):a=_?function(){b.nextTick(r)}:function(){p.call(d,r)}:(s=!0,c=v.createTextNode(""),new y(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=I||function(e){var t={fn:e,next:void 0};n&&(n.next=t),i||(i=t,a()),n=t}},function(e,t,o){var r=o(36),i=o(6);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},function(e,t,o){var r=o(36);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,o){var r=o(15),i=o(13),n=o(191);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var o=n.f(e);return(0,o.resolve)(t),o.promise}},function(e,t,o){var r=o(6);e.exports=function(e,t){var o=r.console;o&&o.error&&(1===arguments.length?o.error(e):o.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t){e.exports="object"==typeof window},function(e,t,o){var r=o(15),i=o(188);e.exports=function(e,t,o,n){try{return n?t(r(o)[0],o[1]):t(o)}catch(t){throw i(e),t}}},function(e,t,o){"use strict";var r=o(26),i=o(192),n=o(254),a=o(198);function s(e){var t=new n(e),o=i(n.prototype.request,t);return r.extend(o,n.prototype,t),r.extend(o,t),o}var c=s(o(195));c.Axios=n,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=o(199),c.CancelToken=o(268),c.isCancel=o(194),c.all=function(e){return Promise.all(e)},c.spread=o(269),e.exports=c,e.exports.default=c},function(e,t,o){"use strict";var r=o(26),i=o(193),n=o(255),a=o(256),s=o(198);function c(e){this.defaults=e,this.interceptors={request:new n,response:new n}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],o=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)o=o.then(t.shift(),t.shift());return o},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,o){return this.request(r.merge(o||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,o,i){return this.request(r.merge(i||{},{method:e,url:t,data:o}))}})),e.exports=c},function(e,t,o){"use strict";var r=o(26);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,o){"use strict";var r=o(26),i=o(257),n=o(194),a=o(195);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return n(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,o){"use strict";var r=o(26);e.exports=function(e,t,o){return r.forEach(o,(function(o){e=o(e,t)})),e}},function(e,t){var o,r,i=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===n||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:n}catch(e){o=n}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=s(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];u.push(new f(e,t)),1!==u.length||l||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,o){"use strict";var r=o(26);e.exports=function(e,t){r.forEach(e,(function(o,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=o,delete e[r])}))}},function(e,t,o){"use strict";var r=o(197);e.exports=function(e,t,o){var i=o.config.validateStatus;!i||i(o.status)?e(o):t(r("Request failed with status code "+o.status,o.config,null,o.request,o))}},function(e,t,o){"use strict";e.exports=function(e,t,o,r,i){return e.config=t,o&&(e.code=o),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,o){"use strict";var r=o(263),i=o(264);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,o){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,o){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,o){"use strict";var r=o(26),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,o,n,a={};return e?(r.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=r.trim(e.substr(0,n)).toLowerCase(),o=r.trim(e.substr(n+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([o]):a[t]?a[t]+", "+o:o}})),a):a}},function(e,t,o){"use strict";var r=o(26);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function i(e){var r=e;return t&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return e=i(window.location.href),function(t){var o=r.isString(t)?i(t):t;return o.protocol===e.protocol&&o.host===e.host}}():function(){return!0}},function(e,t,o){"use strict";var r=o(26);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,o,i,n,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(n)&&s.push("domain="+n),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,o){"use strict";var r=o(199);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var o=this;e((function(e){o.reason||(o.reason=new r(e),t(o.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,o){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,o){var r=o(19),i=Math.floor,n="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,o,c,u,l){var d=o+e.length,h=c.length,p=s;return void 0!==u&&(u=r(u),p=a),n.call(l,p,(function(r,n){var a;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,o);case"'":return t.slice(d);case"<":a=u[n.slice(1,-1)];break;default:var s=+n;if(0===s)return r;if(s>h){var l=i(s/10);return 0===l?r:l<=h?void 0===c[l-1]?n.charAt(1):c[l-1]+n.charAt(1):r}a=c[s-1]}return void 0===a?"":a}))}},function(e,t,o){var r=o(7),i=o(272);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},function(e,t,o){"use strict";var r=o(9),i=o(231).start,n=Math.abs,a=Date.prototype,s=a.getTime,c=a.toISOString;e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=c.call(new Date(-50000000000001))}))||!r((function(){c.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),o=e<0?"-":e>9999?"+":"";return o+i(n(e),o?6:4,0)+"-"+i(this.getUTCMonth()+1,2,0)+"-"+i(this.getUTCDate(),2,0)+"T"+i(this.getUTCHours(),2,0)+":"+i(this.getUTCMinutes(),2,0)+":"+i(this.getUTCSeconds(),2,0)+"."+i(t,3,0)+"Z"}:c},function(e,t,o){o(7)({target:"Object",stat:!0},{setPrototypeOf:o(48)})},function(e,t,o){o(7)({target:"Object",stat:!0,sham:!o(17)},{create:o(42)})},function(e,t,o){"use strict";var r=o(7),i=o(292);r({target:"String",proto:!0,forced:o(293)("bold")},{bold:function(){return i(this,"b","","")}})},function(e,t,o){"use strict";var r=o(7),i=o(292);r({target:"String",proto:!0,forced:o(293)("italics")},{italics:function(){return i(this,"i","","")}})},function(e,t,o){e.exports=function(e,t){var o,r,i,n,a,s,c,u;for(o=3&e.length,r=e.length-o,i=t,a=3432918353,s=461845907,u=0;u<r;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(n=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(n>>>16)&65535)<<16);switch(c=0,o){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}},function(e,t){e.exports=r;var o=null;try{o=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,o){this.low=0|e,this.high=0|t,this.unsigned=!!o}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var n={},a={};function s(e,t){var o,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(o=u(e,(0|e)<0?-1:0,!0),i&&(a[e]=o),o):(i=-128<=(e|=0)&&e<128)&&(r=n[e])?r:(o=u(e,e<0?-1:0,!1),i&&(n[e]=o),o)}function c(e,t){if(isNaN(e))return t?y:_;if(t){if(e<0)return y;if(e>=f)return I}else{if(e<=-g)return x;if(e+1>=g)return S}return e<0?c(-e,t).neg():u(e%p|0,e/p|0,t)}function u(e,t,o){return new r(e,t,o)}r.fromInt=s,r.fromNumber=c,r.fromBits=u;var l=Math.pow;function d(e,t,o){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return _;if("number"==typeof t?(o=t,t=!1):t=!!t,(o=o||10)<2||36<o)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return d(e.substring(1),t,o).neg();for(var i=c(l(o,8)),n=_,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+s),o);if(s<8){var h=c(l(o,s));n=n.mul(h).add(c(u))}else n=(n=n.mul(i)).add(c(u))}return n.unsigned=t,n}function h(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?d(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=d,r.fromValue=h;var p=4294967296,f=p*p,g=f/2,m=s(1<<24),_=s(0);r.ZERO=_;var y=s(0,!0);r.UZERO=y;var v=s(1);r.ONE=v;var b=s(1,!0);r.UONE=b;var w=s(-1);r.NEG_ONE=w;var S=u(-1,2147483647,!1);r.MAX_VALUE=S;var I=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=I;var x=u(0,-2147483648,!1);r.MIN_VALUE=x;var E=r.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=c(e),o=this.div(t),r=o.mul(t).sub(this);return o.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=c(l(e,6),this.unsigned),n=this,a="";;){var s=n.div(i),u=(n.sub(s.mul(i)).toInt()>>>0).toString(e);if((n=s).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(e){return i(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(e){if(i(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),o=e.isNegative();return t&&!o?-1:!t&&o?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(v)},E.neg=E.negate,E.add=function(e){i(e)||(e=h(e));var t=this.high>>>16,o=65535&this.high,r=this.low>>>16,n=65535&this.low,a=e.high>>>16,s=65535&e.high,c=e.low>>>16,l=0,d=0,p=0,f=0;return p+=(f+=n+(65535&e.low))>>>16,d+=(p+=r+c)>>>16,l+=(d+=o+s)>>>16,l+=t+a,u((p&=65535)<<16|(f&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},E.subtract=function(e){return i(e)||(e=h(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return _;if(i(e)||(e=h(e)),o)return u(o.mul(this.low,this.high,e.low,e.high),o.get_high(),this.unsigned);if(e.isZero())return _;if(this.eq(x))return e.isOdd()?x:_;if(e.eq(x))return this.isOdd()?x:_;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return c(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,a=65535&this.low,s=e.high>>>16,l=65535&e.high,d=e.low>>>16,p=65535&e.low,f=0,g=0,y=0,v=0;return y+=(v+=a*p)>>>16,g+=(y+=n*p)>>>16,y&=65535,g+=(y+=a*d)>>>16,f+=(g+=r*p)>>>16,g&=65535,f+=(g+=n*d)>>>16,g&=65535,f+=(g+=a*l)>>>16,f+=t*p+r*d+n*l+a*s,u((y&=65535)<<16|(v&=65535),(f&=65535)<<16|(g&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(i(e)||(e=h(e)),e.isZero())throw Error("division by zero");var t,r,n;if(o)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?o.div_u:o.div_s)(this.low,this.high,e.low,e.high),o.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:_;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return b;n=y}else{if(this.eq(x))return e.eq(v)||e.eq(w)?x:e.eq(x)?v:(t=this.shr(1).div(e).shl(1)).eq(_)?e.isNegative()?v:w:(r=this.sub(e.mul(t)),n=t.add(r.div(e)));if(e.eq(x))return this.unsigned?y:_;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=_}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:l(2,a-48),d=c(t),p=d.mul(e);p.isNegative()||p.gt(r);)p=(d=c(t-=s,this.unsigned)).mul(e);d.isZero()&&(d=v),n=n.add(d),r=r.sub(p)}return n},E.div=E.divide,E.modulo=function(e){return i(e)||(e=h(e)),o?u((this.unsigned?o.rem_u:o.rem_s)(this.low,this.high,e.low,e.high),o.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return u(~this.low,~this.high,this.unsigned)},E.and=function(e){return i(e)||(e=h(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return i(e)||(e=h(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return i(e)||(e=h(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,o){return o?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){!function(){if(-1!==window.navigator.userAgent.indexOf("Trident")){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o}e.prototype=window.Event.prototype,window.CustomEvent=e,document.body.scrollTo||(Element.prototype.scrollTo=function(e,t){this.scrollLeft=e,this.scrollTop=t}),document.body.scrollBy||(Element.prototype.scrollBy=function(e,t){this.scrollLeft+=e,this.scrollTop+=t}),FileReader.prototype.readAsBinaryString||(FileReader.prototype.readAsBinaryString=function(e){var t=this,o=new FileReader;o.onload=function(e){for(var r="",i=new Uint8Array(o.result),n=i.byteLength,a=0;a<n;a++)r+=String.fromCharCode(i[a]);t.content=r,t.result=r,t.onload()},o.readAsArrayBuffer(e)})}}()},function(e,t,o){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},n=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(),a=[];function s(e){for(var t=-1,o=0;o<a.length;o++)if(a[o].identifier===e){t=o;break}return t}function c(e,t){for(var o={},r=[],i=0;i<e.length;i++){var n=e[i],c=t.base?n[0]+t.base:n[0],u=o[c]||0,l="".concat(c," ").concat(u);o[c]=u+1;var d=s(l),h={css:n[1],media:n[2],sourceMap:n[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:l,updater:m(h,t),references:1}),r.push(l)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=o.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=n(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function h(e,t,o,r){var i=o?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var n=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(n,a[t]):e.appendChild(n)}}function p(e,t,o){var r=o.css,i=o.media,n=o.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),n&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,g=0;function m(e,t){var o,r,i;if(t.singleton){var n=g++;o=f||(f=u(t)),r=h.bind(null,o,n,!1),i=h.bind(null,o,n,!0)}else o=u(t),r=p.bind(null,o,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var o=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<o.length;r++){var i=s(o[r]);a[i].references--}for(var n=c(e,t),u=0;u<o.length;u++){var l=s(o[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}o=n}}}},function(e,t,o){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=function(e,t){var o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),n=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(n).concat([i]).join("\n")}var a,s,c;return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(o,"}"):o})).join("")},t.i=function(e,o,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var n=0;n<this.length;n++){var a=this[n][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&i[c[0]]||(o&&(c[2]?c[2]="".concat(o," and ").concat(c[2]):c[2]=o),t.push(c))}},t}},function(e,t,o){o(7)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,o){"use strict";o(45);var r,i=o(7),n=o(17),a=o(236),s=o(6),c=o(172),u=o(25),l=o(80),d=o(16),h=o(171),p=o(230),f=o(108).codeAt,g=o(284),m=o(21),_=o(54),y=o(285),v=o(30),b=s.URL,w=y.URLSearchParams,S=y.getState,I=v.set,x=v.getterFor("URL"),E=Math.floor,P=Math.pow,T=/[A-Za-z]/,D=/[\d+-.A-Za-z]/,O=/\d/,M=/^0x/i,A=/^[0-7]+$/,C=/^\d+$/,L=/^[\dA-Fa-f]+$/,B=/[\0\t\n\r #%/:<>?@[\\\]^|]/,N=/[\0\t\n\r #/:<>?@[\\\]^|]/,V=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,k=/[\t\n\r]/g,H=function(e,t){var o,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(o=z(t.slice(1,-1))))return"Invalid host";e.host=o}else if(J(e)){if(t=g(t),B.test(t))return"Invalid host";if(null===(o=j(t)))return"Invalid host";e.host=o}else{if(N.test(t))return"Invalid host";for(o="",r=p(t),i=0;i<r.length;i++)o+=G(r[i],F);e.host=o}},j=function(e){var t,o,r,i,n,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(o=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(n=10,i.length>1&&"0"==i.charAt(0)&&(n=M.test(i)?16:8,i=i.slice(8==n?1:2)),""===i)a=0;else{if(!(10==n?C:8==n?A:L).test(i))return e;a=parseInt(i,n)}o.push(a)}for(r=0;r<t;r++)if(a=o[r],r==t-1){if(a>=P(256,5-t))return null}else if(a>255)return null;for(s=o.pop(),r=0;r<o.length;r++)s+=o[r]*P(256,3-r);return s},z=function(e){var t,o,r,i,n,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,h=function(){return e.charAt(d)};if(":"==h()){if(":"!=e.charAt(1))return;d+=2,l=++u}for(;h();){if(8==u)return;if(":"!=h()){for(t=o=0;o<4&&L.test(h());)t=16*t+parseInt(h(),16),d++,o++;if("."==h()){if(0==o)return;if(d-=o,u>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;d++}if(!O.test(h()))return;for(;O.test(h());){if(n=parseInt(h(),10),null===i)i=n;else{if(0==i)return;i=10*i+n}if(i>255)return;d++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},q=function(e){var t,o,r,i;if("number"==typeof e){for(t=[],o=0;o<4;o++)t.unshift(e%256),e=E(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,o=1,r=null,i=0,n=0;n<8;n++)0!==e[n]?(i>o&&(t=r,o=i),r=null,i=0):(null===r&&(r=n),++i);return i>o&&(t=r,o=i),t}(e),o=0;o<8;o++)i&&0===e[o]||(i&&(i=!1),r===o?(t+=o?":":"::",i=!0):(t+=e[o].toString(16),o<7&&(t+=":")));return"["+t+"]"}return e},F={},R=h({},F,{" ":1,'"':1,"<":1,">":1,"`":1}),Z=h({},R,{"#":1,"?":1,"{":1,"}":1}),W=h({},Z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var o=f(e,0);return o>32&&o<127&&!d(t,e)?e:encodeURIComponent(e)},U={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(e){return d(U,e.scheme)},X=function(e){return""!=e.username||""!=e.password},Y=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Q=function(e,t){var o;return 2==e.length&&T.test(e.charAt(0))&&(":"==(o=e.charAt(1))||!t&&"|"==o)},K=function(e){var t;return e.length>1&&Q(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},$=function(e){var t=e.path,o=t.length;!o||"file"==e.scheme&&1==o&&Q(t[0],!0)||t.pop()},ee=function(e){return"."===e||"%2e"===e.toLowerCase()},te={},oe={},re={},ie={},ne={},ae={},se={},ce={},ue={},le={},de={},he={},pe={},fe={},ge={},me={},_e={},ye={},ve={},be={},we={},Se=function(e,t,o,i){var n,a,s,c,u,l=o||te,h=0,f="",g=!1,m=!1,_=!1;for(o||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(V,"")),t=t.replace(k,""),n=p(t);h<=n.length;){switch(a=n[h],l){case te:if(!a||!T.test(a)){if(o)return"Invalid scheme";l=re;continue}f+=a.toLowerCase(),l=oe;break;case oe:if(a&&(D.test(a)||"+"==a||"-"==a||"."==a))f+=a.toLowerCase();else{if(":"!=a){if(o)return"Invalid scheme";f="",l=re,h=0;continue}if(o&&(J(e)!=d(U,f)||"file"==f&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,o)return void(J(e)&&U[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?l=fe:J(e)&&i&&i.scheme==e.scheme?l=ie:J(e)?l=ce:"/"==n[h+1]?(l=ne,h++):(e.cannotBeABaseURL=!0,e.path.push(""),l=ve)}break;case re:if(!i||i.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,l=we;break}l="file"==i.scheme?fe:ae;continue;case ie:if("/"!=a||"/"!=n[h+1]){l=ae;continue}l=ue,h++;break;case ne:if("/"==a){l=le;break}l=ye;continue;case ae:if(e.scheme=i.scheme,a==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&J(e))l=se;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",l=be;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),l=ye;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=we}break;case se:if(!J(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,l=ye;continue}l=le}else l=ue;break;case ce:if(l=ue,"/"!=a||"/"!=f.charAt(h+1))continue;h++;break;case ue:if("/"!=a&&"\\"!=a){l=le;continue}break;case le:if("@"==a){g&&(f="%40"+f),g=!0,s=p(f);for(var y=0;y<s.length;y++){var v=s[y];if(":"!=v||_){var b=G(v,W);_?e.password+=b:e.username+=b}else _=!0}f=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)){if(g&&""==f)return"Invalid authority";h-=p(f).length+1,f="",l=de}else f+=a;break;case de:case he:if(o&&"file"==e.scheme){l=me;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)){if(J(e)&&""==f)return"Invalid host";if(o&&""==f&&(X(e)||null!==e.port))return;if(c=H(e,f))return c;if(f="",l=_e,o)return;continue}"["==a?m=!0:"]"==a&&(m=!1),f+=a}else{if(""==f)return"Invalid host";if(c=H(e,f))return c;if(f="",l=pe,o==he)return}break;case pe:if(!O.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&J(e)||o){if(""!=f){var w=parseInt(f,10);if(w>65535)return"Invalid port";e.port=J(e)&&w===U[e.scheme]?null:w,f=""}if(o)return;l=_e;continue}return"Invalid port"}f+=a;break;case fe:if(e.scheme="file","/"==a||"\\"==a)l=ge;else{if(!i||"file"!=i.scheme){l=ye;continue}if(a==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",l=be;else{if("#"!=a){K(n.slice(h).join(""))||(e.host=i.host,e.path=i.path.slice(),$(e)),l=ye;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=we}}break;case ge:if("/"==a||"\\"==a){l=me;break}i&&"file"==i.scheme&&!K(n.slice(h).join(""))&&(Q(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),l=ye;continue;case me:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!o&&Q(f))l=ye;else if(""==f){if(e.host="",o)return;l=_e}else{if(c=H(e,f))return c;if("localhost"==e.host&&(e.host=""),o)return;f="",l=_e}continue}f+=a;break;case _e:if(J(e)){if(l=ye,"/"!=a&&"\\"!=a)continue}else if(o||"?"!=a)if(o||"#"!=a){if(a!=r&&(l=ye,"/"!=a))continue}else e.fragment="",l=we;else e.query="",l=be;break;case ye:if(a==r||"/"==a||"\\"==a&&J(e)||!o&&("?"==a||"#"==a)){if(".."===(u=(u=f).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?($(e),"/"==a||"\\"==a&&J(e)||e.path.push("")):ee(f)?"/"==a||"\\"==a&&J(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Q(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(a==r||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",l=be):"#"==a&&(e.fragment="",l=we)}else f+=G(a,Z);break;case ve:"?"==a?(e.query="",l=be):"#"==a?(e.fragment="",l=we):a!=r&&(e.path[0]+=G(a,F));break;case be:o||"#"!=a?a!=r&&("'"==a&&J(e)?e.query+="%27":e.query+="#"==a?"%23":G(a,F)):(e.fragment="",l=we);break;case we:a!=r&&(e.fragment+=G(a,R))}h++}},Ie=function(e){var t,o,r=l(this,Ie,"URL"),i=arguments.length>1?arguments[1]:void 0,a=m(e),s=I(r,{type:"URL"});if(void 0!==i)if(i instanceof Ie)t=x(i);else if(o=Se(t={},m(i)))throw TypeError(o);if(o=Se(s,a,null,t))throw TypeError(o);var c=s.searchParams=new w,u=S(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},n||(r.href=Ee.call(r),r.origin=Pe.call(r),r.protocol=Te.call(r),r.username=De.call(r),r.password=Oe.call(r),r.host=Me.call(r),r.hostname=Ae.call(r),r.port=Ce.call(r),r.pathname=Le.call(r),r.search=Be.call(r),r.searchParams=Ne.call(r),r.hash=Ve.call(r))},xe=Ie.prototype,Ee=function(){var e=x(this),t=e.scheme,o=e.username,r=e.password,i=e.host,n=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",X(e)&&(u+=o+(r?":"+r:"")+"@"),u+=q(i),null!==n&&(u+=":"+n)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Pe=function(){var e=x(this),t=e.scheme,o=e.port;if("blob"==t)try{return new Ie(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&J(e)?t+"://"+q(e.host)+(null!==o?":"+o:""):"null"},Te=function(){return x(this).scheme+":"},De=function(){return x(this).username},Oe=function(){return x(this).password},Me=function(){var e=x(this),t=e.host,o=e.port;return null===t?"":null===o?q(t):q(t)+":"+o},Ae=function(){var e=x(this).host;return null===e?"":q(e)},Ce=function(){var e=x(this).port;return null===e?"":String(e)},Le=function(){var e=x(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Be=function(){var e=x(this).query;return e?"?"+e:""},Ne=function(){return x(this).searchParams},Ve=function(){var e=x(this).fragment;return e?"#"+e:""},ke=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(n&&c(xe,{href:ke(Ee,(function(e){var t=x(this),o=m(e),r=Se(t,o);if(r)throw TypeError(r);S(t.searchParams).updateSearchParams(t.query)})),origin:ke(Pe),protocol:ke(Te,(function(e){var t=x(this);Se(t,m(e)+":",te)})),username:ke(De,(function(e){var t=x(this),o=p(m(e));if(!Y(t)){t.username="";for(var r=0;r<o.length;r++)t.username+=G(o[r],W)}})),password:ke(Oe,(function(e){var t=x(this),o=p(m(e));if(!Y(t)){t.password="";for(var r=0;r<o.length;r++)t.password+=G(o[r],W)}})),host:ke(Me,(function(e){var t=x(this);t.cannotBeABaseURL||Se(t,m(e),de)})),hostname:ke(Ae,(function(e){var t=x(this);t.cannotBeABaseURL||Se(t,m(e),he)})),port:ke(Ce,(function(e){var t=x(this);Y(t)||(""==(e=m(e))?t.port=null:Se(t,e,pe))})),pathname:ke(Le,(function(e){var t=x(this);t.cannotBeABaseURL||(t.path=[],Se(t,m(e),_e))})),search:ke(Be,(function(e){var t=x(this);""==(e=m(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Se(t,e,be)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:ke(Ne),hash:ke(Ve,(function(e){var t=x(this);""!=(e=m(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Se(t,e,we)):t.fragment=null}))}),u(xe,"toJSON",(function(){return Ee.call(this)}),{enumerable:!0}),u(xe,"toString",(function(){return Ee.call(this)}),{enumerable:!0}),b){var He=b.createObjectURL,je=b.revokeObjectURL;He&&u(Ie,"createObjectURL",(function(e){return He.apply(b,arguments)})),je&&u(Ie,"revokeObjectURL",(function(e){return je.apply(b,arguments)}))}_(Ie,"URL"),i({global:!0,forced:!a,sham:!n},{URL:Ie})},function(e,t,o){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,n="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,c=function(e){return e+22+75*(e<26)},u=function(e,t,o){var r=0;for(e=o?a(e/700):e>>1,e+=a(e/t);e>455;r+=36)e=a(e/35);return a(r+36*e/(e+38))},l=function(e){var t,o,r=[],i=(e=function(e){for(var t=[],o=0,r=e.length;o<r;){var i=e.charCodeAt(o++);if(i>=55296&&i<=56319&&o<r){var n=e.charCodeAt(o++);56320==(64512&n)?t.push(((1023&i)<<10)+(1023&n)+65536):(t.push(i),o--)}else t.push(i)}return t}(e)).length,l=128,d=0,h=72;for(t=0;t<e.length;t++)(o=e[t])<128&&r.push(s(o));var p=r.length,f=p;for(p&&r.push("-");f<i;){var g=2147483647;for(t=0;t<e.length;t++)(o=e[t])>=l&&o<g&&(g=o);var m=f+1;if(g-l>a((2147483647-d)/m))throw RangeError(n);for(d+=(g-l)*m,l=g,t=0;t<e.length;t++){if((o=e[t])<l&&++d>2147483647)throw RangeError(n);if(o==l){for(var _=d,y=36;;y+=36){var v=y<=h?1:y>=h+26?26:y-h;if(_<v)break;var b=_-v,w=36-v;r.push(s(c(v+b%w))),_=a(b/w)}r.push(s(c(_))),h=u(d,m,f==p),d=0,++f}}++d,++l}return r.join("")};e.exports=function(e){var t,o,n=[],a=e.toLowerCase().replace(i,".").split(".");for(t=0;t<a.length;t++)o=a[t],n.push(r.test(o)?"xn--"+l(o):o);return n.join(".")}},function(e,t,o){"use strict";o(31);var r=o(7),i=o(38),n=o(236),a=o(25),s=o(111),c=o(54),u=o(173),l=o(30),d=o(80),h=o(16),p=o(63),f=o(72),g=o(15),m=o(13),_=o(21),y=o(42),v=o(46),b=o(286),w=o(84),S=o(11),I=i("fetch"),x=i("Request"),E=x&&x.prototype,P=i("Headers"),T=S("iterator"),D=l.set,O=l.getterFor("URLSearchParams"),M=l.getterFor("URLSearchParamsIterator"),A=/\+/g,C=Array(4),L=function(e){return C[e-1]||(C[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},B=function(e){try{return decodeURIComponent(e)}catch(t){return e}},N=function(e){var t=e.replace(A," "),o=4;try{return decodeURIComponent(t)}catch(e){for(;o;)t=t.replace(L(o--),B);return t}},V=/[!'()~]|%20/g,k={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},H=function(e){return k[e]},j=function(e){return encodeURIComponent(e).replace(V,H)},z=function(e,t){if(t)for(var o,r,i=t.split("&"),n=0;n<i.length;)(o=i[n++]).length&&(r=o.split("="),e.push({key:N(r.shift()),value:N(r.join("="))}))},q=function(e){this.entries.length=0,z(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},R=u((function(e,t){D(this,{type:"URLSearchParamsIterator",iterator:b(O(e).entries),kind:t})}),"Iterator",(function(){var e=M(this),t=e.kind,o=e.iterator.next(),r=o.value;return o.done||(o.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),o})),Z=function(){d(this,Z,"URLSearchParams");var e,t,o,r,i,n,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,p=[];if(D(l,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:q}),void 0!==u)if(m(u))if("function"==typeof(e=w(u)))for(o=(t=e.call(u)).next;!(r=o.call(t)).done;){if((a=(n=(i=b(g(r.value))).next).call(i)).done||(s=n.call(i)).done||!n.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:_(a.value),value:_(s.value)})}else for(c in u)h(u,c)&&p.push({key:c,value:_(u[c])});else z(p,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:_(u))},W=Z.prototype;if(s(W,{append:function(e,t){F(arguments.length,2);var o=O(this);o.entries.push({key:_(e),value:_(t)}),o.updateURL()},delete:function(e){F(arguments.length,1);for(var t=O(this),o=t.entries,r=_(e),i=0;i<o.length;)o[i].key===r?o.splice(i,1):i++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=O(this).entries,o=_(e),r=0;r<t.length;r++)if(t[r].key===o)return t[r].value;return null},getAll:function(e){F(arguments.length,1);for(var t=O(this).entries,o=_(e),r=[],i=0;i<t.length;i++)t[i].key===o&&r.push(t[i].value);return r},has:function(e){F(arguments.length,1);for(var t=O(this).entries,o=_(e),r=0;r<t.length;)if(t[r++].key===o)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var o,r=O(this),i=r.entries,n=!1,a=_(e),s=_(t),c=0;c<i.length;c++)(o=i[c]).key===a&&(n?i.splice(c--,1):(n=!0,o.value=s));n||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,o,r=O(this),i=r.entries,n=i.slice();for(i.length=0,o=0;o<n.length;o++){for(e=n[o],t=0;t<o;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===o&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,o=O(this).entries,r=p(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<o.length;)r((t=o[i++]).value,t.key,this)},keys:function(){return new R(this,"keys")},values:function(){return new R(this,"values")},entries:function(){return new R(this,"entries")}},{enumerable:!0}),a(W,T,W.entries),a(W,"toString",(function(){for(var e,t=O(this).entries,o=[],r=0;r<t.length;)e=t[r++],o.push(j(e.key)+"="+j(e.value));return o.join("&")}),{enumerable:!0}),c(Z,"URLSearchParams"),r({global:!0,forced:!n},{URLSearchParams:Z}),!n&&"function"==typeof P){var G=function(e){if(m(e)){var t,o=e.body;if("URLSearchParams"===f(o))return(t=e.headers?new P(e.headers):new P).has("content-type")||t.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),y(e,{body:v(0,String(o)),headers:v(0,t)})}return e};if("function"==typeof I&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return I(e,arguments.length>1?G(arguments[1]):{})}}),"function"==typeof x){var U=function(e){return d(this,U,"Request"),new x(e,arguments.length>1?G(arguments[1]):{})};E.constructor=U,U.prototype=E,r({global:!0,forced:!0},{Request:U})}}e.exports={URLSearchParams:Z,getState:O}},function(e,t,o){var r=o(15),i=o(84);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,o){var r;e.exports=(r=o(34),function(e){var t=r,o=t.lib,i=o.WordArray,n=o.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var o=0;o<16;o++){var r=t+o,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var n=this._hash.words,a=e[t+0],c=e[t+1],p=e[t+2],f=e[t+3],g=e[t+4],m=e[t+5],_=e[t+6],y=e[t+7],v=e[t+8],b=e[t+9],w=e[t+10],S=e[t+11],I=e[t+12],x=e[t+13],E=e[t+14],P=e[t+15],T=n[0],D=n[1],O=n[2],M=n[3];T=u(T,D,O,M,a,7,s[0]),M=u(M,T,D,O,c,12,s[1]),O=u(O,M,T,D,p,17,s[2]),D=u(D,O,M,T,f,22,s[3]),T=u(T,D,O,M,g,7,s[4]),M=u(M,T,D,O,m,12,s[5]),O=u(O,M,T,D,_,17,s[6]),D=u(D,O,M,T,y,22,s[7]),T=u(T,D,O,M,v,7,s[8]),M=u(M,T,D,O,b,12,s[9]),O=u(O,M,T,D,w,17,s[10]),D=u(D,O,M,T,S,22,s[11]),T=u(T,D,O,M,I,7,s[12]),M=u(M,T,D,O,x,12,s[13]),O=u(O,M,T,D,E,17,s[14]),T=l(T,D=u(D,O,M,T,P,22,s[15]),O,M,c,5,s[16]),M=l(M,T,D,O,_,9,s[17]),O=l(O,M,T,D,S,14,s[18]),D=l(D,O,M,T,a,20,s[19]),T=l(T,D,O,M,m,5,s[20]),M=l(M,T,D,O,w,9,s[21]),O=l(O,M,T,D,P,14,s[22]),D=l(D,O,M,T,g,20,s[23]),T=l(T,D,O,M,b,5,s[24]),M=l(M,T,D,O,E,9,s[25]),O=l(O,M,T,D,f,14,s[26]),D=l(D,O,M,T,v,20,s[27]),T=l(T,D,O,M,x,5,s[28]),M=l(M,T,D,O,p,9,s[29]),O=l(O,M,T,D,y,14,s[30]),T=d(T,D=l(D,O,M,T,I,20,s[31]),O,M,m,4,s[32]),M=d(M,T,D,O,v,11,s[33]),O=d(O,M,T,D,S,16,s[34]),D=d(D,O,M,T,E,23,s[35]),T=d(T,D,O,M,c,4,s[36]),M=d(M,T,D,O,g,11,s[37]),O=d(O,M,T,D,y,16,s[38]),D=d(D,O,M,T,w,23,s[39]),T=d(T,D,O,M,x,4,s[40]),M=d(M,T,D,O,a,11,s[41]),O=d(O,M,T,D,f,16,s[42]),D=d(D,O,M,T,_,23,s[43]),T=d(T,D,O,M,b,4,s[44]),M=d(M,T,D,O,I,11,s[45]),O=d(O,M,T,D,P,16,s[46]),T=h(T,D=d(D,O,M,T,p,23,s[47]),O,M,a,6,s[48]),M=h(M,T,D,O,y,10,s[49]),O=h(O,M,T,D,E,15,s[50]),D=h(D,O,M,T,m,21,s[51]),T=h(T,D,O,M,I,6,s[52]),M=h(M,T,D,O,f,10,s[53]),O=h(O,M,T,D,w,15,s[54]),D=h(D,O,M,T,c,21,s[55]),T=h(T,D,O,M,v,6,s[56]),M=h(M,T,D,O,P,10,s[57]),O=h(O,M,T,D,_,15,s[58]),D=h(D,O,M,T,x,21,s[59]),T=h(T,D,O,M,g,6,s[60]),M=h(M,T,D,O,S,10,s[61]),O=h(O,M,T,D,p,15,s[62]),D=h(D,O,M,T,b,21,s[63]),n[0]=n[0]+T|0,n[1]=n[1]+D|0,n[2]=n[2]+O|0,n[3]=n[3]+M|0},_doFinalize:function(){var t=this._data,o=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;o[i>>>5]|=128<<24-i%32;var n=e.floor(r/4294967296),a=r;o[15+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),o[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(o.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,o,r,i,n,a){var s=e+(t&o|~t&r)+i+a;return(s<<n|s>>>32-n)+t}function l(e,t,o,r,i,n,a){var s=e+(t&r|o&~r)+i+a;return(s<<n|s>>>32-n)+t}function d(e,t,o,r,i,n,a){var s=e+(t^o^r)+i+a;return(s<<n|s>>>32-n)+t}function h(e,t,o,r,i,n,a){var s=e+(o^(t|~r))+i+a;return(s<<n|s>>>32-n)+t}t.MD5=n._createHelper(c),t.HmacMD5=n._createHmacHelper(c)}(Math),r.MD5)},function(e,t,o){var r=o(7),i=o(70),n=o(13),a=o(16),s=o(18).f,c=o(49),u=o(179),l=o(69),d=o(239),h=!1,p=l("meta"),f=0,g=Object.isExtensible||function(){return!0},m=function(e){s(e,p,{value:{objectID:"O"+f++,weakData:{}}})},_=e.exports={enable:function(){_.enable=function(){},h=!0;var e=c.f,t=[].splice,o={};o[p]=1,e(o).length&&(c.f=function(o){for(var r=e(o),i=0,n=r.length;i<n;i++)if(r[i]===p){t.call(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,p)){if(!g(e))return"F";if(!t)return"E";m(e)}return e[p].objectID},getWeakData:function(e,t){if(!a(e,p)){if(!g(e))return!0;if(!t)return!1;m(e)}return e[p].weakData},onFreeze:function(e){return d&&h&&g(e)&&!a(e,p)&&m(e),e}};i[p]=!0},function(e,t,o){var r=o(41);e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},function(e,t,o){var r=o(7),i=o(307).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,o){"use strict";var r=o(118),i=o(15),n=o(12),a=o(21),s=o(29),c=o(119),u=o(120);r("match",(function(e,t,o){return[function(t){var o=s(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,o):new RegExp(t)[e](a(o))},function(e){var r=i(this),s=a(e),l=o(t,r,s);if(l.done)return l.value;if(!r.global)return u(r,s);var d=r.unicode;r.lastIndex=0;for(var h,p=[],f=0;null!==(h=u(r,s));){var g=a(h[0]);p[f]=g,""===g&&(r.lastIndex=c(s,n(r.lastIndex),d)),f++}return 0===f?null:p}]}))},function(e,t,o){var r=o(29),i=o(21),n=/"/g;e.exports=function(e,t,o,a){var s=i(r(e)),c="<"+t;return""!==o&&(c+=" "+o+'="'+i(a).replace(n,"&quot;")+'"'),c+">"+s+"</"+t+">"}},function(e,t,o){var r=o(9);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,o){var r=o(7),i=o(187);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(e,t,o){"use strict";var r=o(185);(0,o(10).exportTypedArrayStaticMethod)("from",o(186),r)},function(e,t,o){o(184)("Int32",(function(e){return function(t,o,r){return e(this,t,o,r)}}))},function(e,t,o){"use strict";e.exports=d;var r,i=o(147),n=i.LongBits,a=i.base64,s=i.utf8;function c(e,t,o){this.fn=e,this.len=t,this.next=void 0,this.val=o}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function p(e,t,o){t[o]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,o){for(;e.hi;)t[o++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[o++]=127&e.lo|128,e.lo=e.lo>>>7;t[o++]=e.lo}function m(e,t,o){t[o]=255&e,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}d.create=h(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,o){return this.tail=this.tail.next=new c(e,t,o),this.len+=t,this},f.prototype=Object.create(c.prototype),f.prototype.fn=function(e,t,o){for(;e>127;)t[o++]=127&e|128,e>>>=7;t[o]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,n.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=n.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=n.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=n.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var _=i.Array.prototype.set?function(e,t,o){t.set(e,o)}:function(e,t,o){for(var r=0;r<e.length;++r)t[o+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var o=d.alloc(t=a.length(e));a.decode(e,o,0),e=o}return this.uint32(t)._push(_,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=e.next,this.tail=t,this.len+=o),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,t,o),o+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=h(),r._configure()}},function(e,t,o){"use strict";e.exports=c;var r,i=o(147),n=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):l(e)})(e)}:l};function h(){var e=new n(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new n(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,o=this.pos+e;if(o>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,o):t===o?new this.buf.constructor(0):this._slice.call(this.buf,t,o)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=d(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},function(e,t,o){var r;!function(){"use strict";function i(e,t,o){var r=t.x,i=t.y,n=o.x-r,a=o.y-i;if(0!==n||0!==a){var s=((e.x-r)*n+(e.y-i)*a)/(n*n+a*a);s>1?(r=o.x,i=o.y):s>0&&(r+=n*s,i+=a*s)}return(n=e.x-r)*n+(a=e.y-i)*a}function n(e,t){var o=e.length-1,r=[e[0]];return function e(t,o,r,n,a){for(var s,c=n,u=o+1;u<r;u++){var l=i(t[u],t[o],t[r]);l>c&&(s=u,c=l)}c>n&&(s-o>1&&e(t,o,s,n,a),a.push(t[s]),r-s>1&&e(t,s,r,n,a))}(e,0,o,t,r),r.push(e[o]),r}function a(e,t,o){if(e.length<=2)return e;var r=void 0!==t?t*t:1;return e=n(e=o?e:function(e,t){for(var o,r,i,n,a,s=e[0],c=[s],u=1,l=e.length;u<l;u++)o=e[u],i=s,n=void 0,a=void 0,n=(r=o).x-i.x,a=r.y-i.y,n*n+a*a>t&&(c.push(o),s=o);return s!==o&&c.push(o),c}(e,r),r)}void 0===(r=function(){return a}.call(t,o,t,e))||(e.exports=r)}()},function(e,t,o){"use strict";o.d(t,"a",(function(){return ce}));o(273),o(274),o(35),o(32),o(39),o(66),o(67),o(68),o(31),o(45),o(58),o(59),o(43),o(44),o(86),o(50),o(235),o(57),o(89),o(294),o(82);var r,i,n,a,s,c,u=o(169),l=o.n(u),d=o(107),h=function(){return(h=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},p=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},g=function(){function e(){this.axiosInstance=l.a.create(),this.config=null,this.domains={}}return e.prototype.setConfig=function(e){if(!this.config){var t=e.isTestEnv?"https://docservice-test.zego.im":"https://docservice.zego.im";this.domains={cvt:t+"/doc/cvt_doc",query:t+"/doc/query_status",access:t+"/doc/access"},this.config={platform:32,app_id:e.appID,web_token:e.token,id_name:e.userID}}},e.prototype.isConfiged=function(){return!!this.config},e.prototype.uploadImage=function(e,t){return p(this,void 0,void 0,(function(){var o=this;return f(this,(function(r){return[2,new Promise((function(r,i){return p(o,void 0,void 0,(function(){var o,n,a,s,c,u,l,h,p,g;return f(this,(function(f){switch(f.label){case 0:return f.trys.push([0,9,,10]),o=e.name,n=e.size,a=o.substr(o.lastIndexOf(".")+1).toLowerCase(),[4,Object(d.a)(e)];case 1:return s=f.sent(),[4,this.queryStatus(s)];case 2:return c=f.sent(),u=c.status,l=c.oss,h=c.file_id,1!==u?[3,4]:[4,this.upload(l,e,o,s,a,t,r)];case 3:return f.sent(),[3,8];case 4:return 16!==u?[3,6]:(p=r,[4,this.load(h)]);case 5:return p.apply(void 0,[f.sent()]),[3,8];case 6:return[4,this.repeatQuery(o,s,n,"",r)];case 7:f.sent(),f.label=8;case 8:return[3,10];case 9:return!(g=f.sent())||2010001!=g.code&&2020006!=g.code||(g.code=3030010,g.msg=g.message),i(g),[3,10];case 10:return[2]}}))}))}))]}))}))},e.prototype.repeatQuery=function(e,t,o,r,i){return p(this,void 0,void 0,(function(){var n,a,s,c,u=this;return f(this,(function(l){switch(l.label){case 0:return[4,this.queryStatus(t,r)];case 1:return n=l.sent(),a=n.status,s=n.file_id,16===a&&i?(c=i,[4,this.load(s)]):[3,3];case 2:return c.apply(void 0,[l.sent()]),[3,6];case 3:return 2!==a?[3,5]:[4,this.cvt(e,t,o,i)];case 4:return l.sent(),[3,6];case 5:4!==a&&8!==a||setTimeout((function(){return p(u,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:return[4,this.repeatQuery(e,t,o,r,i)];case 1:return n.sent(),[2]}}))}))}),2e3),l.label=6;case 6:return[2]}}))}))},e.prototype.queryStatus=function(e,t){return p(this,void 0,void 0,(function(){var o,r,i,n,a,s;return f(this,(function(c){switch(c.label){case 0:return o=h(h({},this.config),t?{task_id:t}:{file_hash:e,file_type:16,expect_file_type:16}),[4,this.axiosInstance({method:"post",url:this.domains.query,timeout:3e4,data:o})];case 1:return r=c.sent().data,i=r.ret,n=r.status,a=r.file_id,s=r.oss,0===i.code?[2,{status:n,file_id:a,oss:s}]:[2]}}))}))},e.prototype.upload=function(e,t,o,r,i,n,a){return p(this,void 0,void 0,(function(){var s,c,u;return f(this,(function(l){switch(l.label){case 0:return s=e.host+"/"+e.object_name+"?."+i,c=Object(d.b)(e),(u=new FormData).append("OSSAccessKeyId",c.OSSAccessKeyId),u.append("x-oss-security-token",c.securityToken),u.append("signature",c.signature),u.append("policy",c.policy),u.append("successActionStatus",c.successActionStatus),u.append("key",c.objectName),u.append("file",t),u.append("name",o),[4,this.axiosInstance({method:"post",url:c.url,data:u,timeout:6e5,onUploadProgress:function(e){if(n){var t=e.total,i=e.loaded;n({fileName:o,fileHash:r,uploadPercent:Math.floor(i/t*100)})}}})];case 1:return l.sent(),this.cvt(o,r,t.size,void 0),a(s),[2]}}))}))},e.prototype.cvt=function(e,t,o,r){return p(this,void 0,void 0,(function(){var i;return f(this,(function(n){switch(n.label){case 0:return[4,this.axiosInstance({method:"post",url:this.domains.cvt,timeout:3e4,data:h(h({},this.config),{file_name:e,file_hash:t,file_size:o,file_type:16,expect_file_type:16,export_high_quality_images:!1})})];case 1:return 0===(i=n.sent().data).ret.code&&r?[4,this.repeatQuery(e,t,o,i.task_id,r)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.load=function(e){return p(this,void 0,void 0,(function(){var t,o;return f(this,(function(r){switch(r.label){case 0:return[4,this.axiosInstance({method:"post",url:this.domains.access,timeout:3e4,data:h(h({},this.config),{file_id:e})})];case 1:if(0===(t=r.sent().data).ret.code)return o=t.file_name.substr(t.file_name.lastIndexOf(".")+1).toLowerCase(),[2,t.original_file_urls[0]+"?."+o];throw{code:t.ret.code,msg:t.ret.message,message:t.ret.message}}}))}))},e}(),m=o(2),_={ModifyMod:"/eduv1/modify_mod",DestroyMod:"/eduv1/destroy_mod",CreateMod:"/eduv1/create_mod",GetMod:"/eduv1/get_mod",GetModList:"/eduv1/get_mod_list",GetPageGraphics:"/eduv1/get_page_graphics",ClearPageGraphics:"/eduv1/clear_page_graphics",DrawPageGraphics:"/eduv1/draw_page_graphics",Sync:"/eduv1/sync",GetRoomAuth:"/eduv1/get_room_auth",GetUserAuth:"/eduv1/get_user_auth"},y=(o(74),o(37),o(88),o(121),o(122),o(123),o(124),o(125),o(126),o(127),o(128),o(129),o(130),o(131),o(132),o(133),o(134),o(135),o(136),o(138),o(139),o(140),o(141),o(142),o(143),o(144),o(145),o(146),o(210),o(295),o(296),o(93),o(95),o(3)),v=o(5),b=o(0),w=y.a.calStandard.placeWidth,S=function(e,t,o){var r=e[t];e[t]=e[o],e[o]=r},I=function(e,t,o,r){var i=r.charCodeAt(t);e[t]=r.charCodeAt(o),e[o]=i},x=function(e){return btoa(String.fromCharCode.apply(null,e))},E=function(e){var t=unescape(encodeURIComponent(e)).split("").map((function(e){return e.charCodeAt(0)}));return new Uint8Array(t)},P=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(String,Array.from(e))))},T=function(e){for(var t=e.split(","),o=new Uint8Array(Int32Array.from([+t[0],+t[1]]).buffer),r=0;r<o.length;r+=4)S(o,r,r+3),S(o,r+1,r+2);var i=E(t.slice(2).join(",")),n=new Uint8Array(o.length+i.length);return n.set(o),n.set(i,o.length),n},D=function(e){for(var t=atob(e),o=new Uint8Array(t.length),r=0;r<t.length;r++)o[r]=t.charCodeAt(r);return P(o)},O=function(e,t){var o=e.type,r=e.action,i=e.is_end_draw,n=e.data;if("[object Uint8Array]"==Object.prototype.toString.call(n)&&(n=btoa(Array.prototype.map.call(n,(function(e){return String.fromCharCode(e)})).join(""))),o===b.f.Text)e.data=t?function(e){for(var t=atob(e),o=new Uint8Array(t.length),r=0;r<8;r+=4)I(o,r,r+3,t),I(o,r+1,r+2,t);for(;r<t.length;r++)o[r]=t.charCodeAt(r);var i=new Int32Array(o.slice(0,8).buffer);return i[0]+","+i[1]+","+P(o.slice(8))}(n):x(T(n));else if(o===b.f.Image||o===b.f.BgImage)e.data=t?JSON.parse(D(n)):x(E(JSON.stringify(n)));else if(t)if("[object Array]"==Object.prototype.toString.call(n))e.data=n;else{for(var a=atob(n||""),s=new Uint8Array(a.length),c=0;c<a.length;c+=4)I(s,c,c+3,a),I(s,c+1,c+2,a);e.data=Array.from(new Int32Array(s.buffer)),e.data=e.data.slice(o!==b.f.RealTime&&e.data.length%2?1:0)}else{var u=n.slice();(o!==b.f.Pencil||i||r!==b.a.Create&&r!==b.a.Append)&&u.unshift(u.length/2);for(s=new Uint8Array(Int32Array.from(u).buffer),c=0;c<s.length;c+=4)S(s,c,c+3),S(s,c+1,c+2);e.data=x(s)}},M=function(e,t){var o=e.type,r=e.data,i=e.action,n=e.is_end_draw;if(o===b.f.Text)e.data=t?function(e){for(var t=0;t<8;t+=4)S(e,t,t+3),S(e,t+1,t+2);var o=new Int32Array(e.slice(0,8).buffer);return o[0]+","+o[1]+","+P(e.slice(8))}(r):T(r);else if(o===b.f.Image||o===b.f.BgImage)e.data=t?JSON.parse(P(r)):E(JSON.stringify(r));else if(t){for(var a=r,s=0;s<a.length;s+=4)S(a,s,s+3),S(a,s+1,s+2);e.data=Array.from(new Int32Array(a.slice().buffer)),e.data=e.data.slice(o!==b.f.RealTime&&e.data.length%2?1:0)}else{var c=r.slice();(o!==b.f.Pencil||n||i!==b.a.Create&&i!==b.a.Append)&&c.unshift(c.length/2);for(a=new Uint8Array(Int32Array.from(c).buffer),s=0;s<a.length;s+=4)S(a,s,s+3),S(a,s+1,s+2);e.data=a}},A=function(e,t,o,r,i){var n=r?e*t/o:e*o/t;return r&&i?n:Math.round(n)},C=function(e,t,o){var r=e.type,i=e.px,n=e.py,a=e.x,s=e.y,c=Object(v.j)(e);if(i&&(e.px=A(i,t,w,o,!1)),n&&(e.py=A(n,t,w,o,!1)),e.x=A(a||0,t,w,o,!1),e.y=A(s||0,t,w,o,!1),r!==b.f.BgImage)if(r===b.f.Text){var u=e.data.split(",");u[0]=A(+u[0],t,w,o,c)+"",u[1]=A(+u[1],t,w,o,c)+"",e.data=u.join(",")}else if(r===b.f.Image){var l;if(o)(l=e.data).x=A(l.x,t,w,o,c),l.y=A(l.y,t,w,o,c),l.ex=A(l.ex,t,w,o,c),l.ey=A(l.ey,t,w,o,c),e.initX=l.x,e.initY=l.y,l.x+=e.x,l.y+=e.y,l.ex+=e.x,l.ey+=e.y;else(l=e.data).x=A(l.x,t,w,o,c),l.y=A(l.y,t,w,o,c),l.ex=A(l.ex,t,w,o,c),l.ey=A(l.ey,t,w,o,c),e.data=l}else e.data=e.data.map((function(e){return A(e,t,w,o,c)}))},L=o(8),B=function(){return(B=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},N=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},V=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},k=m.b.bind(null,"wb.s."),H=function(){function e(e,t){this.socket=e,this.module=t,this.docsService=new g}return e.prototype.updateRemoteImageGraphicData=function(e,t){return(e=JSON.parse(JSON.stringify(e))).forEach((function(e){var o=e.type,r=e.action,i=e.x,n=e.y;if(o==b.f.Image&&(!t&&(r==b.a.Update||r==b.a.Create)||t&&r==b.a.Move)){var a=e.data;a.x-=i,a.y-=n,a.ex-=i,a.ey-=n}})),e},e.prototype.posToPageNum=function(e,t,o,r,i,n,a){var s=o.cx,c=o.cy,u=0;return s&&c&&(r+=n,i+=a,u=(u=(u=e===b.o.Horizontal?r<=0?0:Math.floor(r/s):i<=0?0:Math.floor(i/c))>t-1?t-1:u)>99?99:u),u},e.prototype.mapPageNumList=function(e){for(var t=[],o=Math.min.apply(Math,e),r=Math.max.apply(Math,e),i=o;i<=r;i++)t.push(i);return t},e.prototype.judgeGraphicPage=function(e,t){var o=this,r=this.module.getMap(e),i=r.innerDirection,n=r.innerPageSize,a=r.innerPageCount,s=t.type,c=t.x,u=t.y,l=[];switch(s){case b.f.Text:var d=Object(v.q)(t.data),h=d.beginX,p=d.beginY,f=this.posToPageNum(i,a,n,Number(h),Number(p),c,u);l=this.mapPageNumList([f]);break;case b.f.Pencil:case b.f.Line:case b.f.Rect:case b.f.Ellipse:case b.f.Laser:var g=[];t.data.forEach((function(e,t,r){t%2||g.push(o.posToPageNum(i,a,n,r[t],r[t+1],c,u))})),l=this.mapPageNumList(g);break;case b.f.Image:var m=t.data,_=m.x,y=m.y,w=m.ex,S=m.ey,I=this.posToPageNum(i,a,n,_,y,0,0),x=this.posToPageNum(i,a,n,w,S,0,0);l=this.mapPageNumList([I,x]);break;case b.f.BgImage:l.push(0)}return l},e.prototype.checkProtoGraphic=function(e){var t=e.action,o=e.action_type,r=e.graphic_id,i=e.type,n=e.data,a=e.color,s=e.size,c=e.x,u=e.y,l=e.zorder,d=e.attributes,h=e.operate_id,p=e.is_end_draw,f={graphic_id:r,action:t,action_type:o,type:i,is_end_draw:!!p,layer:e.layer||0,zorder:l,creator_id:e.creator_id,operate_id:h};return t===b.a.Create||t===b.a.Append?(f.x=c,f.y=u,f.data=n,f.color=a,f.size=s,i!==b.f.Text&&i!==b.f.Pencil||(f.attributes=d)):t===b.a.Update?(f.x=c,f.y=u,f.data=n,i!==b.f.Image&&(f.color=a,f.size=s),i!==b.f.Text&&i!==b.f.Pencil||(f.attributes=d)):t===b.a.Move&&(f.x=c,f.y=u),i!==b.f.Pencil||p||t!==b.a.Create&&t!==b.a.Append||(f.type=b.f.RealTime),f},e.prototype.mapDrawPages=function(e,t){var o=this,r=this.module.getMap(e);if(!r)return[];var i=this.socket.isSendPB,n=r.width,a=[],s=[];t.forEach((function(t){var c=o.judgeGraphicPage(e,t);t.color=Object(v.s)(t.color,!1),C(t,n,!1),i?M(t,!1):O(t,!1);var u=!1,l=o.checkProtoGraphic(t);c.forEach((function(e){s.includes(e)||s.push(e);var o=r.graphicListSeqs[e],i=B({},l);u&&t.type===b.f.RealTime&&t.action===b.a.Append&&(i.data=""),a.push({page:e,graphic_list_seq:o,draw_list:[i]}),u=!0}))}));var c=[];return s.forEach((function(e){var t={page:e,draw_list:[]};a.forEach((function(o){o.page===e&&(t.draw_list=t.draw_list.concat(o.draw_list),t.graphic_list_seq=o.graphic_list_seq)})),c.push(t)})),c},e.prototype.handleClearRsp=function(e,t,o,r,i){var n=o.header,a=o.body,s=n.code,c=n.message;if(0===s){var u=a.pages,l=a.graphic_list_seqs,d={};u&&u.forEach((function(e,t){return d[e]=l[t]})),m.a.info(k("gra.update_seq"),JSON.stringify({whiteboardID:e,graphicListSeqs:d,body:a,actionMsg:"clear cb success"})),this.module.updateMapByGraphicListSeqs(a.mod_id,d),this.module.updateMap({whiteboardID:e,operateTimes:0}),this.module.clearGraphicMap(),r(e)}else{var h=this.module.getMap(e);if(h&&++h.operateTimes<5)this.clearViewHandle(e,t,r,i);else{var p=Object(L.b)(s,c);m.a.error(k("mod.clear_cb"),JSON.stringify(p)),i(p)}}},e.prototype.handleUpdateToRemoteRsp=function(e,t,o,r,i){var n=o.header,a=o.body,s=n.code,c=n.message;if(0===s){var u=a.pages,l=a.graphic_list_seqs,d={};u&&u.forEach((function(e,t){return d[e]=l[t]})),m.a.info(k("gra.update_seq"),JSON.stringify({whiteboardID:e,graphicListSeqs:d,actionMsg:"draw cb success"})),this.module.updateMapByGraphicListSeqs(a.mod_id,d),this.module.updateGraphicMap(e,t),r()}else{var h=Object(L.b)(s,c);m.a.error(k("gra.draw_cb"),JSON.stringify(h)),i(h)}},e.prototype.clearViewHandle=function(e,t,o,r){return N(this,void 0,void 0,(function(){var i;return V(this,(function(n){switch(n.label){case 0:return[4,this.socket.queueWSCmdHandler(_.ClearPageGraphics,{mod_id:e,layers:t})];case 1:return i=n.sent(),this.handleClearRsp(e,t,i,o,r),[2]}}))}))},e.prototype.updateToRemoteHandle=function(e,t,o,r){return N(this,void 0,void 0,(function(){var i,n,a,s,c,u,l;return V(this,(function(d){switch(d.label){case 0:return t=this.updateRemoteImageGraphicData(t),i=this.updateRemoteImageGraphicData(t,!0),(n={mod_id:e,draw_pages:this.mapDrawPages(e,JSON.parse(JSON.stringify(t)))}).draw_pages.length?[4,this.socket.checkSendLength(n)]:(r(Object(L.b)(b.i.ZegoWhiteboardViewErrorGraphicModifyFail)),[2]);case 1:return a=d.sent(),t.length>1&&a?(s=b.i.ZegoWhiteboardViewErrorGraphicNumLimit,c=Object(L.b)(s),r(c),m.a.error(k("gra.draw"),JSON.stringify(B(B({},c),{size:a}))),[2]):(u={mod_id:e,draw_pages:this.mapDrawPages(e,t)},[4,this.socket.queueWSCmdHandler(_.DrawPageGraphics,u)]);case 2:return l=d.sent(),this.handleUpdateToRemoteRsp(e,i,l,o,r),[2]}}))}))},e.prototype.clearView=function(e,t){var o=this;return new Promise((function(r,i){o.clearViewHandle(e,t,r,i)}))},e.prototype.uploadImage=function(e,t){if(!this.docsService.isConfiged()){var o=m.a.getConfig(),r=o.appid,i=o.userid,n=o.token,a=o.isTestEnv;this.docsService.setConfig({appID:r,userID:i,token:n,isTestEnv:a})}return this.docsService.uploadImage(e,t)},e.prototype.getGraphicIsEndDraw=function(e){try{var t=this.module.getGraphicItem(e),o=t.is_end_draw,r=1e3*t.server_timestamp-this.socket.getServerTimeOffset();return!!(o||(new Date).getTime()<r)}catch(e){return!0}},e.prototype.isAppendPathLimit=function(e,t){(t=JSON.parse(JSON.stringify(t))).action=b.a.Update,t.action_type=b.b.Single,t.is_end_draw=!0,t.data=t.oldData;var o=t.data.length;return this.socket.checkSendLength({mod_id:e,draw_pages:this.mapDrawPages(e,[t])}).then((function(e){return e&&m.a.warn(k("gra.draw_limit"),JSON.stringify({size:e,length:o})),!!e}))},e}(),j=(o(232),o(105),o(168),o(115),o(183),o(51),o(90),o(167),o(290),o(180),o(85),o(182),o(4)),z=o(94);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){e[e.Initiative=1]="Initiative",e[e.Inner=2]="Inner"}(r||(r={})),function(e){e[e.InProgress=1]="InProgress",e[e.Pending=2]="Pending",e[e.Resolve=3]="Resolve",e[e.Reject=4]="Reject"}(i||(i={})),function(e){e[e.success=0]="success",e[e.error=1]="error"}(n||(n={})),function(e){e[e.SetMod=1]="SetMod",e[e.ClearPageGraphics=2]="ClearPageGraphics",e[e.DrawPageGraphics=3]="DrawPageGraphics",e[e.SetRoomAuth=4]="SetRoomAuth",e[e.SetUserAuth=5]="SetUserAuth"}(a||(a={})),function(e){e[e.Add=1]="Add",e[e.Removed=2]="Removed",e[e.Modify=3]="Modify"}(s||(s={})),function(e){e[e.Scroll=1]="Scroll",e[e.AppendH5Extra=2]="AppendH5Extra",e[e.Scale=3]="Scale",e[e.Other=4]="Other"}(c||(c={}));var F=function(){return(F=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},R=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Z=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},W=m.b.bind(null,"wb.s."),G=function(){function e(e){this.modListSeq=0,this.modIdMapData={},this.zorderSeq=1,this.zorderStep=Object(v.f)(),this.modLimit=50,this.defaultModListSeq=0,this.marker="",this.defaultModType=1,this.defaultModSubtype=1,this.defaultModDeleteFlag=0,this.defaultHPercent=0,this.defaultVPercent=0,this.defaultModReserve=1,this.graphicLimit=30,this.graphicMap={},this.userAuthMap={roomSeq:0,userSeq:0,syncTaskId:0,model:Object.freeze({scale:1,scroll:1,update:1,delete:1,move:1,clear:1,create:1})},this.socket=e}return e.prototype.updateModifyModTaskList=function(e){var t=e.status,o=e.push,r=e.setModAction,n=e.data,a=this.getMap(n.mod_id);if(t===i.InProgress)a.modifyModTaskList.splice(0,a.modifyModTaskList.length,e);else if(t===i.Pending)if(o)a.modifyModTaskList.push(e);else{a.modifyModTaskList.reverse();var s=a.modifyModTaskList.findIndex((function(e){return!e.push&&e.status===i.Pending}));if(-1!==s&&(s=a.modifyModTaskList.length-s-1,a.modifyModTaskList.reverse()),-1===s)a.modifyModTaskList.push(e);else{var u=a.modifyModTaskList[s];u.setModAction===c.AppendH5Extra?(c.Other,Object.assign(u.data,e.data)):u.setModAction===c.Scroll?r===c.Other||r===c.Scroll?Object.assign(u.data,e.data):a.modifyModTaskList.splice(s+1,0,e):u.setModAction===c.Scale?r===c.Scale?Object.assign(u.data,e.data):a.modifyModTaskList.splice(s+1,0,e):(Object.assign(u.data,e.data),u.setModAction=e.setModAction)}}m.a.warn(W("mod.update_task_list"),JSON.stringify(a.modifyModTaskList))},e.prototype.getOldModInfoByModifyModOption=function(e){var t=this.getMap(e.mod_id),o={};return Object.keys(e).forEach((function(e){"mod_title"===e?o[e]=t.name:"mod_extra"===e?o[e]=t.modExtra:"mod_reserve"===e?o[e]=t.pptStep:"mod_horizontal_percent"===e?o[e]=t.horizontalPercent:"mod_vertical_percent"===e?o[e]=t.verticalPercent:"mod_scale"===e&&(o[e]=t.modScale)})),o},e.prototype.setModBefore=function(e,t){var o=t.mod_id,r=this.getModSendSwitch(o),n={setModAction:e,data:t,push:!1,status:r?i.InProgress:i.Pending};return this.updateModifyModTaskList(n),r},e.prototype.cachePushModifyModTaskHandle=function(e){var t,o=this;return e.forEach((function(e){var r=e.pushModSeq,i=e.data,n=i.mod_id;r>o.getMap(n).modSeq&&o.updateMap({modSeq:r,whiteboardID:n});var a=o.updateMapByModifyModOption(i,r,!0);a&&(t=t||{},Object.assign(t,a))})),t},e.prototype.setModRspAfter=function(e){var t=e.setModOption,o=e.sendResultType,r=e.setModAction,a=t.mod_id,s=this.getMap(a),u=e.errorData;if(o===n.success)m.a.warn(W("mod.set_mod_cb"),"success");else{var l=this.getOldModInfoByModifyModOption(t);if(r===c.Scroll){var d=F(F({},u),{whiteboardID:a,horizontalPercent:l.mod_horizontal_percent,verticalPercent:l.mod_vertical_percent,step:l.mod_reserve});j.e.emit(j.c.Scroll,d),m.a.warn(W("mod.set_mod_cb"),JSON.stringify(d))}else if(r===c.AppendH5Extra){3===(null==u?void 0:u.code)&&(u=Object(L.b)(z.a.ZegoWhiteboardViewErrorAnimationInfoLimit));var h=l.mod_extra.includes("H5_record");h&&(l.mod_extra=JSON.parse(l.mod_extra),l.mod_extra.H5_record.t=102,l.mod_extra=JSON.stringify(l.mod_extra));d=F(F({},u),{modExtra:l.mod_extra,whiteboardID:a,isH5:h});j.e.emit(j.c.AppendH5Extra,d),m.a.warn(W("mod.set_mod_cb"),JSON.stringify(d))}else if(r===c.Scale){d=F(F({},u),{whiteboardID:a,mod_scale:l.mod_scale});j.e.emit(j.c.Scale,d),m.a.warn(W("mod.set_mod_cb"),JSON.stringify(d))}}m.a.warn(W("mod.set_mod_cb_tasks"),JSON.stringify(s.modifyModTaskList)),s.modifyModTaskList.splice(0,1);var p=s.modifyModTaskList.filter((function(e){return e.push})),f=this.cachePushModifyModTaskHandle(p);m.a.warn(W("mod.set_mod_cb_push_map"),f?JSON.stringify(f):null),s.modifyModTaskList=s.modifyModTaskList.filter((function(e){return!e.push}));var g=s.modifyModTaskList[0];g&&(f?this.cacheCallback(f):(g.status=i.InProgress,this.setModHandle(g.setModAction,g.data)))},e.prototype.cacheCallback=function(e){var t=e.is_modify_mod_scale,o=e.is_modify_mod_extra,r=e.is_modify_mod_horizontal_percent,n=e.is_modify_mod_vertical_percent,a=e.is_modify_mod_reserve,s=e.mod_extra,u=e.mod_id,l=this.getMap(u),d=l.modifyModTaskList[0];if(d){var h=d.setModAction,p=!1;if(h===c.Scroll)if(r||n||a)p=!0;else{var f={code:1112,msg:"",whiteboardID:u,horizontalPercent:l.horizontalPercent,verticalPercent:l.verticalPercent,step:l.pptStep};j.e.emit(j.c.Scroll,f),m.a.warn(W("mod.set_mod_cb_cache"),JSON.stringify(f)),l.modifyModTaskList.splice(0,1),this.cacheCallback(e)}else if(h===c.AppendH5Extra)if(o&&s){var g=l.modExtra.includes("H5_record");f={code:1112,msg:"",modExtra:l.modExtra,whiteboardID:u,isH5:g};j.e.emit(j.c.AppendH5Extra,f),m.a.warn(W("mod.set_mod_cb_cache"),JSON.stringify(f)),l.modifyModTaskList.splice(0,1),this.cacheCallback(e)}else p=!0;else if(h===c.Scale)if(t){f={code:1112,msg:"",whiteboardID:u,mod_scale:l.modScale};j.e.emit(j.c.Scale,f),m.a.warn(W("mod.set_mod_cb_cache"),JSON.stringify(f)),l.modifyModTaskList.splice(0,1),this.cacheCallback(e)}else p=!0;else p=!0;p&&(m.a.warn(W("mod.set_mod_cb_cache"),"next set mod"),d.status=i.InProgress,this.setModHandle(d.setModAction,d.data))}},e.prototype.getModSendSwitch=function(e){var t=this.modIdMapData[e];return!t||!t.modifyModTaskList.some((function(e){return!e.push}))},e.prototype.transModInfo=function(e,t,o){var r={room_id:"",zorder:0},i={x:0,y:0,z:0,w:0,h:0,ar_w:1,ar_h:1},n={scale:1,ofs_x:0,ofs_y:0};if(e)try{var a=JSON.parse(e),s=a.file_info;s&&(a.file_info={fileID:s.file_id,fileName:s.file_name,fileType:+s.file_type}),r=a}catch(t){m.a.error(W("mod.trans"),JSON.stringify({error:t.message,modContentStr:e}))}if(t)try{i=JSON.parse(t)}catch(e){m.a.error(W("mod.trans"),JSON.stringify({error:e.message,modPosStr:t}))}if(o)try{(n=JSON.parse(o)).scale=Math.max(n.scale,1)}catch(e){}return{modContent:r,modPos:i,modScale:n}},e.prototype.checkModInfo=function(e){var t=this.getMap(e);return!!(t&&t.width&&t.height)&&t},e.prototype.deleteMap=function(e){delete this.modIdMapData[e]},e.prototype.getModPropSeq=function(e){return this.modIdMapData[e].modPropSeq},e.prototype.decodeH5Extra=function(e){return(e=e||"").includes("H5_")?e:D(e)},e.prototype.checkH5Extra=function(e,t,o){try{var r="",i=this.getH5Extra(e,!0);if(i){var n=JSON.parse(i);if(n.H5_target)if(t){var a=JSON.parse(t),s=n.H5_target,c=s.s,u=s.p,l=s.e,d=a.H5_target,h=d.s,p=d.p,f=d.e;if(h===c&&p===u)if(o)if(f.length<l.length)r=t;else if(f.length>l.length)a.H5_target.e=f.slice(l.length),r=JSON.stringify(a);else{var g=[];f.forEach((function(e,t){l.findIndex((function(t){return e.id===t.id}))!==t&&g.push(e)}));var m=f[f.length-1];r=g.length?(a.H5_target.e=g,JSON.stringify(a)):m.s?(a.H5_target.e=[m],JSON.stringify(a)):""}else{var _=l.findIndex((function(e){return e.s&&f[0].id===e.id}));-1!==_&&l.splice(_,1),n.H5_target.e=l.concat(f),r=JSON.stringify(n)}else r=t}else r="";else r=t}else r=t;return r}catch(e){return""}},e.prototype.updateMapByModifyModOption=function(e,t,o){var r,i=e.mod_id,n=e.mod_title,a=e.mod_horizontal_percent,s=e.mod_vertical_percent,c=e.mod_reserve,u=e.mod_scale,l=e.mod_content,d=e.is_modify_mod_horizontal_percent,h=e.is_modify_mod_vertical_percent,p=e.is_modify_mod_reserve,f=e.is_modify_mod_title,g=e.is_modify_mod_extra,_=e.is_modify_mod_scale,y=e.is_modify_mod_content,v=this.decodeH5Extra(e.mod_extra),b=this.getModPropSeq(i),w=b.mod_horizontal_percent,S=b.mod_vertical_percent,I=b.mod_reserve,x=b.mod_title,E=b.mod_extra,P=b.mod_scale,T=b.mod_content,D=this.getMap(i),O={isPushScroll:!1,horizontalPercent:D.horizontalPercent,verticalPercent:D.verticalPercent,pptStep:D.pptStep};if(d&&t>w){O.isPushScroll=!0,O.horizontalPercent=+a||0;var M={whiteboardID:i,horizontalPercent:O.horizontalPercent,modPropSeq:{mod_horizontal_percent:t}};m.a.info(W("mod.update_h_percent"),JSON.stringify(M)),this.updateMap(M)}if(h&&t>S){O.isPushScroll=!0,O.verticalPercent=+s||0,O.pptStep=+c||1;var A={whiteboardID:i,verticalPercent:O.verticalPercent,pptStep:O.pptStep,modPropSeq:{mod_vertical_percent:t}};m.a.info(W("mod.update_v_percent"),JSON.stringify(A)),this.updateMap(A)}if(p&&t>I){O.isPushScroll=!0,O.pptStep=+c||1;var C={whiteboardID:i,pptStep:O.pptStep,modPropSeq:{mod_reserve:t}};m.a.info(W("mod.update_step"),JSON.stringify(C)),this.updateMap(C)}if(O.isPushScroll&&o&&(this.pushScrollHandle(i,O.horizontalPercent,O.verticalPercent,O.pptStep),this.updateMap({whiteboardID:i,modExtra:""}),r=e),f&&t>x){var L={whiteboardID:i,name:n,modPropSeq:{mod_title:t}};m.a.info(W("mod.update_name"),JSON.stringify(L)),this.updateMap(L)}if(g&&t>E){var B={whiteboardID:i,modExtra:v,modPropSeq:{mod_extra:t}};if(o){var N=this.checkH5Extra(i,v,!0);N&&(this.pushExtraHandle(i,N),r=e)}m.a.info(W("mod.update_h5extra"),JSON.stringify(B)),this.updateMap(B)}if(_&&t>P){var V=JSON.parse(u);B={whiteboardID:i,modScale:V,modPropSeq:{mod_scale:t}};o&&this.pushScaleHandle(i,V.scale,V.ofs_x,V.ofs_y),m.a.info(W("mod.update_scale"),JSON.stringify(B)),this.updateMap(B)}if(y&&t>T){B={whiteboardID:i,zorder:JSON.parse(l).zorder,modPropSeq:{mod_content:t}};m.a.info(W("mod.update_content"),JSON.stringify(B)),this.updateMap(B),o&&this.pushSwitchViewHandle()}return r},e.prototype.updateMapByMod=function(e){var t=this.transModInfo(e.mod_content,e.mod_pos,e.mod_scale),o=t.modContent,r=t.modPos,i=t.modScale;this.updateMap({whiteboardID:e.mod_id,name:e.mod_title,aspectWidth:r.ar_w,aspectHeight:r.ar_h,roomID:o.room_id,uniqueID:o.unique_id,zorder:o.zorder,fileInfo:Object.freeze(o.file_info),createTime:e.mod_create_time?+e.mod_create_time:0,horizontalPercent:e.mod_horizontal_percent||0,verticalPercent:e.mod_vertical_percent||0,pptStep:e.mod_reserve||1,modScale:i,modType:e.mod_type,modSubtype:e.mod_subtype,modSeq:e.mod_seq,modExtra:this.decodeH5Extra(e.mod_extra),outPageCount:o.whiteboard_page_count,outZorder:o.zorder,modPropSeq:{mod_title:e.mod_seq,mod_type:e.mod_seq,mod_subtype:e.mod_seq,mod_pos:e.mod_seq,mod_status:e.mod_seq,mod_content:e.mod_seq,mod_extra:e.mod_seq,mod_reserve:e.mod_seq,mod_delete_flag:e.mod_seq,mod_horizontal_percent:e.mod_seq,mod_vertical_percent:e.mod_seq,mod_scale:e.mod_seq}})},e.prototype.updateModListSeq=function(e){e&&(this.modListSeq=e)},e.prototype.splitPage=function(e,t,o){var r=this.getMap(e);if(r&&t&&o){var i=1,n=0,a=0;t>=o?(n=a=o,(i=Math.ceil(t/o))>100&&(n=Math.ceil(t/99),i=100),r.innerDirection=z.e.Horizontal):(a=n=t,(i=Math.ceil(o/t))>100&&(a=Math.ceil(o/99),i=100),r.innerDirection=z.e.Vertical),r.innerPageCount=i;for(var s=0;s<i;s++)r.graphicListSeqs[s]||(r.graphicListSeqs[s]=0),r.pullMarks[s]=!1;r.innerPageSize.cx=n,r.innerPageSize.cy=a,m.a.info(W("mod.split_page"),JSON.stringify({whiteboardID:e,width:t,height:o,innerPageCx:n,innerPageCy:a,innerPageCount:i}))}},e.prototype.transGraphicList=function(e,t,o){var r=this;if(t&&t.length){var i=this.socket.isSendPB;t.forEach((function(t){e.some((function(e){return e.graphic_id===t.graphic_id}))||(t.zorder>r.zorderSeq&&(r.zorderSeq=t.zorder),i?M(t,!0):O(t,!0),r.setGraphicItem(t),C(t,o,!0),t.color=Object(v.s)(t.color,!0),e.push(t))}))}},e.prototype.pushScrollHandle=function(e,t,o,r){j.e.emit(j.c.PushScroll,e,t,o,r)},e.prototype.pushScaleHandle=function(e,t,o,r){j.e.emit(j.c.PushScale,e,t,o,r)},e.prototype.pushExtraHandle=function(e,t){j.e.emit(j.c.PushH5ExtraAppended,e,t)},e.prototype.pushSwitchViewHandle=function(){var e=this.getCurrentActivitedView(),t=e[0],o=e[1];j.e.emit(j.d.RemoteSwitchMod,t,o)},e.prototype.pushSetModHandle=function(e){var t=e.mod_list_seq,o=e.action_list[0],r=o.action;r===s.Removed?this.pushRemovedMod(o.mod_id):r===s.Add&&this.pushAddMod(o),t>=this.modListSeq?(this.updateModListSeq(t),r===s.Modify&&this.pushModifyMod(o)):m.a.warn(W("mod.remote"),JSON.stringify({localModListSeq:this.modListSeq,remoteModListSeq:t,msg:"throw away"}))},e.prototype.pushClearPageGraphicsHandle=function(e){var t=e.action_seqs,o=e.pages,r=e.layers,i=e.mod_id;if(this.checkModInfo(i)){var n={};o&&o.forEach((function(e,o){return n[e]=t[o]})),m.a.info(W("gra.update_seq"),JSON.stringify({whiteboardID:i,graphicListSeqs:n,layers:r,actionMsg:"remote clear"})),this.updateMapByGraphicListSeqs(i,n),this.updateMap({whiteboardID:i,operateTimes:0}),j.e.emit(j.c.PushClearPageGraphics,i,r)}},e.prototype.pushDrawPageGraphicsHandle=function(e){var t=this,o=e.page_graphics,r=e.mod_id,i=this.checkModInfo(r);if(i){m.a.info(W("gra.remote_draw"),JSON.stringify({drawPages:o}));var n=i.width,a={},s=[],c=[];o.forEach((function(e){var o=e.del_graphic_id_list,r=e.graphic_list,u=e.action_seq,l=e.page;(!i.graphicListSeqs[l]||u>i.graphicListSeqs[l])&&(t.transGraphicList(s,r,n),o&&c.push.apply(c,o),a[l]=u)})),m.a.info(W("gra.update_seq"),JSON.stringify({whiteboardID:r,graphicListSeqs:a,actionMsg:"remote_draw"})),this.updateMapByGraphicListSeqs(r,a),j.e.emit(j.c.PushDrawPageGraphics,r,s,c)}},e.prototype.pushAddMod=function(e){var t=e.mod_id;m.a.info(W("mod.remote_add"),JSON.stringify({whiteboardID:t})),this.updateMapByMod(e),j.e.emit(j.c.PushAddMod,t,this.getMap(t).uniqueID)},e.prototype.pushRemovedMod=function(e){var t=this.getMap(e).uniqueID;this.deleteMap(e),j.e.emit(j.c.PushRemovedMod,e,t)},e.prototype.pushModifyMod=function(e){e.mod_horizontal_percent||(e.mod_horizontal_percent=0),e.mod_vertical_percent||(e.mod_vertical_percent=0);var t=e.mod_id,o=e.mod_seq,r=e.mod_title,n=e.mod_horizontal_percent,a=e.mod_vertical_percent,s=e.mod_reserve,c=e.mod_extra,u=e.mod_scale,l=e.mod_content,d=e.is_modify_mod_vertical_percent,h=e.is_modify_mod_horizontal_percent,p=e.is_modify_mod_reserve,f=e.is_modify_mod_title,g=e.is_modify_mod_extra,_=e.is_modify_mod_scale,y=e.is_modify_mod_content,v=this.getMap(t);if(v)if(this.getModSendSwitch(t)){if(m.a.info(W("mod.remote_modify"),"immediate update"),o>v.modSeq){var b={whiteboardID:t,modSeq:o};this.updateMap(b)}this.updateMapByModifyModOption(e,o,!0)}else{m.a.info(W("mod.remote_modify"),"cache");var w={mod_id:t};f&&Object.assign(w,{mod_title:r,is_modify_mod_title:f}),g&&Object.assign(w,{mod_extra:c,is_modify_mod_extra:g}),h&&Object.assign(w,{mod_horizontal_percent:n,is_modify_mod_horizontal_percent:h}),d&&Object.assign(w,{mod_vertical_percent:a,is_modify_mod_vertical_percent:d,mod_reserve:s,is_modify_mod_reserve:p}),p&&Object.assign(w,{mod_reserve:s,is_modify_mod_reserve:p}),_&&Object.assign(w,{mod_scale:u,is_modify_mod_scale:_}),y&&Object.assign(w,{mod_content:l,is_modify_mod_content:y}),this.updateModifyModTaskList({status:i.Pending,data:w,push:!0,pushModSeq:o})}},e.prototype.clearPullMarks=function(e){var t=this;m.a.info(W("mod.clear_pull_mark"),"init pull mark");var o=e?[e]:Object.keys(this.modIdMapData);Object.values(o).forEach((function(e){var o=t.modIdMapData[e];o&&Object.keys(o.pullMarks).forEach((function(e){o.pullMarks[+e]=!1}))}))},e.prototype.createModInfo=function(e){var t={};if(e.fileInfo){var o=e.fileInfo,r=o.fileID,i=o.fileName,n=o.fileType;t.file_info={file_id:r,file_name:i,file_type:n}}e.pageCount&&(t.whiteboard_page_count=e.pageCount);var a=e.uniqueID;a&&(t.unique_id=a,t.zorder=Date.now()+this.socket.getServerTimeOffset());return{modContent:t,modPos:{x:0,y:0,z:0,w:0,h:0,ar_w:e.aspectWidth,ar_h:e.aspectHeight},modScale:{scale:1,ofs_x:0,ofs_y:0}}},e.prototype.compareHandle=function(e,t){var o=this;m.a.info(W("mod.compare"),"compare local with server");var i=Object.keys(this.modIdMapData);t.forEach((function(t){var n=t.mod_id,a=t.mod_horizontal_percent,s=t.mod_vertical_percent,c=t.mod_reserve;if(n+="",a=a||0,s=s||0,c=c||1,Object.assign(t,{mod_horizontal_percent:a,mod_vertical_percent:s,mod_reserve:c}),-1===i.indexOf(n))e===r.Inner?o.pushAddMod(t):o.updateMapByMod(t);else{var u=o.getMap(n),l=u.horizontalPercent,d=u.verticalPercent,h=u.pptStep;o.updateMapByMod(t),l===a&&d===s&&c===h||o.pushScrollHandle(n,a,s,c)}})),i.forEach((function(i){-1===t.findIndex((function(e){return e.mod_id===i}))&&(e===r.Inner?o.pushRemovedMod(i):o.deleteMap(i))}))},e.prototype.handleGetModListDetailsRsp=function(e,t){var o=e.header,r=e.body,i=o.code,n=o.message;if(0===i){var a=r.mod_list_seq,s=r.mod_list;return a&&this.updateModListSeq(a),m.a.info(W("mod.update_seq"),JSON.stringify({modListSeq:a,actionMsg:"get list cb success"})),(s=s||[]).sort((function(e,t){return+t.mod_create_time-+e.mod_create_time})),this.compareHandle(t,s),Promise.resolve(s)}var c=Object(L.b)(i,n);return m.a.error(W("mod.get_list_cb"),JSON.stringify(c)),Promise.reject(c)},e.prototype.handleDestroyModRsp=function(e){var t=e.header,o=e.body,r=t.code,i=t.message;if(0===r){var n=o.mod_list_seq,a=o.mod_id;return this.updateModListSeq(n),m.a.info(W("mod.update_seq"),JSON.stringify({modListSeq:n,actionMsg:"destroy cb success"})),this.deleteMap(a),Promise.resolve()}var s=Object(L.b)(r,i);return m.a.error(W("mod.destroy_cb"),JSON.stringify(s)),Promise.reject(s)},e.prototype.handleCreateModRsp=function(e){return R(this,void 0,void 0,(function(){var t,o,r,i,n,a,s,c,u,l,d;return Z(this,(function(h){switch(h.label){case 0:if(t=e.header,o=e.body,r=t.code,i=t.message,0!==r)return[3,5];n=o.mod_list_seq,a=o.mod_id,this.updateModListSeq(n),m.a.info(W("mod.update_seq"),JSON.stringify({modListSeq:n,actionMsg:"create cb success"})),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.getModInfo([a])];case 2:return s=h.sent(),c=s[0],this.updateMapByMod(c),[2,c.mod_id];case 3:return u=h.sent(),[2,Promise.reject(u)];case 4:return[3,6];case 5:return l=3===r?z.a.ZegoWhiteboardViewErrorViewNameLimit:r,d=Object(L.b)(l,i),m.a.error(W("mod.create_cb"),JSON.stringify(d)),[2,Promise.reject(d)];case 6:return[2]}}))}))},e.prototype.handleGetModInfoRsp=function(e){var t=e.header,o=e.body,r=t.code,i=t.message;if(0===r){var n=o.mod_list;return m.a.info(W("mod.get_info_cb"),"success"),Promise.resolve(n||[])}var a=Object(L.b)(r,i);return m.a.error(W("mod.get_info_cb"),JSON.stringify(a)),Promise.reject(a)},e.prototype.handleSetModRsp=function(e,t,o){var r=o.header,i=o.body,a=r.code,s=r.message;if(0===a){var c=i.mod_list_seq,u=i.mod_seq,l=i.mod_id;this.modListSeq=c,this.updateMap({whiteboardID:l,modSeq:u}),this.updateMapByModifyModOption(t,u,!1),this.setModRspAfter({setModAction:e,setModOption:t,sendResultType:n.success})}else this.setModRspAfter({setModAction:e,setModOption:t,sendResultType:n.error,errorData:3===a?{code:a,msg:s}:Object(L.b)(a,s)})},e.prototype.handleGetPageGraphicsListRsp=function(e,t){var o=this,r=t.header,i=t.body,n=r.code,a=r.message;if(0===n){var s=this.checkModInfo(e);if(!s)return;var c=s.width,u=i.pages,l=[],d=[],h={},p=[],f=[];u.forEach((function(t){var r=t.page,i=t.ret_graphic_list_seq,n=t.svr_graphic_list_seq,a=t.graphic_list,s=t.del_graphic_id_list;o.transGraphicList(p,a,c),s&&f.push.apply(f,s),h[r]=n,n!==i&&0!==i?(l.push(r),d.push(i)):o.getMap(e).pullMarks[r]=!0})),m.a.info(W("gra.update_seq"),JSON.stringify({whiteboardID:e,graphicListSeqs:h,actionMsg:"get list cb success"})),this.updateMapByGraphicListSeqs(e,h),j.e.emit(j.c.GetPageGraphicsList,e,p,f),l.length&&(m.a.info(W("gra.get_list_cb"),"increment get"),this.getPageGraphicsList(e,l,d))}else{var g=Object(L.b)(n,a);m.a.error(W("gra.get_list_cb"),JSON.stringify(g))}},e.prototype.getModInfo=function(e){return R(this,void 0,void 0,(function(){var t;return Z(this,(function(o){switch(o.label){case 0:return[4,this.socket.queueWSCmdHandler(_.GetMod,{mod_id_list:e})];case 1:return t=o.sent(),[2,this.handleGetModInfoRsp(t)]}}))}))},e.prototype.getModListDetails=function(e,t){return void 0===e&&(e=r.Initiative),void 0===t&&(t=this.defaultModListSeq),R(this,void 0,void 0,(function(){var o;return Z(this,(function(r){switch(r.label){case 0:return[4,this.socket.queueWSCmdHandler(_.GetModList,{mod_list_seq:t,limit:this.modLimit,marker:this.marker,mod_type:this.defaultModType})];case 1:return o=r.sent(),[2,this.handleGetModListDetailsRsp(o,e)]}}))}))},e.prototype.setModHandle=function(e,t){return R(this,void 0,void 0,(function(){var o,r;return Z(this,(function(i){switch(i.label){case 0:return o=t.mod_id,[4,this.socket.queueWSCmdHandler(_.ModifyMod,F({mod_seq:this.getMap(o).modSeq},t))];case 1:return r=i.sent(),this.handleSetModRsp(e,t,r),[2]}}))}))},e.prototype.setMod=function(e,t){this.setModBefore(e,t)&&this.setModHandle(e,t)},e.prototype.checkScroll=function(e,t,o,r){var i=this.getMap(e);if(i){var n=i.horizontalPercent,a=i.verticalPercent,s=i.pptStep,c=!1,u={mod_id:e};return t!==n&&(u.mod_horizontal_percent=t,u.is_modify_mod_horizontal_percent=!0,c=u),o===a&&r===s||(u.mod_vertical_percent=o,u.is_modify_mod_vertical_percent=o!==a,u.mod_reserve=r,u.is_modify_mod_reserve=!0,c=u),c}return!1},e.prototype.checkScale=function(e,t,o,r){return!!this.getMap(e)&&{mod_id:e,mod_scale:JSON.stringify({scale:t,ofs_x:o,ofs_y:r}),is_modify_mod_scale:!0}},e.prototype.checkSwitchView=function(e){var t=this.getMap(e);if(t){var o={unique_id:t.uniqueID,whiteboard_page_count:t.outPageCount,zorder:Date.now()+this.socket.getServerTimeOffset()};if(t.fileInfo){var r=t.fileInfo,i=r.fileID,n=r.fileName,a=r.fileType;o.file_info={file_id:i,file_name:n,file_type:a}}return{mod_id:e,mod_content:JSON.stringify(o),is_modify_mod_content:!0}}return!1},e.prototype.getCurrentPages=function(e,t,o){var r,i,n=this.getMap(e),a=n.width,s=n.height,c=n.innerPageSize,u=n.viewWidth,l=n.viewHeight;n.innerDirection===z.e.Horizontal?(r=Math.floor(a*t/c.cx),i=Math.floor((u+a*t)/c.cx)):(r=Math.floor(s*o/c.cy),i=Math.floor((l+s*o)/c.cy));var d=i-r+1;return{minPage:r=Math.max(0,r-d),maxPage:i=(i+=d)>99?99:Math.min(i,n.innerPageCount-1)}},e.prototype.initUserAuthMap=function(){this.userAuthMap.syncTaskId&&window.clearInterval(this.userAuthMap.syncTaskId),this.userAuthMap.roomSeq=0,this.userAuthMap.userSeq=0,this.userAuthMap.syncTaskId=0,this.userAuthMap.model=Object.freeze({scale:1,scroll:1,update:1,delete:1,move:1,clear:1,create:1}),j.e.emit(j.c.PushAuthChange,{scale:1,scroll:1},{update:1,delete:1,move:1,clear:1,create:1})},e.prototype.getRemoteRoomUserAuth=function(e){return R(this,void 0,void 0,(function(){var t,o,r,i,n,a;return Z(this,(function(s){switch(s.label){case 0:return t="room"==e?_.GetRoomAuth:_.GetUserAuth,[4,this.socket.queueWSCmdHandler(t,{})];case 1:return o=s.sent(),r=o.header,i=r.code,n=r.message,0===i?(m.a.info(W("mod.get_"+e+"_auth_cb"),"success"),[2,o.body]):(a=Object(L.b)(i,n),m.a.error(W("mod.get_"+e+"_auth_cb"),JSON.stringify(a)),[2,Promise.reject(a)])}}))}))},e.prototype.setUserAuthMap=function(e){if(e.auth_seq=e.auth_seq||0,!(e.auth_seq<=0)&&(e.id_name?this.userAuthMap.userSeq=e.auth_seq:this.userAuthMap.roomSeq=e.auth_seq,e.id_name||0==this.userAuthMap.userSeq)){var t=JSON.parse(JSON.stringify(this.userAuthMap.model)),o={scale:1,scroll:1,update:1,delete:1,move:1,clear:1,create:1},r=e.module_auth||[];o.scale=+r.includes(b.k.Scale),o.scroll=+r.includes(b.k.Scroll),r=e.graphic_auth||[],o.update=+r.includes(b.l.Update),o.delete=+r.includes(b.l.Delete),o.move=+r.includes(b.l.Move),o.clear=+r.includes(b.l.Clear),o.create=+r.includes(b.l.Create),this.userAuthMap.model=Object.freeze(o),this.onPushAuthChange(this.userAuthMap.model,t)}},e.prototype.onPushAuthChange=function(e,t){var o,r;e.scale==t.scale&&e.scroll==t.scroll||(o={scale:e.scale,scroll:e.scroll}),e.update==t.update&&e.delete==t.delete&&e.move==t.move&&e.clear==t.clear&&e.create==t.create||(r={update:e.update,delete:e.delete,move:e.move,clear:e.clear,create:e.create}),j.e.emit(j.c.PushAuthChange,o,r)},e.prototype.pushUserAuthHandle=function(e){var t=this,o=this.socket.getUserID(),r=this.userAuthMap.userSeq;e.user_auth.some((function(e){return e.id_name===o&&e.auth_seq>r&&(t.setUserAuthMap(e),!0)}))},e.prototype.syncRemoteSeq=function(){return R(this,void 0,void 0,(function(){var e,t,o,r,i,n,a=this;return Z(this,(function(s){switch(s.label){case 0:return[4,this.socket.queueWSCmdHandler(_.Sync,{})];case 1:return 0===(e=s.sent()).header.code&&(t=e.body,o=t.sync_interval,r=t.room_auth_seq,i=t.user_auth_seq,n=t.mod_list_seq,this.userAuthMap.syncTaskId||(this.userAuthMap.syncTaskId=window.setInterval((function(){a.syncRemoteSeq()}),1e3*(o||30))),this.syncRoomUserAuth(r,i),this.syncModuleHandle(n)),[2]}}))}))},e.prototype.getPageGraphicsList=function(e,t,o){return R(this,void 0,void 0,(function(){var r,i,n;return Z(this,(function(a){switch(a.label){case 0:return r=this.getMap(e),i=r.graphicListSeqs,!t.includes(0)&&t.unshift(0),o||(o=t.map((function(e){return r.pullMarks[e]&&i[e]||0}))),o.length<t.length&&o.unshift(i[0]||0),[4,this.socket.queueWSCmdHandler(_.GetPageGraphics,{mod_id:e,pages:t,graphic_list_seqs:o,limit:this.graphicLimit})];case 1:return n=a.sent(),this.handleGetPageGraphicsListRsp(e,n),[2]}}))}))},e.prototype.syncModuleHandle=function(e){m.a.info(W("mod.get_list_sync"),JSON.stringify({localModListSeq:this.modListSeq,svrModListSeq:e})),e>this.modListSeq&&this.getModListDetails(r.Inner,this.modListSeq?this.modListSeq:this.defaultModListSeq)},e.prototype.syncRoomUserAuth=function(e,t){var o=this;m.a.info(W("mod.sync_room_user_auth_cb"),JSON.stringify({localRoom:this.userAuthMap.roomSeq,serverRoom:e,localUser:this.userAuthMap.userSeq,serverUser:t})),t=t||0,(e=e||0)>this.userAuthMap.roomSeq&&(this.userAuthMap.roomSeq=e,this.getRemoteRoomUserAuth("room").then((function(e){return o.setUserAuthMap(e)}))),t>this.userAuthMap.userSeq&&(this.userAuthMap.userSeq=t,this.getRemoteRoomUserAuth("user").then((function(e){return o.setUserAuthMap(e)})))},e.prototype.checkLogin=function(){return"CONNECTED"===this.socket.getRoomState()||Promise.reject(Object(L.b)(z.a.ZegoWhiteboardViewErrorNoLoginRoom))},e.prototype.getModList=function(){return R(this,void 0,void 0,(function(){var e,t,o;return Z(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),!0!==(e=this.checkLogin())?[2,e]:(m.a.info(W("mod.get_list"),JSON.stringify({localModListSeq:this.modListSeq})),[4,this.getModListDetails(r.Initiative)]);case 1:return t=i.sent(),[2,Promise.resolve(t.map((function(e){return e.mod_id})))];case 2:return o=i.sent(),[2,Promise.reject(o)];case 3:return[2]}}))}))},e.prototype.destroyMod=function(e){return R(this,void 0,void 0,(function(){var t,o;return Z(this,(function(r){switch(r.label){case 0:return!0!==(t=this.checkLogin())?[2,t]:[4,this.socket.queueWSCmdHandler(_.DestroyMod,{mod_id:e})];case 1:return o=r.sent(),[2,this.handleDestroyModRsp(o)]}}))}))},e.prototype.createMod=function(e,t){return R(this,void 0,void 0,(function(){var o,r,i,n,a,s,c;return Z(this,(function(u){switch(u.label){case 0:return!0!==(o=this.checkLogin())?[2,o]:(r=this.createModInfo(e),i=r.modContent,n=r.modPos,a=r.modScale,s={mod_id:t||Object(v.d)(),mod_title:e.name,mod_type:this.defaultModType,mod_subtype:this.defaultModSubtype,mod_delete_flag:this.defaultModDeleteFlag,mod_content:JSON.stringify(i),mod_horizontal_percent:this.defaultHPercent,mod_vertical_percent:this.defaultVPercent,mod_reserve:this.defaultModReserve,mod_pos:JSON.stringify(n),mod_scale:JSON.stringify(a)},[4,this.socket.queueWSCmdHandler(_.CreateMod,s)]);case 1:return c=u.sent(),[2,this.handleCreateModRsp(c)]}}))}))},e.prototype.getUserAuth=function(){return this.userAuthMap.model},e.prototype.updateMapByGraphicListSeqs=function(e,t){var o=this.getMap(e).graphicListSeqs;Object.keys(t).forEach((function(e){o[+e]=t[+e]}))},e.prototype.setGraphicItem=function(e){var t=e.operate_id,o=e.data;this.graphicMap[e.graphic_id]={is_end_draw:!t||e.is_end_draw,server_timestamp:+e.server_timestamp||0,operate_id:t,type:e.type,pointData:{x:e.x||0,y:e.y||0,px:e.px||0,py:e.py||0,data:"object"==q(o)?JSON.parse(JSON.stringify(o)):o}}},e.prototype.getGraphicItem=function(e){return this.graphicMap[e]},e.prototype.clearGraphicMap=function(){this.graphicMap={}},e.prototype.updateGraphicMap=function(e,t){var o=this,r=this.getMap(e).width;t.forEach((function(e){C(e,r,!1),o.setGraphicItem(e)}))},e.prototype.reloadViewGraphics=function(e,t){var o=this,r=this.getMap(e).width;t.forEach((function(e){var t=o.getGraphicItem(e.graphic_id).pointData,i=t.x,n=t.y,a=t.px,s=t.py,c=t.data;e.x=i,e.y=n,e.px=a,e.py=s,e.data="object"==q(c)?JSON.parse(JSON.stringify(c)):c,C(e,r,!0)}))},e.prototype.updateMap=function(e){var t=this.getMap(e.whiteboardID);if(t){var o=e.modPropSeq;o&&Object.assign(t.modPropSeq||{},o),delete e.modPropSeq,Object.assign(t,e)}else this.modIdMapData[e.whiteboardID]=F({graphicListSeqs:{0:0},pullMarks:{0:!1},modSeq:0,width:0,height:0,viewWidth:0,viewHeight:0,innerPageCount:1,innerDirection:z.e.Horizontal,innerPageSize:{cx:0,cy:0},modType:this.defaultModType,modSubtype:this.defaultModSubtype,operateTimes:0,inProgress:!1,graphicSendSwitch:!0,modifyModTaskList:[],moveTaskList:[]},e)},e.prototype.getMap=function(e){return this.modIdMapData[e]},e.prototype.appendH5Extra=function(e,t){m.a.warn(W("mod.append_extra_origin"),t);var o=this.checkH5Extra(e,t,!1);if(o){m.a.warn(W("mod.append_extra_new"),o);var r,i={mod_id:e,mod_extra:o.includes("H5_record")?(r=o,x(E(r))):o,is_modify_mod_extra:!0};this.setMod(c.AppendH5Extra,i)}},e.prototype.scroll=function(e,t,o,r,i){m.a.warn(W("mod.scroll_origin"),JSON.stringify({hPercent:t,vPercent:o,pptStep:r}));var n=this.checkScroll(e,t,o,r);if(n){if(n.mod_extra="",n.is_modify_mod_extra=!0,i){var a=this.getMap(e).modScale,s=a.scale,u=a.ofs_x,l=i.scaleFactor,d=i.scaleOffsetX,h=i.scaleOffsetY?{scale:l,ofs_x:d,ofs_y:0}:{scale:s,ofs_x:u,ofs_y:0};n.mod_scale=JSON.stringify(h),n.is_modify_mod_scale=!0}m.a.warn(W("mod.scroll_new"),JSON.stringify(n)),this.setMod(c.Scroll,n)}},e.prototype.scale=function(e,t,o,r){m.a.warn(W("mod.scale_origin"),JSON.stringify({scale:t,ofs_x:o,ofs_y:r}));var i=this.checkScale(e,t,o,r);i&&(m.a.warn(W("mod.scale_new"),JSON.stringify(i)),this.setMod(c.Scale,i))},e.prototype.getAspectRatio=function(e){var t=this.getMap(e);return t.aspectWidth+":"+t.aspectHeight},e.prototype.getFileInfo=function(e){var t=this.getMap(e);return t&&t.fileInfo||null},e.prototype.getScrollPercent=function(e){var t=this.getMap(e);return{horizontalPercent:t.horizontalPercent,verticalPercent:t.verticalPercent,pptStep:t.pptStep,direction:t.innerDirection}},e.prototype.getScale=function(e){var t=this.getMap(e);return{scaleFactor:t.modScale.scale,scaleOffsetX:t.modScale.ofs_x,scaleOffsetY:t.modScale.ofs_y}},e.prototype.loadCurrentGraphics=function(e,t,o){for(var r=this.getMap(e),i=this.getCurrentPages(e,t,o),n=i.minPage,a=i.maxPage,s=[],c=n;c<=a;c++){!r.pullMarks[c]&&s.push(c)}m.a.info(W("gra.load_by_percent"),JSON.stringify({horizontalPercent:t,verticalPercent:o,minPage:n,maxPage:a,pageNumList:s})),s.length&&this.getPageGraphicsList(e,s)},e.prototype.reload=function(){var e=this;this.syncRemoteSeq(),this.clearPullMarks(),this.getModListDetails(r.Inner),this.onRemotePush(),this.getRemoteAuth();try{Object.values(this.modIdMapData).forEach((function(t){e.loadCurrentGraphics(t.whiteboardID,t.horizontalPercent,t.verticalPercent)}))}catch(e){m.a.error(W("reload_graphics"),"error")}m.a.info(W("reload"),"reload whiteboard")},e.prototype.unload=function(){this.userAuthMap.syncTaskId&&window.clearInterval(this.userAuthMap.syncTaskId),m.a.info(W("unload"),"unload whiteboard")},e.prototype.onRemotePush=function(){var e=this;this.socket.registerWbMessage((function(t){var o=t.sub_cmd,r=t.msg_body;switch(o){case 291101:e.pushSetModHandle(r);break;case 291203:e.pushDrawPageGraphicsHandle(r);break;case 291204:e.pushClearPageGraphicsHandle(r);break;case 291501:e.pushUserAuthHandle(r);break;case 291502:e.setUserAuthMap(r)}}))},e.prototype.getRemoteAuth=function(){var e=this;this.initUserAuthMap(),this.getRemoteRoomUserAuth("room").then((function(t){e.setUserAuthMap(t),e.syncRemoteSeq()})),this.getRemoteRoomUserAuth("user").then((function(t){e.setUserAuthMap(t)}))},e.prototype.getModName=function(e){var t=this.getMap(e);return(null==t?void 0:t.name)||""},e.prototype.getCreateTime=function(e){var t=this.getMap(e);return(null==t?void 0:t.createTime)||0},e.prototype.getRoomID=function(e){var t=this.getMap(e);return(null==t?void 0:t.roomID)||""},e.prototype.getUniqueID=function(e){var t=this.getMap(e);return(null==t?void 0:t.uniqueID)||""},e.prototype.getPageCount=function(e){var t=this.getMap(e);return(null==t?void 0:t.outPageCount)||1},e.prototype.setSize=function(e,t,o){var r=this.getMap(e);return!!(r&&t&&o)&&(r.width=t,r.height=o,m.a.info(W("mod.set_view_size"),JSON.stringify({whiteboardID:e,width:t,height:o})),this.splitPage(e,t,o),!0)},e.prototype.setViewSize=function(e,t,o){var r=this.getMap(e);return!!(r&&t&&o)&&(m.a.info(W("mod.set_viewpoart_size"),JSON.stringify({whiteboardID:e,viewWidth:t,viewHeight:o})),r.viewHeight=o,r.viewWidth=t,!0)},e.prototype.setRenderStatus=function(e,t){return void 0!==t&&(Object.values(this.modIdMapData).forEach((function(o){t?o.whiteboardID===e?o.renderStatus=1:o.renderStatus=0:o.whiteboardID===e&&(o.renderStatus=0)})),!0)},e.prototype.getH5Extra=function(e,t){var o=this.getMap(e),r=o?o.modExtra:"";if(m.a.info(W("mod.get_h5extra"),JSON.stringify({whiteboardID:e,modExtra:r})),r&&!t){var i=JSON.parse(r);i.H5_record&&(i.H5_record.t=101,r=JSON.stringify(i))}return r},e.prototype.createZorder=function(){return this.zorderSeq+=this.zorderStep},e.prototype.switchView=function(e){m.a.warn(W("mod.switch_view_origin"),e);var t=this.checkSwitchView(e);return t?(m.a.warn(W("mod.switch_view_new"),JSON.stringify(t)),this.setModHandle(c.Other,t)):Promise.reject()},e.prototype.getCurrentActivitedView=function(){var e=0,t="";Object.values(this.modIdMapData).forEach((function(o){o.zorder&&o.zorder>e&&(e=o.zorder,t=o.whiteboardID)}));var o=t?[this.modIdMapData[t].uniqueID,t]:[];return m.a.info(W("mod.switch_view_remote"),JSON.stringify(o)),o},e}(),U=(o(65),o(278)),J=o.n(U),X=o(22);const Y=X.Reader,Q=X.Writer,K=X.util,$=X.roots.default||(X.roots.default={});$.proto_access_pb=(()=>{const e={};return e.proto_req_header=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.protocol="",e.prototype.cmd="",e.prototype.appid=0,e.prototype.seq=0,e.prototype.user_id="",e.prototype.session_id="",e.prototype.room_id="",e.prototype.room_session_id="",e.prototype.biz_version="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),null!=e.protocol&&Object.hasOwnProperty.call(e,"protocol")&&t.uint32(10).string(e.protocol),null!=e.cmd&&Object.hasOwnProperty.call(e,"cmd")&&t.uint32(18).string(e.cmd),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(24).uint32(e.appid),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(32).uint32(e.seq),null!=e.user_id&&Object.hasOwnProperty.call(e,"user_id")&&t.uint32(42).string(e.user_id),null!=e.session_id&&Object.hasOwnProperty.call(e,"session_id")&&t.uint32(50).string(e.session_id),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(58).string(e.room_id),null!=e.room_session_id&&Object.hasOwnProperty.call(e,"room_session_id")&&t.uint32(66).string(e.room_session_id),null!=e.biz_version&&Object.hasOwnProperty.call(e,"biz_version")&&t.uint32(74).string(e.biz_version),t},e}(),e.proto_biz_channel=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.channel="",e.prototype.cmd="",e.prototype.req_body=K.newBuffer([]),e.prototype.is_retry_req=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),null!=e.channel&&Object.hasOwnProperty.call(e,"channel")&&t.uint32(10).string(e.channel),null!=e.cmd&&Object.hasOwnProperty.call(e,"cmd")&&t.uint32(18).string(e.cmd),null!=e.req_body&&Object.hasOwnProperty.call(e,"req_body")&&t.uint32(26).bytes(e.req_body),null!=e.is_retry_req&&Object.hasOwnProperty.call(e,"is_retry_req")&&t.uint32(32).uint32(e.is_retry_req),t},e}(),e.proto_rsp_header=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.protocol="",e.prototype.cmd="",e.prototype.appid=0,e.prototype.seq=0,e.prototype.user_id="",e.prototype.session_id="",e.prototype.room_id="",e.prototype.room_session_id="",e.prototype.biz_version="",e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_access_pb.proto_rsp_header;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.protocol=e.string();break;case 2:r.cmd=e.string();break;case 3:r.appid=e.uint32();break;case 4:r.seq=e.uint32();break;case 5:r.user_id=e.string();break;case 6:r.session_id=e.string();break;case 7:r.room_id=e.string();break;case 8:r.room_session_id=e.string();break;case 9:r.biz_version=e.string();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_access_pb.proto_rsp_header)return e;let t=new $.proto_access_pb.proto_rsp_header;return null!=e.protocol&&(t.protocol=String(e.protocol)),null!=e.cmd&&(t.cmd=String(e.cmd)),null!=e.appid&&(t.appid=e.appid>>>0),null!=e.seq&&(t.seq=e.seq>>>0),null!=e.user_id&&(t.user_id=String(e.user_id)),null!=e.session_id&&(t.session_id=String(e.session_id)),null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.room_session_id&&(t.room_session_id=String(e.room_session_id)),null!=e.biz_version&&(t.biz_version=String(e.biz_version)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.protocol="",o.cmd="",o.appid=0,o.seq=0,o.user_id="",o.session_id="",o.room_id="",o.room_session_id="",o.biz_version=""),null!=e.protocol&&e.hasOwnProperty("protocol")&&(o.protocol=e.protocol),null!=e.cmd&&e.hasOwnProperty("cmd")&&(o.cmd=e.cmd),null!=e.appid&&e.hasOwnProperty("appid")&&(o.appid=e.appid),null!=e.seq&&e.hasOwnProperty("seq")&&(o.seq=e.seq),null!=e.user_id&&e.hasOwnProperty("user_id")&&(o.user_id=e.user_id),null!=e.session_id&&e.hasOwnProperty("session_id")&&(o.session_id=e.session_id),null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),null!=e.room_session_id&&e.hasOwnProperty("room_session_id")&&(o.room_session_id=e.room_session_id),null!=e.biz_version&&e.hasOwnProperty("biz_version")&&(o.biz_version=e.biz_version),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_biz_channel_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.err_code=0,e.prototype.err_message="",e.prototype.channel="",e.prototype.cmd="",e.prototype.rsp_body=K.newBuffer([]),e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_access_pb.proto_biz_channel_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.err_code=e.int32();break;case 2:r.err_message=e.string();break;case 3:r.channel=e.string();break;case 4:r.cmd=e.string();break;case 5:r.rsp_body=e.bytes();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_access_pb.proto_biz_channel_rsp)return e;let t=new $.proto_access_pb.proto_biz_channel_rsp;return null!=e.err_code&&(t.err_code=0|e.err_code),null!=e.err_message&&(t.err_message=String(e.err_message)),null!=e.channel&&(t.channel=String(e.channel)),null!=e.cmd&&(t.cmd=String(e.cmd)),null!=e.rsp_body&&("string"==typeof e.rsp_body?K.base64.decode(e.rsp_body,t.rsp_body=K.newBuffer(K.base64.length(e.rsp_body)),0):e.rsp_body.length&&(t.rsp_body=e.rsp_body)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.err_code=0,o.err_message="",o.channel="",o.cmd="",t.bytes===String?o.rsp_body="":(o.rsp_body=[],t.bytes!==Array&&(o.rsp_body=K.newBuffer(o.rsp_body)))),null!=e.err_code&&e.hasOwnProperty("err_code")&&(o.err_code=e.err_code),null!=e.err_message&&e.hasOwnProperty("err_message")&&(o.err_message=e.err_message),null!=e.channel&&e.hasOwnProperty("channel")&&(o.channel=e.channel),null!=e.cmd&&e.hasOwnProperty("cmd")&&(o.cmd=e.cmd),null!=e.rsp_body&&e.hasOwnProperty("rsp_body")&&(o.rsp_body=t.bytes===String?K.base64.encode(e.rsp_body,0,e.rsp_body.length):t.bytes===Array?Array.prototype.slice.call(e.rsp_body):e.rsp_body),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_push_header=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.protocol="",e.prototype.cmd="",e.prototype.appid=0,e.prototype.user_id="",e.prototype.session_id="",e.prototype.room_id="",e.prototype.push_seq=0,e.prototype.from_user_id="",e.prototype.qos_flag=0,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_access_pb.proto_push_header;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.protocol=e.string();break;case 2:r.cmd=e.string();break;case 3:r.appid=e.uint32();break;case 4:r.user_id=e.string();break;case 5:r.session_id=e.string();break;case 6:r.room_id=e.string();break;case 7:r.push_seq=e.uint32();break;case 8:r.from_user_id=e.string();break;case 9:r.qos_flag=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_access_pb.proto_push_header)return e;let t=new $.proto_access_pb.proto_push_header;return null!=e.protocol&&(t.protocol=String(e.protocol)),null!=e.cmd&&(t.cmd=String(e.cmd)),null!=e.appid&&(t.appid=e.appid>>>0),null!=e.user_id&&(t.user_id=String(e.user_id)),null!=e.session_id&&(t.session_id=String(e.session_id)),null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.push_seq&&(t.push_seq=e.push_seq>>>0),null!=e.from_user_id&&(t.from_user_id=String(e.from_user_id)),null!=e.qos_flag&&(t.qos_flag=e.qos_flag>>>0),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.protocol="",o.cmd="",o.appid=0,o.user_id="",o.session_id="",o.room_id="",o.push_seq=0,o.from_user_id="",o.qos_flag=0),null!=e.protocol&&e.hasOwnProperty("protocol")&&(o.protocol=e.protocol),null!=e.cmd&&e.hasOwnProperty("cmd")&&(o.cmd=e.cmd),null!=e.appid&&e.hasOwnProperty("appid")&&(o.appid=e.appid),null!=e.user_id&&e.hasOwnProperty("user_id")&&(o.user_id=e.user_id),null!=e.session_id&&e.hasOwnProperty("session_id")&&(o.session_id=e.session_id),null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),null!=e.push_seq&&e.hasOwnProperty("push_seq")&&(o.push_seq=e.push_seq),null!=e.from_user_id&&e.hasOwnProperty("from_user_id")&&(o.from_user_id=e.from_user_id),null!=e.qos_flag&&e.hasOwnProperty("qos_flag")&&(o.qos_flag=e.qos_flag),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_push_biz_channel=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.channel="",e.prototype.cmd="",e.prototype.req_body=K.newBuffer([]),e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_access_pb.proto_push_biz_channel;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.channel=e.string();break;case 2:r.cmd=e.string();break;case 3:r.req_body=e.bytes();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_access_pb.proto_push_biz_channel)return e;let t=new $.proto_access_pb.proto_push_biz_channel;return null!=e.channel&&(t.channel=String(e.channel)),null!=e.cmd&&(t.cmd=String(e.cmd)),null!=e.req_body&&("string"==typeof e.req_body?K.base64.decode(e.req_body,t.req_body=K.newBuffer(K.base64.length(e.req_body)),0):e.req_body.length&&(t.req_body=e.req_body)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.channel="",o.cmd="",t.bytes===String?o.req_body="":(o.req_body=[],t.bytes!==Array&&(o.req_body=K.newBuffer(o.req_body)))),null!=e.channel&&e.hasOwnProperty("channel")&&(o.channel=e.channel),null!=e.cmd&&e.hasOwnProperty("cmd")&&(o.cmd=e.cmd),null!=e.req_body&&e.hasOwnProperty("req_body")&&(o.req_body=t.bytes===String?K.base64.encode(e.req_body,0,e.req_body.length):t.bytes===Array?Array.prototype.slice.call(e.req_body):e.req_body),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_push_biz_hannel_req=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.sub_cmd=0,e.prototype.sub_seq=0,e.prototype.qos_flag=0,e.prototype.msg_id="",e.prototype.sender_id="",e.prototype.msg_body=K.newBuffer([]),e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_access_pb.proto_push_biz_hannel_req;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.sub_cmd=e.uint32();break;case 2:r.sub_seq=e.uint32();break;case 3:r.qos_flag=e.uint32();break;case 4:r.msg_id=e.string();break;case 5:r.sender_id=e.string();break;case 6:r.msg_body=e.bytes();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_access_pb.proto_push_biz_hannel_req)return e;let t=new $.proto_access_pb.proto_push_biz_hannel_req;return null!=e.sub_cmd&&(t.sub_cmd=e.sub_cmd>>>0),null!=e.sub_seq&&(t.sub_seq=e.sub_seq>>>0),null!=e.qos_flag&&(t.qos_flag=e.qos_flag>>>0),null!=e.msg_id&&(t.msg_id=String(e.msg_id)),null!=e.sender_id&&(t.sender_id=String(e.sender_id)),null!=e.msg_body&&("string"==typeof e.msg_body?K.base64.decode(e.msg_body,t.msg_body=K.newBuffer(K.base64.length(e.msg_body)),0):e.msg_body.length&&(t.msg_body=e.msg_body)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.sub_cmd=0,o.sub_seq=0,o.qos_flag=0,o.msg_id="",o.sender_id="",t.bytes===String?o.msg_body="":(o.msg_body=[],t.bytes!==Array&&(o.msg_body=K.newBuffer(o.msg_body)))),null!=e.sub_cmd&&e.hasOwnProperty("sub_cmd")&&(o.sub_cmd=e.sub_cmd),null!=e.sub_seq&&e.hasOwnProperty("sub_seq")&&(o.sub_seq=e.sub_seq),null!=e.qos_flag&&e.hasOwnProperty("qos_flag")&&(o.qos_flag=e.qos_flag),null!=e.msg_id&&e.hasOwnProperty("msg_id")&&(o.msg_id=e.msg_id),null!=e.sender_id&&e.hasOwnProperty("sender_id")&&(o.sender_id=e.sender_id),null!=e.msg_body&&e.hasOwnProperty("msg_body")&&(o.msg_body=t.bytes===String?K.base64.encode(e.msg_body,0,e.msg_body.length):t.bytes===Array?Array.prototype.slice.call(e.msg_body):e.msg_body),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e})(),$.proto_biz_channel=(()=>{const e={};return e.req_header=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.sdk_version=0,e.prototype.id_name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),null!=e.sdk_version&&Object.hasOwnProperty.call(e,"sdk_version")&&t.uint32(8).uint32(e.sdk_version),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(18).string(e.id_name),t},e}(),e.req=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.req_header=null,e.prototype.body=K.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),null!=e.req_header&&Object.hasOwnProperty.call(e,"req_header")&&$.proto_biz_channel.req_header.encode(e.req_header,t.uint32(10).fork()).ldelim(),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(18).bytes(e.body),t},e}(),e.rsp_header=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.code=0,e.prototype.seq=0,e.prototype.timestamp=K.Long?K.Long.fromBits(0,0,!1):0,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_biz_channel.rsp_header;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.code=e.int32();break;case 2:r.seq=e.uint32();break;case 3:r.timestamp=e.int64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_biz_channel.rsp_header)return e;let t=new $.proto_biz_channel.rsp_header;return null!=e.code&&(t.code=0|e.code),null!=e.seq&&(t.seq=e.seq>>>0),null!=e.timestamp&&(K.Long?(t.timestamp=K.Long.fromValue(e.timestamp)).unsigned=!1:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new K.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults)if(o.code=0,o.seq=0,K.Long){let e=new K.Long(0,0,!1);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0;return null!=e.code&&e.hasOwnProperty("code")&&(o.code=e.code),null!=e.seq&&e.hasOwnProperty("seq")&&(o.seq=e.seq),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?K.Long.prototype.toString.call(e.timestamp):t.longs===Number?new K.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber():e.timestamp),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.header=null,e.prototype.body=K.newBuffer([]),e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_biz_channel.rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.header=$.proto_biz_channel.rsp_header.decode(e,e.uint32());break;case 2:r.body=e.bytes();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_biz_channel.rsp)return e;let t=new $.proto_biz_channel.rsp;if(null!=e.header){if("object"!=typeof e.header)throw TypeError(".proto_biz_channel.rsp.header: object expected");t.header=$.proto_biz_channel.rsp_header.fromObject(e.header)}return null!=e.body&&("string"==typeof e.body?K.base64.decode(e.body,t.body=K.newBuffer(K.base64.length(e.body)),0):e.body.length&&(t.body=e.body)),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.header=null,t.bytes===String?o.body="":(o.body=[],t.bytes!==Array&&(o.body=K.newBuffer(o.body)))),null!=e.header&&e.hasOwnProperty("header")&&(o.header=$.proto_biz_channel.rsp_header.toObject(e.header,t)),null!=e.body&&e.hasOwnProperty("body")&&(o.body=t.bytes===String?K.base64.encode(e.body,0,e.body.length):t.bytes===Array?Array.prototype.slice.call(e.body):e.body),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e})(),$.proto_edu_v1_web=(()=>{const e={};return e.proto_sync=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),t},e}(),e.proto_create_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.mod_title="",e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_pos="",e.prototype.mod_status=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.mod_content="",e.prototype.mod_extra="",e.prototype.mod_reserve=0,e.prototype.mod_delete_flag=0,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.mod_scale="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(18).string(e.mod_title),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(24).uint32(e.mod_type),null!=e.mod_subtype&&Object.hasOwnProperty.call(e,"mod_subtype")&&t.uint32(32).uint32(e.mod_subtype),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(42).string(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(48).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(58).string(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(66).string(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(72).uint32(e.mod_reserve),null!=e.mod_delete_flag&&Object.hasOwnProperty.call(e,"mod_delete_flag")&&t.uint32(80).int32(e.mod_delete_flag),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(93).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(101).float(e.mod_vertical_percent),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(106).string(e.mod_scale),t},e}(),e.proto_destroy_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),t},e}(),e.proto_modify_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_seq=0,e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.mod_title="",e.prototype.mod_pos="",e.prototype.mod_status=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.mod_content="",e.prototype.mod_extra="",e.prototype.mod_reserve=0,e.prototype.is_modify_mod_title=!1,e.prototype.is_modify_mod_pos=!1,e.prototype.is_modify_mod_status=!1,e.prototype.is_modify_mod_content=!1,e.prototype.is_modify_mod_extra=!1,e.prototype.is_modify_mod_reserve=!1,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.is_modify_mod_horizontal_percent=!1,e.prototype.is_modify_mod_vertical_percent=!1,e.prototype.is_modify_mod_scale=!1,e.prototype.mod_scale="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(8).uint32(e.mod_seq),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(26).string(e.mod_title),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(34).string(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(40).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(50).string(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(58).string(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(64).uint32(e.mod_reserve),null!=e.is_modify_mod_title&&Object.hasOwnProperty.call(e,"is_modify_mod_title")&&t.uint32(72).bool(e.is_modify_mod_title),null!=e.is_modify_mod_pos&&Object.hasOwnProperty.call(e,"is_modify_mod_pos")&&t.uint32(80).bool(e.is_modify_mod_pos),null!=e.is_modify_mod_status&&Object.hasOwnProperty.call(e,"is_modify_mod_status")&&t.uint32(88).bool(e.is_modify_mod_status),null!=e.is_modify_mod_content&&Object.hasOwnProperty.call(e,"is_modify_mod_content")&&t.uint32(96).bool(e.is_modify_mod_content),null!=e.is_modify_mod_extra&&Object.hasOwnProperty.call(e,"is_modify_mod_extra")&&t.uint32(104).bool(e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&Object.hasOwnProperty.call(e,"is_modify_mod_reserve")&&t.uint32(112).bool(e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(125).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(133).float(e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_horizontal_percent")&&t.uint32(136).bool(e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_vertical_percent")&&t.uint32(144).bool(e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&Object.hasOwnProperty.call(e,"is_modify_mod_scale")&&t.uint32(152).bool(e.is_modify_mod_scale),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(162).string(e.mod_scale),t},e}(),e.proto_get_mod=function(){function e(e){if(this.mod_id_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id_list=K.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Q.create()),null!=e.mod_id_list&&e.mod_id_list.length)for(let o=0;o<e.mod_id_list.length;++o)t.uint32(10).string(e.mod_id_list[o]);return t},e}(),e.proto_get_mod_list=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_list_seq=0,e.prototype.limit=0,e.prototype.marker="",e.prototype.mod_type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(8).uint32(e.mod_list_seq),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(16).uint32(e.limit),null!=e.marker&&Object.hasOwnProperty.call(e,"marker")&&t.uint32(26).string(e.marker),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(32).uint32(e.mod_type),t},e}(),e.proto_draw_page_graphics=function(){function e(e){if(this.draw_pages=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.draw_pages=K.emptyArray,e.prototype.timestamp=K.Long?K.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Q.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.draw_pages&&e.draw_pages.length)for(let o=0;o<e.draw_pages.length;++o)$.proto_edu_v1_web.proto_draw_page.encode(e.draw_pages[o],t.uint32(18).fork()).ldelim();return null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(24).uint64(e.timestamp),t},e}(),e.proto_draw_page=function(){function e(e){if(this.draw_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.page=0,e.prototype.graphic_list_seq=0,e.prototype.draw_list=K.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Q.create()),null!=e.page&&Object.hasOwnProperty.call(e,"page")&&t.uint32(8).uint32(e.page),null!=e.graphic_list_seq&&Object.hasOwnProperty.call(e,"graphic_list_seq")&&t.uint32(16).uint32(e.graphic_list_seq),null!=e.draw_list&&e.draw_list.length)for(let o=0;o<e.draw_list.length;++o)$.proto_edu_v1_web.proto_draw.encode(e.draw_list[o],t.uint32(26).fork()).ldelim();return t},e}(),e.proto_draw=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.graphic_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.action=0,e.prototype.action_type=0,e.prototype.type=0,e.prototype.zorder=0,e.prototype.x=0,e.prototype.y=0,e.prototype.px=0,e.prototype.py=0,e.prototype.data=K.newBuffer([]),e.prototype.size=0,e.prototype.color=0,e.prototype.width=0,e.prototype.height=0,e.prototype.attributes="",e.prototype.operate_id="",e.prototype.is_end_draw=!1,e.prototype.layer=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),null!=e.graphic_id&&Object.hasOwnProperty.call(e,"graphic_id")&&t.uint32(8).uint64(e.graphic_id),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(16).int32(e.action),null!=e.action_type&&Object.hasOwnProperty.call(e,"action_type")&&t.uint32(24).int32(e.action_type),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(32).int32(e.type),null!=e.zorder&&Object.hasOwnProperty.call(e,"zorder")&&t.uint32(40).int32(e.zorder),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(48).int32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(56).int32(e.y),null!=e.px&&Object.hasOwnProperty.call(e,"px")&&t.uint32(64).int32(e.px),null!=e.py&&Object.hasOwnProperty.call(e,"py")&&t.uint32(72).int32(e.py),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(82).bytes(e.data),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(88).int32(e.size),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(96).uint32(e.color),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(104).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(112).int32(e.height),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&t.uint32(122).string(e.attributes),null!=e.operate_id&&Object.hasOwnProperty.call(e,"operate_id")&&t.uint32(130).string(e.operate_id),null!=e.is_end_draw&&Object.hasOwnProperty.call(e,"is_end_draw")&&t.uint32(136).bool(e.is_end_draw),null!=e.layer&&Object.hasOwnProperty.call(e,"layer")&&t.uint32(144).uint32(e.layer),t},e}(),e.proto_clear_page_graphics=function(){function e(e){if(this.layers=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.timestamp=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.layers=K.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Q.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(16).uint64(e.timestamp),null!=e.layers&&e.layers.length){t.uint32(26).fork();for(let o=0;o<e.layers.length;++o)t.uint32(e.layers[o]);t.ldelim()}return t},e}(),e.proto_get_page_graphics=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.pages=K.emptyArray,e.prototype.graphic_list_seqs=K.emptyArray,e.prototype.limit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Q.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.pages&&e.pages.length){t.uint32(18).fork();for(let o=0;o<e.pages.length;++o)t.uint32(e.pages[o]);t.ldelim()}if(null!=e.graphic_list_seqs&&e.graphic_list_seqs.length){t.uint32(26).fork();for(let o=0;o<e.graphic_list_seqs.length;++o)t.uint32(e.graphic_list_seqs[o]);t.ldelim()}return null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(32).uint32(e.limit),t},e}(),e.proto_get_user_auth_req=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),t},e}(),e.proto_get_room_auth_req=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Q.create()),t},e}(),e.proto_mod=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_title="",e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_pos="",e.prototype.mod_status=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.mod_content="",e.prototype.mod_extra="",e.prototype.mod_reserve=0,e.prototype.mod_create_time=K.Long?K.Long.fromBits(0,0,!1):0,e.prototype.graphic_list_seq=0,e.prototype.sync_interval=0,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.mod_scale="",e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.mod_seq=e.uint32();break;case 3:r.mod_title=e.string();break;case 4:r.mod_type=e.uint32();break;case 5:r.mod_subtype=e.uint32();break;case 6:r.mod_pos=e.string();break;case 7:r.mod_status=e.uint64();break;case 8:r.mod_content=e.string();break;case 9:r.mod_extra=e.string();break;case 10:r.mod_reserve=e.uint32();break;case 11:r.mod_create_time=e.int64();break;case 12:r.graphic_list_seq=e.uint32();break;case 13:r.sync_interval=e.uint32();break;case 14:r.mod_horizontal_percent=e.float();break;case 15:r.mod_vertical_percent=e.float();break;case 16:r.mod_scale=e.string();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_mod)return e;let t=new $.proto_edu_v1_web.proto_mod;return null!=e.mod_id&&(K.Long?(t.mod_id=K.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_title&&(t.mod_title=String(e.mod_title)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),null!=e.mod_subtype&&(t.mod_subtype=e.mod_subtype>>>0),null!=e.mod_pos&&(t.mod_pos=String(e.mod_pos)),null!=e.mod_status&&(K.Long?(t.mod_status=K.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new K.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&(t.mod_content=String(e.mod_content)),null!=e.mod_extra&&(t.mod_extra=String(e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.mod_create_time&&(K.Long?(t.mod_create_time=K.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new K.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),null!=e.graphic_list_seq&&(t.graphic_list_seq=e.graphic_list_seq>>>0),null!=e.sync_interval&&(t.sync_interval=e.sync_interval>>>0),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.mod_scale&&(t.mod_scale=String(e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(K.Long){let e=new K.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.mod_seq=0,o.mod_title="",o.mod_type=0,o.mod_subtype=0,o.mod_pos="",K.Long){let e=new K.Long(0,0,!0);o.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_status=t.longs===String?"0":0;if(o.mod_content="",o.mod_extra="",o.mod_reserve=0,K.Long){let e=new K.Long(0,0,!1);o.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_create_time=t.longs===String?"0":0;o.graphic_list_seq=0,o.sync_interval=0,o.mod_horizontal_percent=0,o.mod_vertical_percent=0,o.mod_scale=""}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?K.Long.prototype.toString.call(e.mod_id):t.longs===Number?new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(o.mod_title=e.mod_title),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(o.mod_type=e.mod_type),null!=e.mod_subtype&&e.hasOwnProperty("mod_subtype")&&(o.mod_subtype=e.mod_subtype),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(o.mod_pos=e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?o.mod_status=t.longs===String?String(e.mod_status):e.mod_status:o.mod_status=t.longs===String?K.Long.prototype.toString.call(e.mod_status):t.longs===Number?new K.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(o.mod_content=e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(o.mod_extra=e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(o.mod_reserve=e.mod_reserve),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?o.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:o.mod_create_time=t.longs===String?K.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new K.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),null!=e.graphic_list_seq&&e.hasOwnProperty("graphic_list_seq")&&(o.graphic_list_seq=e.graphic_list_seq),null!=e.sync_interval&&e.hasOwnProperty("sync_interval")&&(o.sync_interval=e.sync_interval),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(o.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(o.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(o.mod_scale=e.mod_scale),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_graphic=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name="",e.prototype.nick_name="",e.prototype.graphic_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.action_seq=0,e.prototype.type=0,e.prototype.zorder=0,e.prototype.x=0,e.prototype.y=0,e.prototype.data=K.newBuffer([]),e.prototype.size=0,e.prototype.color=0,e.prototype.timestamp=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.width=0,e.prototype.height=0,e.prototype.attributes="",e.prototype.operate_id="",e.prototype.is_end_draw=!1,e.prototype.server_timestamp=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.creator_id="",e.prototype.layer=0,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_graphic;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.string();break;case 2:r.nick_name=e.string();break;case 3:r.graphic_id=e.uint64();break;case 4:r.action_seq=e.uint32();break;case 5:r.type=e.int32();break;case 7:r.zorder=e.int32();break;case 8:r.x=e.int32();break;case 9:r.y=e.int32();break;case 10:r.data=e.bytes();break;case 11:r.size=e.int32();break;case 12:r.color=e.uint32();break;case 13:r.timestamp=e.uint64();break;case 14:r.width=e.int32();break;case 15:r.height=e.int32();break;case 16:r.attributes=e.string();break;case 17:r.operate_id=e.string();break;case 18:r.is_end_draw=e.bool();break;case 19:r.server_timestamp=e.uint64();break;case 20:r.creator_id=e.string();break;case 21:r.layer=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_graphic)return e;let t=new $.proto_edu_v1_web.proto_graphic;return null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.graphic_id&&(K.Long?(t.graphic_id=K.Long.fromValue(e.graphic_id)).unsigned=!0:"string"==typeof e.graphic_id?t.graphic_id=parseInt(e.graphic_id,10):"number"==typeof e.graphic_id?t.graphic_id=e.graphic_id:"object"==typeof e.graphic_id&&(t.graphic_id=new K.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0))),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),null!=e.type&&(t.type=0|e.type),null!=e.zorder&&(t.zorder=0|e.zorder),null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.data&&("string"==typeof e.data?K.base64.decode(e.data,t.data=K.newBuffer(K.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.size&&(t.size=0|e.size),null!=e.color&&(t.color=e.color>>>0),null!=e.timestamp&&(K.Long?(t.timestamp=K.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new K.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.attributes&&(t.attributes=String(e.attributes)),null!=e.operate_id&&(t.operate_id=String(e.operate_id)),null!=e.is_end_draw&&(t.is_end_draw=Boolean(e.is_end_draw)),null!=e.server_timestamp&&(K.Long?(t.server_timestamp=K.Long.fromValue(e.server_timestamp)).unsigned=!0:"string"==typeof e.server_timestamp?t.server_timestamp=parseInt(e.server_timestamp,10):"number"==typeof e.server_timestamp?t.server_timestamp=e.server_timestamp:"object"==typeof e.server_timestamp&&(t.server_timestamp=new K.LongBits(e.server_timestamp.low>>>0,e.server_timestamp.high>>>0).toNumber(!0))),null!=e.creator_id&&(t.creator_id=String(e.creator_id)),null!=e.layer&&(t.layer=e.layer>>>0),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.id_name="",o.nick_name="",K.Long){let e=new K.Long(0,0,!0);o.graphic_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.graphic_id=t.longs===String?"0":0;if(o.action_seq=0,o.type=0,o.zorder=0,o.x=0,o.y=0,t.bytes===String?o.data="":(o.data=[],t.bytes!==Array&&(o.data=K.newBuffer(o.data))),o.size=0,o.color=0,K.Long){let e=new K.Long(0,0,!0);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0;if(o.width=0,o.height=0,o.attributes="",o.operate_id="",o.is_end_draw=!1,K.Long){let e=new K.Long(0,0,!0);o.server_timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.server_timestamp=t.longs===String?"0":0;o.creator_id="",o.layer=0}return null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(o.nick_name=e.nick_name),null!=e.graphic_id&&e.hasOwnProperty("graphic_id")&&("number"==typeof e.graphic_id?o.graphic_id=t.longs===String?String(e.graphic_id):e.graphic_id:o.graphic_id=t.longs===String?K.Long.prototype.toString.call(e.graphic_id):t.longs===Number?new K.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0):e.graphic_id),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(o.action_seq=e.action_seq),null!=e.type&&e.hasOwnProperty("type")&&(o.type=e.type),null!=e.zorder&&e.hasOwnProperty("zorder")&&(o.zorder=e.zorder),null!=e.x&&e.hasOwnProperty("x")&&(o.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(o.y=e.y),null!=e.data&&e.hasOwnProperty("data")&&(o.data=t.bytes===String?K.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.size&&e.hasOwnProperty("size")&&(o.size=e.size),null!=e.color&&e.hasOwnProperty("color")&&(o.color=e.color),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?K.Long.prototype.toString.call(e.timestamp):t.longs===Number?new K.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),null!=e.width&&e.hasOwnProperty("width")&&(o.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(o.height=e.height),null!=e.attributes&&e.hasOwnProperty("attributes")&&(o.attributes=e.attributes),null!=e.operate_id&&e.hasOwnProperty("operate_id")&&(o.operate_id=e.operate_id),null!=e.is_end_draw&&e.hasOwnProperty("is_end_draw")&&(o.is_end_draw=e.is_end_draw),null!=e.server_timestamp&&e.hasOwnProperty("server_timestamp")&&("number"==typeof e.server_timestamp?o.server_timestamp=t.longs===String?String(e.server_timestamp):e.server_timestamp:o.server_timestamp=t.longs===String?K.Long.prototype.toString.call(e.server_timestamp):t.longs===Number?new K.LongBits(e.server_timestamp.low>>>0,e.server_timestamp.high>>>0).toNumber(!0):e.server_timestamp),null!=e.creator_id&&e.hasOwnProperty("creator_id")&&(o.creator_id=e.creator_id),null!=e.layer&&e.hasOwnProperty("layer")&&(o.layer=e.layer),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_sync_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.sync_interval=0,e.prototype.room_extra_info_seq=0,e.prototype.user_list_seq=0,e.prototype.user_extra_info_seq=0,e.prototype.joinlive_seq=0,e.prototype.mod_list_seq=0,e.prototype.user_auth_seq=0,e.prototype.room_auth_seq=0,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_sync_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.sync_interval=e.uint32();break;case 2:r.room_extra_info_seq=e.uint32();break;case 3:r.user_list_seq=e.uint32();break;case 4:r.user_extra_info_seq=e.uint32();break;case 5:r.joinlive_seq=e.uint32();break;case 6:r.mod_list_seq=e.uint32();break;case 7:r.user_auth_seq=e.uint32();break;case 8:r.room_auth_seq=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_sync_rsp)return e;let t=new $.proto_edu_v1_web.proto_sync_rsp;return null!=e.sync_interval&&(t.sync_interval=e.sync_interval>>>0),null!=e.room_extra_info_seq&&(t.room_extra_info_seq=e.room_extra_info_seq>>>0),null!=e.user_list_seq&&(t.user_list_seq=e.user_list_seq>>>0),null!=e.user_extra_info_seq&&(t.user_extra_info_seq=e.user_extra_info_seq>>>0),null!=e.joinlive_seq&&(t.joinlive_seq=e.joinlive_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.user_auth_seq&&(t.user_auth_seq=e.user_auth_seq>>>0),null!=e.room_auth_seq&&(t.room_auth_seq=e.room_auth_seq>>>0),t},e.toObject=function(e,t){t||(t={});let o={};return t.defaults&&(o.sync_interval=0,o.room_extra_info_seq=0,o.user_list_seq=0,o.user_extra_info_seq=0,o.joinlive_seq=0,o.mod_list_seq=0,o.user_auth_seq=0,o.room_auth_seq=0),null!=e.sync_interval&&e.hasOwnProperty("sync_interval")&&(o.sync_interval=e.sync_interval),null!=e.room_extra_info_seq&&e.hasOwnProperty("room_extra_info_seq")&&(o.room_extra_info_seq=e.room_extra_info_seq),null!=e.user_list_seq&&e.hasOwnProperty("user_list_seq")&&(o.user_list_seq=e.user_list_seq),null!=e.user_extra_info_seq&&e.hasOwnProperty("user_extra_info_seq")&&(o.user_extra_info_seq=e.user_extra_info_seq),null!=e.joinlive_seq&&e.hasOwnProperty("joinlive_seq")&&(o.joinlive_seq=e.joinlive_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),null!=e.user_auth_seq&&e.hasOwnProperty("user_auth_seq")&&(o.user_auth_seq=e.user_auth_seq),null!=e.room_auth_seq&&e.hasOwnProperty("room_auth_seq")&&(o.room_auth_seq=e.room_auth_seq),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_create_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_list_seq=0,e.prototype.mod_create_time=K.Long?K.Long.fromBits(0,0,!1):0,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_create_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.mod_seq=e.uint32();break;case 3:r.mod_list_seq=e.uint32();break;case 4:r.mod_create_time=e.int64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_create_mod_rsp)return e;let t=new $.proto_edu_v1_web.proto_create_mod_rsp;return null!=e.mod_id&&(K.Long?(t.mod_id=K.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.mod_create_time&&(K.Long?(t.mod_create_time=K.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new K.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(K.Long){let e=new K.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.mod_seq=0,o.mod_list_seq=0,K.Long){let e=new K.Long(0,0,!1);o.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_create_time=t.longs===String?"0":0}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?K.Long.prototype.toString.call(e.mod_id):t.longs===Number?new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?o.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:o.mod_create_time=t.longs===String?K.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new K.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_destroy_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.mod_list_seq=0,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_destroy_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.mod_list_seq=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_destroy_mod_rsp)return e;let t=new $.proto_edu_v1_web.proto_destroy_mod_rsp;return null!=e.mod_id&&(K.Long?(t.mod_id=K.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(K.Long){let e=new K.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;o.mod_list_seq=0}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?K.Long.prototype.toString.call(e.mod_id):t.longs===Number?new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_modify_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_list_seq=0,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_modify_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.mod_seq=e.uint32();break;case 3:r.mod_list_seq=e.uint32();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_modify_mod_rsp)return e;let t=new $.proto_edu_v1_web.proto_modify_mod_rsp;return null!=e.mod_id&&(K.Long?(t.mod_id=K.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(K.Long){let e=new K.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;o.mod_seq=0,o.mod_list_seq=0}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?K.Long.prototype.toString.call(e.mod_id):t.longs===Number?new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_mod_rsp=function(){function e(e){if(this.mod_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_list=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_get_mod_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_list&&r.mod_list.length||(r.mod_list=[]),r.mod_list.push($.proto_edu_v1_web.proto_mod.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_get_mod_rsp)return e;let t=new $.proto_edu_v1_web.proto_get_mod_rsp;if(e.mod_list){if(!Array.isArray(e.mod_list))throw TypeError(".proto_edu_v1_web.proto_get_mod_rsp.mod_list: array expected");t.mod_list=[];for(let o=0;o<e.mod_list.length;++o){if("object"!=typeof e.mod_list[o])throw TypeError(".proto_edu_v1_web.proto_get_mod_rsp.mod_list: object expected");t.mod_list[o]=$.proto_edu_v1_web.proto_mod.fromObject(e.mod_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.mod_list=[]),e.mod_list&&e.mod_list.length){o.mod_list=[];for(let r=0;r<e.mod_list.length;++r)o.mod_list[r]=$.proto_edu_v1_web.proto_mod.toObject(e.mod_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_mod_list_rsp=function(){function e(e){if(this.mod_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_list_seq=0,e.prototype.marker="",e.prototype.mod_type=0,e.prototype.mod_list=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_get_mod_list_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_list_seq=e.uint32();break;case 2:r.marker=e.string();break;case 3:r.mod_type=e.uint32();break;case 4:r.mod_list&&r.mod_list.length||(r.mod_list=[]),r.mod_list.push($.proto_edu_v1_web.proto_mod.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_get_mod_list_rsp)return e;let t=new $.proto_edu_v1_web.proto_get_mod_list_rsp;if(null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.marker&&(t.marker=String(e.marker)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),e.mod_list){if(!Array.isArray(e.mod_list))throw TypeError(".proto_edu_v1_web.proto_get_mod_list_rsp.mod_list: array expected");t.mod_list=[];for(let o=0;o<e.mod_list.length;++o){if("object"!=typeof e.mod_list[o])throw TypeError(".proto_edu_v1_web.proto_get_mod_list_rsp.mod_list: object expected");t.mod_list[o]=$.proto_edu_v1_web.proto_mod.fromObject(e.mod_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.mod_list=[]),t.defaults&&(o.mod_list_seq=0,o.marker="",o.mod_type=0),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),null!=e.marker&&e.hasOwnProperty("marker")&&(o.marker=e.marker),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(o.mod_type=e.mod_type),e.mod_list&&e.mod_list.length){o.mod_list=[];for(let r=0;r<e.mod_list.length;++r)o.mod_list[r]=$.proto_edu_v1_web.proto_mod.toObject(e.mod_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_draw_page_graphics_rsp=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.pages=K.emptyArray,e.prototype.graphic_list_seqs=K.emptyArray,e.prototype.commit_time=K.Long?K.Long.fromBits(0,0,!1):0,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_draw_page_graphics_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:if(r.pages&&r.pages.length||(r.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.pages.push(e.uint32())}else r.pages.push(e.uint32());break;case 3:if(r.graphic_list_seqs&&r.graphic_list_seqs.length||(r.graphic_list_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_list_seqs.push(e.uint32())}else r.graphic_list_seqs.push(e.uint32());break;case 4:r.commit_time=e.int64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_draw_page_graphics_rsp)return e;let t=new $.proto_edu_v1_web.proto_draw_page_graphics_rsp;if(null!=e.mod_id&&(K.Long?(t.mod_id=K.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_v1_web.proto_draw_page_graphics_rsp.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o)t.pages[o]=e.pages[o]>>>0}if(e.graphic_list_seqs){if(!Array.isArray(e.graphic_list_seqs))throw TypeError(".proto_edu_v1_web.proto_draw_page_graphics_rsp.graphic_list_seqs: array expected");t.graphic_list_seqs=[];for(let o=0;o<e.graphic_list_seqs.length;++o)t.graphic_list_seqs[o]=e.graphic_list_seqs[o]>>>0}return null!=e.commit_time&&(K.Long?(t.commit_time=K.Long.fromValue(e.commit_time)).unsigned=!1:"string"==typeof e.commit_time?t.commit_time=parseInt(e.commit_time,10):"number"==typeof e.commit_time?t.commit_time=e.commit_time:"object"==typeof e.commit_time&&(t.commit_time=new K.LongBits(e.commit_time.low>>>0,e.commit_time.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[],o.graphic_list_seqs=[]),t.defaults){if(K.Long){let e=new K.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(K.Long){let e=new K.Long(0,0,!1);o.commit_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.commit_time=t.longs===String?"0":0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?K.Long.prototype.toString.call(e.mod_id):t.longs===Number?new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){o.pages=[];for(let t=0;t<e.pages.length;++t)o.pages[t]=e.pages[t]}if(e.graphic_list_seqs&&e.graphic_list_seqs.length){o.graphic_list_seqs=[];for(let t=0;t<e.graphic_list_seqs.length;++t)o.graphic_list_seqs[t]=e.graphic_list_seqs[t]}return null!=e.commit_time&&e.hasOwnProperty("commit_time")&&("number"==typeof e.commit_time?o.commit_time=t.longs===String?String(e.commit_time):e.commit_time:o.commit_time=t.longs===String?K.Long.prototype.toString.call(e.commit_time):t.longs===Number?new K.LongBits(e.commit_time.low>>>0,e.commit_time.high>>>0).toNumber():e.commit_time),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_clear_page_graphics_rsp=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.pages=K.emptyArray,e.prototype.graphic_list_seqs=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_clear_page_graphics_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:if(r.pages&&r.pages.length||(r.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.pages.push(e.uint32())}else r.pages.push(e.uint32());break;case 3:if(r.graphic_list_seqs&&r.graphic_list_seqs.length||(r.graphic_list_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_list_seqs.push(e.uint32())}else r.graphic_list_seqs.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_clear_page_graphics_rsp)return e;let t=new $.proto_edu_v1_web.proto_clear_page_graphics_rsp;if(null!=e.mod_id&&(K.Long?(t.mod_id=K.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_v1_web.proto_clear_page_graphics_rsp.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o)t.pages[o]=e.pages[o]>>>0}if(e.graphic_list_seqs){if(!Array.isArray(e.graphic_list_seqs))throw TypeError(".proto_edu_v1_web.proto_clear_page_graphics_rsp.graphic_list_seqs: array expected");t.graphic_list_seqs=[];for(let o=0;o<e.graphic_list_seqs.length;++o)t.graphic_list_seqs[o]=e.graphic_list_seqs[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[],o.graphic_list_seqs=[]),t.defaults)if(K.Long){let e=new K.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?K.Long.prototype.toString.call(e.mod_id):t.longs===Number?new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){o.pages=[];for(let t=0;t<e.pages.length;++t)o.pages[t]=e.pages[t]}if(e.graphic_list_seqs&&e.graphic_list_seqs.length){o.graphic_list_seqs=[];for(let t=0;t<e.graphic_list_seqs.length;++t)o.graphic_list_seqs[t]=e.graphic_list_seqs[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_page_graphics_rsp=function(){function e(e){if(this.pages=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.pages=K.emptyArray,e.prototype.operate_expire_time=K.Long?K.Long.fromBits(0,0,!0):0,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_get_page_graphics_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.pages&&r.pages.length||(r.pages=[]),r.pages.push($.proto_edu_v1_web.proto_get_page_graphics_info.decode(e,e.uint32()));break;case 2:r.operate_expire_time=e.uint64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_get_page_graphics_rsp)return e;let t=new $.proto_edu_v1_web.proto_get_page_graphics_rsp;if(e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_v1_web.proto_get_page_graphics_rsp.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o){if("object"!=typeof e.pages[o])throw TypeError(".proto_edu_v1_web.proto_get_page_graphics_rsp.pages: object expected");t.pages[o]=$.proto_edu_v1_web.proto_get_page_graphics_info.fromObject(e.pages[o])}}return null!=e.operate_expire_time&&(K.Long?(t.operate_expire_time=K.Long.fromValue(e.operate_expire_time)).unsigned=!0:"string"==typeof e.operate_expire_time?t.operate_expire_time=parseInt(e.operate_expire_time,10):"number"==typeof e.operate_expire_time?t.operate_expire_time=e.operate_expire_time:"object"==typeof e.operate_expire_time&&(t.operate_expire_time=new K.LongBits(e.operate_expire_time.low>>>0,e.operate_expire_time.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[]),t.defaults)if(K.Long){let e=new K.Long(0,0,!0);o.operate_expire_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.operate_expire_time=t.longs===String?"0":0;if(e.pages&&e.pages.length){o.pages=[];for(let r=0;r<e.pages.length;++r)o.pages[r]=$.proto_edu_v1_web.proto_get_page_graphics_info.toObject(e.pages[r],t)}return null!=e.operate_expire_time&&e.hasOwnProperty("operate_expire_time")&&("number"==typeof e.operate_expire_time?o.operate_expire_time=t.longs===String?String(e.operate_expire_time):e.operate_expire_time:o.operate_expire_time=t.longs===String?K.Long.prototype.toString.call(e.operate_expire_time):t.longs===Number?new K.LongBits(e.operate_expire_time.low>>>0,e.operate_expire_time.high>>>0).toNumber(!0):e.operate_expire_time),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_page_graphics_info=function(){function e(e){if(this.graphic_list=[],this.del_graphic_id_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.page=0,e.prototype.ret_graphic_list_seq=0,e.prototype.svr_graphic_list_seq=0,e.prototype.graphic_list=K.emptyArray,e.prototype.del_graphic_id_list=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_get_page_graphics_info;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.page=e.uint32();break;case 2:r.ret_graphic_list_seq=e.uint32();break;case 3:r.svr_graphic_list_seq=e.uint32();break;case 4:r.graphic_list&&r.graphic_list.length||(r.graphic_list=[]),r.graphic_list.push($.proto_edu_v1_web.proto_graphic.decode(e,e.uint32()));break;case 5:if(r.del_graphic_id_list&&r.del_graphic_id_list.length||(r.del_graphic_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.del_graphic_id_list.push(e.uint64())}else r.del_graphic_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_get_page_graphics_info)return e;let t=new $.proto_edu_v1_web.proto_get_page_graphics_info;if(null!=e.page&&(t.page=e.page>>>0),null!=e.ret_graphic_list_seq&&(t.ret_graphic_list_seq=e.ret_graphic_list_seq>>>0),null!=e.svr_graphic_list_seq&&(t.svr_graphic_list_seq=e.svr_graphic_list_seq>>>0),e.graphic_list){if(!Array.isArray(e.graphic_list))throw TypeError(".proto_edu_v1_web.proto_get_page_graphics_info.graphic_list: array expected");t.graphic_list=[];for(let o=0;o<e.graphic_list.length;++o){if("object"!=typeof e.graphic_list[o])throw TypeError(".proto_edu_v1_web.proto_get_page_graphics_info.graphic_list: object expected");t.graphic_list[o]=$.proto_edu_v1_web.proto_graphic.fromObject(e.graphic_list[o])}}if(e.del_graphic_id_list){if(!Array.isArray(e.del_graphic_id_list))throw TypeError(".proto_edu_v1_web.proto_get_page_graphics_info.del_graphic_id_list: array expected");t.del_graphic_id_list=[];for(let o=0;o<e.del_graphic_id_list.length;++o)K.Long?(t.del_graphic_id_list[o]=K.Long.fromValue(e.del_graphic_id_list[o])).unsigned=!0:"string"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=parseInt(e.del_graphic_id_list[o],10):"number"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=e.del_graphic_id_list[o]:"object"==typeof e.del_graphic_id_list[o]&&(t.del_graphic_id_list[o]=new K.LongBits(e.del_graphic_id_list[o].low>>>0,e.del_graphic_id_list[o].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.graphic_list=[],o.del_graphic_id_list=[]),t.defaults&&(o.page=0,o.ret_graphic_list_seq=0,o.svr_graphic_list_seq=0),null!=e.page&&e.hasOwnProperty("page")&&(o.page=e.page),null!=e.ret_graphic_list_seq&&e.hasOwnProperty("ret_graphic_list_seq")&&(o.ret_graphic_list_seq=e.ret_graphic_list_seq),null!=e.svr_graphic_list_seq&&e.hasOwnProperty("svr_graphic_list_seq")&&(o.svr_graphic_list_seq=e.svr_graphic_list_seq),e.graphic_list&&e.graphic_list.length){o.graphic_list=[];for(let r=0;r<e.graphic_list.length;++r)o.graphic_list[r]=$.proto_edu_v1_web.proto_graphic.toObject(e.graphic_list[r],t)}if(e.del_graphic_id_list&&e.del_graphic_id_list.length){o.del_graphic_id_list=[];for(let r=0;r<e.del_graphic_id_list.length;++r)"number"==typeof e.del_graphic_id_list[r]?o.del_graphic_id_list[r]=t.longs===String?String(e.del_graphic_id_list[r]):e.del_graphic_id_list[r]:o.del_graphic_id_list[r]=t.longs===String?K.Long.prototype.toString.call(e.del_graphic_id_list[r]):t.longs===Number?new K.LongBits(e.del_graphic_id_list[r].low>>>0,e.del_graphic_id_list[r].high>>>0).toNumber(!0):e.del_graphic_id_list[r]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_user_auth_rsp=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name="",e.prototype.auth_seq=0,e.prototype.module_auth=K.emptyArray,e.prototype.graphic_auth=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_get_user_auth_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.string();break;case 2:r.auth_seq=e.uint32();break;case 3:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 4:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_get_user_auth_rsp)return e;let t=new $.proto_edu_v1_web.proto_get_user_auth_rsp;if(null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_v1_web.proto_get_user_auth_rsp.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_v1_web.proto_get_user_auth_rsp.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.id_name="",o.auth_seq=0),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_room_auth_rsp=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.auth_seq=0,e.prototype.module_auth=K.emptyArray,e.prototype.graphic_auth=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.proto_get_room_auth_rsp;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.auth_seq=e.uint32();break;case 2:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 3:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.proto_get_room_auth_rsp)return e;let t=new $.proto_edu_v1_web.proto_get_room_auth_rsp;if(null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_v1_web.proto_get_room_auth_rsp.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_v1_web.proto_get_room_auth_rsp.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.auth_seq=0),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_set_mod=function(){function e(e){if(this.action_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.room_id="",e.prototype.mod_list_seq=0,e.prototype.action_list=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.push_set_mod;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.room_id=e.string();break;case 2:r.mod_list_seq=e.uint32();break;case 3:r.action_list&&r.action_list.length||(r.action_list=[]),r.action_list.push($.proto_edu_v1_web.push_set_mod_action.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.push_set_mod)return e;let t=new $.proto_edu_v1_web.push_set_mod;if(null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),e.action_list){if(!Array.isArray(e.action_list))throw TypeError(".proto_edu_v1_web.push_set_mod.action_list: array expected");t.action_list=[];for(let o=0;o<e.action_list.length;++o){if("object"!=typeof e.action_list[o])throw TypeError(".proto_edu_v1_web.push_set_mod.action_list: object expected");t.action_list[o]=$.proto_edu_v1_web.push_set_mod_action.fromObject(e.action_list[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.action_list=[]),t.defaults&&(o.room_id="",o.mod_list_seq=0),null!=e.room_id&&e.hasOwnProperty("room_id")&&(o.room_id=e.room_id),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(o.mod_list_seq=e.mod_list_seq),e.action_list&&e.action_list.length){o.action_list=[];for(let r=0;r<e.action_list.length;++r)o.action_list[r]=$.proto_edu_v1_web.push_set_mod_action.toObject(e.action_list[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_set_mod_action=function(){function e(e){if(e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.action=0,e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_seq=0,e.prototype.mod_title="",e.prototype.mod_pos="",e.prototype.mod_status=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.mod_content="",e.prototype.mod_extra="",e.prototype.mod_reserve=0,e.prototype.mod_create_time=K.Long?K.Long.fromBits(0,0,!1):0,e.prototype.is_modify_mod_title=!1,e.prototype.is_modify_mod_pos=!1,e.prototype.is_modify_mod_status=!1,e.prototype.is_modify_mod_content=!1,e.prototype.is_modify_mod_extra=!1,e.prototype.is_modify_mod_reserve=!1,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.is_modify_mod_horizontal_percent=!1,e.prototype.is_modify_mod_vertical_percent=!1,e.prototype.is_modify_mod_scale=!1,e.prototype.mod_scale="",e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.push_set_mod_action;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.action=e.uint32();break;case 2:r.mod_id=e.uint64();break;case 3:r.mod_type=e.uint32();break;case 4:r.mod_subtype=e.uint32();break;case 5:r.mod_seq=e.uint32();break;case 6:r.mod_title=e.string();break;case 7:r.mod_pos=e.string();break;case 8:r.mod_status=e.uint64();break;case 9:r.mod_content=e.string();break;case 10:r.mod_extra=e.string();break;case 11:r.mod_reserve=e.uint32();break;case 12:r.mod_create_time=e.int64();break;case 13:r.is_modify_mod_title=e.bool();break;case 14:r.is_modify_mod_pos=e.bool();break;case 15:r.is_modify_mod_status=e.bool();break;case 16:r.is_modify_mod_content=e.bool();break;case 17:r.is_modify_mod_extra=e.bool();break;case 18:r.is_modify_mod_reserve=e.bool();break;case 19:r.mod_horizontal_percent=e.float();break;case 20:r.mod_vertical_percent=e.float();break;case 21:r.is_modify_mod_horizontal_percent=e.bool();break;case 22:r.is_modify_mod_vertical_percent=e.bool();break;case 23:r.is_modify_mod_scale=e.bool();break;case 24:r.mod_scale=e.string();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.push_set_mod_action)return e;let t=new $.proto_edu_v1_web.push_set_mod_action;return null!=e.action&&(t.action=e.action>>>0),null!=e.mod_id&&(K.Long?(t.mod_id=K.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),null!=e.mod_subtype&&(t.mod_subtype=e.mod_subtype>>>0),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_title&&(t.mod_title=String(e.mod_title)),null!=e.mod_pos&&(t.mod_pos=String(e.mod_pos)),null!=e.mod_status&&(K.Long?(t.mod_status=K.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new K.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&(t.mod_content=String(e.mod_content)),null!=e.mod_extra&&(t.mod_extra=String(e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.mod_create_time&&(K.Long?(t.mod_create_time=K.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new K.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),null!=e.is_modify_mod_title&&(t.is_modify_mod_title=Boolean(e.is_modify_mod_title)),null!=e.is_modify_mod_pos&&(t.is_modify_mod_pos=Boolean(e.is_modify_mod_pos)),null!=e.is_modify_mod_status&&(t.is_modify_mod_status=Boolean(e.is_modify_mod_status)),null!=e.is_modify_mod_content&&(t.is_modify_mod_content=Boolean(e.is_modify_mod_content)),null!=e.is_modify_mod_extra&&(t.is_modify_mod_extra=Boolean(e.is_modify_mod_extra)),null!=e.is_modify_mod_reserve&&(t.is_modify_mod_reserve=Boolean(e.is_modify_mod_reserve)),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.is_modify_mod_horizontal_percent&&(t.is_modify_mod_horizontal_percent=Boolean(e.is_modify_mod_horizontal_percent)),null!=e.is_modify_mod_vertical_percent&&(t.is_modify_mod_vertical_percent=Boolean(e.is_modify_mod_vertical_percent)),null!=e.is_modify_mod_scale&&(t.is_modify_mod_scale=Boolean(e.is_modify_mod_scale)),null!=e.mod_scale&&(t.mod_scale=String(e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let o={};if(t.defaults){if(o.action=0,K.Long){let e=new K.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.mod_type=0,o.mod_subtype=0,o.mod_seq=0,o.mod_title="",o.mod_pos="",K.Long){let e=new K.Long(0,0,!0);o.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_status=t.longs===String?"0":0;if(o.mod_content="",o.mod_extra="",o.mod_reserve=0,K.Long){let e=new K.Long(0,0,!1);o.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_create_time=t.longs===String?"0":0;o.is_modify_mod_title=!1,o.is_modify_mod_pos=!1,o.is_modify_mod_status=!1,o.is_modify_mod_content=!1,o.is_modify_mod_extra=!1,o.is_modify_mod_reserve=!1,o.mod_horizontal_percent=0,o.mod_vertical_percent=0,o.is_modify_mod_horizontal_percent=!1,o.is_modify_mod_vertical_percent=!1,o.is_modify_mod_scale=!1,o.mod_scale=""}return null!=e.action&&e.hasOwnProperty("action")&&(o.action=e.action),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?K.Long.prototype.toString.call(e.mod_id):t.longs===Number?new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(o.mod_type=e.mod_type),null!=e.mod_subtype&&e.hasOwnProperty("mod_subtype")&&(o.mod_subtype=e.mod_subtype),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(o.mod_seq=e.mod_seq),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(o.mod_title=e.mod_title),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(o.mod_pos=e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?o.mod_status=t.longs===String?String(e.mod_status):e.mod_status:o.mod_status=t.longs===String?K.Long.prototype.toString.call(e.mod_status):t.longs===Number?new K.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(o.mod_content=e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(o.mod_extra=e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(o.mod_reserve=e.mod_reserve),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?o.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:o.mod_create_time=t.longs===String?K.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new K.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),null!=e.is_modify_mod_title&&e.hasOwnProperty("is_modify_mod_title")&&(o.is_modify_mod_title=e.is_modify_mod_title),null!=e.is_modify_mod_pos&&e.hasOwnProperty("is_modify_mod_pos")&&(o.is_modify_mod_pos=e.is_modify_mod_pos),null!=e.is_modify_mod_status&&e.hasOwnProperty("is_modify_mod_status")&&(o.is_modify_mod_status=e.is_modify_mod_status),null!=e.is_modify_mod_content&&e.hasOwnProperty("is_modify_mod_content")&&(o.is_modify_mod_content=e.is_modify_mod_content),null!=e.is_modify_mod_extra&&e.hasOwnProperty("is_modify_mod_extra")&&(o.is_modify_mod_extra=e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&e.hasOwnProperty("is_modify_mod_reserve")&&(o.is_modify_mod_reserve=e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(o.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(o.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&e.hasOwnProperty("is_modify_mod_horizontal_percent")&&(o.is_modify_mod_horizontal_percent=e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&e.hasOwnProperty("is_modify_mod_vertical_percent")&&(o.is_modify_mod_vertical_percent=e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&e.hasOwnProperty("is_modify_mod_scale")&&(o.is_modify_mod_scale=e.is_modify_mod_scale),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(o.mod_scale=e.mod_scale),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_draw_page_graphics=function(){function e(e){if(this.page_graphics=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.page_graphics=K.emptyArray,e.prototype.timestamp=K.Long?K.Long.fromBits(0,0,!0):0,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.push_draw_page_graphics;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:r.page_graphics&&r.page_graphics.length||(r.page_graphics=[]),r.page_graphics.push($.proto_edu_v1_web.push_draw_graphics_info.decode(e,e.uint32()));break;case 3:r.timestamp=e.uint64();break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.push_draw_page_graphics)return e;let t=new $.proto_edu_v1_web.push_draw_page_graphics;if(null!=e.mod_id&&(K.Long?(t.mod_id=K.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.page_graphics){if(!Array.isArray(e.page_graphics))throw TypeError(".proto_edu_v1_web.push_draw_page_graphics.page_graphics: array expected");t.page_graphics=[];for(let o=0;o<e.page_graphics.length;++o){if("object"!=typeof e.page_graphics[o])throw TypeError(".proto_edu_v1_web.push_draw_page_graphics.page_graphics: object expected");t.page_graphics[o]=$.proto_edu_v1_web.push_draw_graphics_info.fromObject(e.page_graphics[o])}}return null!=e.timestamp&&(K.Long?(t.timestamp=K.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new K.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.page_graphics=[]),t.defaults){if(K.Long){let e=new K.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(K.Long){let e=new K.Long(0,0,!0);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?K.Long.prototype.toString.call(e.mod_id):t.longs===Number?new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.page_graphics&&e.page_graphics.length){o.page_graphics=[];for(let r=0;r<e.page_graphics.length;++r)o.page_graphics[r]=$.proto_edu_v1_web.push_draw_graphics_info.toObject(e.page_graphics[r],t)}return null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?K.Long.prototype.toString.call(e.timestamp):t.longs===Number?new K.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_draw_graphics_info=function(){function e(e){if(this.graphic_list=[],this.del_graphic_id_list=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.page=0,e.prototype.action_seq=0,e.prototype.graphic_list=K.emptyArray,e.prototype.del_graphic_id_list=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.push_draw_graphics_info;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.page=e.uint32();break;case 2:r.action_seq=e.uint32();break;case 3:r.graphic_list&&r.graphic_list.length||(r.graphic_list=[]),r.graphic_list.push($.proto_edu_v1_web.proto_graphic.decode(e,e.uint32()));break;case 4:if(r.del_graphic_id_list&&r.del_graphic_id_list.length||(r.del_graphic_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.del_graphic_id_list.push(e.uint64())}else r.del_graphic_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.push_draw_graphics_info)return e;let t=new $.proto_edu_v1_web.push_draw_graphics_info;if(null!=e.page&&(t.page=e.page>>>0),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),e.graphic_list){if(!Array.isArray(e.graphic_list))throw TypeError(".proto_edu_v1_web.push_draw_graphics_info.graphic_list: array expected");t.graphic_list=[];for(let o=0;o<e.graphic_list.length;++o){if("object"!=typeof e.graphic_list[o])throw TypeError(".proto_edu_v1_web.push_draw_graphics_info.graphic_list: object expected");t.graphic_list[o]=$.proto_edu_v1_web.proto_graphic.fromObject(e.graphic_list[o])}}if(e.del_graphic_id_list){if(!Array.isArray(e.del_graphic_id_list))throw TypeError(".proto_edu_v1_web.push_draw_graphics_info.del_graphic_id_list: array expected");t.del_graphic_id_list=[];for(let o=0;o<e.del_graphic_id_list.length;++o)K.Long?(t.del_graphic_id_list[o]=K.Long.fromValue(e.del_graphic_id_list[o])).unsigned=!0:"string"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=parseInt(e.del_graphic_id_list[o],10):"number"==typeof e.del_graphic_id_list[o]?t.del_graphic_id_list[o]=e.del_graphic_id_list[o]:"object"==typeof e.del_graphic_id_list[o]&&(t.del_graphic_id_list[o]=new K.LongBits(e.del_graphic_id_list[o].low>>>0,e.del_graphic_id_list[o].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.graphic_list=[],o.del_graphic_id_list=[]),t.defaults&&(o.page=0,o.action_seq=0),null!=e.page&&e.hasOwnProperty("page")&&(o.page=e.page),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(o.action_seq=e.action_seq),e.graphic_list&&e.graphic_list.length){o.graphic_list=[];for(let r=0;r<e.graphic_list.length;++r)o.graphic_list[r]=$.proto_edu_v1_web.proto_graphic.toObject(e.graphic_list[r],t)}if(e.del_graphic_id_list&&e.del_graphic_id_list.length){o.del_graphic_id_list=[];for(let r=0;r<e.del_graphic_id_list.length;++r)"number"==typeof e.del_graphic_id_list[r]?o.del_graphic_id_list[r]=t.longs===String?String(e.del_graphic_id_list[r]):e.del_graphic_id_list[r]:o.del_graphic_id_list[r]=t.longs===String?K.Long.prototype.toString.call(e.del_graphic_id_list[r]):t.longs===Number?new K.LongBits(e.del_graphic_id_list[r].low>>>0,e.del_graphic_id_list[r].high>>>0).toNumber(!0):e.del_graphic_id_list[r]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_clear_page_graphics=function(){function e(e){if(this.pages=[],this.action_seqs=[],this.layers=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.mod_id=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.pages=K.emptyArray,e.prototype.action_seqs=K.emptyArray,e.prototype.id_name="",e.prototype.nick_name="",e.prototype.timestamp=K.Long?K.Long.fromBits(0,0,!0):0,e.prototype.layers=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.push_clear_page_graphics;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.mod_id=e.uint64();break;case 2:if(r.pages&&r.pages.length||(r.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.pages.push(e.uint32())}else r.pages.push(e.uint32());break;case 3:if(r.action_seqs&&r.action_seqs.length||(r.action_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.action_seqs.push(e.uint32())}else r.action_seqs.push(e.uint32());break;case 4:r.id_name=e.string();break;case 5:r.nick_name=e.string();break;case 6:r.timestamp=e.uint64();break;case 7:if(r.layers&&r.layers.length||(r.layers=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.layers.push(e.uint32())}else r.layers.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.push_clear_page_graphics)return e;let t=new $.proto_edu_v1_web.push_clear_page_graphics;if(null!=e.mod_id&&(K.Long?(t.mod_id=K.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_v1_web.push_clear_page_graphics.pages: array expected");t.pages=[];for(let o=0;o<e.pages.length;++o)t.pages[o]=e.pages[o]>>>0}if(e.action_seqs){if(!Array.isArray(e.action_seqs))throw TypeError(".proto_edu_v1_web.push_clear_page_graphics.action_seqs: array expected");t.action_seqs=[];for(let o=0;o<e.action_seqs.length;++o)t.action_seqs[o]=e.action_seqs[o]>>>0}if(null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.timestamp&&(K.Long?(t.timestamp=K.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new K.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),e.layers){if(!Array.isArray(e.layers))throw TypeError(".proto_edu_v1_web.push_clear_page_graphics.layers: array expected");t.layers=[];for(let o=0;o<e.layers.length;++o)t.layers[o]=e.layers[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.pages=[],o.action_seqs=[],o.layers=[]),t.defaults){if(K.Long){let e=new K.Long(0,0,!0);o.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.mod_id=t.longs===String?"0":0;if(o.id_name="",o.nick_name="",K.Long){let e=new K.Long(0,0,!0);o.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else o.timestamp=t.longs===String?"0":0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?o.mod_id=t.longs===String?String(e.mod_id):e.mod_id:o.mod_id=t.longs===String?K.Long.prototype.toString.call(e.mod_id):t.longs===Number?new K.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){o.pages=[];for(let t=0;t<e.pages.length;++t)o.pages[t]=e.pages[t]}if(e.action_seqs&&e.action_seqs.length){o.action_seqs=[];for(let t=0;t<e.action_seqs.length;++t)o.action_seqs[t]=e.action_seqs[t]}if(null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(o.nick_name=e.nick_name),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?o.timestamp=t.longs===String?String(e.timestamp):e.timestamp:o.timestamp=t.longs===String?K.Long.prototype.toString.call(e.timestamp):t.longs===Number?new K.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),e.layers&&e.layers.length){o.layers=[];for(let t=0;t<e.layers.length;++t)o.layers[t]=e.layers[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_user_auth=function(){function e(e){if(this.user_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.user_auth=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.push_user_auth;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.user_auth&&r.user_auth.length||(r.user_auth=[]),r.user_auth.push($.proto_edu_v1_web.push_user_auth_data.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.push_user_auth)return e;let t=new $.proto_edu_v1_web.push_user_auth;if(e.user_auth){if(!Array.isArray(e.user_auth))throw TypeError(".proto_edu_v1_web.push_user_auth.user_auth: array expected");t.user_auth=[];for(let o=0;o<e.user_auth.length;++o){if("object"!=typeof e.user_auth[o])throw TypeError(".proto_edu_v1_web.push_user_auth.user_auth: object expected");t.user_auth[o]=$.proto_edu_v1_web.push_user_auth_data.fromObject(e.user_auth[o])}}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.user_auth=[]),e.user_auth&&e.user_auth.length){o.user_auth=[];for(let r=0;r<e.user_auth.length;++r)o.user_auth[r]=$.proto_edu_v1_web.push_user_auth_data.toObject(e.user_auth[r],t)}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_user_auth_data=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.id_name="",e.prototype.auth_seq=0,e.prototype.module_auth=K.emptyArray,e.prototype.graphic_auth=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.push_user_auth_data;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.id_name=e.string();break;case 2:r.auth_seq=e.uint32();break;case 3:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 4:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.push_user_auth_data)return e;let t=new $.proto_edu_v1_web.push_user_auth_data;if(null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_v1_web.push_user_auth_data.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_v1_web.push_user_auth_data.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.id_name="",o.auth_seq=0),null!=e.id_name&&e.hasOwnProperty("id_name")&&(o.id_name=e.id_name),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_room_auth=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),o=0;o<t.length;++o)null!=e[t[o]]&&(this[t[o]]=e[t[o]])}return e.prototype.auth_seq=0,e.prototype.module_auth=K.emptyArray,e.prototype.graphic_auth=K.emptyArray,e.decode=function(e,t){e instanceof Y||(e=Y.create(e));let o=void 0===t?e.len:e.pos+t,r=new $.proto_edu_v1_web.push_room_auth;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:r.auth_seq=e.uint32();break;case 2:if(r.module_auth&&r.module_auth.length||(r.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.module_auth.push(e.uint32())}else r.module_auth.push(e.uint32());break;case 3:if(r.graphic_auth&&r.graphic_auth.length||(r.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.graphic_auth.push(e.uint32())}else r.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return r},e.fromObject=function(e){if(e instanceof $.proto_edu_v1_web.push_room_auth)return e;let t=new $.proto_edu_v1_web.push_room_auth;if(null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_v1_web.push_room_auth.module_auth: array expected");t.module_auth=[];for(let o=0;o<e.module_auth.length;++o)t.module_auth[o]=e.module_auth[o]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_v1_web.push_room_auth.graphic_auth: array expected");t.graphic_auth=[];for(let o=0;o<e.graphic_auth.length;++o)t.graphic_auth[o]=e.graphic_auth[o]>>>0}return t},e.toObject=function(e,t){t||(t={});let o={};if((t.arrays||t.defaults)&&(o.module_auth=[],o.graphic_auth=[]),t.defaults&&(o.auth_seq=0),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(o.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){o.module_auth=[];for(let t=0;t<e.module_auth.length;++t)o.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){o.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)o.graphic_auth[t]=e.graphic_auth[t]}return o},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e})();var ee,te=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},oe=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},re=function(){function e(){this.proto=$,this.protocol=new Uint8Array(["0".charCodeAt(0),"1".charCodeAt(0)]),this.cmdReqMap={"/eduv1/sync":"proto_sync","/eduv1/get_room_auth":"proto_get_room_auth_req","/eduv1/get_user_auth":"proto_get_user_auth_req","/eduv1/create_mod":"proto_create_mod","/eduv1/destroy_mod":"proto_destroy_mod","/eduv1/get_mod":"proto_get_mod","/eduv1/get_mod_list":"proto_get_mod_list","/eduv1/modify_mod":"proto_modify_mod","/eduv1/get_page_graphics":"proto_get_page_graphics","/eduv1/clear_page_graphics":"proto_clear_page_graphics","/eduv1/draw_page_graphics":"proto_draw_page_graphics"},this.cmdRspMap={"/eduv1/sync":"proto_sync_rsp","/eduv1/get_room_auth":"proto_get_room_auth_rsp","/eduv1/get_user_auth":"proto_get_user_auth_rsp","/eduv1/create_mod":"proto_create_mod_rsp","/eduv1/destroy_mod":"proto_destroy_mod_rsp","/eduv1/get_mod":"proto_get_mod_rsp","/eduv1/get_mod_list":"proto_get_mod_list_rsp","/eduv1/modify_mod":"proto_modify_mod_rsp","/eduv1/get_page_graphics":"proto_get_page_graphics_rsp","/eduv1/clear_page_graphics":"proto_clear_page_graphics_rsp","/eduv1/draw_page_graphics":"proto_draw_page_graphics_rsp"},this.cmdPushMap={291101:"push_set_mod",291203:"push_draw_page_graphics",291204:"push_clear_page_graphics",291501:"push_user_auth",291502:"push_room_auth"},this.cmdMsg={reqHeader:"proto_req_header",reqBody:"proto_biz_channel",reqBodyBody:"req",rspHeader:"proto_rsp_header",rspBody:"proto_biz_channel_rsp",rspBodyBody:"rsp",pushHeader:"proto_push_header",pushBody:"proto_push_biz_channel",pushBodyBody:"proto_push_biz_hannel_req"}}return e.prototype.encodeMsg=function(e,t,o){return te(this,void 0,void 0,(function(){var r,i,n,a,s,c,u;return oe(this,(function(l){switch(l.label){case 0:return this.formatEduBody(o.body),JSON.stringify(o),[4,this.encode(this.proto.proto_access_pb,this.cmdMsg.reqHeader,t)];case 1:return r=l.sent(),i=r.length,[4,this.encode(this.proto.proto_edu_v1_web,this.cmdReqMap[e],o.body)];case 2:return n=l.sent(),[4,this.encode(this.proto.proto_biz_channel,this.cmdMsg.reqBodyBody,{req_header:o.header,body:n})];case 3:return a=l.sent(),[4,this.encode(this.proto.proto_access_pb,this.cmdMsg.reqBody,{channel:"edu",cmd:e,req_body:a})];case 4:return s=l.sent(),c=s.length,(u=new Uint8Array(8+i+c)).set(this.protocol),u[2]=i>>8,u[3]=i-(u[2]<<8),u.set(new Uint8Array(Int32Array.from([c]).buffer).reverse(),4),u.set(r,8),u.set(s,8+i),[2,u]}}))}))},e.prototype.decodeMsg=function(e){return te(this,void 0,void 0,(function(){var t,o,r;return oe(this,(function(i){switch(i.label){case 0:t=new Uint8Array(e),o=(t[2]<<8)+t[3],i.label=1;case 1:return i.trys.push([1,4,,7]),[4,this.decode(this.proto.proto_access_pb,this.cmdMsg.rspHeader,t.slice(8,8+o))];case 2:return r=i.sent(),[4,this.decodeRspMsg(t.slice(8+o),r.seq)];case 3:return[2,i.sent()];case 4:return i.sent(),[4,this.decode(this.proto.proto_access_pb,this.cmdMsg.pushHeader,t.slice(8,8+o))];case 5:return i.sent(),[4,this.decodePushMsg(t.slice(8+o))];case 6:return[2,i.sent()];case 7:return[2]}}))}))},e.prototype.checkSendLength=function(e,t){return te(this,void 0,void 0,(function(){var o,r,i,n;return oe(this,(function(a){switch(a.label){case 0:return this.formatEduBody(t.body),[4,this.encode(this.proto.proto_edu_v1_web,this.cmdReqMap[e],t.body)];case 1:return o=a.sent(),[4,this.encode(this.proto.proto_biz_channel,this.cmdMsg.reqBodyBody,{req_header:t.header,body:o})];case 2:return r=a.sent(),[4,this.encode(this.proto.proto_access_pb,this.cmdMsg.reqBody,{channel:"edu",cmd:e,req_body:r})];case 3:return i=a.sent(),[2,(n=i.length)>5e3?n:0]}}))}))},e.prototype.createUnknownError=function(e,t){return{cmd:t,header:{seq:e,code:1,message:"unknown error"},body:{}}},e.prototype.formatEduBody=function(e){e.mod_id&&(e.mod_id=J.a.fromString(e.mod_id,!0)),e.draw_pages&&e.draw_pages.forEach((function(e){e.draw_list.forEach((function(e){var t=e.graphic_id;t&&"string"==typeof t&&(e.graphic_id=J.a.fromString(t,!0))}))}))},e.prototype.mergeModList=function(e){e&&e.forEach((function(t,o){e[o]=Object.assign({mod_seq:0,graphic_list_seq:0,sync_interval:0,mod_reserve:1,mod_horizontal_percent:0,mod_vertical_percent:0,mod_extra:"",mod_scale:JSON.stringify({scale:1,ofs_x:0,ofs_y:0})},t)}))},e.prototype.mergePageGraphics=function(e,t){e&&e.forEach((function(o,r){e[r]=o||0,t&&(t[r]=t[r]||0)}))},e.prototype.mergeGraphicList=function(e){e&&e.forEach((function(t,o){e[o]=Object.assign({action_seq:0,zorder:1,x:0,y:0,size:0,color:0,layer:0},t)}))},e.prototype.mergeRspBody=function(e,t){var o=this;switch(t){case"/eduv1/sync":return e=Object.assign({sync_interval:0,room_auth_seq:0,user_auth_seq:0,mod_list_seq:0},e);case"/eduv1/get_room_auth":case"/eduv1/get_user_auth":return e.auth_seq=e.auth_seq||0,e;case"/eduv1/create_mod":return e.mod_seq=e.mod_seq||0,e.mod_list_seq=e.mod_list_seq||0,e;case"/eduv1/destroy_mod":return e.mod_list_seq=e.mod_list_seq||0,e;case"/eduv1/get_mod":return this.mergeModList(e.mod_list),e;case"/eduv1/get_mod_list":return e.mod_list_seq=e.mod_list_seq||0,this.mergeModList(e.mod_list),e;case"/eduv1/modify_mod":return e.mod_seq=e.mod_seq||0,e.mod_list_seq=e.mod_list_seq||0,e;case"/eduv1/get_page_graphics":return e.pages&&e.pages.forEach((function(e){e.page=e.page||0,e.ret_graphic_list_seq=e.ret_graphic_list_seq||0,e.svr_graphic_list_seq=e.svr_graphic_list_seq||0,o.mergeGraphicList(e.graphic_list)})),e;case"/eduv1/clear_page_graphics":case"/eduv1/draw_page_graphics":return this.mergePageGraphics(e.pages,e.graphic_list_seqs),e}},e.prototype.mergePushBody=function(e,t){var o=this;switch(t){case 291101:return e.mod_list_seq=e.mod_list_seq||0,e.action_list&&e.action_list.forEach((function(e){e.is_modify_mod_extra&&(e.mod_extra=e.mod_extra||""),e.is_modify_mod_reserve&&(e.mod_reserve=e.mod_reserve||1),e.is_modify_mod_horizontal_percent&&(e.mod_horizontal_percent=e.mod_horizontal_percent||0),e.is_modify_mod_vertical_percent&&(e.mod_vertical_percent=e.mod_vertical_percent||0),e.is_modify_mod_scale&&(e.mod_scale=e.mod_scale||JSON.stringify({scale:1,ofs_x:0,ofs_y:0}))})),e;case 291203:return e.page_graphics&&e.page_graphics.forEach((function(e){e.page=e.page||0,e.action_seq=e.action_seq||0,o.mergeGraphicList(e.graphic_list)})),e;case 291204:return e.pages&&e.pages.forEach((function(t,o){e.pages[o]=t||0,e.action_seqs&&(e.action_seqs[o]=e.action_seqs[o]||0)})),e;case 291501:case 291502:return e.auth_seq=e.auth_seq||0,e}},e.prototype.encode=function(e,t,o){return te(this,void 0,void 0,(function(){var r;return oe(this,(function(i){return[2,(r=e[t]).encode(r.create(o)).finish()]}))}))},e.prototype.decode=function(e,t,o){return te(this,void 0,void 0,(function(){var r;return oe(this,(function(i){return[2,(r=e[t]).toObject(r.decode(o),{longs:String})]}))}))},e.prototype.decodeRspMsg=function(e,t){return te(this,void 0,void 0,(function(){var o,r,i,n;return oe(this,(function(a){switch(a.label){case 0:return[4,this.decode(this.proto.proto_access_pb,this.cmdMsg.rspBody,e)];case 1:return o=a.sent(),r=o.cmd,o.rsp_body?[4,this.decode(this.proto.proto_biz_channel,this.cmdMsg.rspBodyBody,o.rsp_body)]:[3,9];case 2:if(i=a.sent(),o.rsp_body=i,o.rsp_body.cmd=r,o.rsp_body.header.code||(o.rsp_body.header.code=o.err_code?+String(o.err_code).replace(/^10+/g,""):0),!o.rsp_body.body)return[3,7];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.decode(this.proto.proto_edu_v1_web,this.cmdRspMap[r],o.rsp_body.body)];case 4:return n=a.sent(),o.rsp_body.body=this.mergeRspBody(n,r),[3,6];case 5:return a.sent(),[3,6];case 6:return[3,8];case 7:o.rsp_body.body={},a.label=8;case 8:return[3,10];case 9:o.rsp_body=this.createUnknownError(t,r),a.label=10;case 10:return[2,o.rsp_body]}}))}))},e.prototype.decodePushMsg=function(e){return te(this,void 0,void 0,(function(){var t,o,r,i;return oe(this,(function(n){switch(n.label){case 0:return[4,this.decode(this.proto.proto_access_pb,this.cmdMsg.pushBody,e)];case 1:return(t=n.sent()).req_body?[4,this.decode(this.proto.proto_access_pb,this.cmdMsg.pushBodyBody,t.req_body)]:[3,9];case 2:if(o=n.sent(),t.req_body=o,r=this.cmdPushMap[t.req_body.sub_cmd],!t.req_body.msg_body)return[3,7];n.label=3;case 3:return n.trys.push([3,5,,6]),[4,this.decode(this.proto.proto_edu_v1_web,r,t.req_body.msg_body)];case 4:return i=n.sent(),t.req_body.msg_body=this.mergePushBody(i,t.req_body.sub_cmd),[3,6];case 5:return n.sent(),[3,6];case 6:return[3,8];case 7:t.req_body.msg_body={},n.label=8;case 8:return[3,10];case 9:t.req_body={msg_body:{},sub_cmd:0},n.label=10;case 10:return this.cmdPushMap[t.req_body.sub_cmd]||"",[2,t.req_body]}}))}))},e}(),ie=m.b.bind(null,"wb.s."),ne=function(){function e(e){this.roomState="DISCONNECTED",this.pbReqCallbackMap={},this.isRegistedEvent=!1,this.isSendPB=!1,this.zegoWebRTC=e,this.webrtcVersion=e.getVersion(),this.init()}return e.prototype.init=function(){this.zegoWebRTC.setDebugVerbose&&this.zegoWebRTC.setDebugVerbose(!1),this.isSendPB=!!this.zegoWebRTC.sendPB&&!!this.zegoWebRTC.setProtoFormat,this.isSendPB&&(this.eduProtobuf=new re,this.zegoWebRTC.setProtoFormat("pb")),this.zegoWebRTC.setSdkLoginRelateService&&this.zegoWebRTC.setSdkLoginRelateService(["edusvr"]),this.bindRoomStateUpdate()},e.prototype.bindRoomStateUpdate=function(){var e=this,t=function(t,o){var r;e.roomState=o,"CONNECTED"===o?(m.a.initRoom({roomid:t,logLevel:null===(r=e.zegoWebRTC.logger)||void 0===r?void 0:r.logLevel}),j.e.emit(j.c.RoomConnected)):"DISCONNECTED"===o&&j.e.emit(j.c.RoomDisConnected)};this.webrtcVersion<"2.0"?this.zegoWebRTC.bindListener("roomStateUpdate",t):this.zegoWebRTC._on("_roomStateUpdate",t)},e.prototype.getSocket=function(){var e;return this.zegoWebRTC.socketCenter||(null===(e=this.zegoWebRTC.modules)||void 0===e?void 0:e.service)},e.prototype.getState=function(){return this.zegoWebRTC.stateCenter},e.prototype.createJsonReqBody=function(e){return{header:{sdk_version:1,id_name:this.getUserID()},body:JSON.stringify(e)}},e.prototype.createPbReqBody=function(e){return{header:{sdk_version:1,id_name:this.getUserID()},body:e}},e.prototype.sendJsonMessage=function(e,t,o){var r=this;this.getSocket().sendMessage("biz_channel",{channel:"edu",cmd:e,req_body:JSON.stringify(this.createJsonReqBody(t))},(function(t,i,n){try{var a=void 0;a=r.webrtcVersion<"2.0"?r.rspSuccessHandle(n):r.rspSuccessHandle(t.body.rsp_body),m.a.info(ie("sk.rsp"),"cmd="+e+",body="+JSON.stringify(a)),o(a)}catch(e){}}),(function(t,i,n,a){try{var s=void 0;s=r.webrtcVersion<"2.0"?"[object Object]"===Object.prototype.toString.call(t)?{header:{code:t.code,message:t.msg}}:r.rspErrorHandle(n):r.rspErrorHandle(t.body.rsp_body),m.a.info(ie("sk.rsp"),"cmd="+e+",body="+JSON.stringify(s)),o(s)}catch(e){}}))},e.prototype.sendPbMessage=function(e,t,o){var r=this,i=this.zegoWebRTC.getHeader("biz_channel");this.eduProtobuf.encodeMsg(e,i,this.createPbReqBody(t)).then((function(e){r.pbReqCallbackMap[i.seq]=o,r.zegoWebRTC.sendPB(e)})).catch((function(e){m.a.error(ie("sk.req"),e)}))},e.prototype.handleJsonResponse=function(e,t){try{var o=JSON.parse(e.body.req_body);o.msg_body=JSON.parse(o.msg_body),m.a.info(ie("sk.push"),JSON.stringify(o)),t(o)}catch(e){}},e.prototype.handlePbResponse=function(e,t){var o=this;this.eduProtobuf.decodeMsg(e).then((function(e){var r;if(e.cmd&&e.header){m.a.info(ie("sk.rsp"),"cmd="+e.cmd+",body="+JSON.stringify(e));var i=null===(r=e.header)||void 0===r?void 0:r.seq;o.pbReqCallbackMap[i]&&o.pbReqCallbackMap[i](e)}else m.a.info(ie("sk.push"),JSON.stringify(e)),t(e)})).catch((function(e){m.a.error(ie("sk.rsp"),e)}))},e.prototype.rspSuccessHandle=function(e){var t=JSON.parse(e);return t.body=t.body?JSON.parse(t.body):{},t},e.prototype.rspErrorHandle=function(e){var t=JSON.parse(e).header;return{header:{code:t.code,message:t.message}}},e.prototype.loginRoom=function(e,t,o,r){return this.zegoWebRTC.loginRoom(e,t,o,r)},e.prototype.logoutRoom=function(e){j.e.emit(j.c.RoomConnected),this.zegoWebRTC.logoutRoom(e)},e.prototype.checkSendLength=function(e){var t=_.DrawPageGraphics;if(this.isSendPB)return this.eduProtobuf.checkSendLength(t,this.createPbReqBody(e));var o=JSON.stringify({body:{channel:"edu",cmd:t,req_body:JSON.stringify(this.createJsonReqBody(e))}}).length;return Promise.resolve(o>4800?o:0)},e.prototype.registerWbMessage=function(e){var t=this;this.isSendPB&&(this.isRegistedEvent&&this.zegoWebRTC.off("_protobufResponse"),this.zegoWebRTC.on("_protobufResponse",(function(o){return t.handlePbResponse(o,e)})),this.isRegistedEvent=!0);var o=this.webrtcVersion<"2.0"?"registerRouter":"on";this.getSocket()[o]("push_biz_channel",(function(o){return t.handleJsonResponse(o,e)}))},e.prototype.queueWSCmdHandler=function(e,t){var o=this;return new Promise((function(r){m.a.info(ie("sk.req"),"cmd="+e+",body="+JSON.stringify(t)),o.isSendPB?o.sendPbMessage(e,t,r):o.sendJsonMessage(e,t,r)}))},e.prototype.getUserID=function(){return this.getState().idName},e.prototype.getRoomID=function(){return this.getState().roomid},e.prototype.getServerTimeOffset=function(){return this.getState().serverTimeOffset||0},e.prototype.getRoomState=function(){return this.roomState},e}(),ae=function(){function e(e){this.module=e}return e.prototype.actionListener=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];j.e.emit(e,t)},e.prototype.bindListener=function(e,t){j.e.on(e,t)},e.prototype.pushRemovedMod=function(e){this.module.pushRemovedMod(e)},e.prototype.pushAddMod=function(e){this.module.pushAddMod(e)},e.prototype.pushModifyMod=function(e){if(e){var t=e.mod_id,o=e.mod_seq,r=e.mod_title,n=e.mod_horizontal_percent,a=e.mod_vertical_percent,s=e.mod_reserve,c=e.mod_extra,u=e.mod_scale,l=e.is_modify_mod_vertical_percent,d=e.is_modify_mod_horizontal_percent,h=e.is_modify_mod_reserve,p=e.is_modify_mod_title,f=e.is_modify_mod_extra,g=e.is_modify_mod_scale;if(this.module.getMap(t))if(this.module.getModSendSwitch(t)){var m={whiteboardID:t,modSeq:o};this.module.updateMap(m),this.updateMapByModifyModOption(e,o,!0)}else{var _={mod_id:t};p&&Object.assign(_,{mod_title:r,is_modify_mod_title:p}),f&&Object.assign(_,{mod_extra:c,is_modify_mod_extra:f}),d&&Object.assign(_,{mod_horizontal_percent:n,is_modify_mod_horizontal_percent:d}),l&&Object.assign(_,{mod_vertical_percent:a,is_modify_mod_vertical_percent:l,mod_reserve:s,is_modify_mod_reserve:h}),h&&Object.assign(_,{mod_reserve:s,is_modify_mod_reserve:h}),g&&Object.assign(_,{mod_scale:u,is_modify_mod_scale:g}),this.module.updateModifyModTaskList({status:i.Pending,data:_,push:!0,pushModSeq:o})}}},e.prototype.updateMapByModifyModOption=function(e,t,o){var r,i=e.mod_id,n=e.mod_title,a=e.mod_horizontal_percent,s=e.mod_vertical_percent,c=e.mod_reserve,u=e.mod_scale,l=e.is_modify_mod_horizontal_percent,d=e.is_modify_mod_vertical_percent,h=e.is_modify_mod_reserve,p=e.is_modify_mod_title,f=e.is_modify_mod_extra,g=e.is_modify_mod_scale,m=this.module.decodeH5Extra(e.mod_extra),_=this.module.getMap(i),y={isPushScroll:!1,horizontalPercent:_.horizontalPercent,verticalPercent:_.verticalPercent,pptStep:_.pptStep};if(l){y.isPushScroll=!0,y.horizontalPercent=+a||0;var v={whiteboardID:i,horizontalPercent:y.horizontalPercent,modPropSeq:{mod_horizontal_percent:t}};this.module.updateMap(v)}if(d){y.isPushScroll=!0,y.verticalPercent=+s||0,y.pptStep=+c;var b={whiteboardID:i,verticalPercent:y.verticalPercent,pptStep:y.pptStep,modPropSeq:{mod_vertical_percent:t}};this.module.updateMap(b)}if(h){y.isPushScroll=!0,y.pptStep=+c;var w={whiteboardID:i,pptStep:y.pptStep,modPropSeq:{mod_reserve:t}};this.module.updateMap(w)}if(y.isPushScroll&&o&&(this.module.pushScrollHandle(i,y.horizontalPercent,y.verticalPercent,y.pptStep),this.module.updateMap({whiteboardID:i,modExtra:""}),r=e),p){var S={whiteboardID:i,name:n,modPropSeq:{mod_title:t}};this.module.updateMap(S)}if(f){var I={whiteboardID:i,modExtra:m,modPropSeq:{mod_extra:t}};if(o){var x=this.module.checkH5Extra(i,m,!0);x&&(this.module.pushExtraHandle(i,x),r=e)}this.module.updateMap(I)}if(g){var E=JSON.parse(u);I={whiteboardID:i,modScale:E,modPropSeq:{mod_scale:t}};o&&this.module.pushScaleHandle(i,E.scale,E.ofs_x,E.ofs_y),this.module.updateMap(I)}return r},e.prototype.parseGraphicsHandle=function(e){var t=this,o=e.page_graphics,r=e.mod_id,i=this.module.checkModInfo(r);if(i){var n=i.width,a={},s=[],c=[];return o.forEach((function(e){var o=e.del_graphic_id_list,r=e.graphic_list,i=e.action_seq,u=e.page;t.transGraphicList(c,r,n),o&&s.push.apply(s,o),a[u]=i})),{whiteboardID:r,graphicList:c=JSON.parse(JSON.stringify(c)),delGraphicIdList:s,graphicListSeqs:a}}},e.prototype.pushDrawPageGraphicsHandle=function(e){var t=e.whiteboardID,o=e.graphicListSeqs,r=e.graphicList,i=e.delGraphicIdList;this.module.updateMapByGraphicListSeqs(t,o),j.e.emit(j.c.PushDrawPageGraphics,t,r,i)},e.prototype.transGraphicList=function(e,t,o){var r=this;t&&t.length&&t.forEach((function(t){e.some((function(e){return e.graphic_id===t.graphic_id}))||(t.zorder>r.module.zorderSeq&&(r.module.zorderSeq=t.zorder),O(t,!0),r.module.setGraphicItem(t),C(t,o,!0),t.color=Object(v.s)(t.color,!0),e.push(t))}))},e.prototype.pushClearPageGraphicsHandle=function(e){this.module.pushClearPageGraphicsHandle(e)},e}(),se=(ee=function(e,t){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}ee(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),ce=function(e){function t(t){var o=e.call(this,"web")||this;return o.socket=new ne(t),o.module=new G(o.socket),o.graphic=new H(o.socket,o.module),o.init(),o}return se(t,e),t.prototype.init=function(){var e=this;j.e.on(j.c.RoomConnected,(function(){e.isPlayback||e.module.reload()})),j.e.on(j.c.RoomDisConnected,(function(){e.isPlayback||e.module.unload()}))},t.prototype.enablePlayback=function(){this.isPlayback=!0,this.socket.isSendPB=!1,this.execute=new ae(this.module)},t.prototype.loginRoom=function(e,t,o,r){return this.socket.loginRoom(e,t,o,r)},t.prototype.logoutRoom=function(e){return this.socket.logoutRoom(e)},t.prototype.getGraphicIsEndDraw=function(e){return this.graphic.getGraphicIsEndDraw(e)},t.prototype.updateToRemoteHandle=function(e,t,o,r){this.isPlayback?null==o||o():this.graphic.updateToRemoteHandle(e,t,o,r)},t.prototype.getModName=function(e){return this.module.getModName(e)},t.prototype.getCreateTime=function(e){return this.module.getCreateTime(e)},t.prototype.getRoomID=function(e){return this.module.getRoomID(e)},t.prototype.getUniqueID=function(e){return this.module.getUniqueID(e)},t.prototype.getUserID=function(){return this.socket.getUserID()},t.prototype.getPageCount=function(e){return this.module.getPageCount(e)},t.prototype.setSize=function(e,t,o){return this.module.setSize(e,t,o)},t.prototype.setViewSize=function(e,t,o){return this.module.setViewSize(e,t,o)},t.prototype.undo=function(e){},t.prototype.redo=function(e){},t.prototype.createMod=function(e,t){return this.module.createMod(e,t)},t.prototype.clearView=function(e,t){return this.graphic.clearView(e,t)},t.prototype.scroll=function(e,t,o,r,i){this.isPlayback||this.module.scroll(e,t,o,r,i)},t.prototype.scale=function(e,t,o,r){this.isPlayback||this.module.scale(e,t,o,r)},t.prototype.loadCurrentGraphics=function(e,t,o){this.isPlayback||this.module.loadCurrentGraphics(e,t,o)},t.prototype.getScrollPercent=function(e){return this.module.getScrollPercent(e)},t.prototype.getScale=function(e){return this.module.getScale(e)},t.prototype.getAspectRatio=function(e){return this.module.getAspectRatio(e)},t.prototype.getFileInfo=function(e){return this.module.getFileInfo(e)},t.prototype.uploadImage=function(e,t){return this.graphic.uploadImage(e,t)},t.prototype.createZorder=function(){return this.module.createZorder()},t.prototype.destroyMod=function(e){return this.module.destroyMod(e)},t.prototype.getModList=function(){return this.module.getModList()},t.prototype.getH5Extra=function(e){return this.module.getH5Extra(e)},t.prototype.appendH5Extra=function(e,t){this.isPlayback||this.module.appendH5Extra(e,t)},t.prototype.getUserAuth=function(){return this.module.getUserAuth()},t.prototype.enableHandwriting=function(){},t.prototype.isAppendPathLimit=function(e,t){return this.graphic.isAppendPathLimit(e,t)},t.prototype.reloadViewGraphics=function(e,t){this.module.reloadViewGraphics(e,t)},t.prototype.switchView=function(e){return this.module.switchView(e)},t.prototype.getCurrentActivitedView=function(){return this.module.getCurrentActivitedView()},t}((function(e){this.isElectron=!1,this.isPlayback=!1,this.isElectron="electron"===e}))},function(e,t,o){"use strict";o.d(t,"a",(function(){return Z}));o(32),o(39),o(66),o(67),o(68),o(31),o(45),o(58),o(59),o(82),o(43),o(44),o(290),o(90),o(89),o(183),o(85),o(182),o(308),o(279),o(35),o(232),o(86),o(37),o(65),o(74),o(88),o(210),o(181),o(50),o(51),o(167),o(211);var r=o(3),i=o(4),n=o(8),a=(o(291),o(212),o(180),o(57),o(95),o(115),o(168),o(105),o(235),o(93),o(310),o(5)),s=o(0),c=function(){return(c=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(){function e(e){var t=this;this.bindFlag=!1,this.authFlag=!0,this.laserInfo={hiddenX:-100,hiddenY:-100,initX:0,initY:0,touchLeaveRect:{left:0,top:0,right:0,bottom:0}},this.mousemoveHandle=function(e){if(t.toolInstance.enableDraw){if(!t.toolInstance.getUserAuth().create)return t.authFlag&&Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthCreateGraphic),void(t.authFlag=!1);if(window.TouchEvent&&e instanceof TouchEvent&&e.preventDefault(),t.laserInfo.touchLeaveRect.right||(t.laserInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect()),t.toolInstance.isTouchLeaveWhenMove(e,t.laserInfo.touchLeaveRect))t.mouseleaveHandle();else{t.toolInstance.updateOffsetAndScrollHandle();var o=t.getMouseChangedPoint(e),r=t.addLaserHandle(void 0,o);r.x=o.clientX,r.y=o.clientY,r.is_end_draw=!0,r.operate_id=Object(a.d)(),t.drawGraphicsHandle(r,!0),t.toolInstance.updateToRemoteNewHandle([t.calLaserActualPlaceHandle(r)],s.a.Move)}}},this.mouseleaveHandle=function(){t.authFlag=!0,t.laserHiddenHandle()},this.wheelHandle=function(e){var o;e.preventDefault();var i=t.toolInstance.whiteboardID,n=r.a.reservedPrefix.whiteboard,a=null===(o=document.querySelector("#"+n+i))||void 0===o?void 0:o.parentNode,s=a.getBoundingClientRect(),c=s.width;s.height!==a.scrollHeight&&(a.scrollTop+=Number(e.deltaY.toFixed(7))),c!==a.scrollWidth&&(a.scrollLeft+=Number(e.deltaX.toFixed(7)))},this.toolInstance=e,this.laserContainerNode=this.addLaserConDomHandle(),this.updateZIndexHandle(-1)}return e.prototype.transLocationHandle=function(e){var t=e.clientX,o=e.clientY,r=this.toolInstance,i=r.offsetData,n=r.scrollData,a=i.offsetLeft,s=i.offsetTop,c=n.scrollTop,u=n.scrollLeft,l=this.toolInstance.conNode,d=l.scrollLeft,h=l.scrollTop;return{clientX:Math.round(t-a+u-d),clientY:Math.round(o-s+c-h)}},e.prototype.getMouseChangedPoint=function(e){var t;if(e instanceof MouseEvent){var o=e,r=o.clientX,i=o.clientY;t=this.transLocationHandle({clientX:r,clientY:i})}else{var n=e.changedTouches[0];r=n.clientX,i=n.clientY;t=this.transLocationHandle({clientX:r,clientY:i})}return t},e.prototype.laserHiddenHandle=function(e){var t=this.findLaserHandle(e);if(t){var o=this.laserInfo,r=o.hiddenX,i=o.hiddenY;Object.assign(t,{x:r,y:i,px:0,py:0}),this.toolInstance.moveGraphicsHandle(t.graphic_id,r,i),e||(t.is_end_draw=!0,t.operate_id=Object(a.d)(),this.toolInstance.updateToRemoteNewHandle([t],s.a.Move))}},e.prototype.addLaserHandle=function(e,t){var o=this.toolInstance.graphicList;if(!e){var i=this.findLaserHandle();if(i)return i;var n=this.laserInfo,u=n.initX,l=n.initY,d=n.hiddenX,h=n.hiddenY;e=c(c({graphic_id:Object(a.d)(),creator_id:this.toolInstance.getUserID()},r.a.basicState),{type:s.f.Laser,x:d,y:h,px:0,py:0,data:[u,l],zorder:this.toolInstance.serviceHandle.createZorder()})}return(e=e).operate_id=Object(a.d)(),e.is_end_draw=!0,o.push(e),this.drawGraphicsHandle(e,!0),this.toolInstance.updateToRemoteNewHandle([this.calLaserActualPlaceHandle(e)],s.a.Create),e},e.prototype.findLaserHandle=function(e){var t=this.toolInstance.getUserID();return this.toolInstance.graphicList.find((function(o){return e?o.graphic_id===e:o.type===s.f.Laser&&o.creator_id===t}))},e.prototype.addLaserConDomHandle=function(){var e=this.toolInstance.whiteboardID,t=""+r.a.reservedPrefix.laserContainer+e,o=this.toolInstance.userNode.querySelector("#"+t);return o||((o=document.createElement("div")).id=t,this.toolInstance.zoomNode.appendChild(o),this.updateLaserConSize(o),o)},e.prototype.updateZIndexHandle=function(e){this.laserContainerNode.style.zIndex=""+e,this.laserContainerNode.style.visibility=-1===e?"hidden":"visible"},e.prototype.drawGraphicsHandle=function(e,t){var o=this.toolInstance.getUserID(),i=e.graphic_id,n=e.data,a=e.creator_id,c=e.x,u=e.y;if(a===o&&!t){t=!0;var l=this.calLaserPlaceHandle(c,u),d=l.x,h=l.y;e.x=d,e.y=h,c=d,u=h}var p=r.a.reservedPrefix,f=""+p.graphics+i,g=""+p.laserCon+i,m=this.toolInstance.userNode.querySelector("#"+f);if(!m){m=document.createElement("div");var _=document.createElement("div");m.id=f,_.id=g,_.appendChild(m),t?this.laserContainerNode.appendChild(_):this.toolInstance.appendGraphicsDomHandle(_,s.f.Laser)}var y="transform:translate("+(c||0)+"px, "+(u||0)+"px)"+(t?";":"scale("+1/this.toolInstance.viewInfo.zoom+");")+"left:"+n[0]+"px;top:"+n[1]+"px;";m.parentNode.style.cssText=y},e.prototype.bindEventsHandle=function(){if(this.updateZIndexHandle("initial"),!this.bindFlag){this.bindFlag=!0;var e=r.a.mouseEvents;this.toolInstance.toolAddEL(this.laserContainerNode,e.move,this.mousemoveHandle),this.toolInstance.toolAddEL(this.laserContainerNode,e.leave,this.mouseleaveHandle),this.toolInstance.viewInfo.isScroll&&this.laserContainerNode.addEventListener("wheel",this.wheelHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1,this.updateZIndexHandle(-1);var e=r.a.mouseEvents;this.toolInstance.toolRmEl(this.laserContainerNode,e.move,this.mousemoveHandle),this.toolInstance.toolRmEl(this.laserContainerNode,e.leave,this.mouseleaveHandle),this.laserContainerNode.removeEventListener("wheel",this.wheelHandle)}},e.prototype.calLaserActualPlaceHandle=function(e){var t=(e=JSON.parse(JSON.stringify(e))).x,o=e.y,r=this.toolInstance.viewInfo,i=r.zoom,n=r.zoomTX,a=r.zoomTY,s=r.offsetPageX,c=r.offsetPageY,u=this.toolInstance.conNode,l=u.scrollLeft,d=u.scrollTop;return e.x=Math.round((t+8+l-n)/i+s),e.y=Math.round((o+8+d-a)/i+c),e},e.prototype.calLaserPlaceHandle=function(e,t){var o=this.toolInstance.viewInfo,r=o.zoom,i=o.zoomTX,n=o.zoomTY,a=o.offsetPageX,s=o.offsetPageY,c=this.toolInstance.conNode,u=c.scrollLeft,l=c.scrollTop;return{x:e=Math.round((e-a)*r+i-u),y:t=Math.round((t-s)*r+n-l)}},e.prototype.pushActualPlaceHandle=function(){var e=this.findLaserHandle();e&&(this.toolInstance.updateOffsetAndScrollHandle(),e.is_end_draw=!0,e.operate_id=Object(a.d)(),this.toolInstance.updateToRemoteNewHandle([this.calLaserActualPlaceHandle(e)],s.a.Move))},e.prototype.clearLaserHandle=function(e){var t;(t=e?this.toolInstance.graphicList.filter((function(t){return t.creator_id===e}))[0]:this.findLaserHandle())&&(t.is_end_draw=!0,t.operate_id=Object(a.d)(),this.toolInstance.deleteHandle(t.graphic_id),this.toolInstance.updateToRemoteNewHandle([t],s.a.Delete))},e.prototype.updateLaserConSize=function(e){var t,o="z-index:"+((e=e||this.laserContainerNode).style.zIndex||"initial")+";";if(this.toolInstance.viewInfo.isScroll){var i=this.toolInstance.whiteboardID,n=r.a.reservedPrefix.whiteboard,a=null===(t=document.querySelector("#"+n+i))||void 0===t?void 0:t.parentNode,s=a.getBoundingClientRect(),c=s.width,u=s.height;u!==a.scrollHeight&&(o+="width:"+(c-18)+"px;"),c!==a.scrollWidth&&(o+="height:"+(u-18)+"px;")}e.style.cssText=o},e}(),l=function(){return(l=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},d=function(){function e(e){var t=this;this.bindFlag=!1,this.tolerance=1,this.isIos11=navigator.userAgent.includes("iPhone")&&navigator.userAgent.includes("11_4_1"),this.upSwitch=!1,this.mouseInfo={moveCount:0,moveTaskId:0,touchLeaveRect:{left:0,top:0,right:0,bottom:0},isHandWriting:!1,handWritingTimer:0,handWritingLastPoint:null,handWritingLastSize:null},this.mousedownHandle=function(e){if(t.toolInstance.enableDraw)if(t.toolInstance.getUserAuth().create){if(t.toolInstance.downCommonHandle(e)){t.upSwitch=!0,r.a.svgPath.tops.length=0,r.a.svgPath.bottoms.length=0,t.mouseInfo.isHandWriting=JSON.parse(r.a.basicState.attributes).stroke;var o=t.mouseInfo.isHandWriting&&r.a.basicState.type==s.j.ZegoWhiteboardViewToolPen,i=t.toolInstance.getMouseStartPoint(e,o),c=i.clientX,u=i.clientY,d=t.toolInstance.whiteboardNode;t.mouseInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect();var h=r.a.basicExtraState.customImage.url,p=r.a.basicState.type===s.j.ZegoWhitebaordViewToolCustomImage&&h?s.f.Image:r.a.basicState.type,f=p===s.f.Image?{x:c,y:u,ex:0,ey:0,url:h,hash:""}:[c,u],g=Object(a.d)();t.toolInstance.updateMousePointsHandle(c,u),t.toolInstance.updateProtoGraphic(l(l({creator_id:t.toolInstance.getUserID(),graphic_id:g,operate_id:g,is_end_draw:!1},r.a.basicState),{type:p,x:0,y:0,px:0,py:0,data:f,zorder:t.toolInstance.serviceHandle.createZorder()})),p===s.j.ZegoWhiteboardViewToolPen&&(t.toolInstance.protoGraphic.oldData=[c,u]),t.realTimeStartHandle(),t.mouseInfo.moveCount=0,t.mouseInfo.moveTaskId=0,t.toolInstance.toolAddEL(d,r.a.mouseEvents.move,t.mousemoveHandle)}}else Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthCreateGraphic)},this.mousemoveHandle=function(e){if(!(window.TouchEvent&&e instanceof TouchEvent)||t.toolInstance.downCommonHandle(e))if(t.toolInstance.isTouchLeaveWhenMove(e,t.mouseInfo.touchLeaveRect))t.mouseupHandle();else{var o=t.toolInstance.protoGraphic;t.mouseInfo.isHandWriting?t.drawGraphicsHandWritingHandle(o,e):t.drawGraphicsPathHandle(o,e)}},this.mouseupHandle=function(){t.mouseInfo.handWritingTimer&&(clearTimeout(t.mouseInfo.handWritingTimer),t.mouseInfo.handWritingTimer=0);var e=t.toolInstance,o=e.protoGraphic,i=e.graphicList,c=e.whiteboardNode;if(o&&o.graphic_id&&t.upSwitch){t.toolInstance.toolRmEl(c,r.a.mouseEvents.move,t.mousemoveHandle),t.upSwitch=!1,t.mouseInfo.moveCount=0,t.mouseInfo.moveTaskId=0,t.drawGraphicsExceptionHandle(o);var u=o.graphic_id,d=o.type;if(t.toolInstance.updateBoxHandle(o)){if(d===s.f.Pencil){var h=t.toolInstance.getGraphicsHandle(u);if(!h)return;var p=o.oldData;if(o.data=p.slice(),t.mouseInfo.isHandWriting)t.drawGraphicsPencilSegment(o,s.e.Local);else Object(a.g)(h)[0].setAttribute("d",Object(a.l)(s.f.Pencil,o.data))}else if(d===s.f.Image){var f=(p=o.data).x,g=p.y,m=p.ex,_=p.ey,y=t.toolInstance.getUserAuth().create;if(f===m||g===_||!y){t.toolInstance.deleteHandle(o.graphic_id),t.toolInstance.initDrawHandle();var v=s.i.ZegoWhiteboardViewErrorNoAuthCreateGraphic;return void(!y&&Object(n.a)(v))}t.checkImageRect(p),o.initX=p.x,o.initY=p.y,o.oldData=l({},p)}o.is_end_draw=!0;var b=JSON.parse(JSON.stringify(o));t.toolInstance.setGraphicsDomZorder(b),i.push(b),t.realTimeEndHandle()}else d!==s.f.Image&&(o.is_end_draw=!0,t.realTimeEndHandle());t.toolInstance.initDrawHandle()}},this.toolInstance=e,this.tolerance=this.toolInstance.serviceHandle.isElectron?.3:1}return e.prototype.drawGraphicsExceptionHandle=function(e){var t=e.type,o=e.data;t!==s.f.Image&&o.length<4&&(o[2]=o[0]+1,o[3]=o[1]+1,this.drawGraphicsHandle(e,s.e.Local))},e.prototype.isMouseMoveWithNoKeydown=function(e,t){return t instanceof MouseEvent&&!t.buttons&&(this.toolInstance.toolRmEl(this.toolInstance.whiteboardNode,r.a.mouseEvents.move,this.mousemoveHandle),this.toolInstance.deleteHandle(e),this.toolInstance.initDrawHandle(),!0)},e.prototype.catchMouseMoveException=function(){var e=this;this.mouseInfo.moveTaskId||(this.mouseInfo.moveTaskId=window.setTimeout((function(){if(e.mouseInfo.moveCount<5){var t=e.toolInstance.userNode.querySelector("#zego-whiteboard-input");t||((t=document.createElement("input")).id="zego-whiteboard-input",t.tabIndex=-1,e.toolInstance.userNode.insertBefore(t,e.toolInstance.userNode.firstChild)),t.focus()}}),200)),this.mouseInfo.moveCount++},e.prototype.realTimeStartHandle=function(){var e=this.toolInstance.protoGraphic;e.type!==s.f.Image&&this.toolInstance.updateToRemoteNewHandle([e],s.a.Create)},e.prototype.realTimeDrawHandle=function(){var e=this.toolInstance.protoGraphic;e.type!==s.f.Image&&(e.type===s.f.Pencil?this.mouseInfo.isHandWriting?this.realTimeHandWrittingSend(e):this.readlTimeNormalSend(e):this.toolInstance.updateToRemoteNewHandle([e],s.a.Update))},e.prototype.realTimeEndHandle=function(){var e=this.toolInstance.protoGraphic,t=e.type===s.f.Image?s.a.Create:s.a.Update;this.toolInstance.updateToRemoteNewHandle([e],t)},e.prototype.appendPath=function(e,t){var o,r=this;if(t.length){var i=JSON.parse(JSON.stringify(e));i.data=t,(o=e.oldData).push.apply(o,t),this.toolInstance.serviceHandle.isAppendPathLimit(this.toolInstance.whiteboardID,e).then((function(o){o?(e.oldData.splice(i.oldData.length,t.length),r.mouseupHandle()):r.toolInstance.updateToRemoteNewHandle([i],s.a.Append)}))}},e.prototype.readlTimeNormalSend=function(e){var t=r.a.realTimeState.localDrawCount,o=e.data;if(o.length%t==2){var i=Object(a.p)(o.slice(o.length-t),this.tolerance);this.appendPath(e,i)}},e.prototype.realTimeHandWrittingSend=function(e){var t=e.data,o=t.slice(e.oldData.length,t.length);this.appendPath(e,o)},e.prototype.drawGraphicsHandWritingHandle=function(e,t){var o=this;this.mouseInfo.handWritingTimer||(this.mouseInfo.handWritingTimer=window.setTimeout((function(){o.drawGraphicsPathHandle(e,t),clearTimeout(o.mouseInfo.handWritingTimer),o.mouseInfo.handWritingTimer=0}),r.a.handWritingFactor.step))},e.prototype.drawGraphicsPathHandle=function(e,t){var o=this.mouseInfo.isHandWriting&&e.type==s.f.Pencil,r=this.toolInstance.getMouseChangedPoint(t,o);this.toolInstance.updateGraphicsDataHandle(r);var i=e.type===s.f.Image?s.n.ZegoWhiteboardViewImageCustom:void 0;this.realTimeDrawHandle(),this.drawGraphicsHandle(e,s.e.Local,i)},e.prototype.isHandWriting=function(e,t){return t==s.e.Local?this.mouseInfo.isHandWriting:!!e.attributes&&JSON.parse(e.attributes).stroke},e.prototype.bindEventsHandle=function(){if(!this.bindFlag){this.bindFlag=!0;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(e,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolAddEL(e,r.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolAddEL(e,r.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.drawGraphicsHandle=function(e,t,o){switch(e.type){case s.f.Pencil:case s.f.RealTime:this.isHandWriting(e,t)?this.drawGraphicsPencilSegment(e,t):this.drawGraphicsPath(e,t);break;case s.f.Line:this.drawGraphicsLine(e,t);break;case s.f.Ellipse:this.drawGraphicsEllipse(e,t);break;case s.f.Rect:this.drawGraphicsRect(e,t);break;case s.f.Image:o===s.n.ZegoWhiteboardViewImageCustom?this.drawLocalCustomImage(e):this.drawReomteGraphicImage(e)}},e.prototype.updateGraphicsHandle=function(e){switch(e.type){case s.f.Pencil:this.isHandWriting(e,s.e.Remote)?this.drawGraphicsPencilSegment(e,s.e.Remote):this.drawGraphicsPath(e,s.e.Remote);break;case s.f.Line:this.drawGraphicsLine(e,s.e.Remote);break;case s.f.Ellipse:this.drawGraphicsEllipse(e,s.e.Remote);break;case s.f.Rect:this.drawGraphicsRect(e,s.e.Remote);break;case s.f.Image:this.updateGraphicsImage(e)}},e.prototype.drawGraphicsLine=function(e,t,o,i,n,c){void 0===o&&(o="none"),void 0===i&&(i=1),void 0===n&&(n="round"),void 0===c&&(c="round");var u=e.data,l=e.graphic_id,d=e.color,h=e.x,p=e.y,f=Object(a.l)(s.f.Line,u),g=f.x1,m=f.y1,_=f.x2,y=f.y2,v=""+r.a.reservedPrefix.graphicsSvg+l,b=""+r.a.reservedPrefix.graphics+l,w=Object(a.e)(v,b,"line",e.zorder);w[1]&&this.toolInstance.appendGraphicsDomHandle(w[1],s.f.Line),this.toolInstance.triggerAnimateHandle(w[0],t),Object(a.o)(w[0],[{attr:"fill",value:o},{attr:"opacity",value:i},{attr:"stroke",value:d},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:n},{attr:"stroke-linecap",value:c},{attr:"x1",value:g},{attr:"y1",value:m},{attr:"x2",value:_},{attr:"y2",value:y},{attr:"transform",value:"translate("+(h||0)+", "+(p||0)+")"}])},e.prototype.drawGraphicsRect=function(e,t,o,i,n,c){void 0===o&&(o="none"),void 0===i&&(i=1),void 0===n&&(n="round"),void 0===c&&(c="round");var u=e.data,l=e.graphic_id,d=e.color,h=e.x,p=e.y,f=Object(a.l)(s.f.Rect,u),g=f.width,m=f.height,_=f.x,y=f.y,v=""+r.a.reservedPrefix.graphicsSvg+l,b=""+r.a.reservedPrefix.graphics+l,w=Object(a.e)(v,b,"rect",e.zorder);w[1]&&this.toolInstance.appendGraphicsDomHandle(w[1],s.f.Rect),this.toolInstance.triggerAnimateHandle(w[0],t),Object(a.o)(w[0],[{attr:"fill",value:o},{attr:"opacity",value:i},{attr:"stroke",value:d},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:n},{attr:"stroke-linecap",value:c},{attr:"width",value:g},{attr:"height",value:m},{attr:"x",value:_},{attr:"y",value:y},{attr:"transform",value:"translate("+(h||0)+", "+(p||0)+")"}])},e.prototype.drawGraphicsPath=function(e,t,o,i,n){void 0===o&&(o="none"),void 0===i&&(i="round"),void 0===n&&(n="round");var c=t===s.e.Local?e.oldData:e.data;if(c&&c.length){var u=e.color,l=e.graphic_id,d=e.x,h=e.y,p=Object(a.l)(s.f.Pencil,c),f=""+r.a.reservedPrefix.graphicsSvg+l,g=""+r.a.reservedPrefix.graphics+l,m=Object(a.e)(f,g,"path",e.zorder);m[1]&&this.toolInstance.appendGraphicsDomHandle(m[1],s.f.Pencil),this.toolInstance.triggerAnimateHandle(m[0],t),Object(a.o)(m[0],[{attr:"fill",value:o},{attr:"d",value:p},{attr:"stroke",value:u},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:i},{attr:"stroke-linecap",value:n},{attr:"transform",value:"translate("+(d||0)+", "+(h||0)+")"}])}},e.prototype.drawGraphicsPencilSegment=function(e,t){var o=e.color,i=e.graphic_id,n=e.x,c=e.y,u=e.is_end_draw,l=this.toolInstance.viewInfo.viewWidth,d=Object(a.m)(e,this.getSize(e,t),l),h=""+r.a.reservedPrefix.graphicsSvg+i,p=""+r.a.reservedPrefix.graphics+i,f=Object(a.e)(h,p,"path",e.zorder);f[1]&&this.toolInstance.appendGraphicsDomHandle(f[1],s.f.Pencil),this.toolInstance.triggerAnimateHandle(f[0],t),(null==d?void 0:d.includes("M"))&&Object(a.o)(f[0],[{attr:"fill",value:o},{attr:"d",value:d},{attr:"stroke-width",value:0},{attr:"transform",value:"translate("+(n||0)+", "+(c||0)+")"}]),u&&(r.a.svgPath.tops.length=0,r.a.svgPath.bottoms.length=0)},e.prototype.drawGraphicsEllipse=function(e,t,o,i,n,c){void 0===o&&(o="none"),void 0===i&&(i=1),void 0===n&&(n="round"),void 0===c&&(c="round");var u=e.color,l=e.data,d=e.graphic_id,h=e.x,p=e.y,f=Object(a.l)(s.f.Ellipse,l),g=f.cx,m=f.cy,_=f.rx,y=f.ry,v=""+r.a.reservedPrefix.graphicsSvg+d,b=""+r.a.reservedPrefix.graphics+d,w=Object(a.e)(v,b,"ellipse",e.zorder);w[1]&&this.toolInstance.appendGraphicsDomHandle(w[1],s.f.Ellipse),this.toolInstance.triggerAnimateHandle(w[0],t),Object(a.o)(w[0],[{attr:"fill",value:o},{attr:"opacity",value:i},{attr:"stroke",value:u},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:n},{attr:"stroke-linecap",value:c},{attr:"cx",value:g},{attr:"cy",value:m},{attr:"rx",value:_},{attr:"ry",value:y},{attr:"transform",value:"translate("+(h||0)+", "+(p||0)+")"}])},e.prototype.drawLocalGraphicImage=function(e,t,o){var i=this;return new Promise((function(c,u){if(!i.toolInstance.getUserAuth().create)return u(Object(n.b)(s.i.ZegoWhiteboardViewErrorNoAuthCreateGraphic));var d=new Image;d.setAttribute("crossOrigin","anonymous"),d.onload=function(){var n=i.toolInstance.graphicList,u=i.getScaleRect(d.width,d.height),h=u.width,p=u.height,f={x:t,y:o,ex:t+h,ey:o+p,url:e,hash:""},g=Object(a.d)(),m=i.toolInstance.serviceHandle.createZorder(),_=""+r.a.reservedPrefix.graphicsSvg+g,y=""+r.a.reservedPrefix.graphics+g,v=Object(a.e)(_,y,"image",m);if(v[1]&&i.toolInstance.appendGraphicsDomHandle(v[1],s.f.Image),Object(a.o)(v[0],[{attr:"width",value:h},{attr:"height",value:p},{attr:"crossorigin",value:"anonymous"},{attr:"href",value:e},{attr:"transform",value:"translate("+t+", "+o+")"}]),i.isIos11&&v[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),i.toolInstance.updateProtoGraphic(l(l({creator_id:i.toolInstance.getUserID(),graphic_id:g,operate_id:g,is_end_draw:!0},r.a.basicState),{type:s.f.Image,x:0,y:0,px:0,py:0,initX:t,initY:o,data:f,oldData:l({},f),zorder:m})),i.toolInstance.updateOffsetAndScrollHandle(),i.toolInstance.updateBoxHandle(i.toolInstance.protoGraphic)){var b=JSON.parse(JSON.stringify(i.toolInstance.protoGraphic));b.is_end_draw=!0,n.push(b),i.toolInstance.updateToRemoteNewHandle([b],s.a.Create)}i.toolInstance.initDrawHandle(),c(e)},d.onerror=u,d.src=e}))},e.prototype.drawLocalCustomImage=function(e){var t=e.graphic_id,o=r.a.basicExtraState.customImage,i=o.w,n=o.h,c=e.data,u=c.x,l=c.y,d=c.ex,h=c.ey,p=c.url,f=""+r.a.reservedPrefix.graphicsSvg+t,g=""+r.a.reservedPrefix.graphics+t,m=Object(a.e)(f,g,"image",e.zorder);m[1]&&this.toolInstance.appendGraphicsDomHandle(m[1],s.f.Image);var _=Number((Math.abs(d-u)/i).toFixed(7)),y=Number((Math.abs(h-l)/n).toFixed(7));Object(a.o)(m[0],[{attr:"width",value:i},{attr:"height",value:n},{attr:"crossorigin",value:"anonymous"},{attr:"href",value:p},{attr:"transform",value:"translate("+Math.min(u,d)+", "+Math.min(l,h)+") scale("+_+", "+y+")"}]),this.isIos11&&m[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p)},e.prototype.drawReomteGraphicImage=function(e){var t=this,o=e.graphic_id,r=e.zorder,i=e.data;this.checkImageRect(i);var n=i.x,s=i.y,c=i.ex,u=i.ey,l=i.url;this.toolInstance.appendImageDomHandle(o,r);var d=new Image;d.setAttribute("crossOrigin","anonymous"),d.onload=function(){var r=t.toolInstance.getImageDomHandle(o),i=r[0],h=r[1];if(i&&h){var p=t.getScaleRect(d.width,d.height),f=p.width,g=p.height,m=Number(((c-n)/f).toFixed(7)),_=Number(((u-s)/g).toFixed(7));Object(a.o)(i,[{attr:"width",value:f},{attr:"height",value:g},{attr:"crossorigin",value:"anonymous"},{attr:"href",value:l},{attr:"transform",value:"translate("+n+", "+s+") scale("+m+", "+_+")"}]),t.isIos11&&i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);var y=t.toolInstance.getBoxInfoByGraphic(e);if(y){var v=y.x,b=y.y,w=y.width,S=y.height;h.style.cssText+="width:"+w+"px;height:"+S+"px;left:"+v+"px;top:"+b+"px;"}}},d.src=l},e.prototype.updateGraphicsImage=function(e){var t=e.graphic_id,o=e.data;this.checkImageRect(o);var i=o.x,n=o.y,s=o.ex,c=o.ey,u=""+r.a.reservedPrefix.graphicsSvg+t,l=""+r.a.reservedPrefix.graphics+t,d=Object(a.e)(u,l,"image",e.zorder)[0];if(d){var h=+d.getAttribute("width"),p=+d.getAttribute("height"),f=Number(((s-i)/h).toFixed(7)),g=Number(((c-n)/p).toFixed(7));d.setAttribute("transform","translate("+i+", "+n+") scale("+f+", "+g+")")}},e.prototype.checkImageRect=function(e){var t=e.x,o=e.y,r=e.ex,i=e.ey;t>r&&(e.x=r,e.ex=t),o>i&&(e.y=i,e.ey=o)},e.prototype.getScaleRect=function(e,t){var o=this.toolInstance.viewInfo,r=o.viewWidth,i=o.viewHeight;if(e>r||t>i){var n=Math.min(r/e,i/t);e=e*n|0,t=t*n|0}return{width:e,height:t}},e.prototype.getSize=function(e,t){return t===s.e.Local?r.a.basicExtraState.drawSize:Object(a.c)(e.size,e.type,this.toolInstance.viewInfo.viewWidth,!1)},e}(),h=(o(275),o(276),function(){return(h=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}),p=function(){function e(e){var t=this;this.bindFlag=!1,this.canCreate=!0,this.chInput=!1,this.allowTouchEnd=!0,this.mouseupHandle=function(e){e instanceof MouseEvent?t.upEventHandle(e):t.allowTouchEnd&&(t.upEventHandle(e),t.allowTouchEnd=!1)},this.upEventHandle=function(e){if(t.toolInstance.enableDraw)if(t.toolInstance.getUserAuth().create){if(t.toolInstance.downCommonHandle(e))if(t.canCreate){var o=t.toolInstance.getMouseChangedPoint(e),r=o.clientX,i=o.clientY;if(!t.checkAddHandle(r,i))return;t.addTextGraphics("",r,i)}else t.canCreate=!0}else Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthCreateGraphic)},this.toolInstance=e}return e.prototype.updateContentHandle=function(e){var t=r.a.textareaHPadding,o=e.value,i=e.previousSibling,n=Number(i.style.maxWidth.split("px")[0])-2*t,a=i.parentNode,s=document.createElement("span");s.style.cssText="position: absolute; z-index: -100; font-size: inherit; font-family: inherit; visibility: hidden; display: inline-block;line-height: 1;",a.appendChild(s);for(var c="",u=0,l=0,d=o;l<d.length;l++){var h=d[l];if("\n"===h)c+="\n",u=0;else{var p=this.textSizeHandle(s,h).width;(u+=p)>n?(c+="\n"+h,u=p):c+=h}}a.removeChild(s),i.innerHTML=c,e.value=c},e.prototype.addTextareaDomHandle=function(e){var t=e.graphic_id,o=e.data,i=document.createElement("textarea"),n=""+r.a.reservedPrefix.graphics+t;i.setAttribute("id",n),i.setAttribute("tabindex","-1"),i.setAttribute("spellcheck","false"),i.setAttribute("maxlength",""+r.a.maxlength),navigator.userAgent.includes("iPhone")&&navigator.userAgent.includes("11_4_1")&&(i.style.padding="0 "+Math.max(r.a.textareaHPadding-3,0)+"px");var s=Object(a.q)(o).text;return i.value=s,i},e.prototype.addPreDomHandle=function(e){var t=e.size,o=e.data,i=e.type,n=Object(a.q)(o).text,s=document.createElement("pre");s.innerHTML=n;var c=Object(a.c)(t,i,this.toolInstance.viewInfo.viewWidth,!1),u=r.a.textareaHPadding,l=r.a.textareaVPadding;return u*=2,l*=2,s.style.cssText="min-height:"+(c*r.a.lineHeight+l)+"px;min-width:"+(c+u)+"px;",s},e.prototype.addTextareaConDomHandle=function(e){var t=e.size,o=e.color,i=e.data,n=e.graphic_id,s=e.type,c=e.attributes,u=e.zorder,l=JSON.parse(c||r.a.basicState.attributes),d=l.bold,h=l.italic,p=Object(a.c)(t,s,this.toolInstance.viewInfo.viewWidth,!1),f=Object(a.q)(i),g=f.beginX,m=f.beginY,_=document.createElement("div"),y=""+r.a.reservedPrefix.textareaCon+n;return _.setAttribute("id",y),u&&_.setAttribute("data-z",u+""),_.style.cssText="font-size:"+p+"px;font-style:"+(h?"italic":"normal")+";font-weight:"+(d?"bold":"normal")+";left:"+g+"px;top:"+m+"px;color:"+o+";caret-color:"+o+";",_},e.prototype.textSizeHandle=function(e,t){return" "===t&&(t=t.replace(/ /g,"&nbsp")),e.innerHTML=t,{width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height}},e.prototype.checkValueHandle=function(e){var t=r.a.maxlength;return e.length>t&&(e=e.slice(0,t)),e},e.prototype.initHeightHandle=function(e){var t=e.previousSibling;e.scrollTop=0,e.style.height="initial",t.style.height="initial",t.style.maxHeight="initial"},e.prototype.updateHeightHandle=function(e){var t=r.a.textareaHPadding,o=r.a.lineHeight,i=this.toolInstance.viewInfo.zoom,n=e.previousSibling,a=n.style.height,s=Number(n.style.maxHeight.split("px")[0]),c=(Number(n.style.maxWidth.split("px")[0])+2*t)/i,u=e.parentNode.style.fontSize,l=Number(u.split("px")[0]);e.style.maxWidth=c+"px",e.style.height=l*o+"px";var d=e.scrollHeight+"px";e.scrollHeight*i>s&&(d=a),n.style.height=d,e.style.height=d},e.prototype.inputCallbackHandle=function(e){var t=e.target,o=t.previousSibling,r=this.checkValueHandle(t.value);t.value=r,o.innerHTML=r,this.updateHeightHandle(t),!this.chInput&&this.updateToRemoteHandle(e)},e.prototype.chInputCallbackHandle=function(e){this.chInput=!1,this.updateToRemoteHandle(e)},e.prototype.updateToRemoteHandle=function(e){var t=e.target,o=t.parentNode,i=this.toolInstance.graphicList,n=t.id.split(r.a.reservedPrefix.graphics)[1],c=t.value,u=this.toolInstance.getDataFromGraphicList(n,"data").data,l=Object(a.q)(u),d=l.beginX,h=l.beginY,p=i.findIndex((function(e){return e.graphic_id===n})),f=i[p];f&&("blur"===e.type?(f.is_end_draw=!0,c?(this.updateContentHandle(t),this.toolInstance.updateBoxHandle(f,"blur"),f.data=Object(a.a)(t.value,d,h),this.toolInstance.updateToRemoteNewHandle([f],s.a.Update)):(Object(a.n)(o),Object(a.n)(this.toolInstance.getBoxHandle(n)),i.splice(p,1),this.toolInstance.updateToRemoteNewHandle([f],s.a.Delete)),this.toolInstance.initDrawHandle()):this.toolInstance.getUserAuth().update||f.creator_id===this.toolInstance.getUserID()?(this.updateContentHandle(t),f.is_end_draw=!1,f.data=Object(a.a)(t.value,d,h),this.toolInstance.updateToRemoteNewHandle([f],s.a.Update)):t.blur())},e.prototype.bindTextareaInputEventHandle=function(e){var t=this;e.addEventListener("input",(function(e){t.inputCallbackHandle(e)})),e.addEventListener("compositionstart",(function(e){t.chInput=!0})),e.addEventListener("compositionend",(function(e){t.chInputCallbackHandle(e)})),e.addEventListener("keydown",(function(e){9===e.keyCode&&e.preventDefault()}))},e.prototype.bindTextareaFocusEvent=function(e,t){var o=this,i=t.data,n=Object(a.q)(i),s=n.beginX,c=n.beginY;e.addEventListener("focus",(function(e){var t=e.target;t.parentNode.style.borderColor="red";var i=t.id.split(r.a.reservedPrefix.graphics)[1];o.toolInstance.setDataToGraphicList(i,{oldData:Object(a.a)(t.value,s,c)})}))},e.prototype.bindTextareaBlurEvents=function(e){var t=this;e.addEventListener("blur",(function(e){var o=t.toolInstance.graphicsBoxConNode,i=e.target,n=i.parentNode,a=i.id.split(r.a.reservedPrefix.graphics)[1];t.initHeightHandle(i),t.updatePointerEvents(2,o.querySelector(t.toolInstance.getBoxSelHandle(a))),n.style.borderColor="transparent",t.canCreate=!1,t.updateToRemoteHandle(e),t.allowTouchEnd||(t.allowTouchEnd=!0)}))},e.prototype.updatePointerEvents=function(e,t){var o=this,i=this.toolInstance.graphicsBoxConNode;1===e?(Array.prototype.slice.call(Object(a.g)(i),0).forEach((function(e){var t=o.toolInstance.getGraphicsHandle(e.id.split(r.a.reservedPrefix.graphicsBox)[1]);t&&"DIV"===t.nodeName&&(e.style.pointerEvents="initial")})),i.style.pointerEvents="none",t&&(t.style.pointerEvents="none")):(i.style.pointerEvents="initial",t&&(t.style.pointerEvents="initial"))},e.prototype.checkAddHandle=function(e,t){var o=this.calMaxSizeHandle(e,t),i=o.maxWidth,n=o.maxHeight,c=this.toolInstance.viewInfo.viewWidth,u=r.a.textareaHPadding,l=r.a.basicState,d=r.a.lineHeight,h=r.a.textareaVPadding,p=Object(a.c)(l.fontSize,s.f.Text,c,!1);return 2*u+p+12<i&&2*h+p*d+12<n},e.prototype.bindEventsHandle=function(){if(!this.bindFlag){this.bindFlag=!0;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(e,r.a.mouseEvents.up,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,r.a.mouseEvents.up,this.mouseupHandle)}},e.prototype.addTextGraphics=function(e,t,o){var i=this.toolInstance,n=i.protoGraphic,c=i.graphicList,u=Object(a.d)();this.toolInstance.updateProtoGraphic(h(h({creator_id:this.toolInstance.getUserID(),graphic_id:u,operate_id:u,is_end_draw:!!e,x:0,y:0,px:0,py:0,zorder:this.toolInstance.serviceHandle.createZorder(),data:Object(a.a)(e,t+"",o+"")},r.a.basicState),{size:r.a.basicState.fontSize}));var l=h({},n);c.push(l),this.drawGraphicsHandle(l,!e),this.toolInstance.setGraphicsDomZorder(l);var d=this.toolInstance.updateBoxHandle(l);!e&&this.updatePointerEvents(1,d),this.toolInstance.updateToRemoteNewHandle([l],s.a.Create)},e.prototype.drawGraphicsHandle=function(e,t){var o=e.x,i=e.y,n=this.addTextareaDomHandle(e),c=this.addPreDomHandle(e),u=this.addTextareaConDomHandle(e);u.appendChild(c),u.appendChild(n),u.style.transform="translate("+(o||0)+"px, "+(i||0)+"px)",this.toolInstance.appendGraphicsDomHandle(u,s.f.Text),this.bindTextareaInputEventHandle(n),this.bindTextareaFocusEvent(n,e);var l=r.a.mouseEvents;Object(a.b)(n,[l.down,l.move,l.up]),t&&(this.initMaxSizeHandle(n),n.focus(),this.updatePointerEvents(1,null)),this.bindTextareaBlurEvents(n)},e.prototype.updateGraphicsHandle=function(e){var t=e.graphic_id,o=e.data,i=e.size,n=e.color,s=e.x,c=e.y,u=e.type,l=e.attributes,d=JSON.parse(l||r.a.basicState.attributes),h=d.bold,p=d.italic,f=Object(a.c)(i,u,this.toolInstance.viewInfo.viewWidth,!1),g=Object(a.q)(o),m=g.beginX,_=g.beginY,y=g.text,v=this.toolInstance.getGraphicsHandle(t);if(v){var b=Object(a.g)(v),w=b[0],S=b[1];S.value=y,v.style.cssText="font-size: "+f+"px;font-style:"+(p?"italic":"normal")+";font-weight:"+(h?"bold":"normal")+";left: "+m+"px;top: "+_+"px;color: "+n+";transform: translate("+s+"px, "+c+"px);caret-color:"+n+";";var I=y.split("\n").length*f*r.a.lineHeight+2*r.a.textareaVPadding;w.innerHTML=y,w.style.height=I+"px",w.style.maxWidth="initial",w.style.maxHeight="initial",S.value=y,S.style.height=I+"px"}},e.prototype.focusHandle=function(e){this.toolInstance.setDataToGraphicList(e,{selected:!1});var t=this.toolInstance.getBoxHandle(e);t&&(t.style.borderColor="transparent"),this.updatePointerEvents(1,t);var o=this.toolInstance.getGraphicsHandle(e);if(o){var r=Object(a.g)(o)[1];this.initMaxSizeHandle(r),o.style.borderColor="red",r.style.height="100%",r.focus();var i=this.toolInstance.graphicList.filter((function(t){return t.graphic_id===e}))[0];i.operate_id=Object(a.d)(),i.is_end_draw=!1,this.toolInstance.updateToRemoteNewHandle([i],s.a.Update)}},e.prototype.backUpdateGraphicsHandle=function(e){var t=e.graphic_id,o=e.data,r=Object(a.q)(o).text,i=this.toolInstance.getGraphicsHandle(t);if(i){var n=Object(a.g)(i),s=n[0];n[1].value=r,s.innerHTML=r;var c=i.getBoundingClientRect(),u=c.width,l=c.height,d=this.toolInstance.getBoxHandle(t);d&&(d.style.cssText+="width:"+u+"px;height:"+l+"px;"),this.toolInstance.setDataToGraphicList(t,{data:o})}},e.prototype.initMaxSizeHandle=function(e){var t=e.getBoundingClientRect(),o=t.left,r=t.top,i=this.toolInstance.transLocationHandle({clientX:o,clientY:r}),n=i.clientX,a=i.clientY,s=this.calMaxSizeHandle(n,a),c=s.maxWidth,u=s.maxHeight,l=e.previousSibling;l.style.maxHeight=u+"px",l.style.maxWidth=c+"px"},e.prototype.calMaxSizeHandle=function(e,t){var o,i=this.toolInstance.viewInfo,n=i.isScroll,a=i.isOriginScroll,s=i.width,c=i.height,u=i.viewWidth,l=i.viewHeight,d=i.zoom,h=i.zoomTX,p=i.zoomTY,f=i.offsetPageX,g=i.offsetPageY,m=0;return n?(o=Math.floor(s-e),m=Math.floor(c-t),a&&(o-=r.a.scrollbarSize,m-=r.a.scrollbarSize)):(o=Math.floor(u-e*d+f*d-h),m=Math.floor(l-t*d+g*d-p)),{maxWidth:o-=2*r.a.boxBorderWidth*d,maxHeight:m-=2*r.a.boxBorderWidth*d}},e}(),f=function(){function e(e){var t=this;this.bindFlag=!1,this.mouseInfo={touchLeaveRect:{left:0,top:0,right:0,bottom:0}},this.boxRectMap={},this.mousedownHandle=function(e){if(t.toolInstance.enableDraw){var o=t.toolInstance,i=o.whiteboardNode,n=o.graphicList;t.mouseInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect(),n.forEach((function(e){if(e.type!==s.f.Laser){var o=t.toolInstance.getBoxHandle(e.graphic_id);o&&(t.boxRectMap[e.graphic_id]=o.getBoundingClientRect())}})),t.mousemoveHandle(e),t.toolInstance.toolAddEL(i,r.a.mouseEvents.move,t.mousemoveHandle)}},this.mousemoveHandle=function(e){if(t.toolInstance.enableDraw){var o=e instanceof MouseEvent?e:e.changedTouches[0],r=o.clientX,i=o.clientY;if(t.toolInstance.isTouchLeaveWhenMove(e,t.mouseInfo.touchLeaveRect))t.mouseupHandle();else{var n=0,a="";t.toolInstance.graphicList.forEach((function(e){var o=t.boxRectMap[e.graphic_id];if(o){var s=o.left,c=o.right,u=o.top,l=o.bottom;if(r>=s&&r<=c&&i>=u&&i<=l){var d=e.zorder||1;(!n||d>n)&&(n=d,a=e.graphic_id)}}})),t.toolInstance.graphicList.forEach((function(e){e.selected=!!a&&(e.graphic_id===a&&t.toolInstance.getGraphicIsEndDraw(e.graphic_id)),t.toolInstance.updateBoxBorder(e)}))}}},this.mouseupHandle=function(){t.boxRectMap={};var e=t.toolInstance.whiteboardNode;t.toolInstance.toolRmEl(e,r.a.mouseEvents.move,t.mousemoveHandle),t.toolInstance.deleteSelectedGraphics(s.c.EraserTool)},this.toolInstance=e}return e.prototype.bindEventsHandle=function(){if(!this.bindFlag){this.bindFlag=!0;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(e,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolAddEL(e,r.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolAddEL(e,r.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.leave,this.mouseupHandle)}},e}(),g=(o(282),o(294),function(){function e(e){this.editBoxMap={w:0,h:0,tx:0,ty:0,x:0,y:0,mx:0,my:0,tx1:0,ty1:0,w0:0,h0:0,board:8,wdiff:9,tdiff:4,interrupt:!1,target:null,graphic:null,parent:document.createElement("div"),box:document.createElement("div"),img:document.createElementNS("http://www.w3.org/2000/svg","image")},this.toolInstance=e,this.setEditorBox()}return e.prototype.startEditTarget=function(e,t){this.endEditTarget();var o=e.target,i=o.className;if(i.includes("operation-point-desktop")){var n=this.editBoxMap.graphic;n&&((this.toolInstance.getUserAuth().update||n.creator_id===this.toolInstance.getUserID())&&(n.operate_id=Object(a.d)(),n.is_end_draw=!1,this.toolInstance.updateToRemoteNewHandle([n],s.a.Update)),Object.assign(n.oldData,n.data)),this.editBoxMap.target=o;var c=window.getComputedStyle(this.editBoxMap.parent),u=c.transform.match(/(-?\d+),\s?(-?\d+)\)$/)||[],l=this.toolInstance.getMouseChangedPoint(e),d=l.clientX,h=l.clientY;this.editBoxMap.w=+c.width.replace("px",""),this.editBoxMap.h=+c.height.replace("px",""),this.editBoxMap.tx=+u[1]||0,this.editBoxMap.ty=+u[2]||0,this.editBoxMap.x=d,this.editBoxMap.y=h;var p=i.substr(i.lastIndexOf(" ")+1);"L"==p?this.editBoxMap.mx=d+this.editBoxMap.w:"R"==p?this.editBoxMap.mx=d-this.editBoxMap.w:"T"==p?this.editBoxMap.my=h+this.editBoxMap.h:"B"==p?this.editBoxMap.my=h-this.editBoxMap.h:"LT"==p?(this.editBoxMap.mx=d+this.editBoxMap.w,this.editBoxMap.my=h+this.editBoxMap.h):"RB"==p?(this.editBoxMap.mx=d-this.editBoxMap.w,this.editBoxMap.my=h-this.editBoxMap.h):"LB"==p?(this.editBoxMap.mx=d+this.editBoxMap.w,this.editBoxMap.my=h-this.editBoxMap.h):"RT"==p&&(this.editBoxMap.mx=d-this.editBoxMap.w,this.editBoxMap.my=h+this.editBoxMap.h);var f=this.toolInstance,g=f.whiteboardNode,m=f.conNode;return this.toolInstance.toolAddEL(g,r.a.mouseEvents.move,t),m.style.cursor=i.replace(/.+cursor-(\w+).+/,"$1")+"-resize",!1}return!0},e.prototype.moveEditTarget=function(e){var t=this.editBoxMap,o=t.target,r=t.interrupt;if(!o)return!r;var i=o.className.substr(o.className.lastIndexOf(" ")+1),n=this.toolInstance.getMouseChangedPoint(e),a=n.clientX,s=n.clientY;return this["moveEditTarget"+i](a,s),!1},e.prototype.endEditTarget=function(){var e=this.editBoxMap,t=e.target,o=e.graphic;if(t&&o)if(this.toolInstance.getUserAuth().update||o.creator_id===this.toolInstance.getUserID()){var r=o.data,i=r.x,a=r.y;o.initX=i-o.x,o.initY=a-o.y,o.is_end_draw=!0,this.toolInstance.updateToRemoteNewHandle([o],s.a.Update)}else{Object.assign(o.data,o.oldData),this.initEditBox(o);var c=this.editBoxMap,u=c.w,l=c.h,d=c.tx1,h=c.ty1;this.updateSVGImageAttr(u,l,d,h,!0),Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthUpdateGraphic)}this.editBoxMap.target=null,this.toolInstance.conNode.style.cursor="auto"},e.prototype.setEditorBox=function(){this.editBoxMap.parent=this.toolInstance.whiteboardNode.querySelector(".img-editor-box")},e.prototype.initEditBox=function(e){var t,o=e.graphic_id,r=null===(t=this.toolInstance.getGraphicsHandle(o))||void 0===t?void 0:t.children[0];if(r){var i=this.editBoxMap,n=i.parent,a=i.board,s=i.wdiff,c=i.tdiff,u=e.data,l=u.x,d=u.y,h=u.ex-l+s,p=u.ey-d+s;l-=c,d-=c,l|=0,d|=0,this.editBoxMap.tx1=l,this.editBoxMap.ty1=d,this.editBoxMap.graphic=e,this.editBoxMap.w0=+r.getAttribute("width"),this.editBoxMap.h0=+r.getAttribute("height"),this.editBoxMap.img=r,this.editBoxMap.box=this.toolInstance.getBoxHandle(o),n.style.cssText+="display:block;width:"+h+"px;height:"+p+"px;transform:translate("+l+"px,"+d+"px);",n.children[4].style.cssText+="left:"+(h/2-a)+"px;",n.children[6].style.cssText+="left:"+(h/2-a)+"px;",n.children[5].style.cssText+="top:"+(p/2-a)+"px;",n.children[7].style.cssText+="top:"+(p/2-a)+"px;"}},e.prototype.hideEditBox=function(e){this.editBoxMap.target=null,this.editBoxMap.graphic=null,this.editBoxMap.interrupt=!!e;var t=this.editBoxMap.parent;t&&(t.style.display="none")},e.prototype.hideEditBoxByList=function(e){var t,o=null===(t=this.editBoxMap.graphic)||void 0===t?void 0:t.graphic_id;e.some((function(e){return e.graphic_id===o}))&&this.hideEditBox()},e.prototype.hideEditBoxByIds=function(e){var t,o=null===(t=this.editBoxMap.graphic)||void 0===t?void 0:t.graphic_id;e.some((function(e){return e===o}))&&this.hideEditBox()},e.prototype.moveEditTargetL=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.mx,a=r.w,s=r.h,c=r.tx,u=r.ty,l=r.parent,d=r.board;if(e<=n){e=i-e;var h=0|(o?e-a:e+a),p=0|(o?c-e+a:c-e);l.style.cssText+="width:"+h+"px;transform:translate("+p+"px,"+u+"px);",l.children[4].style.cssText+="left:"+(h/2-d)+"px;",l.children[6].style.cssText+="left:"+(h/2-d)+"px;",this.editBoxMap.tx1=p,this.editBoxMap.ty1=u,this.updateSVGImageAttr(h,s,p,u)}else this.moveEditTargetR(e,0,!0)},e.prototype.moveEditTargetR=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.mx,a=r.w,s=r.h,c=r.tx1,u=r.ty1,l=r.parent,d=r.board;e>n?(e=0|(o?e-i-a:e-i+a),l.style.cssText+="width:"+e+"px;",l.children[4].style.cssText+="left:"+(e/2-d)+"px;",l.children[6].style.cssText+="left:"+(e/2-d)+"px;",this.updateSVGImageAttr(e,s,c,u)):this.moveEditTargetL(e,0,!0)},e.prototype.moveEditTargetT=function(e,t,o){var r=this.editBoxMap,i=r.y,n=r.my,a=r.w,s=r.h,c=r.tx,u=r.ty,l=r.parent,d=r.board;if(t<=n){t=i-t;var h=0|(o?t-s:t+s),p=0|(o?u-t+s:u-t);l.style.cssText+="height:"+h+"px;transform:translate("+c+"px,"+p+"px);",l.children[5].style.cssText+="top:"+(h/2-d)+"px;",l.children[7].style.cssText+="top:"+(h/2-d)+"px;",this.editBoxMap.tx1=c,this.editBoxMap.ty1=p,this.updateSVGImageAttr(a,h,c,p)}else this.moveEditTargetB(0,t,!0)},e.prototype.moveEditTargetB=function(e,t,o){var r=this.editBoxMap,i=r.y,n=r.my,a=r.w,s=r.h,c=r.tx1,u=r.ty1,l=r.parent,d=r.board;t>n?(t=0|(o?t-i-s:t-i+s),l.style.cssText+="height:"+t+"px;",l.children[5].style.cssText+="top:"+(t/2-d)+"px;",l.children[7].style.cssText+="top:"+(t/2-d)+"px;",this.updateSVGImageAttr(a,t,c,u)):this.moveEditTargetT(0,t,!0)},e.prototype.moveEditTargetLT=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.y,a=r.mx,s=r.my,c=r.w,u=r.h,l=r.tx,d=r.ty,h=r.parent,p=r.board;if(e>i-4&&t>n-4||e<i-4&&t<n-4)if(c<=u&&e<=a||u<c&&t<=s){var f=0,g=0,m=0,_=0;if(o?(e=Math.min(i-e-c,n-t-u),u<c?(g=e,f=Math.round(c*g/u),_=d-e,m=Math.round(l-c*e/u)):(f=e,g=Math.round(f*u/c),m=l-e,_=Math.round(d-u*e/c))):(t-=n,e=(e-=i)<0||t<0?Math.max(e,t):Math.min(e,t),u<c?(g=u-e,f=Math.round(c*g/u),_=d+e,m=Math.round(l+c*e/u)):(f=c-e,g=Math.round(f*u/c),m=l+e,_=Math.round(d+u*e/c))),f<0||g<0)return;f|=0,g|=0,m|=0,_|=0,h.style.cssText+="width:"+f+"px;height:"+g+"px;transform:translate("+m+"px,"+_+"px);",h.children[4].style.cssText+="left:"+(f/2-p)+"px;",h.children[6].style.cssText+="left:"+(f/2-p)+"px;",h.children[5].style.cssText+="top:"+(g/2-p)+"px;",h.children[7].style.cssText+="top:"+(g/2-p)+"px;",this.editBoxMap.tx1=m,this.editBoxMap.ty1=_,this.updateSVGImageAttr(f,g,m,_)}else this.moveEditTargetRB(e,t,!0)},e.prototype.moveEditTargetRB=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.y,a=r.mx,s=r.my,c=r.w,u=r.h,l=r.tx1,d=r.ty1,h=r.parent,p=r.board;if(e>i-4&&t>n-4||e<i-4&&t<n-4)if(c<=u&&e>=a||u<c&&t>=s){e-=i,t-=n;var f=0,g=0;if(o?u<c?(g=Math.min(e,t)-u,f=Math.round(c*g/u)):(f=Math.min(e,t)-c,g=Math.round(f*u/c)):(e=e<0||t<0?Math.max(e,t):Math.min(e,t),u<c?(g=e+u,f=Math.round(c*g/u)):(f=e+c,g=Math.round(f*u/c))),f<0||g<0)return;f|=0,g|=0,h.style.cssText+="width:"+f+"px;height:"+g+"px;",h.children[4].style.cssText+="left:"+(f/2-p)+"px;",h.children[6].style.cssText+="left:"+(f/2-p)+"px;",h.children[5].style.cssText+="top:"+(g/2-p)+"px;",h.children[7].style.cssText+="top:"+(g/2-p)+"px;",this.updateSVGImageAttr(f,g,l,d)}else this.moveEditTargetLT(e,t,!0)},e.prototype.moveEditTargetLB=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.y,a=r.mx,s=r.my,c=r.w,u=r.h,l=r.tx,d=r.ty,h=r.parent,p=r.board;if(e<i-4&&t>n-4||e>i-4&&t<n-4)if(c<=u&&e<a||u<c&&t>s){var f=0,g=0,m=0,_=d;o?(e=Math.min(i-e-c,t-n-u),e=Math.abs(e),u<c?(g=e,f=Math.round(c*g/u)):(f=e,g=Math.round(f*u/c)),m=l-f,_=d+u):(t-=n,e=(e-=i)<0||t>0?Math.min(-e,t):-Math.min(e,-t),u<c?(g=u+e,m=l+c-(f=Math.round(c*g/u))):(f=c+e,g=Math.round(f*u/c),m=l-e)),f|=0,g|=0,m|=0,_|=0,h.style.cssText+="width:"+f+"px;height:"+g+"px;transform:translate("+m+"px,"+_+"px);",h.children[4].style.cssText+="left:"+(f/2-p)+"px;",h.children[6].style.cssText+="left:"+(f/2-p)+"px;",h.children[5].style.cssText+="top:"+(g/2-p)+"px;",h.children[7].style.cssText+="top:"+(g/2-p)+"px;",this.editBoxMap.tx1=m,this.editBoxMap.ty1=_,this.updateSVGImageAttr(f,g,m,_)}else this.moveEditTargetRT(e,t,!0)},e.prototype.moveEditTargetRT=function(e,t,o){var r=this.editBoxMap,i=r.x,n=r.y,a=r.mx,s=r.my,c=r.w,u=r.h,l=r.tx,d=r.ty,h=r.parent,p=r.board;if(e>i-4&&t<n-4||e<i-4&&t>n-4)if(c<=u&&e>a||u<c&&t<s){var f=0,g=0,m=l,_=0;o?(e=Math.min(e-i-c,n-t-u),e=Math.abs(e),u<c?(g=e,f=Math.round(c*g/u)):(f=e,g=Math.round(f*u/c)),m=l+c,_=d-g):(t-=n,e=(e-=i)<0||t>0?-Math.min(-e,t):Math.min(e,-t),u<c?(g=u+e,f=Math.round(c*g/u),_=d-e):(f=c+e,_=d+u-(g=Math.round(f*u/c)))),f|=0,g|=0,m|=0,_|=0,h.style.cssText+="width:"+f+"px;height:"+g+"px;transform:translate("+m+"px,"+_+"px);",h.children[4].style.cssText+="left:"+(f/2-p)+"px;",h.children[6].style.cssText+="left:"+(f/2-p)+"px;",h.children[5].style.cssText+="top:"+(g/2-p)+"px;",h.children[7].style.cssText+="top:"+(g/2-p)+"px;",this.editBoxMap.tx1=m,this.editBoxMap.ty1=_,this.updateSVGImageAttr(f,g,m,_)}else this.moveEditTargetLB(e,t,!0)},e.prototype.updateSVGImageAttr=function(e,t,o,r,i){var n=this.editBoxMap,a=n.w0,s=n.h0,c=n.wdiff,u=n.tdiff,l=n.img,d=n.box,h=n.graphic;if(l&&d){e|=0,t|=0,o|=0,r|=0,d.style.cssText+="width:"+e+"px;height:"+t+"px;left:"+o+"px;top:"+r+"px;",e-=c,t-=c,o+=u,r+=u;var p=Number((e/a).toFixed(7)),f=Number((t/s).toFixed(7));if(l.setAttribute("transform","translate("+o+", "+r+") scale("+p+", "+f+")"),!i){var g=null==h?void 0:h.data;g.x=o,g.y=r,g.ex=o+e,g.ey=r+t}}},e}()),m=function(){return(m=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},_=function(){function e(e){var t=this;this.bindFlag=!1,this.authFlag=!0,this.noMoveUp=!0,this.isWillMove=!1,this.mouseInfo={moveCount:0,touchLeaveRect:{left:0,top:0,right:0,bottom:0}},this.moveSelectedGraphicIds="",this.userId="",this.selectBoxMap={l:0,t:0,r:0,b:0,box:document.createElement("div")},this.mousedownHandle=function(e){if(t.toolInstance.enableDraw&&t.toolInstance.downCommonHandle(e)&&t.imageTool.startEditTarget(e,t.mousemoveHandle)){t.setGraphicsBox(),t.authFlag=!0,t.imageTool.editBoxMap.interrupt=!1;var o=t.selectBoxMap,i=o.l,c=o.t,u=o.r,l=o.b,d=t.toolInstance.getMouseStartPoint(e),h=d.clientX,p=d.clientY,f=t.toolInstance.getUserAuth(),g=t.toolInstance,_=g.graphicList,y=g.whiteboardNode;t.mouseInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect();var v=t.getCoveredMaxZorderGraphic(e);if(v){var b=v.rect,w=b.left,S=b.top,I=b.right,x=b.bottom,E=t.toolInstance.transLocationHandle({clientX:w,clientY:S}),P=t.toolInstance.transLocationHandle({clientX:I,clientY:x});w=E.clientX,S=E.clientY,I=P.clientX,x=P.clientY;var T=v.graphic,D=T.graphic_id,O=T.selected,M=T.type,A=T.creator_id,C=f.update||A===t.userId;O||(_.forEach((function(e){e.selected=e.graphic_id===D})),M===s.f.Image?C?(t.imageTool.initEditBox(v.graphic),t.hideSelectBox(D)):(t.initSelectBox(w,S,I,x),Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthUpdateGraphic)):(t.hideImageEditBox(),t.initSelectBox(w,S,I,x))),O&&M===s.f.Text&&1==_.filter((function(e){return e.selected})).length&&(C?(t.noMoveUp=D,setTimeout((function(){return t.hideSelectBox(D)}),50)):Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthUpdateGraphic)),t.isWillMove=!0}else{u>i&&i<=h&&h<=u&&c<=p&&p<=l?t.isWillMove=!0:t.hideSelectBox()}t.mouseInfo.moveCount=0,t.moveSelectedGraphicIds="",t.toolInstance.updateMousePointsHandle(h,p),t.isWillMove?_.forEach((function(e){e.selected&&(f.move||e.creator_id===t.userId)&&(e.px=e.x,e.py=e.y,e.is_end_draw=!1,e.operate_id=Object(a.d)())})):(t.toolInstance.updateProtoGraphic(m(m({graphic_id:Object(a.d)()},r.a.basicState),{x:0,y:0,px:0,py:0,data:[h,p]})),t.hideImageEditBox(),t.hideSelectBox()),t.toolInstance.toolAddEL(y,r.a.mouseEvents.move,t.mousemoveHandle)}},this.mousemoveHandle=function(e){if(t.toolInstance.enableDraw){if(e instanceof MouseEvent&&!e.buttons)return t.resetMouse();if(t.imageTool.moveEditTarget(e))if(t.toolInstance.isTouchLeaveWhenMove(e,t.mouseInfo.touchLeaveRect))t.mouseupHandle();else{t.mouseInfo.moveCount++,t.noMoveUp=!1;var o=t.toolInstance.getMouseChangedPoint(e);if(t.isWillMove)t.updateGraphicsOnMoving(o);else{t.toolInstance.updateGraphicsDataHandle(o);var r=t.toolInstance.protoGraphic;t.svgTool.drawGraphicsRect(r,s.e.Local,r.color,.3),t.mouseInfo.moveCount%10==0&&t.updateBoxBorderOnSelector()}}}},this.mouseupHandle=function(){if(!t.toolInstance.enableDraw||!0===t.noMoveUp)return t.imageTool.endEditTarget(),void t.resetMouse();if(t.isWillMove){var e=t.selectBoxMap,o=e.l,r=e.t,i=e.r,n=e.b;if(t.selectBoxMap.l=+t.selectBoxMap.box.style.left.replace("px",""),t.selectBoxMap.t=+t.selectBoxMap.box.style.top.replace("px",""),t.selectBoxMap.r=t.selectBoxMap.l+i-o,t.selectBoxMap.b=t.selectBoxMap.t+n-r,!t.noMoveUp){var a=t.toolInstance.graphicList.filter((function(e){return!!t.moveSelectedGraphicIds.includes(e.graphic_id)&&(e.is_end_draw=!0,!0)}));t.toolInstance.updateToRemoteNewHandle(a,s.a.Move)}}else t.setSelectBox(!0);!t.imageTool.editBoxMap.interrupt&&t.noMoveUp&&t.toolInstance.getGraphicIsEndDraw(t.noMoveUp)&&t.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolText).focusHandle(t.noMoveUp);t.resetMouse()},this.toolInstance=e,this.userId=e.getUserID(),this.svgTool=e.getInstanceHandle(s.j.ZegoWhiteboardViewToolLine),this.imageTool=new g(e),this.setGraphicsBox()}return e.prototype.setGraphicsBox=function(){this.selectBoxMap.box=this.toolInstance.whiteboardNode.querySelector(".graphics-box"),this.imageTool.setEditorBox()},e.prototype.initSelectBox=function(e,t,o,r){var i=this;this.selectBoxMap.l=e,this.selectBoxMap.t=t,this.selectBoxMap.r=o,this.selectBoxMap.b=r,o-=e,r-=t,this.toolInstance.graphicList.forEach((function(e){return i.toolInstance.updateBoxBorder(e)})),this.selectBoxMap.box.style.cssText+="left:"+e+"px;top:"+t+"px;width:"+o+"px;height:"+r+"px;display:block;"},e.prototype.hideSelectBox=function(e){var t=this;this.selectBoxMap.l=0,this.selectBoxMap.t=0,this.selectBoxMap.r=0,this.selectBoxMap.b=0,this.selectBoxMap.box.style.display="none",e?this.toolInstance.graphicList.forEach((function(e){!e.selected||e.type!==s.f.Image&&e.type!==s.f.Text?t.toolInstance.updateBoxBorder(e):t.toolInstance.updateBoxBorder(e,!0)})):this.toolInstance.graphicList.forEach((function(e){e.selected=!1,t.toolInstance.updateBoxBorder(e)}))},e.prototype.setSelectBox=function(e){var t,o=this;if("none"===(null===(t=this.imageTool.editBoxMap.parent)||void 0===t?void 0:t.style.display)){var r=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,n=0,a=0,c=0,u=0;if(this.toolInstance.graphicList.forEach((function(e){if(e.selected){var t=o.toolInstance.getBoxInfoByGraphic(e);if(t){u++,e.type===s.f.Image&&c++;var l=t.x,d=t.y,h=t.width,p=t.height;r=Math.min(r,l),i=Math.min(i,d),n=Math.max(n,l+h),a=Math.max(a,d+p)}}o.toolInstance.updateBoxBorder(e)})),n>0&&a>0){this.selectBoxMap.l=r,this.selectBoxMap.t=i,this.selectBoxMap.r=n,this.selectBoxMap.b=a;var l="left:"+r+"px;top:"+i+"px;width:"+(n-=r)+"px;height:"+(a-=i)+"px;display:block;";if(e&&1==c&&1==u){var d=this.toolInstance.graphicList.find((function(e){return e.selected&&e.type==s.f.Image}));d&&(d.creator_id==this.userId||this.toolInstance.getUserAuth().update)&&(l=l.replace("block","none"),this.toolInstance.updateBoxBorder(d,!0),this.imageTool.initEditBox(d))}this.selectBoxMap.box.style.cssText+=l}else this.selectBoxMap.l=0,this.selectBoxMap.t=0,this.selectBoxMap.r=0,this.selectBoxMap.b=0,this.selectBoxMap.box.style.display="none"}},e.prototype.resetMouse=function(){var e=this.toolInstance,t=e.protoGraphic,o=e.whiteboardNode;this.toolInstance.toolRmEl(o,r.a.mouseEvents.move,this.mousemoveHandle);var i=this.toolInstance.getGraphicsHandle(t.graphic_id);Object(a.n)(null==i?void 0:i.parentElement),this.toolInstance.initDrawHandle(),this.isWillMove=!1,this.noMoveUp=!0},e.prototype.getCanMovedGraphicList=function(){var e=this,t=0,o=0,r=[],i=!this.moveSelectedGraphicIds,a=this.toolInstance.getUserAuth().move,c=this.toolInstance.graphicList.filter((function(n){if(n.selected){if(t++,!i&&e.moveSelectedGraphicIds.includes(n.graphic_id))return o++,!0;if(i&&(a||n.creator_id===e.userId))return o++,r.push(n.graphic_id),!0}return e.authFlag&&e.toolInstance.updateBoxBorder(n,!0),!1}));return i&&(this.moveSelectedGraphicIds=r.join(",")),t!==o&&(Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthMoveGraphic),this.authFlag=!1),c},e.prototype.updateGraphicsOnMoving=function(e){var t=this,o=e.clientX,r=e.clientY,i=this.getCanMovedGraphicList();if(i.length){this.toolInstance.updateMousePointsHandle(o,r);var n=this.toolInstance.calMoveHandle(),a=n[0],c=n[1],u=this.imageTool.editBoxMap,l=u.tdiff,d=u.parent,h=u.graphic,p=null==h?void 0:h.graphic_id,f=1==i.length&&(i[0].creator_id==this.userId||!!this.toolInstance.getUserAuth().update);i.forEach((function(e){t.toolInstance.updateGraphicsOffsetHandle(e,a,c);var o=e.graphic_id,r=e.type;if(r===s.f.Image){var i=(e.initX||0)+e.x|0,n=(e.initY||0)+e.y|0,u=e.data,h=e.oldData;h.x=u.x,h.y=u.y,h.ex=u.ex,h.ey=u.ey,u.ex=i+u.ex-u.x,u.ey=n+u.ey-u.y,u.x=i,u.y=n,t.toolInstance.moveGraphicsHandle(o,i,n),p===o&&(i-=l,n-=l,t.imageTool.editBoxMap.tx1=i,t.imageTool.editBoxMap.ty1=n,d.style.cssText+="transform:translate("+i+"px,"+n+"px)"),t.toolInstance.updateBoxHandle(e,f)}else r!==s.f.Laser&&(t.toolInstance.moveGraphicsHandle(o,e.x,e.y),t.toolInstance.updateBoxHandle(e))}));var g=this.selectBoxMap,m=g.l,_=g.t,y=this.toolInstance.mousePoints,v=y.boxX,b=y.boxY;this.selectBoxMap.box.style.cssText+="left:"+(m+v)+"px;top:"+(_+b)+"px;",this.mouseInfo.moveCount%10==0&&this.toolInstance.updateToRemoteNewHandle(i,s.a.Move)}},e.prototype.updateBoxBorderOnSelector=function(){var e=this,t=this.toolInstance.graphicList,o=this.toolInstance.getGraphicsHandle(this.toolInstance.protoGraphic.graphic_id);if(o){var r=o.getBoundingClientRect(),i=r.left,n=r.right,a=r.top,c=r.bottom;t.forEach((function(t){if(t.type!==s.f.Laser){var o=e.toolInstance.getGraphicsHandle(t.graphic_id);if(o){var r=o.getBoundingClientRect(),u=r.left,l=r.top,d=r.right,h=r.bottom;u===d&&d++,l===h&&h++,t.selected=Math.max(i,u)<Math.min(n,d)&&Math.max(a,l)<Math.min(c,h)&&e.toolInstance.getGraphicIsEndDraw(t.graphic_id)}}})),this.setSelectBox()}},e.prototype.getCoveredMaxZorderGraphic=function(e){var t=this,o=e instanceof MouseEvent?e:e.changedTouches[0],r=o.clientX,i=o.clientY,n=0,a=null,c=null;return this.toolInstance.graphicList.forEach((function(e){if(e.type!==s.f.Laser&&t.toolInstance.getGraphicIsEndDraw(e.graphic_id)){var o=t.toolInstance.getBoxHandle(e.graphic_id);if(o){var u=o.getBoundingClientRect(),l=u.left,d=u.top,h=u.right,p=u.bottom;if(r>=l&&r<=h&&i>=d&&i<=p){var f=e.zorder||1;(!n||f>n)&&(n=f,a=e,c=u)}}}})),a&&c?{graphic:a,rect:c}:null},e.prototype.bindEventsHandle=function(){if(!this.bindFlag){this.bindFlag=!0;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(e,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolAddEL(e,r.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolAddEL(e,r.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,r.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolRmEl(e,r.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.hideImageEditBox=function(){this.imageTool.hideEditBox()},e.prototype.hideImageEditBoxByList=function(e){this.imageTool.hideEditBoxByList(e)},e.prototype.hideImageEditBoxByIds=function(e){this.imageTool.hideEditBoxByIds(e)},e.prototype.updateSelectorBoxHandle=function(e,t){if(this.hideImageEditBoxByIds(t),this.hideImageEditBoxByList(e),"none"!=this.selectBoxMap.box.style.display){var o=e.map((function(e){return e.graphic_id}));o.push.apply(o,t),this.toolInstance.graphicList.forEach((function(e){o.includes(e.graphic_id)&&(e.selected=!1)})),this.setSelectBox(!0)}},e}(),y=o(2);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(){return(b=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},w=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},S=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},I=y.b.bind(null,"wb.v."),x=function(){function e(e,t){this.isRemote=!1,this.backgroundInfo={image:"",pos:"",mode:0},this.toolInstance=e,this.createContainer(t)}return e.prototype.createContainer=function(e){var t;this.graphicsBgConNode&&(this.graphicsBgConNode.innerHTML="");var o=this.toolInstance,i=o.whiteboardID,n=o.viewInfo,a=r.a.reservedPrefix,c=a.graphicsBgContainer,u=a.graphicsBgImageContainer,l=document.createElement("div");l.id=""+c+i;for(var d=0,h=n.pageCount||1;d<h;d++){var p=document.createElement("div");p.id=u+d+i,l.appendChild(p)}this.graphicsBgConNode=l,this.toolInstance.viewInfo.direction===s.o.Vertical&&(this.graphicsBgConNode.style.flexDirection="column"),null===(t=e.firstChild)||void 0===t||t.before(l)},e.prototype.drawBackgroundImage=function(e,t){var o=this,r="";switch(t){case s.m.ZegoWhiteboardViewImageFitModeLeft:r="left";break;case s.m.ZegoWhiteboardViewImageFitModeRight:r="right";break;case s.m.ZegoWhiteboardViewImageFitModeBottom:r="bottom";break;case s.m.ZegoWhiteboardViewImageFitModeTop:r="top";break;case s.m.ZegoWhiteboardViewImageFitModeCenter:r="center"}var i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=function(){for(var i=o.graphicsBgConNode.childNodes,n=0,a=i.length;n<a;n++){var s=i[n];s.style.backgroundImage="url("+e+")",s.style.backgroundPosition=r,s.style.backgroundRepeat="no-repeat",s.style.backgroundSize="contain"}o.backgroundInfo.image=e,o.backgroundInfo.pos=r,o.backgroundInfo.mode=t},i.src=e},e.prototype.clearBackgroundImageLocal=function(){var e=this,t=this.toolInstance.graphicList.filter((function(e){return e.type===s.f.BgImage}));this.backgroundInfo.image="",this.backgroundInfo.pos="",this.backgroundInfo.mode=0,t.map((function(t){e.toolInstance.deleteHandle(t.graphic_id)}));for(var o=this.graphicsBgConNode.childNodes,r=0,i=o.length;r<i;r++){o[r].style.backgroundImage="none"}},e.prototype.backgroundImageUpdateToRemote=function(e,t){if(this.isRemote)this.isRemote=!1;else{var o=t?s.a.Update:s.a.Create;this.toolInstance.updateToRemoteNewHandle([e],o)}},e.prototype.updateToLocal=function(e){return this.isRemote=e,this},e.prototype.setBackgroundColor=function(e){this.graphicsBgConNode.style.backgroundColor=e},e.prototype.setBackgroundImage=function(e,t,o){var r=this;if(!e||t>4){var i=Object(n.b)(s.i.ZegoWhiteboardViewErrorParamInvalid);return Promise.reject(i)}if(!this.toolInstance.enableDraw)return Promise.reject({});if(!this.toolInstance.getUserAuth().create){i=Object(n.b)(s.i.ZegoWhiteboardViewErrorNoAuthCreateGraphic);return Promise.reject(i)}var a=!!this.backgroundInfo.image,c=this.toolInstance.graphicList.find((function(e){return e.type==s.f.BgImage}));if(a&&c&&!this.toolInstance.getUserAuth().update&&c.creator_id!==this.toolInstance.getUserID()){i=Object(n.b)(s.i.ZegoWhiteboardViewErrorNoAuthUpdateGraphic);return Promise.reject(i)}if("string"==typeof e){var u=e;if(!u.startsWith("https://")){i=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicIllegalUrl);return Promise.reject(i)}return new Promise((function(o,i){var a=!0,c=new XMLHttpRequest;c.open("HEAD",u,!0),c.onreadystatechange=function(){if(4==c.readyState){if(200!=c.status){a=!1;var o=404===c.status?s.i.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.i.ZegoWhiteboardViewErrorInvalidRsp;return i(Object(n.b)(o))}var l=(c.getResponseHeader("Content-Type")||"").replace("image/",""),d=+c.getResponseHeader("Content-Length");if(!"jpg,jpeg,png".includes(l)){var h=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return i(h)}if(d>10485760){h=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return i(h)}y.a.info(I("mod.setBackgroundImage"),JSON.stringify({params:{address:e}})),r.addBackgroundImageGraphic(u,t)}},c.onerror=function(){if(a){var e=404===c.status?s.i.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.i.ZegoWhiteboardViewErrorInvalidRsp;i(Object(n.b)(e))}},c.send(null)}))}if(this.toolInstance.serviceHandle.isElectron&&"object"==v(e)){if(!/(\.jpg|\.jpeg|\.png)$/.test((e=e).path)){i=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(i)}return y.a.info(I("mod.setBackgroundImage"),JSON.stringify({params:{address:e.path}})),this.toolInstance.serviceHandle.uploadImage(e.path,o).then((function(e){return r.addBackgroundImageGraphic(e,t)}))}var l=(e=e).type.replace("image/","");if(!"jpg,jpeg,png".includes(l)){i=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(i)}if(e.size>10485760){i=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return Promise.reject(i)}return y.a.info(I("mod.setBackgroundImage"),JSON.stringify({params:{address:e.name}})),this.toolInstance.serviceHandle.uploadImage(e,o).then((function(e){return r.addBackgroundImageGraphic(e,t)}))},e.prototype.remoteAddBackgroundImageGraphic=function(e){var t=this.toolInstance.graphicList,o=t.find((function(e){return e.type===s.f.BgImage}));o?(o=Object.assign(o,e),this.toolInstance.setDataToGraphicList(o.graphic_id,{data:o.data})):t.push(e);var r=e.data,i=r.url,n=r.fit_mode;this.drawBackgroundImage(i,n)},e.prototype.addBackgroundImageGraphic=function(e,t){var o=this.toolInstance.graphicList,i={x:0,y:0,ex:0,ey:0,url:e,fit_mode:t,hash:""},n=Object(a.d)(),c=o.find((function(e){return e.type===s.f.BgImage})),u=!!c;if(c){var l=c.data;c=b(b({},c),{data:i,oldData:l,operate_id:Object(a.d)()}),this.toolInstance.setDataToGraphicList(c.graphic_id,{data:i})}else{c=b(b({graphic_id:n,operate_id:n,creator_id:this.toolInstance.getUserID()},r.a.basicState),{type:s.f.BgImage,x:0,y:0,initX:0,initY:0,data:i,oldData:{},zorder:0,layer:1,is_end_draw:!0});var d=JSON.parse(JSON.stringify(c));o.push(d)}return this.drawBackgroundImage(e,t),this.backgroundImageUpdateToRemote(c,u),Promise.resolve(e)},e.prototype.clearBackgroundImage=function(){return w(this,void 0,void 0,(function(){var e;return S(this,(function(t){return this.isRemote?(this.clearBackgroundImageLocal(),this.isRemote=!1,[2]):this.toolInstance.enableDraw?(e=this.toolInstance.graphicList.find((function(e){return e.type==s.f.BgImage})),this.backgroundInfo.image&&e&&!this.toolInstance.getUserAuth().delete&&e.creator_id!==this.toolInstance.getUserID()?(Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthDeleteGraphic),[2]):(e&&(e.operate_id=Object(a.d)(),this.clearBackgroundImageLocal(),this.toolInstance.updateToRemoteNewHandle([e],s.a.Delete)),[2])):[2]}))}))},e}(),E=function(){return(E=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},P=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<o;t++)for(var n=arguments[t],a=0,s=n.length;a<s;a++,i++)r[i]=n[a];return r},T=y.b.bind(null,"wb.v."),D=function(){function e(e){this.mousePoints={sx:-1,sy:-1,ex:-1,ey:-1,boxX:0,boxY:0},this.graphicList=[],this.enableDraw=!0,this.graphicTaskList=[],this.undoList=[],this.clearUndoData=null,this.redoList=[],this.doTaskSeq=0,this.canDo=!0,this.isReloading=!1,this.graphicExtraMap={},this.instancesMap={};var t=e.whiteboardID,o=e.zoomNode,r=e.conNode,i=e.serviceHandle,n=e.graphicsConNode,a=e.graphicsBoxConNode,s=e.viewInfo,c=e.whiteboardNode;this.whiteboardID=t,this.conNode=r,this.zoomNode=o,this.userNode=o.parentNode,this.graphicsConNode=n,this.whiteboardNode=c,this.graphicsBoxConNode=a,this.serviceHandle=i,this.viewInfo=s,this.updateOffsetAndScrollHandle(),this.initDrawHandle()}return e.prototype.getTranslateXY=function(e){if(!e)return{x:0,y:0};var t=e.match(/translate\((-?\d*.?\d*)px(\,\s*(-?\d*.?\d*)px)?\)/);return{x:+t[1]||0,y:+t[3]||0}},e.prototype.clearRealTimeInterval=function(e){clearInterval(this.graphicExtraMap[e].realTimeId),delete this.graphicExtraMap[e]},e.prototype.realTimeHandle=function(e,t){var o,i,n=this,a=t.graphic_id,c=t.is_end_draw,u=t.operate_id,l=this.graphicList.find((function(e){return e.graphic_id==a&&e.operate_id==u}));if(l){var d=r.a.realTimeState,h=d.remoteDrawDelay,p=d.remoteDrawCount,f=d.remoteDrawEndDelay;c?c&&(null===(i=this.graphicExtraMap[a])||void 0===i?void 0:i.realTimeId)&&(this.clearRealTimeInterval(a),y.a.info(T("gra.remote_draw_realtime_end"),a)):this.graphicExtraMap[a]&&this.graphicExtraMap[a].realTimeId?(o=l.data).push.apply(o,t.data):(this.graphicExtraMap[a]=this.graphicExtraMap[a]||{},this.graphicExtraMap[a].realTimeIndex=0,this.graphicExtraMap[a].realTimeId=setInterval((function(t){var o,r=n.graphicList.find((function(e){return e.graphic_id===t}));if(r&&n.graphicExtraMap[t]){var i=r.data,a=n.graphicExtraMap[t].realTimeIndex>=i.length;a?a&&Date.now()-n.graphicExtraMap[t].realTimeLast>f&&(r.is_end_draw=!0,n.clearRealTimeInterval(t),y.a.info(T("gra.remote_draw_realtime_timeout"),t)):(n.graphicExtraMap[t].realTimeLast=Date.now(),(r=JSON.parse(JSON.stringify(r))).data=i.slice(0,n.graphicExtraMap[t].realTimeIndex+=p),e.drawGraphicsHandle(r,s.e.Remote))}else!r&&(null===(o=n.graphicExtraMap[t])||void 0===o?void 0:o.realTimeId)&&(n.clearRealTimeInterval(t),y.a.info(T("gra.remote_draw_realtime_deleted"),t))}),h,a))}},e.prototype.createHandle=function(e,t,o){var r=e.graphic_id;if(!this.graphicList.some((function(e){return e.graphic_id===r})))switch(this.graphicList.push(e),e.type){case s.f.Text:t.drawGraphicsHandle(e,!1);break;default:o.drawGraphicsHandle(e,s.e.UnReDo)}},e.prototype.moveHandle=function(e,t){var o=e.graphic_id,r=e.x,i=e.y,n=e.type;if(n===s.f.Image)this.assingImageGraphicData(e,s.a.Move),t.updateGraphicsImage(e);else{this.setDataToGraphicList(o,{x:r,y:i});var a=n===s.f.Laser?""+1/this.viewInfo.zoom:void 0;this.moveGraphicsHandle(o,r,i,a)}},e.prototype.updateHandle=function(e,t,o){switch(e.type){case s.f.Text:t.backUpdateGraphicsHandle(e);break;case s.f.Image:this.assingImageGraphicData(e,s.a.Update),o.updateGraphicsImage(e);break;case s.f.BgImage:this.background.remoteAddBackgroundImageGraphic(e)}},e.prototype.assingImageGraphicData=function(e,t){var o=e.graphic_id;this.graphicList.some((function(r){if(r.graphic_id===o){if(Object.assign(r.data,e.data),Object.assign(r.oldData,e.oldData),t===s.a.Move)r.x=e.x,r.y=e.y,r.px=e.px,r.py=e.py;else if(t===s.a.Update){var i=r.data,n=i.x,a=i.y;r.initX=n-r.x,r.initY=a-r.y}return!0}return!1}))},e.prototype.reverseGraphicByMove=function(e){if(e.x=[e.px||0,e.px=e.x][0],e.y=[e.py||0,e.py=e.y][0],e.type===s.f.Image){var t=e.data,o=t.ex-t.x,r=t.ey-t.y;t.x=e.x+(e.initX||0),t.y=e.y+(e.initY||0),t.ex=t.x+o,t.ey=t.y+r}},e.prototype.resetImageGraphicOrigin=function(e){var t=e.data,o=t.x,r=t.y;e.initX=o-e.x,e.initY=r-e.y},e.prototype.createUndoData=function(e){var t=this;if(!e.length)return[];var o=JSON.parse(JSON.stringify(e)),r=o[0],i=r.action,n=r.type,c=r.oldData,u=r.data;if(i===s.a.Create||i===s.a.Append||i===s.a.Update)switch(n){case s.f.Text:var l=Object(a.q)(c).text,d=Object(a.q)(u).text;if(!l&&!d)return[];l?(r.action=d?s.a.Update:s.a.Create,r.data=c,r.oldData=u):r.action=s.a.Delete;break;case s.f.Pencil:case s.f.Line:case s.f.Rect:case s.f.Ellipse:r.action=s.a.Delete;break;case s.f.Image:i===s.a.Create?r.action=s.a.Delete:(r.data=c,r.oldData=u,this.resetImageGraphicOrigin(r));case s.f.BgImage:i===s.a.Create?r.action=s.a.Delete:(r.data=c,r.oldData=u)}else i===s.a.Delete?o.forEach((function(e){e.action=s.a.Create,e.type===s.f.Image&&t.resetImageGraphicOrigin(e)})):i===s.a.Move&&o.forEach((function(e){return t.reverseGraphicByMove(e)}));return o.forEach((function(e){e.operate_id=Object(a.d)(),e.is_end_draw=!0})),o},e.prototype.reverseData=function(e){var t=this;e.length&&e.forEach((function(e){var o=e.action,r=e.data,i=e.oldData;switch(o){case s.a.Create:e.action=s.a.Delete;break;case s.a.Delete:e.action=s.a.Create;break;case s.a.Move:t.reverseGraphicByMove(e);break;case s.a.Update:e.data=i,e.oldData=r}e.operate_id=Object(a.d)(),e.is_end_draw=!0}))},e.prototype.createBackground=function(e,t){this.background||(this.background=new x(this,e)),t&&this.background.createContainer(e)},e.prototype.triggerAnimateHandle=function(e,t){t===s.e.Remote?e.classList.add("transition"):e.classList.remove("transition")},e.prototype.transLocationHandle=function(e,t){var o=e.clientX,r=e.clientY,i=this.offsetData,n=i.offsetLeft,a=i.offsetTop,s=this.scrollData,c=s.scrollLeft,u=s.scrollTop,l=this.viewInfo,d=l.zoom,h=l.zoomTX,p=l.zoomTY,f={clientX:(o-n+c-h)/d+l.offsetPageX,clientY:(r-a+u-p)/d+l.offsetPageY};return t||(f.clientX=Math.round(f.clientX),f.clientY=Math.round(f.clientY)),f},e.prototype.transLocationOrigin=function(e){var t=e.clientX,o=e.clientY,r=this.viewInfo,i=r.offsetPageX,n=r.offsetPageY,a=r.zoom,s=this.whiteboardNode.parentNode,c=s.scrollLeft,u=s.scrollTop;return{clientX:Math.round(t+c/a+i),clientY:Math.round(o+u/a+n)}},e.prototype.bindEventsHandle=function(e){this.initDrawHandle();var t=this.instancesMap[e];t&&t.bindEventsHandle()},e.prototype.removeEventsHandle=function(e){var t=this.instancesMap[e];t&&t.removeEventsHandle()},e.prototype.moveGraphicsHandle=function(e,t,o,r){var i=this.getGraphicsHandle(e);if(i)if("g"===i.tagName){var n=Object(a.g)(i)[0];r=(r=n.getAttribute("transform")||"")&&r.includes("scale(")?r.replace(/.*(scale\(\d+(.\d+)?,(\s*)?\d+(.\d+)?\)).*/," $1"):"",n.setAttribute("transform","translate("+(t||0)+", "+(o||0)+")"+r)}else{var s="translate("+(t||0)+"px, "+(o||0)+"px)",c=i.style.transform.match(/scale\((\d*.?\d*)\)/),u=c?c[1]:"";!r&&u?s=s+" scale("+u+")":r&&(s=s+" scale("+r+")"),i.style.transform=s}},e.prototype.getGraphicsHandle=function(e,t){void 0===t&&(t=this.userNode);var o=t.querySelector("#"+r.a.reservedPrefix.graphics+e);return o&&(o=o.parentNode),o},e.prototype.batchGetGraphicsHandle=function(e,t){return void 0===e&&(e=this.userNode),e.querySelectorAll("[id^="+t+"]")},e.prototype.getBoxSelHandle=function(e){return"#"+r.a.reservedPrefix.graphicsBox+e},e.prototype.updateOffsetAndScrollHandle=function(){this.offsetData=Object(a.h)(this.conNode),this.scrollData=Object(a.i)(this.conNode)},e.prototype.updateGraphicsOffsetHandle=function(e,t,o){var r=e.x,i=e.y;e.x=r+t,e.y=i+o},e.prototype.calMoveHandle=function(){var e=this.mousePoints,t=e.sx,o=e.sy,r=e.ex,i=e.ey;return-1!==t&&-1!==o?(this.mousePoints.boxX+=r-t,this.mousePoints.boxY+=i-o,[r-t,i-o]):[0,0]},e.prototype.updateMousePointsHandle=function(e,t){null==e||null==t?this.mousePoints={sx:-1,sy:-1,ex:-1,ey:-1,boxX:0,boxY:0}:(-1!==this.mousePoints.ex&&-1!==this.mousePoints.ey&&(this.mousePoints.sx=this.mousePoints.ex,this.mousePoints.sy=this.mousePoints.ey),this.mousePoints.ex=e,this.mousePoints.ey=t)},e.prototype.updateToRemoteNewHandle=function(e,t,o,r,i,n){if(void 0===o&&(o=!0),e.length){var c=Object(a.t)(e,t);if((!r||!r.isUndoAndRedo)&&(this.redoList.length=0),o){var u=this.graphicTaskList.length,l={taskStatus:u?s.h.Pending:s.h.InProgress,graphicList:c};!u&&this.graphicTaskList.push(l),this.syncUpdateToRemoteQueue(l)}else this.unSyncUpdateToRemoteQueue(c,r,i,n)}},e.prototype.unSyncUpdateToRemoteQueue=function(e,t,o,r){var n=this;this.serviceHandle.updateToRemoteHandle(this.whiteboardID,e,(function(){if(!t||!t.isUndoAndRedo){var r=n.createUndoData(e);n.undoList.push(r)}o&&o()}),(function(e){i.e.emit(i.b.Error,e),r&&r(e)}))},e.prototype.syncUpdateToRemoteQueue=function(e){var t=this;e.taskStatus===s.h.Pending?-1===this.graphicTaskList.findIndex((function(e){return e.taskStatus===s.h.Pending}))?this.graphicTaskList.push(e):this.mergegGraphicTaskList(e):this.serviceHandle.updateToRemoteHandle(this.whiteboardID,e.graphicList,(function(){t.graphicTaskCallbackHandle(s.g.success)}),(function(e){t.graphicTaskCallbackHandle(s.g.error,e)}))},e.prototype.filterUndoAndRedo=function(e){var t=this;return e.filter((function(e){var o=e.action,r=e.graphic_id,i=t.graphicList.some((function(e){return e.graphic_id===r}));return!i&&o===s.a.Create||i&&(o===s.a.Delete||o===s.a.Move||o===s.a.Update||o===s.a.Append)}))},e.prototype.undoClearPage=function(){this.clearUndoData&&this.updatePushLocalHandle(this.clearUndoData,[])},e.prototype.undoNewHandle=function(){var e=this;if((!this.graphicTaskList[0]||this.graphicTaskList[0].taskStatus!==s.h.InProgress)&&this.canDo){var t=this.undoList.length;if(t){var o=this.filterUndoAndRedo(this.undoList[t-1]);o.length?(this.canDo=!1,this.updateToRemoteNewHandle(o,void 0,!1,{isUndoAndRedo:!0},(function(){e.undoList.pop();var t=JSON.parse(JSON.stringify(o));e.updateLocalHandle(t),e.reverseData(t),e.redoList.push(t),e.canDo=!0}),(function(t){e.canDo=!0}))):this.undoList.pop()}}},e.prototype.redoNewHandle=function(){var e=this;if((!this.graphicTaskList[0]||this.graphicTaskList[0].taskStatus!==s.h.InProgress)&&this.canDo){var t=this.redoList.length;if(t){var o=this.filterUndoAndRedo(this.redoList[t-1]);o.length?(this.canDo=!1,this.updateToRemoteNewHandle(o,void 0,!1,{isUndoAndRedo:!0},(function(){e.redoList.pop();var t=JSON.parse(JSON.stringify(o));e.updateLocalHandle(t),e.reverseData(t),e.undoList.push(t),e.canDo=!0}),(function(t){e.canDo=!0}))):this.redoList.pop()}}},e.prototype.findLastTaskIndex=function(e,t){var o=this.graphicTaskList.slice(1);o.reverse();var r=o.findIndex((function(o){return o.graphicList[0][e]===t}));return-1!==r?o.length-r:-1},e.prototype.mergeMoveActionTaskList=function(e){var t=e.graphicList[0].operate_id,o=this.findLastTaskIndex("operate_id",t);-1===o?this.graphicTaskList.push(e):this.graphicTaskList.splice(o+1,1,e)},e.prototype.mergeOtherActionTaskList=function(e){switch(e.graphicList[0].type){case s.f.Text:this.mergeTextTaskList(e);break;case s.f.Pencil:this.mergePathTaskList(e);break;case s.f.Ellipse:case s.f.Rect:case s.f.Line:case s.f.Image:case s.f.BgImage:this.mergeOtherTaskList(e)}},e.prototype.mergeLaserTaskList=function(e){var t=e.graphicList[0],o=t.action,r=t.graphic_id;if(o===s.a.Move){var i=this.findLastTaskIndex("graphic_id",r);-1===i?this.graphicTaskList.push(e):this.graphicTaskList.splice(i,1,e)}else this.graphicTaskList.push(e)},e.prototype.mergeTextTaskList=function(e){var t=e.graphicList[0].operate_id;this.findLastTaskIndex("operate_id",t);this.graphicTaskList.push(e)},e.prototype.mergePathTaskList=function(e){var t=e.graphicList[0],o=t.operate_id,r=t.action,i=this.findLastTaskIndex("operate_id",o);if(-1===i)this.graphicTaskList.push(e);else{var n=this.graphicTaskList[i];n.graphicList[0].action===s.a.Create||r===s.a.Update?this.graphicTaskList.push(e):n.graphicList.forEach((function(t,o){t.data=t.data.concat(e.graphicList[o].data)}))}},e.prototype.mergeOtherTaskList=function(e){var t=e.graphicList[0].operate_id,o=this.findLastTaskIndex("operate_id",t);-1===o?this.graphicTaskList.push(e):this.graphicTaskList[o].graphicList[0].action===s.a.Create?this.graphicTaskList.push(e):this.graphicTaskList.splice(o,1,e)},e.prototype.mergegGraphicTaskList=function(e){var t=e.graphicList[0],o=t.action;t.type===s.f.Laser?this.mergeLaserTaskList(e):o===s.a.Move?this.mergeMoveActionTaskList(e):this.mergeOtherActionTaskList(e)},e.prototype.graphicTaskCallbackHandle=function(e,t){var o=this.graphicTaskList[0];if(o)if(o.taskStatus===s.h.InProgress){var r=o.graphicList[0],n=r.is_end_draw,a=r.type;if(n)if(e===s.g.success){if(a!==s.f.Laser&&a!==s.f.BgImage){var c=this.createUndoData(o.graphicList);this.undoList.push(c)}}else{if(a!==s.f.Laser){c=this.createUndoData(o.graphicList);this.updateLocalHandle(c)}i.e.emit(i.b.Error,t)}else e===s.g.error&&i.e.emit(i.b.Error,t);this.graphicTaskList.shift();var u=this.graphicTaskList[0];u&&(u.taskStatus=s.h.InProgress)&&this.syncUpdateToRemoteQueue(u)}else o.taskStatus=s.h.InProgress,this.syncUpdateToRemoteQueue(o)},e.prototype.updateLocalHandle=function(e){var t=this;y.a.info(T("gra.draw_local"),JSON.stringify(e)),this.updateOffsetAndScrollHandle();var o=this.getInstanceHandle(s.j.ZegoWhiteboardViewToolText),r=this.getInstanceHandle(s.j.ZegoWhiteboardViewToolLine),i=this.getInstanceHandle(s.j.ZegoWhiteboardViewToolSelector);i.hideImageEditBox(),i.hideSelectBox(),e.forEach((function(e){switch(e.action){case s.a.Delete:t.deleteHandle(e.graphic_id,e.type);break;case s.a.Create:e.type==s.f.BgImage||(t.createHandle(e,o,r),t.updateBoxHandle(e));break;case s.a.Move:t.moveHandle(e,r),t.updateBoxHandle(e);break;case s.a.Update:e.type==s.f.BgImage?t.updateHandle(e,o,r):(t.updateHandle(e,o,r),t.updateBoxHandle(e))}}))},e.prototype.updatePushLocalHandle=function(e,t){var o=this;y.a.info(T("gra.remote_draw"),JSON.stringify({graphicList:e,delGraphicList:t,actionMsg:"transValue"})),this.updateOffsetAndScrollHandle(),e.sort((function(e,t){return(e.zorder||0)-(t.zorder||0)})),t.forEach((function(e){return o.deleteHandle(e)}));var i=this.instancesMap[s.j.ZegoWhiteboardViewToolLaser],n=this.instancesMap[s.j.ZegoWhiteboardViewToolText],a=this.instancesMap[s.j.ZegoWhiteboardViewToolLine],c=this.instancesMap[s.j.ZegoWhiteboardViewToolSelector];c&&c.updateSelectorBoxHandle(e,t),e.forEach((function(e){var t=e.graphic_id,c=e.type,u=o.graphicList.some((function(o){return t===o.graphic_id&&(e.type!==s.f.RealTime&&(Object.assign(o,e),c===s.f.Image&&Object.assign(o.data,e.data)),!0)}));u||(c===s.f.Image&&(e.oldData=E({},e.data)),o.graphicList.push(e));var l="#"+r.a.reservedPrefix.graphicsBox+t;switch(u=u&&!!o.whiteboardNode.querySelector(l),c){case s.f.Laser:i.drawGraphicsHandle(e,!1);break;case s.f.Text:u?n.updateGraphicsHandle(e):n.drawGraphicsHandle(e,!1),o.updateBoxHandle(e);break;default:c===s.f.RealTime?o.realTimeHandle(a,e):(u?(c===s.f.Pencil&&e.is_end_draw&&o.graphicExtraMap[t]&&(o.clearRealTimeInterval(t),y.a.info(T("gra.remote_draw_realtime_end"),t)),a.updateGraphicsHandle(e)):a.drawGraphicsHandle(e,s.e.Remote),o.updateBoxHandle(e))}}))},e.prototype.deleteHandle=function(e,t){var o;if(t==s.f.BgImage)this.background.updateToLocal(!0).clearBackgroundImage();else{Object(a.n)(this.getBoxHandle(e));var r=this.getGraphicsHandle(e);Object(a.n)("g"===(null==r?void 0:r.tagName)?r.parentNode:r);var i=this.graphicList.findIndex((function(t){return t.graphic_id===e}));if(-1!==i){var n=null===(o=this.graphicExtraMap[e])||void 0===o?void 0:o.realTimeId;n&&clearInterval(n),this.graphicList.splice(i,1)}}},e.prototype.updateBoxHandle=function(e,t){if(e.type===s.f.Laser)return null;var o=this.getBoxInfoByGraphic(e);if(!o)return null;var i=o.x,n=o.y,a=o.width,c=o.height,u=e.type,l=e.graphic_id,d=e.selected,h=e.zorder,p=this.getBoxHandle(l);if(!p){(p=document.createElement("div")).setAttribute("id",""+r.a.reservedPrefix.graphicsBox+l),u===s.f.Text&&(p.style.pointerEvents="initial");var f=null;if(h)for(var g=this.graphicsBoxConNode.querySelectorAll("[data-z]"),m=0;m<g.length;m++)if(+(g[m].getAttribute("data-z")||"")>h){f=g[m];break}this.graphicsBoxConNode.insertBefore(p,f),h&&this.updateGraphicsDomIndex(h)}var _="width:"+a+"px;height:"+c+"px;border:"+(d&&!0!==t?r.a.selectedBorderCss:r.a.unSelectedBorderCss)+";";return"blur"!==t&&(_+="left:"+i+"px;top:"+n+"px;"),p.style.cssText+=_,h&&p.setAttribute("data-z",h+""),p},e.prototype.updateBoxBorder=function(e,t){if(e.type!==s.f.Laser){var o=this.getBoxHandle(e.graphic_id);o&&(o.style.border=e.selected&&!t?r.a.selectedBorderCss:r.a.unSelectedBorderCss)}},e.prototype.updateGraphicsDomIndex=function(e){var t=this,o=Array.from(this.graphicsBoxConNode.querySelectorAll('[data-z="'+e+'"]')).map((function(e){return e.id.replace(/\D/g,"")}));if(o.length>1){var r=Array.from(this.graphicsConNode.querySelectorAll('[data-z="'+e+'"]')),i=r.map((function(e){return e.id.replace(/\D/g,"")}));if(o.join()!==i.join()){var n=r[r.length-1].nextSibling;o.forEach((function(e){t.graphicsConNode.insertBefore(r[i.findIndex((function(t){return t===e}))],n)}))}}},e.prototype.getInstanceHandle=function(e){var t=this.instancesMap[e];if(!t){switch(e){case s.j.ZegoWhiteboardViewToolLaser:t=new u(this);break;case s.j.ZegoWhiteboardViewToolLine:t=new d(this);break;case s.j.ZegoWhiteboardViewToolText:t=new p(this);break;case s.j.ZegoWhiteboardViewToolEraser:t=new f(this);break;case s.j.ZegoWhiteboardViewToolSelector:t=new _(this)}this.instancesMap[e]=t}return t},e.prototype.getUserID=function(){return this.serviceHandle.getUserID()},e.prototype.getUserAuth=function(){return this.serviceHandle.getUserAuth()},e.prototype.getBoxHandle=function(e){var t=this.getBoxSelHandle(e);return this.userNode.querySelector(t)},e.prototype.setGraphicsDomZorder=function(e){var t=e.graphic_id,o=e.type,i=e.zorder,n=r.a.reservedPrefix,a=n.textareaCon,c=n.graphicsSvg,u=n.graphicsBox,l=o===s.f.Text?"#"+a+t:"#"+c+t,d=this.whiteboardNode.querySelector(l);d&&i&&d.setAttribute("data-z",i+""),l="#"+u+t,(d=this.whiteboardNode.querySelector(l))&&i&&d.setAttribute("data-z",i+"")},e.prototype.appendGraphicsDomHandle=function(e,t){if(s.f.Laser===t)this.graphicsConNode.appendChild(e);else{var o=+(e.getAttribute("data-z")||"");if(o)for(var i=this.graphicsConNode.querySelectorAll("[data-z]"),n=0;n<i.length;n++)if(+(i[n].getAttribute("data-z")||"")>o)return void this.graphicsConNode.insertBefore(e,i[n]);var a=this.graphicsConNode.querySelector("[id^="+r.a.reservedPrefix.laserCon+"]");this.graphicsConNode.insertBefore(e,a)}},e.prototype.getImageDomHandle=function(e){var t=r.a.reservedPrefix,o=t.graphics,i=t.graphicsBox;return[this.userNode.querySelector("#"+o+e),this.userNode.querySelector("#"+i+e)]},e.prototype.appendImageDomHandle=function(e,t){var o=r.a.reservedPrefix,i=o.graphicsSvg,n=o.graphics,a=o.laserCon,s=o.graphicsBox,c=document.createElementNS("http://www.w3.org/2000/svg","g"),u=document.createElementNS("http://www.w3.org/2000/svg","image");u.id=""+n+e,c.appendChild(u);var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.id=""+i+e,l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("version","1.1"),l.appendChild(c);var d=document.createElement("div");if(d.id=""+s+e,t){l.setAttribute("data-z",t+""),d.setAttribute("data-z",t+"");for(var h=this.graphicsConNode.querySelectorAll("[data-z]"),p=0;p<h.length;p++)if(+(h[p].getAttribute("data-z")||"")>t){this.graphicsConNode.insertBefore(l,h[p]);var f=this.graphicsBoxConNode.querySelectorAll("[data-z]")[p];return void this.graphicsBoxConNode.insertBefore(d,f)}}var g=this.graphicsConNode.querySelector("[id ^= "+a+"]");this.graphicsConNode.insertBefore(l,g),this.graphicsBoxConNode.appendChild(d)},e.prototype.resetImageBox=function(){var e=this;this.graphicList.forEach((function(t){if(t.type===s.f.Image){var o=e.getBoxHandle(t.graphic_id),r=t.y+(t.initY||0);o&&Math.abs(Number(o.style.top.replace("px",""))-r)>3&&e.updateBoxHandle(t)}}))},e.prototype.checkMultipointHandle=function(e){return e.touches.length>1},e.prototype.downCommonHandle=function(e){if(window.TouchEvent&&e instanceof TouchEvent){if(this.checkMultipointHandle(e))return!1;"touchstart"!==e.type&&e.preventDefault()}else if(e instanceof MouseEvent&&(e.button||"mouseup"!==e.type&&!e.buttons))return!1;return this.updateOffsetAndScrollHandle(),!0},e.prototype.updateProtoGraphic=function(e){if(e)Object.assign(this.protoGraphic,e);else{var t=r.a.basicState.type;this.protoGraphic=E(E({zorder:0,graphic_id:"",data:[],oldData:"",selected:!1,x:0,y:0,px:0,py:0},r.a.basicState),{type:t,operate_id:"",is_end_draw:!0})}},e.prototype.updateGraphicsDataHandle=function(e){var t=null;switch(this.protoGraphic.type){case s.f.Pencil:(t=this.protoGraphic.data)[t.length-2]===e.clientX&&t[t.length-1]===e.clientY||(t.push(e.clientX),t.push(e.clientY));break;case s.f.Image:(t=this.protoGraphic.data).ex=e.clientX,t.ey=e.clientY;break;default:(t=this.protoGraphic.data).splice(2,2,e.clientX,e.clientY)}},e.prototype.initDrawHandle=function(){this.updateProtoGraphic(),this.updateMousePointsHandle()},e.prototype.getBoxInfoByGraphic=function(e){var t=e.type,o=e.graphic_id,i=this.getGraphicsHandle(o);if(!i)return null;var n=Object(a.j)(e),c=t===s.f.Text||t===s.f.Image?0:e.size||r.a.basicState.size,u=this.viewInfo,l=u.zoom,d=u.offsetPageY,h=u.isScroll,p=r.a.boxBorderWidth,f=i.getBoundingClientRect(),g=f.left,m=f.top,_=f.width,y=f.height;!h&&m>d&&this.isReloading&&(m-=d);var v=this.transLocationHandle({clientX:g,clientY:m},n),b=v.clientX,w=v.clientY;return{x:g=Math.floor(b-p-c/2),y:m=Math.floor(w-p-c/2),width:_=Math.ceil(_/l+c+p),height:y=Math.ceil(y/l+c+p)}},e.prototype.getMouseStartPoint=function(e,t){var o;if(e instanceof MouseEvent){var r=e,i=r.clientX,n=r.clientY;o=this.transLocationHandle({clientX:i,clientY:n},t)}else{var a=e.touches[0];i=a.clientX,n=a.clientY;o=this.transLocationHandle({clientX:i,clientY:n},t)}return o},e.prototype.getMouseChangedPoint=function(e,t){var o;if(e instanceof MouseEvent){var r=e,i=r.clientX,n=r.clientY;o=this.transLocationHandle({clientX:i,clientY:n},t)}else{var a=e.changedTouches[0];i=a.clientX,n=a.clientY;o=this.transLocationHandle({clientX:i,clientY:n},t)}return o},e.prototype.getWhiteboardNodeRect=function(){var e=this.offsetData,t=e.offsetLeft,o=e.offsetTop,r=this.viewInfo,i=r.zoom,n=r.viewWidth,a=r.viewHeight;return i>1?{left:t,top:o,right:t+n,bottom:o+a}:this.whiteboardNode.getBoundingClientRect()},e.prototype.isTouchLeaveWhenMove=function(e,t){if(r.a.isTouch&&window.TouchEvent&&e instanceof TouchEvent){var o=e.changedTouches[0],i=o.clientX,n=o.clientY,a=t.left,s=t.right,c=t.top,u=t.bottom;return i<=a||i>=s||n<=c||n>=u}return!1},e.prototype.setDataToGraphicList=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];for(var r=0,i=this.graphicList.length;r<i;r++){var n=this.graphicList[r];if(e===n.graphic_id){Object.assign.apply(Object,P([n],t));break}}},e.prototype.getDataFromGraphicList=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];for(var r={},i=function(o,i){var a=n.graphicList[o];if(e===a.graphic_id)return t.forEach((function(e){r[e]=a[e]})),"break"},n=this,a=0,s=this.graphicList.length;a<s;a++){var c=i(a,s);if("break"===c)break}return r},e.prototype.filterExistingHandle=function(e){var t=this;return e.filter((function(e){var o=e.graphic_id;return e.action===s.a.Create||t.graphicList.some((function(e){return e.graphic_id===o}))}))},e.prototype.clearLocalHandle=function(){this.graphicTaskList.length=0;var e=r.a.basicState.type;if(e!==s.j.ZegoWhiteboardViewToolClick&&!e){var t=this.getInstanceHandle(e===s.j.ZegoWhiteboardViewToolPen||e===s.j.ZegoWhiteboardViewToolRect||e===s.j.ZegoWhiteboardViewToolEllipse||e===s.j.ZegoWhitebaordViewToolCustomImage?s.j.ZegoWhiteboardViewToolLine:e);t.removeEventsHandle(),t.bindEventsHandle()}this.clearUndoData=JSON.parse(JSON.stringify(this.graphicList)),this.undoList.length=0,this.redoList.length=0;var o=this.getInstanceHandle(s.j.ZegoWhiteboardViewToolLaser),i=o.findLaserHandle(),n=this.graphicList.find((function(e){return e.type===s.f.BgImage}));this.graphicList.length=0,n&&this.graphicList.push(n),this.graphicsConNode.innerHTML="",i&&o.addLaserHandle(i)},e.prototype.reverseZoomHandle=function(e){var t=this;if(e===s.j.ZegoWhiteboardViewToolLaser){var o=this.viewInfo.zoom;this.batchGetGraphicsHandle(this.graphicsConNode,r.a.reservedPrefix.laserCon).forEach((function(e){var r=e.style.transform,i=t.getTranslateXY(r),n=i.x,a=i.y;e.style.transform="translate("+n+"px, "+a+"px) scale("+1/o+")"}))}},e.prototype.getGraphicIsEndDraw=function(e){return this.serviceHandle.getGraphicIsEndDraw(e)},e.prototype.clearPage=function(e){this.enableDraw&&(this.updateGraphicPage(),this.graphicList.forEach((function(t){var o;t.selected=null===(o=t.page)||void 0===o?void 0:o.includes(e)})),this.deleteSelectedGraphics(s.c.ClearPage))},e.prototype.deleteSelectedGraphics=function(e){var t=this;if(this.enableDraw){var o=this.getUserID(),r=this.getUserAuth().delete,i=0,c=0,u=this.graphicList.filter((function(e){var n=!!e.selected&&e.type!==s.f.BgImage&&t.getGraphicIsEndDraw(e.graphic_id),a=r||o===e.creator_id;return n&&i++,n&&a&&c++,n&&a}));if(i!==c&&Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthDeleteGraphic),u.length){var l=this.getInstanceHandle(s.j.ZegoWhiteboardViewToolSelector);l.hideImageEditBox(),l.hideSelectBox(),u.forEach((function(e){e.is_end_draw=!0,e.operate_id=Object(a.d)(),t.deleteHandle(e.graphic_id)})),y.a.info(T("mod.deleteSelectedGraphics"),JSON.stringify({action:e,page:this.viewInfo.page,params:u.map((function(e){return e.graphic_id+","+e.page}))})),this.updateToRemoteNewHandle(u,s.a.Delete)}}},e.prototype.updateGraphicPage=function(){var e=this,t=this.graphicList.filter((function(t){return e.graphicsBoxConNode.querySelector(e.getBoxSelHandle(t.graphic_id))}));this.viewInfo.vpageAspecCache?t.forEach((function(t){var o=e.graphicsBoxConNode.querySelector(e.getBoxSelHandle(t.graphic_id)),r=o||{offsetTop:0,offsetHeight:0},i=r.offsetTop,n=r.offsetHeight,a=e.getPageByAspec(i,i+n);t.page=a||[e.viewInfo.page||1]})):!this.serviceHandle.getFileInfo(this.whiteboardID)&&this.conNode?t.forEach((function(t){var o=e.graphicsBoxConNode.querySelector(e.getBoxSelHandle(t.graphic_id)),r=[];if(1===e.viewInfo.direction){var i=o||{offsetLeft:0,offsetWidth:0},n=i.offsetLeft,a=i.offsetWidth;r=e.getPageByViewInfo(n,n+a,e.viewInfo.viewWidth)}else{var s=o||{offsetTop:0,offsetHeight:0},c=s.offsetTop,u=s.offsetHeight;r=e.getPageByViewInfo(c,c+u,e.viewInfo.viewHeight)}t.page=r||[e.viewInfo.page||1]})):this.graphicList.forEach((function(t){t.page=[e.viewInfo.page||1]}))},e.prototype.getPageByAspec=function(e,t){var o=this.viewInfo.vpageAspecCache;if(!o.hasOwnProperty("2"))return[1];for(var r=o.vs,i=o[r].h;i<=e&&o[r+1];)i+=o[r+1].h,r++;for(var n=r;i<=t&&o[n+1];)i+=o[n+1].h,n++;if(n===r)return[o[r].p];if(n-r>1){var a=new Array(n-r-1).fill(null);return a=a.map((function(e,t){return o[r+t+1].p})),P([o[r].p],a,[o[n].p])}return[o[r].p,o[n].p]},e.prototype.getPageByViewInfo=function(e,t,o){var r=Math.floor(e/o)+1,i=Math.floor(t/o)+1;if(i===r)return[r];if(i-r>1){var n=new Array(i-r-1).fill(null).map((function(e,t){return r+t+1}));return P([r],n,[i])}return[r,i]},e.prototype.toolAddEL=function(e,t,o){e.addEventListener(t,o);var i=r.a.mouseEvents[t];i&&e.addEventListener(i,o)},e.prototype.toolRmEl=function(e,t,o){e.removeEventListener(t,o);var i=r.a.mouseEvents[t];i&&e.removeEventListener(i,o)},e.prototype.updateOffsetPage=function(){var e=this.viewInfo,t=e.page,o=e.viewWidth,r=e.viewHeight,i=e.direction;e.isScroll||(i===s.o.Horizontal?this.viewInfo.offsetPageX=(t-1)*o:this.viewInfo.offsetPageY=(t-1)*r)},e}(),O=o(23),M=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},A=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},C=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<o;t++)for(var n=arguments[t],a=0,s=n.length;a<s;a++,i++)r[i]=n[a];return r},L=function(){function e(e,t){this.snapshotResult={image:""},this.canvasRatio=window.devicePixelRatio||1,this.toolInstance=e,this.backgroundInstance=t,this.file=this.toolInstance.serviceHandle.getFileInfo(this.toolInstance.whiteboardID),this.snapshotId=String(Date.now())}return e.prototype.snapshot=function(e){var t=this;return new Promise((function(o,r){return M(t,void 0,void 0,(function(){var t=this;return A(this,(function(r){return e&&(this.snapshotResult.userData=e),this.createCtx(),this.setWbBgColor(),this.setWbBgImage().then((function(){var e;if(t.file){var r={action:O.b.Snapshot,ctx:t.docsCtx,snapshotId:t.snapshotId};t.toolInstance.conNode.dispatchEvent(new CustomEvent(O.a.Whiteboard,{detail:r}))}t.wbSnapshot();var i=null===(e=t.file)||void 0===e?void 0:e.fileType;i===s.d.PPTH5||i===s.d.CUSTOM_H5?t.snapshotResolve=o:(t.snapshotResult.image=t.mergeCanvas(),o(t.snapshotResult))})),[2]}))}))}))},e.prototype.getH5Snapshot=function(e){var t=this,o=this.toolInstance.viewInfo,r=o.viewWidth,i=o.viewHeight,n=new Image;n.src=e,n.onload=function(){t.docsCtx.drawImage(n,0,0,r,i),t.snapshotResult.image=t.mergeCanvas(),t.snapshotResolve(t.snapshotResult)}},e.prototype.mergeCanvas=function(){var e=this.toolInstance.viewInfo,t=e.viewWidth,o=e.viewHeight,r=document.createElement("canvas");r.width=t*this.canvasRatio,r.height=o*this.canvasRatio;var i=r.getContext("2d");return i.scale(this.canvasRatio,this.canvasRatio),i.drawImage(this.docsCanvas,0,0,t,o),i.drawImage(this.wbCanvas,0,0,t,o),r.toDataURL("image/png",1)},e.prototype.createCtx=function(){var e=this.toolInstance.viewInfo,t=e.viewWidth,o=e.viewHeight;this.wbCanvas=document.createElement("canvas"),this.wbCanvas.width=t*this.canvasRatio,this.wbCanvas.height=o*this.canvasRatio,this.wbCtx=this.wbCanvas.getContext("2d"),this.wbCtx.scale(this.canvasRatio,this.canvasRatio),this.docsCanvas=document.createElement("canvas"),this.docsCanvas.width=t*this.canvasRatio,this.docsCanvas.height=o*this.canvasRatio,this.docsCtx=this.docsCanvas.getContext("2d"),this.docsCtx.scale(this.canvasRatio,this.canvasRatio)},e.containImg=function(e,t,o,r,i,n,a){var s=e,c=t,u=o,l=r;return i>n?(l=n/i*u,i/n<=o/r&&(u=i/n*r)):i<=n&&(u=i/n*l),"top"==a?(c=0,s=e+(o-u)/2):"bottom"==a?(c=t+(r-l),s=e+(o-u)/2):"left"==a?(s=0,c=t+(r-l)/2):"right"==a?(s=e+(o-u),c=t+(r-l)/2):"center"==a&&(s=e+(o-u)/2,c=t+(r-l)/2),{dx:s,dy:c,dWidth:u,dHeight:l}},e.prototype.setWbBgColor=function(){var e=this.file?r.a.basicExtraState.defaultFileBgColor:r.a.basicState.bgColor;this.setBgColor(this.wbCtx,e)},e.prototype.setWbBgImage=function(){var t=this;return new Promise((function(o){var r=t.backgroundInstance.backgroundInfo,i=r.image,n=r.pos,a=t.toolInstance.viewInfo,s=a.viewWidth,c=a.height;if(i){var u=new Image;u.setAttribute("crossOrigin","Anonymous"),u.onload=function(){var r=e.containImg(0,0,s,c,u.width,u.height,n);t.wbCtx.drawImage(u,r.dx,r.dy,r.dWidth,r.dHeight),o()},u.src=i}else o()}))},e.prototype.setBgColor=function(e,t){var o=this.toolInstance.viewInfo,r=o.viewWidth,i=o.viewHeight;e.fillStyle=t,e.fillRect(0,0,r,i)},e.prototype.wbSnapshot=function(){var e=this.sortGraphics();if(e)for(var t=0,o=e;t<o.length;t++){var r=o[t],i=this.getCorrectData(r);switch(r.type){case s.f.Pencil:case s.f.Line:this.renderPencil(r,this.wbCtx,i);break;case s.f.Rect:this.renderRect(r,this.wbCtx,i);break;case s.f.Ellipse:this.renderEllipse(r,this.wbCtx,i);break;case s.f.Text:this.renderText(r,this.wbCtx,i);break;case s.f.Image:this.renderImage(r,this.wbCtx,i)}}},e.prototype.renderPencil=function(e,t,o){var r=Object(a.r)(o);this.setCtxStyle(e,t),t.beginPath(),t.moveTo(r.moveTo[0],r.moveTo[1]),r.path.forEach((function(e){t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])})),t.stroke()},e.prototype.renderRect=function(e,t,o){var r=o[0],i=o[1],n=o[2]-r,a=o[3]-i;this.setCtxStyle(e,t),t.beginPath(),t.strokeRect(r,i,n,a)},e.prototype.renderEllipse=function(e,t,o){var r=o[0],i=o[1],n=(o[2]-r)/2,a=(o[3]-i)/2,s=r+n,c=i+a,u=n>a?Math.abs(n):Math.abs(a);this.setCtxStyle(e,t),t.beginPath(),t.save(),t.translate(s,c),t.scale(n/u,a/u),t.arc(0,0,u,0,2*Math.PI),t.restore(),t.stroke()},e.prototype.renderText=function(e,t,o){this.setCtxStyle(e,t);var i=o.split(","),n=i[0],a=i[1],s=i[2],c=this.toolInstance.getGraphicsHandle(e.graphic_id),u=this.getComputedFs(c.querySelector("pre")||c,"fontSize"),l=this.getComputedLh(c.querySelector("pre")||c,"lineHeight",u),d=(l-1)/2,h=s.split("\n"),p=r.a.textareaHPadding,f=r.a.textareaConBorderWidth;h.forEach((function(e,o){var r=+n+p+f,i=+a+u*l*o+u*d*1+f;t.fillText(""+e,r,i)}))},e.prototype.getComputedStyle=function(e,t,o){var r=window.getComputedStyle(e)[t];return o?o(r):r},e.prototype.getComputedLh=function(e,t,o){return this.getComputedStyle(e,t,(function(e){var t=1.2;return e.includes("px")&&(t=+e.replace(/px/,"")/o),t}))},e.prototype.getComputedFs=function(e,t){return this.getComputedStyle(e,t,(function(e){var t=12;return e.includes("px")&&(t=+e.replace(/px/,"")),t}))},e.prototype.renderImage=function(e,t,o){var i=o[0],n=o[1],a=o[2]-i,s=o[3]-n,c=this.toolInstance.graphicsConNode.querySelector("#"+r.a.reservedPrefix.graphics+e.graphic_id);"image"===(null==c?void 0:c.nodeName)&&t.drawImage(c,i,n,a,s)},e.prototype.setCtxStyle=function(e,t){var o=this.toolInstance.viewInfo.viewWidth,r=Object(a.c)(e.size,s.f.Pencil,o,!1);if(t.strokeStyle=e.color,t.fillStyle=e.color,e.type!==s.f.Text)t.lineWidth=r,t.lineJoin="round",t.lineCap="round";else{var i=this.toolInstance.getGraphicsHandle(e.graphic_id),n=this.getComputedFs(i.querySelector("pre")||i,"fontSize")+"px",c="string"==typeof e.attributes?JSON.parse(e.attributes):{},u=c.bold?"bold":"",l=c.italic?"italic":"",d=window.getComputedStyle(i.querySelector("pre")||i).fontFamily.replace(/"/g,"");t.textBaseline="hanging",t.font=l+" "+u+" "+n+" "+d+" "}},e.prototype.sortGraphics=function(){var e=this;return JSON.parse(JSON.stringify(this.toolInstance.graphicList)).filter((function(t){return e.toolInstance.getGraphicsHandle(t.graphic_id)})).sort((function(e,t){return(e.zorder||0)-(t.zorder||0)}))},e.prototype.getCorrectData=function(e){var t=e.type,o=e.data;switch(t){case s.f.Image:var r=e.data;o=this.correctData([r.x,r.y,r.ex,r.ey]);break;case s.f.Pencil:case s.f.Line:case s.f.Rect:case s.f.Ellipse:var i=this.correctData(e.data);o=this.getTransData(e,i);break;case s.f.Text:var n=e.data.split(","),a=n[2],c=this.correctData([+n[0],+n[1]]),u=this.getTransData(e,C(c));o=C(u,[a]).join(",")}return o},e.prototype.correctData=function(e){var t,o=this.toolInstance.viewInfo,r=o.direction,i=o.page,n=o.viewWidth,a=o.viewHeight,c=o.isScroll,u=o.zoom;if(r===s.o.Center)return e;if(r===s.o.Horizontal&&i)t=e.map((function(e,t){return t%2==0&&(e-=(i-1)*n),e}));else if(r===s.o.Vertical&&i){var l=this.toolInstance.whiteboardNode.parentNode.scrollTop;t=e.map((function(e,t){return t%2==1&&(e-=c?l/u:(i-1)*a),e}))}return t},e.prototype.getTransData=function(e,t){var o=e.x,r=e.y;return t.map((function(e,t){return e+=t%2==0?o:r}))},e}(),B=o(33);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var V=function(){return(V=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},k=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},H=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},j=y.b.bind(null,"wb.v."),z=function(){function e(e,t){var o=this;this.operationModes=Object.freeze({none:!1,scroll:!0,draw:!0,scale:!0}),this.canDraw=!0,this.activited=!1,this.viewInfo={},this.scaleInfo={x:-1,y:-1,syncTimer:0},this.snapshotInstances={},this.handleDragStart=function(e){if(o.operationModes.scale&&o.toolInstance.getUserAuth().scale&&(o.viewInfo.zoomX=o.viewInfo.zoomY=0,o.viewInfo.zoom>1&&!o.canDraw&&o.parentDom)){var t=e instanceof MouseEvent?e:e.changedTouches[0],r=t.clientX,i=t.clientY;o.viewInfo.zoomX=r,o.viewInfo.zoomY=i}},this.handleDragEnd=function(e){o.handleDragMove(e,!0)},this.handleDragMove=function(e,t){if(o.operationModes.scale&&o.toolInstance.getUserAuth().scale&&o.viewInfo.zoom>1&&o.viewInfo.zoomX&&!o.canDraw){if(e instanceof MouseEvent&&!t&&e.buttons<1)return;"touchmove"===e.type&&e.preventDefault(),o.dragPage(e,!!t)}},this.preventDefaultDragEvent=function(e){e.preventDefault()},this.docsviewEventCallback=function(e){var t=e.detail,i=t.action;if(i!==O.b.H5Snapshot&&i!==O.b.DocsAspect&&y.a.info(j(O.a.Docs),JSON.stringify(t)),i===O.b.Page)o.handleDocsPageEvent(t);else if(i===O.b.Animation)o.serviceHandle.appendH5Extra(o.whiteboardID,t.data);else if(i===O.b.DocsAspect)o.viewInfo.vpageAspecCache=t.data;else if(i===O.b.H5Snapshot)o.getH5SnapshotResult(t);else if(i===O.b.ReloadView)o.reinitView();else if(i===O.b.WbError)Object(n.a)(t.data);else if(i===O.b.Step)r.a.basicState.type===s.j.ZegoWhiteboardViewToolSelector&&o.hideSelectBox();else if(i===O.b.SyncDrag){var a=t,c=a.x,u=a.y,l=a.notify;o.viewInfo.isScroll||(o.viewInfo.zoomTX=c,o.viewInfo.zoomTY=u),l&&o.emitScaleFactor(c,u)}},this.whiteboardID=e,this.serviceHandle=t}return e.prototype.setWhiteboardTransform=function(e,t,o){o||(this.viewInfo.zoomTX=e,this.viewInfo.zoomTY=t);var r=this.viewInfo,i=r.viewWidth,n=r.viewHeight,a=r.zoom,c=r.direction,u=this.viewInfo.page||1;c===s.o.Horizontal?e-=(u-1)*i*a:t-=(u-1)*n*a,this.whiteboardNode.style.cssText+="transform:translate("+e+"px,"+t+"px) scale("+a+");"},e.prototype.dragPage=function(e,t){var o=this.viewInfo,r=o.zoom,i=o.zoomTX,n=o.zoomTY,a=o.zoomX,s=o.zoomY,c=o.viewWidth,u=o.viewHeight,l=e instanceof MouseEvent?e:e.changedTouches[0],d=i+l.clientX-a,h=n+l.clientY-s,p=c*(1-r);d>0?d=0:d<p&&(d=p),p=u*(1-r),h>0?h=0:h<p&&(h=p),t&&(this.viewInfo.zoomX=0,this.viewInfo.zoomY=0,this.emitScaleFactor(d,h)),this.setWhiteboardTransform(d,h,!t)},e.prototype.initDragEvents=function(){this.viewInfo.hasOwnProperty("offsetPageX")||(this.viewInfo.offsetPageX=0,this.viewInfo.offsetPageY=0,this.viewInfo.zoom=1,this.viewInfo.zoomX=0,this.viewInfo.zoomY=0,this.viewInfo.zoomTX=0,this.viewInfo.zoomTY=0),this.parentDom&&!this.getFileInfo()&&(this.parentDom.addEventListener("mousedown",this.handleDragStart),this.parentDom.addEventListener("mousemove",this.handleDragMove),this.parentDom.addEventListener("mouseup",this.handleDragEnd),this.parentDom.addEventListener("mouseleave",this.handleDragEnd),this.parentDom.addEventListener("touchstart",this.handleDragStart),this.parentDom.addEventListener("touchmove",this.handleDragMove),this.parentDom.addEventListener("touchend",this.handleDragEnd),this.parentDom.addEventListener("touchcancel",this.handleDragEnd))},e.prototype.updateBindEvents=function(){this.toolInstance.removeEventsHandle(s.j.ZegoWhiteboardViewToolLaser),this.toolInstance.removeEventsHandle(s.j.ZegoWhiteboardViewToolLine),this.toolInstance.removeEventsHandle(s.j.ZegoWhiteboardViewToolText),this.toolInstance.removeEventsHandle(s.j.ZegoWhiteboardViewToolSelector),this.toolInstance.removeEventsHandle(s.j.ZegoWhiteboardViewToolEraser);var e=r.a.basicState.type;switch(e){case s.j.ZegoWhiteboardViewToolPen:case s.j.ZegoWhiteboardViewToolLine:case s.j.ZegoWhiteboardViewToolEllipse:case s.j.ZegoWhiteboardViewToolRect:case s.j.ZegoWhitebaordViewToolCustomImage:this.toolInstance.bindEventsHandle(s.j.ZegoWhiteboardViewToolLine);break;case s.j.ZegoWhiteboardViewToolLaser:case s.j.ZegoWhiteboardViewToolText:this.toolInstance.bindEventsHandle(e);break;case s.j.ZegoWhiteboardViewToolSelector:case s.j.ZegoWhiteboardViewToolEraser:this.toolInstance.getInstanceHandle(e),this.toolInstance.bindEventsHandle(e)}},e.prototype.initToolHandle=function(){this.toolInstance?(this.toolInstance.zoomNode=this.zoomNode,this.toolInstance.conNode=this.parentDom,this.toolInstance.graphicsConNode=this.graphicsConNode,this.toolInstance.whiteboardNode=this.whiteboardNode,this.toolInstance.graphicsBoxConNode=this.graphicsBoxConNode,this.penetrateEventHandle(r.a.basicState.type),this.getUniqueID()?this.setToolType(r.a.basicState.type):this.updateBindEvents()):(this.toolInstance=new D({whiteboardID:this.whiteboardID,zoomNode:this.zoomNode,conNode:this.parentDom,graphicsConNode:this.graphicsConNode,whiteboardNode:this.whiteboardNode,graphicsBoxConNode:this.graphicsBoxConNode,serviceHandle:this.serviceHandle,viewInfo:this.viewInfo}),this.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolLaser),this.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolLine),this.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolText),this.setToolType(r.a.basicState.type))},e.prototype.updateStateSizeHandle=function(){var e=this.viewInfo.viewWidth,t=r.a.basicState,o=t.size,i=t.fontSize;r.a.basicExtraState.drawSize=Object(a.c)(o,s.f.Line,e,!1),r.a.basicExtraState.drawFontSize=Object(a.c)(i,s.f.Text,e,!1)},e.prototype.getDocsViewAspect=function(e,t,o,r){var i=e.firstChild;if(i){var n=t.fileType,a="0"==e.getAttribute("data-mode"),c=Number(e.getAttribute("data-page")),u=i.clientWidth,l=i.clientHeight;if(u&&l||(u=+i.style.width.replace("px",""),l=+i.style.height.replace("px","")),n===s.d.PPTH5||n===s.d.CUSTOM_H5){var d=e.previousElementSibling;d&&(d.style.zIndex="0")}var h=document.getElementById(this.viewInfo.root),p=h.clientWidth,f=h.clientHeight,g=a&&l>r;this.updateViewInfo({isScroll:a,isOriginScroll:g,direction:s.o.Vertical,pageCount:c,width:u,height:l,viewWidth:o,viewHeight:r,page:this.viewInfo.page||1,zoom:this.viewInfo.zoom||1,parentWidth:p,parentHeight:f})}return{x:0,y:0,width:this.viewInfo.viewWidth,height:this.viewInfo.viewHeight}},e.prototype.getWhiteboardAspect=function(e,t,o){var r=this.getAspectRatio().split(":").map((function(e){return+e})),i=r[0],n=r[1];if(o){var a=this.viewInfo.pageCount,c=this.getWhiteboardLayout(e,t,i/a,n),u={parentWidth:e,parentHeight:t,width:c.width*a,height:c.height,viewWidth:c.width,viewHeight:c.height};return this.updateViewInfo(u),c}var l=this.serviceHandle.getPageCount(this.whiteboardID),d={zoom:1,page:1,pageCount:l,direction:l>1?s.o.Horizontal:s.o.Center,parentWidth:e,parentHeight:t},h=this.getWhiteboardLayout(e,t,i/l,n);return d.width=h.width*l,d.height=h.height,d.viewWidth=h.width,d.viewHeight=h.height,this.updateViewInfo(d),h},e.prototype.getWhiteboardLayout=function(e,t,o,r){var i=e,n=r*i/o;return(n>t||Math.abs(n-t)<=1)&&(i=t*e/n|0,n=t),{x:(e-i)/2,y:(t-(n|=0))/2,width:i,height:n}},e.prototype.checkParentSize=function(e,t){if(e<=0||t<=0){var o=Object(n.b)(s.i.ZegoWhiteboardViewErrorViewParentNotExist);throw i.e.emit(i.b.Error,o),new Error("无法获取容器宽高")}},e.prototype.createModule=function(e){var t=this;e&&this.toolInstance&&this.stopLocalDrawHandle(this.serviceHandle.getScrollPercent(this.whiteboardID).verticalPercent);var o=this.getFileInfo(),i=document.getElementById(this.viewInfo.parent);o?this.viewInfo.root=i.parentNode.parentNode.id:(this.viewInfo.root=this.viewInfo.parent,i.style.cssText+="position:relative;display:inherit!important;");var n=i.clientWidth,c=i.clientHeight;this.checkParentSize(n,c);var u=e&&!o?{x:this.viewInfo.zoomTX/this.viewInfo.viewWidth,y:this.viewInfo.zoomTY/this.viewInfo.viewHeight}:{x:0,y:0},l=o?this.getDocsViewAspect(i,o,n,c):this.getWhiteboardAspect(n,c,e),d=l.x,h=l.y,p=r.a.reservedPrefix,f=p.whiteboardZoom,g=p.whiteboardCon,m=p.whiteboard,_=p.boxContainer,y=p.graphicsContainer,v=document.createDocumentFragment();[y,_].forEach((function(e){var o=document.createElement("div");o.id=""+e+t.whiteboardID,v.appendChild(o)}));var b=Object(a.g)(v);this.graphicsConNode=b[0],this.graphicsBoxConNode=b[1],this.createGraphicsBox();var w=this.viewInfo,S=w.width,I=w.height,x=w.viewWidth,E=w.viewHeight;if(this.whiteboardNode=document.createElement("div"),this.whiteboardNode.id=""+m+this.whiteboardID,this.whiteboardNode.style.cssText+="width:"+S+"px;height:"+I+"px;",this.whiteboardNode.appendChild(v),o)this.parentDom=i,this.zoomNode=i.parentNode,i.innerHTML="",i.appendChild(this.whiteboardNode),this.handleDocsviewEvent(i);else{var P="left:"+d+"px;top:"+h+"px;width:"+x+"px;height:"+E+"px;overflow:hidden;";if(this.parentDom=i.querySelector("#"+g+this.whiteboardID),e&&this.parentDom)this.parentDom.innerHTML="",this.parentDom.style.cssText+=P,this.parentDom.appendChild(this.whiteboardNode),this.setWhiteboardTransform(u.x*x|0,u.y*E|0);else{var T=document.createElement("div");T.id=""+f+this.whiteboardID,this.zoomNode=T;var D=document.createElement("div");D.id=""+g+this.whiteboardID,D.style.cssText=P,D.appendChild(this.whiteboardNode),T.appendChild(D),i.appendChild(T),this.parentDom=D}}r.a.basicState.type!==s.j.ZegoWhiteboardViewToolText&&(this.parentDom.style.userSelect="none"),this.parentDom.addEventListener("dragenter",this.preventDefaultDragEvent),this.serviceHandle.setViewSize(this.whiteboardID,x,E),this.serviceHandle.setSize(this.whiteboardID,S,I)},e.prototype.activitView=function(){var e;if(this.zoomNode){var t=(null===(e=this.getFileInfo())||void 0===e?void 0:e.fileID)||"";y.a.setExtraConfig({wbId:this.whiteboardID,fileID:t});var o=document.getElementById(this.viewInfo.root);if(o){var i=this.zoomNode.id;Array.from(Object(a.g)(o)).forEach((function(e){e.style.display=e.id===i?"block":"none"}))}var n=t?r.a.basicExtraState.defaultFileBgColor:r.a.basicState.bgColor;this.toolInstance.background.setBackgroundColor(n),this.setDragStyle(this.getToolType()||0)}},e.prototype.updateViewInfo=function(e){Object.assign(this.viewInfo,e)},e.prototype.isChangeStepInnerPage=function(e){var t,o=null===(t=this.getFileInfo())||void 0===t?void 0:t.fileType;if(o===s.d.PPTH5||o===s.d.CUSTOM_H5){var r=this.viewInfo,i=r.page,n=r.pageCount;return i===Math.min(Math.round(e*n)+1,n)}return!1},e.prototype.stopLocalDrawHandle=function(e){try{var t=r.a.basicState.type,o=s.j.ZegoWhiteboardViewToolLaser,i=s.j.ZegoWhiteboardViewToolSelector,n=s.j.ZegoWhiteboardViewToolText,a=this.isChangeStepInnerPage(e);switch(t){case o:var c=this.toolInstance.getInstanceHandle(o);!a&&c&&c.pushActualPlaceHandle();break;case i:var u=this.toolInstance.getInstanceHandle(i);if(!a&&u){var l=document.activeElement;l&&l.id&&this.whiteboardNode.querySelector("#"+l.id)&&"TEXTAREA"===l.tagName?l.blur():(this.toolInstance.updateOffsetAndScrollHandle(),u.mouseupHandle(),u.hideImageEditBox(),u.hideSelectBox())}break;case n:var d=document.activeElement;!a&&d&&d.id&&this.whiteboardNode.querySelector("#"+d.id)&&"TEXTAREA"===d.tagName&&d.blur();break;case s.j.ZegoWhiteboardViewToolPen:case s.j.ZegoWhiteboardViewToolRect:case s.j.ZegoWhiteboardViewToolLine:case s.j.ZegoWhiteboardViewToolEllipse:case s.j.ZegoWhitebaordViewToolCustomImage:var h=this.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolLine);!a&&h&&(this.toolInstance.updateOffsetAndScrollHandle(),h.mouseupHandle())}this.toolInstance.resetImageBox()}catch(e){}},e.prototype.setClassNameHandle=function(e){var t,o=r.a.reservedPrefix,i=o.whiteboard,n=o.whiteboardCon,a=o.whiteboardZoom;null===(t=this.zoomNode.parentNode)||void 0===t||t.querySelectorAll("[id^="+i+"]").forEach((function(t){-1===t.id.indexOf(""+n)&&-1===t.id.indexOf(""+a)&&(t.className=s.j[e]||"")}))},e.prototype.penetrateEventHandle=function(e){var t,o=null===(t=this.getFileInfo())||void 0===t?void 0:t.fileType;if((o===s.d.PPTH5||o===s.d.CUSTOM_H5)&&this.parentDom){var r=this.operationModes.none||e!==s.j.ZegoWhiteboardViewToolClick?"initial":"none";this.parentDom.style.pointerEvents=r,this.graphicsBoxConNode.style.pointerEvents=r}},e.prototype.jumpPage=function(e,t){var o,r=this.viewInfo,i=r.viewWidth,n=r.viewHeight,a=r.pageCount,c=r.direction;a>=1&&(c===s.o.Horizontal?(o=Math.min(Math.round(e*a)+1,a))<=a&&(this.updateViewInfo({offsetPageX:(o-1)*i,page:o}),this.setWhiteboardTransform(this.viewInfo.zoomTX,this.viewInfo.zoomTY)):(o=Math.min(Math.round(t*a)+1,a))<=a&&(this.updateViewInfo({offsetPageY:(o-1)*n,page:o}),this.setWhiteboardTransform(this.viewInfo.zoomTX,this.viewInfo.zoomTY)));this.notifyScrollEvent(this.viewInfo.page,1,e,t)},e.prototype.handleDocsviewEvent=function(e){var t={action:O.b.WbInit,data:this.whiteboardID};e.dispatchEvent(new CustomEvent(O.a.Whiteboard,{detail:t})),e.addEventListener(O.a.Docs,this.docsviewEventCallback)},e.prototype.handleDocsPageEvent=function(e){var t,o=e.page,i=e.pageCount,n=e.step,a=e.percent,s=e.notify,c=e.ofsX,u=this.viewInfo,l=u.isScroll,d=u.viewHeight,h=u.zoom;this.viewInfo.page=o,this.viewInfo.pageCount=i,l||(this.viewInfo.offsetPageY=(o-1)*d),s&&l&&"number"==typeof c&&(t={scaleFactor:h,scaleOffsetX:c,scaleOffsetY:+r.a.scaleModes.sync},this.scaleInfo.y=0),this.emitScroll(0,a,n,s,t),this.notifyScrollEvent(o,n,0,a)},e.prototype.getH5SnapshotResult=function(e){var t=e.dataUrl,o=e.snapshotId;this.snapshotInstances[o].getH5Snapshot(t)},e.prototype.hideSelectBox=function(){var e=this.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolSelector);e.hideImageEditBox(),e.hideSelectBox()},e.prototype.setDragStyle=function(e){if(this.parentDom){var t=this.toolInstance.getUserAuth(),o=t.scale,r=t.scroll,i=this.operationModes.scale&&!!o&&!e;this.parentDom.style.cursor=i?"move":"auto",this.parentDom.style.touchAction=i?"auto":"none";var n={action:O.b.WbDragTool,enable:this.operationModes.scroll&&!!r,remoteScroll:!!r,isDrag:i};this.parentDom.dispatchEvent(new CustomEvent(O.a.Whiteboard,{detail:n}))}},e.prototype.addImageGraphic=function(e,t,o){var r=this.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolLine),i=this.toolInstance.transLocationOrigin({clientX:t,clientY:o});return r.drawLocalGraphicImage(e,i.clientX,i.clientY)},e.prototype.initBackground=function(e){this.toolInstance.createBackground(this.whiteboardNode,e)},e.prototype.canReloadView=function(){var e=document.getElementById(this.viewInfo.parent);e.style.cssText+="position:relative;display:block!important;";var t=e.clientWidth,o=e.clientHeight;this.checkParentSize(t,o);var r=this.viewInfo,i=r.viewWidth,n=r.viewHeight,a=this.getWhiteboardAspect(t,o,!0),s=a.x,c=a.y,u=a.width,l=a.height;return!(Math.abs(i-u)<5&&Math.abs(n-l)<5)||(this.parentDom.style.cssText+="left:"+s+"px;top:"+c+"px;",y.a.info(j("reloadViewLayou"),JSON.stringify({w0:i,h0:n,w:u,h:l})),!1)},e.prototype.reinitView=function(){this.toolInstance.isReloading=!0,this.parentDom=null,this.init(this.viewInfo.parent,!0),this.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolLaser).updateLaserConSize(),this.toolInstance.isReloading=!1},e.prototype.updateLaser=function(){this.toolInstance.reverseZoomHandle(s.j.ZegoWhiteboardViewToolLaser);var e=this.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolLaser);e.updateLaserConSize(),e.pushActualPlaceHandle()},e.prototype.remoteUpdateBackgroundImage=function(e){this.toolInstance.background.remoteAddBackgroundImageGraphic(e)},e.prototype.remoteClearBackgroundImage=function(){this.toolInstance.background.updateToLocal(!0).clearBackgroundImage()},e.prototype.createGraphicsBox=function(){this.graphicsBoxConNode.innerHTML='\n        <div class="img-editor-box">\n            <div class="operation-point-desktop left-top cursor-nwse LT"></div>\n            <div class="operation-point-desktop right-top cursor-nesw RT"></div>\n            <div class="operation-point-desktop left-bottom cursor-nesw LB"></div>\n            <div class="operation-point-desktop right-bottom cursor-nwse RB"></div>\n            <div class="operation-point-desktop top cursor-ns T"></div>\n            <div class="operation-point-desktop right cursor-ew R"></div>\n            <div class="operation-point-desktop bottom cursor-ns B"></div>\n            <div class="operation-point-desktop left cursor-ew L"></div>\n        </div>\n        <div class="graphics-box"></div>'},e.prototype.emitScroll=function(e,t,o,r,i){this.serviceHandle.loadCurrentGraphics(this.whiteboardID,e,t),r&&this.serviceHandle.scroll(this.whiteboardID,e,t,o,i)},e.prototype.notifyScrollEvent=function(e,t,o,r){i.e.emit(i.b.ViewScroll,{id:this.whiteboardID,horizontalPercent:o,verticalPercent:r,page:e,step:t});var n=this.getUniqueID();n&&i.e.emit(i.d.SubViewScrolled,n,e,t)},e.prototype.emitScaleFactor=function(e,t,o){if(!o){e=0|Math.abs(e),t=0|Math.abs(t);var i=this.viewInfo,n=i.zoom,a=i.width,s=i.height;e=e&&Number((e/a/n).toFixed(7)),t=t&&Number((t/s/n).toFixed(7)),this.scaleInfo.x=e,this.scaleInfo.y=t}r.a.scaleModes.sync&&this.serviceHandle.scale(this.whiteboardID,this.viewInfo.zoom,e,t)},e.prototype.scaleToHandle=function(e,t,o,r){var n=this;if(this.activited){if(this.scaleInfo.x=t,this.scaleInfo.y=o,this.viewInfo.zoom=e||1,this.getFileInfo()){this.scaleInfo.syncTimer&&clearTimeout(this.scaleInfo.syncTimer);var a=r?50:100;this.scaleInfo.syncTimer=window.setTimeout((function(){var i={action:O.b.WbScale,scale:e,x:t,y:o,notify:r};n.parentDom&&n.parentDom.dispatchEvent(new CustomEvent(O.a.Whiteboard,{detail:i})),n.updateLaser()}),a)}else{var s=this.viewInfo,c=s.viewWidth,u=s.viewHeight,l=s.width,d=s.height,h=s.zoom,p=-t*l*h,f=-o*d*h;r&&(p=c*(1-e)*.5|0,f=u*(1-e)*.5|0,this.emitScaleFactor(p,f)),this.setWhiteboardTransform(p,f),this.updateLaser()}var g=this.getUniqueID();g&&i.e.emit(i.d.SubViewScaleChanged,g,this.viewInfo.zoom)}},e.prototype.init=function(e,t){this.viewInfo.parent=e;var o=document.getElementById(""+r.a.reservedPrefix.whiteboard+this.whiteboardID);this.parentDom&&o||this.createModule(!!t),this.initToolHandle(),this.initBackground(!!t||!o),this.updateStateSizeHandle(),this.initDragEvents(),this.activitView();var i=this.serviceHandle.getScrollPercent(this.whiteboardID),n=i.horizontalPercent,a=i.verticalPercent,s=i.pptStep;if(t){this.toolInstance.updateOffsetAndScrollHandle(),this.toolInstance.updateOffsetPage(),this.serviceHandle.isElectron?this.emitScroll(n,a,s,!1):(this.serviceHandle.reloadViewGraphics(this.whiteboardID,this.toolInstance.graphicList),this.updateRemoteToLocal(this.toolInstance.graphicList,[]));var c=this.scaleInfo,u=c.x,l=c.y;-1!==u&&-1!==l&&this.scaleToHandle(this.viewInfo.zoom,u,l,!1)}else{if(this.scrollToHandle(n,a,s,!1),r.a.scaleModes.response){var d=this.serviceHandle.getScale(this.whiteboardID),h=d.scaleFactor,p=d.scaleOffsetX,f=d.scaleOffsetY;this.scaleToHandle(h,p,f,!1)}this.playAnimation(this.serviceHandle.getH5Extra(this.whiteboardID),!1)}y.a.info(j("mod.init"),JSON.stringify({horizontalPercent:n,verticalPercent:a,step:s}));var g=this.zoomNode.parentNode,m=g.clientWidth,_=g.clientHeight;!t&&(Math.abs(m-this.viewInfo.parentWidth)>5||Math.abs(_-this.viewInfo.parentHeight)>5)&&this.reloadView()},e.prototype.getContentSize=function(){return{width:this.viewInfo.width,height:this.viewInfo.height}},e.prototype.getRootDomID=function(){return this.viewInfo.root},e.prototype.setActivited=function(e,t){e?this.activited=!0:this.viewInfo.root&&this.viewInfo.root!=t||(this.activited=!1)},e.prototype.getActivited=function(){return this.activited},e.prototype.scrollToHandle=function(e,t,o,r){if(this.activited)if(this.stopLocalDrawHandle(t),this.getFileInfo()){var i=this.serviceHandle.getScale(this.whiteboardID),n=i.scaleOffsetX,a=i.scaleOffsetY,s={action:O.b.Page,percent:t,step:o||1,ofsX:n,ofsY:a,notify:r};this.parentDom&&this.parentDom.dispatchEvent(new CustomEvent(O.a.Whiteboard,{detail:s}))}else this.emitScroll(e,t,1,r),this.jumpPage(e,t)},e.prototype.syncScaleToHandle=function(){var e=this.scaleInfo,t=e.x,o=e.y;-1!==t&&-1!==o&&this.emitScaleFactor(t,o,!0)},e.prototype.clearLaserHandle=function(e){this.toolInstance&&this.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolLaser).clearLaserHandle(e)},e.prototype.clearLocalHandle=function(e){e&&e.includes(1)?this.remoteClearBackgroundImage():(this.toolInstance.clearLocalHandle(),this.createGraphicsBox())},e.prototype.updateRemoteToLocal=function(e,t){var o=this.toolInstance.graphicList.some((function(e){return t.length&&t.includes(e.graphic_id)&&e.type==s.f.BgImage})),r=e.filter((function(e){return e.type==s.f.BgImage}));if(r.length){var i=r.pop();this.remoteUpdateBackgroundImage(i)}o&&this.remoteClearBackgroundImage(),e=e.filter((function(e){return e.type!==s.f.BgImage})),this.toolInstance.updatePushLocalHandle(e,t)},e.prototype.destroyDomHandle=function(){if(this.parentDom){y.a.info(j("mod.destroy_dom"),JSON.stringify({domID:this.parentDom.id}));var e={action:O.b.WbDestroy,data:this.whiteboardID};this.parentDom.dispatchEvent(new CustomEvent(O.a.Whiteboard,{detail:e})),Object(a.n)(this.parentDom.parentElement),this.parentDom=null}},e.prototype.playAnimation=function(e,t){var o;if(this.activited){var r={action:O.b.Animation,data:e,notify:!t};null===(o=this.parentDom)||void 0===o||o.dispatchEvent(new CustomEvent(O.a.Whiteboard,{detail:r}))}},e.prototype.onAuthChange=function(){this.activited&&this.setDragStyle(this.getToolType()||0)},e.prototype.clear=function(){var e=this;if(this.operationModes.draw)if(this.toolInstance.getUserAuth().clear){y.a.info(j("mod.clear"),JSON.stringify({whiteboardID:this.whiteboardID}));var t=this.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolSelector);t.hideImageEditBox(),t.hideSelectBox(),this.serviceHandle.clearView(this.whiteboardID,[0]).then((function(){e.clearLocalHandle(),y.a.info(j("mod.clear_cb"),"success")})).catch((function(e){var t=Object(n.a)(s.i.ZegoWhiteboardViewErrorClearFail);y.a.error(j("mod.clear_cb"),JSON.stringify(t))}))}else Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthClearGraphic)},e.prototype.scroll=function(e,t){return isNaN(+e)||isNaN(+t)?(Object(n.a)(s.i.ZegoWhiteboardViewErrorParamInvalid,"参数错误: horizontalPercent、verticalPercent取值为0~1",!0),!1):!!this.operationModes.scroll&&(this.toolInstance.getUserAuth().scroll?(y.a.info(j("mod.scroll"),JSON.stringify({params:{horizontalPercent:e,verticalPercent:t}})),e<0&&(e=0),e>1&&(e=1),t<0&&(t=0),t>1&&(t=1),e=Number(e.toFixed(7)),t=Number(t.toFixed(7)),y.a.info(j("mod.scroll"),JSON.stringify({transParams:{horizontalPercent:e,verticalPercent:t}})),this.viewInfo.pageCount>1&&this.viewInfo.page>0&&(this.scrollToHandle(e,t,1,!0),!0)):(Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthScroll),!1))},e.prototype.getCurrentScrollPercent=function(){return V(V({},this.serviceHandle.getScrollPercent(this.whiteboardID)),{direction:this.viewInfo.direction})},e.prototype.getHorizontalPercent=function(){return this.getCurrentScrollPercent().horizontalPercent},e.prototype.getVerticalPercent=function(){return this.getCurrentScrollPercent().verticalPercent},e.prototype.undo=function(){this.operationModes.draw&&(this.serviceHandle.isElectron?this.serviceHandle.undo(this.whiteboardID):this.toolInstance.undoNewHandle())},e.prototype.redo=function(){this.operationModes.draw&&(this.serviceHandle.isElectron?this.serviceHandle.redo(this.whiteboardID):this.toolInstance.redoNewHandle())},e.prototype._undoClear=function(){this.toolInstance.undoClearPage()},e.prototype.getAspectRatio=function(){return this.serviceHandle.getAspectRatio(this.whiteboardID)},e.prototype.getFileInfo=function(){return this.serviceHandle.getFileInfo(this.whiteboardID)},e.prototype.getID=function(){return this.whiteboardID},e.prototype.getName=function(){return this.serviceHandle.getModName(this.whiteboardID)},e.prototype.getCreateTime=function(){return this.serviceHandle.getCreateTime(this.whiteboardID)},e.prototype.getRoomID=function(){return this.serviceHandle.getRoomID(this.whiteboardID)},e.prototype.getUniqueID=function(){return this.serviceHandle.getUniqueID(this.whiteboardID)},e.prototype.getCurrentPage=function(){return this.viewInfo.page||1},e.prototype.getPageCount=function(){return this.viewInfo.pageCount||1},e.prototype.setBackgroundImage=function(e,t,o){return this.toolInstance.background.setBackgroundImage(e,t,o)},e.prototype.clearBackgroundImage=function(){this.toolInstance.background.clearBackgroundImage()},e.prototype.setToolType=function(e){var t;if(e=e||0,!Object(B.o)(e)||this.operationModes.none)return!1;if(e===s.j.ZegoWhiteboardViewToolClick){var o=null===(t=this.getFileInfo())||void 0===t?void 0:t.fileType;if(o!==s.d.PPTH5&&o!==s.d.CUSTOM_H5)return!1}return r.a.basicState.type=e,!this.toolInstance||(this.parentDom.style.userSelect=e!==s.j.ZegoWhiteboardViewToolText?"none":"auto",this.canDraw=this.operationModes.draw&&!!e&&e!==s.j.ZegoWhiteboardViewToolClick,this.setClassNameHandle(e),this.setDragStyle(e),this.penetrateEventHandle(e),this.updateBindEvents(),this.hideSelectBox(),!0)},e.prototype.getToolType=function(){return Object(B.e)()},e.prototype.setBrushColor=function(e){return Object(B.j)(e)},e.prototype.getBrushColor=function(){return Object(B.b)()},e.prototype.setBrushSize=function(e){var t=Object(B.k)(e);return t&&this.updateStateSizeHandle(),t},e.prototype.getBrushSize=function(){return Object(B.c)()},e.prototype.setFontSize=function(e){var t=Object(B.n)(e);return t&&this.updateStateSizeHandle(),t},e.prototype.getFontSize=function(){return Object(B.d)()},e.prototype.setTextSize=function(e){return this.setFontSize(e)},e.prototype.getTextSize=function(){return this.getFontSize()},e.prototype.setFontBold=function(e){return Object(B.l)(e)},e.prototype.isFontBold=function(){return Object(B.f)()},e.prototype.setFontItalic=function(e){return Object(B.m)(e)},e.prototype.isFontItalic=function(){return Object(B.g)()},e.prototype.setBackgroundColor=function(e){return!(!Object(B.i)(e)||!this.toolInstance.enableDraw)&&(this.toolInstance.background.setBackgroundColor(e),!0)},e.prototype.getBackgroundColor=function(){return Object(B.a)()},e.prototype.setScaleFactor=function(e,t,o){var r=+e;(!r||r<1)&&(r=1),this.viewInfo.zoom!==r&&this.operationModes.scale&&this.getToolType()!==s.j.ZegoWhiteboardViewToolClick&&(this.toolInstance.getUserAuth().scale?(y.a.info(j("mod.setScaleFactor"),JSON.stringify({params:{zoom:r,x:t,y:o}})),this.scaleToHandle(r,t||0,o||0,!0)):Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthScale))},e.prototype.getScaleFactor=function(){return{scaleFactor:this.viewInfo.zoom,scaleOffsetX:0,scaleOffsetY:0}},e.prototype.getScaleOffsetX=function(){return this.getScaleFactor().scaleOffsetX},e.prototype.getScaleOffsetY=function(){return this.getScaleFactor().scaleOffsetY},e.prototype.clearCurrentPage=function(){this.toolInstance.clearPage(this.viewInfo.page||1)},e.prototype.deleteSelectedGraphics=function(){this.toolInstance.deleteSelectedGraphics(s.c.BatchSelete)},e.prototype.addText=function(e,t,o){if(this.operationModes.draw&&this.getToolType()===s.j.ZegoWhiteboardViewToolText)if(!e||!Object(a.k)(t)||!Object(a.k)(o)||t<0||o<0||t>this.viewInfo.viewWidth||o>this.viewInfo.viewHeight)Object(n.a)(s.i.ZegoWhiteboardViewErrorParamInvalid);else if(this.toolInstance.getUserAuth().create){var r=this.toolInstance.getInstanceHandle(s.j.ZegoWhiteboardViewToolText);this.toolInstance.updateOffsetAndScrollHandle();var i=this.toolInstance.transLocationOrigin({clientX:t,clientY:o});t=i.clientX,o=i.clientY,r.addTextGraphics(e,t,o),y.a.info(j("mod.addText"),JSON.stringify({params:{text:e,positionX:t,positionY:o}}))}else Object(n.a)(s.i.ZegoWhiteboardViewErrorNoAuthCreateGraphic)},e.prototype.addImage=function(e,t,o,i,c){var u=this,l=this.viewInfo.viewWidth,d=this.viewInfo.viewHeight,h=s.n.ZegoWhiteboardViewImageGraphic,p=s.n.ZegoWhiteboardViewImageCustom;if(!i||e!==h&&e!==p||!Object(a.k)(t)||!Object(a.k)(o)||e===h&&(t<0||o<0||t>l||o>d)||e===p&&"string"!=typeof i){var f=Object(n.b)(s.i.ZegoWhiteboardViewErrorParamInvalid);return Promise.reject(f)}if(!this.operationModes.draw)return Promise.reject({});if(!this.toolInstance.getUserAuth().create){f=Object(n.b)(s.i.ZegoWhiteboardViewErrorNoAuthCreateGraphic);return Promise.reject(f)}var g=e===h?10485760:512e3;if("string"==typeof i){var m=i;if(!m.startsWith("https://")){f=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicIllegalUrl);return Promise.reject(f)}return new Promise((function(a,c){var l=!0,d=new XMLHttpRequest;d.open("HEAD",m,!0),d.onreadystatechange=function(){if(4==d.readyState){if(200!=d.status){l=!1;var h=404===d.status?s.i.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.i.ZegoWhiteboardViewErrorInvalidRsp;return c(Object(n.b)(h))}var f=(d.getResponseHeader("Content-Type")||"").replace("image/",""),_=+d.getResponseHeader("Content-Length");if(!"jpg,jpeg,png,svg+xml".includes(f)){var v=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return c(v)}if(_>g){v=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return c(v)}if(y.a.info(j("mod.addImage"),JSON.stringify({params:{type:e,positionX:t,positionY:o,address:i}})),e===p){r.a.basicExtraState.customImage.url=m;var b=new Image;b.setAttribute("crossOrigin","anonymous"),b.onload=function(){r.a.basicExtraState.customImage.w=b.width,r.a.basicExtraState.customImage.h=b.height},b.src=m,a(m)}else u.addImageGraphic(m,t,o).then(a)}},d.onerror=function(){if(l){var e=404===d.status?s.i.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.i.ZegoWhiteboardViewErrorInvalidRsp;c(Object(n.b)(e))}},d.send(null)}))}if(this.serviceHandle.isElectron&&e===h&&"object"===N(i)){if(!/(\.jpg|\.jpeg|\.png|\.svg)$/.test((i=i).path)){f=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(f)}return y.a.info(j("mod.addImage"),JSON.stringify({params:{type:e,positionX:t,positionY:o,address:i.path}})),this.serviceHandle.uploadImage(i.path,c).then((function(e){return u.addImageGraphic(e,t,o)}))}var _=(i=i).type.replace("image/","");if(!"jpg,jpeg,png,svg+xml".includes(_)){f=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(f)}if(i.size>g){f=Object(n.b)(s.i.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return Promise.reject(f)}return y.a.info(j("mod.addImage"),JSON.stringify({params:{type:e,positionX:t,positionY:o,address:i.name}})),this.serviceHandle.uploadImage(i,c).then((function(e){return u.addImageGraphic(e,t,o)}))},e.prototype.setWhiteboardOperationMode=function(e){if(e&&Object(a.k)(e)){var t=!!(e%2),o=!t&&[2,6,10,14].includes(e),i=!t&&[4,6,12,14].includes(e),c=!t&&[8,10,12,14].includes(e);this.operationModes=Object.freeze({none:t,scroll:o,draw:i,scale:c});var u=r.a.basicState.type;this.toolInstance&&(this.toolInstance.enableDraw=i),this.canDraw=i&&!!u&&u!==s.j.ZegoWhiteboardViewToolClick,this.setDragStyle(u),this.penetrateEventHandle(u),y.a.info(j("mod.setWhiteboardOperationMode"),JSON.stringify({params:e,result:this.operationModes}))}else Object(n.a)(s.i.ZegoWhiteboardViewErrorParamInvalid)},e.prototype.snapshot=function(e){return k(this,void 0,void 0,(function(){var t,o,r;return H(this,(function(i){switch(i.label){case 0:return t=null==e?void 0:e.userData,o=new L(this.toolInstance,this.toolInstance.background),this.snapshotInstances[o.snapshotId]=o,[4,o.snapshot(t)];case 1:return r=i.sent(),delete this.snapshotInstances[o.snapshotId],[2,r]}}))}))},e.prototype.reloadView=function(){if(this.getFileInfo()){var e={action:O.b.ReloadView,data:""};this.parentDom&&this.parentDom.dispatchEvent(new CustomEvent(O.a.Whiteboard,{detail:e}))}else this.canReloadView()&&this.reinitView()},e.prototype.getVisibleSize=function(){return{width:this.viewInfo.viewWidth,height:this.viewInfo.viewHeight}},e}(),q=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},F=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},R=y.b.bind(null,"wb.m."),Z=function(){function e(e){this.modIdMapInstance={},this.fileInfoMap={},this.signallingDelay=0,this.serviceHandle=e,this.registerLoadfileListener(),this.registerPushCallbackHandle(),this.registerPullCallbackHandle()}return e.prototype.registerLoadfileListener=function(){var e=this;document.body.addEventListener("loadfile",(function(t){var o=t.detail.fileID;e.fileInfoMap[o]=t.detail,y.a.info(R("update_file_info"),JSON.stringify({fileID:o,detail:t.detail}))}))},e.prototype.registerPushCallbackHandle=function(){var e=this;i.e.on(i.c.PushClearPageGraphics,(function(t,o){e.signallingDelay?setTimeout((function(){e.clearGraphicsPushCallback(t,o)}),e.signallingDelay):e.clearGraphicsPushCallback(t,o)})),i.e.on(i.c.PushDrawPageGraphics,(function(t,o,r){e.signallingDelay?setTimeout((function(){e.drawGraphicsPushCallback(t,o,r)}),e.signallingDelay):e.drawGraphicsPushCallback(t,o,r)})),i.e.on(i.c.PushAddMod,(function(t,o){e.signallingDelay?setTimeout((function(){e.addModPushCallback(t,o)}),e.signallingDelay):e.addModPushCallback(t,o)})),i.e.on(i.c.PushRemovedMod,(function(t,o){e.signallingDelay?setTimeout((function(){e.removedModPushCallback(t,o)}),e.signallingDelay):e.removedModPushCallback(t,o)})),i.e.on(i.c.PushScroll,(function(t,o,r,i){e.signallingDelay?setTimeout((function(){e.scrollPushCallback(t,o,r,i)}),e.signallingDelay):e.scrollPushCallback(t,o,r,i)})),i.e.on(i.c.PushScale,(function(t,o,r,i){e.signallingDelay?setTimeout((function(){e.scalePushCallback(t,o,r,i)}),e.signallingDelay):e.scalePushCallback(t,o,r,i)})),i.e.on(i.c.PushH5ExtraAppended,(function(t,o){e.signallingDelay?setTimeout((function(){e.h5ExtraAppendedPushCallback(t,o)}),e.signallingDelay):e.h5ExtraAppendedPushCallback(t,o)})),i.e.on(i.c.PushAuthChange,(function(t,o){e.onPushAuthChange(t,o)}))},e.prototype.registerPullCallbackHandle=function(){var e=this;i.e.on(i.c.GetPageGraphicsList,(function(t,o,r){var i=e.getMapInstance(t);i&&i.updateRemoteToLocal(o,r)})),i.e.on(i.c.AppendH5Extra,(function(t){var o=t.whiteboardID,r=t.code,n=t.msg,a=t.modExtra,c=t.isH5;0!==r&&(r===s.i.ZegoWhiteboardViewErrorAnimationInfoLimit?i.e.emit(i.b.Error,{code:r,msg:n}):c?e.h5ExtraAppendedPushCallback(o,a):i.e.emit(i.b.Error,{code:r,msg:n}))})),i.e.on(i.c.Scroll,(function(t){var o=t.whiteboardID,r=t.code,i=t.horizontalPercent,n=t.verticalPercent,a=t.step;0!==r&&e.scrollPushCallback(o,i,n,a)})),i.e.on(i.c.Scale,(function(t){var o=t.whiteboardID,r=t.code,i=t.mod_scale;0!==r&&e.scalePushCallback(o,i.scale,i.ofs_x,i.ofs_y)}))},e.prototype.addModPushCallback=function(e,t){var o=this.getMapInstance(e);o||(y.a.info(R("mod.remote_add"),JSON.stringify({whiteboardID:e})),o=new z(e,this.serviceHandle),this.setMapInstance(o)),t&&i.e.emit(i.d.RemoteModAdd,o),i.e.emit(i.b.ViewAdd,o)},e.prototype.removedModPushCallback=function(e,t){var o=this.getMapInstance(e);o&&(y.a.info(R("mod.remote_removed"),JSON.stringify({whiteboardID:e})),o.destroyDomHandle(),o=null,this.deleteMapInstance(e),t&&i.e.emit(i.d.RemoteModRemoved,t,e),i.e.emit(i.b.ViewRemoved,e))},e.prototype.scrollPushCallback=function(e,t,o,r){var i=this.getMapInstance(e);i&&(y.a.warn(R("mod.remote_scroll"),"whiteboardID="+e+",hPercent="+t+",vPercent="+o+",step="+r),i.scrollToHandle(t,o,r,!1))},e.prototype.scalePushCallback=function(e,t,o,i){var n=this.getMapInstance(e);n&&(y.a.warn(R("mod.remote_scale"),"whiteboardID="+e+",scale="+t+",ofsX="+o+",ofsY="+i),r.a.scaleModes.response&&n.scaleToHandle(t,o,i,!1))},e.prototype.h5ExtraAppendedPushCallback=function(e,t){var o=this.getMapInstance(e);o&&(y.a.warn(R("mod.remote_extra"),"whiteboardID="+e+",modExtra="+t),o.playAnimation(t,!0))},e.prototype.clearGraphicsPushCallback=function(e,t){var o=this.getMapInstance(e);o&&o.clearLocalHandle(t)},e.prototype.drawGraphicsPushCallback=function(e,t,o){var r=this.getMapInstance(e);r&&r.updateRemoteToLocal(t,o)},e.prototype.onPushAuthChange=function(e,t){t&&(i.e.emit(i.b.WhiteboardGraphicAuthChange,t),i.e.emit(i.d.RemoteGraphicAuthChange,t)),e&&(i.e.emit(i.b.WhiteboardAuthChange,e),i.e.emit(i.d.RemoteAuthChange,e),e&&Object.values(this.modIdMapInstance).forEach((function(e){return e&&e.onAuthChange()})))},e.prototype.setFileInfo=function(e){var t;if(e.fileInfo){var o=e.fileInfo,r=o.fileID,i=o.fileName,n=this.fileInfoMap[r];(n=n&&n[i])&&(e.aspectWidth=n.width,e.aspectHeight=n.height,e.pageCount=n.pageCount,y.a.info(R("update_file_info"),JSON.stringify({fileID:r,detail:(t={fileID:r},t[i]=n,t)})))}},e.prototype.deleteMapInstance=function(e){delete this.modIdMapInstance[e]},e.prototype.getMapInstance=function(e){return this.modIdMapInstance[e]},e.prototype.setMapInstance=function(e){this.modIdMapInstance[e.getID()]=e},e.prototype.setActivitedView=function(e,t){this.serviceHandle.isPlayback?i.e.emit(i.c.AttachedView,[]):Object.values(this.modIdMapInstance).forEach((function(o){o.setActivited(o.getID()==e,t)}))},e.prototype.getActivitedViews=function(){return Object.values(this.modIdMapInstance).filter((function(e){return e.getActivited()}))},e.prototype.checkAttachingParent=function(e){return!!document.getElementById(e)},e.prototype.checkCreatingView=function(e){return!(!e||!e.name||isNaN(+e.aspectWidth)||!+e.aspectWidth||isNaN(+e.aspectHeight)||!+e.aspectHeight||isNaN(+e.pageCount)||!+e.pageCount)},e.prototype.setViewSize=function(e){var t=this.getMapInstance(e);if(t){var o=t.getContentSize(),r=o.width,i=o.height;this.serviceHandle.setSize(e,r,i)}},e.prototype.createErrorStr=function(e){return void 0!==e.code?JSON.stringify(e):""+e},e.prototype.loginRoom=function(e,t,o,r){return this.serviceHandle.loginRoom(e,t,o,r)},e.prototype.logoutRoom=function(e){return this.serviceHandle.logoutRoom(e)},e.prototype.getCurrentActivitedView=function(){return this.serviceHandle.getCurrentActivitedView()},e.prototype.setDeferredRenderingTime=function(e){this.signallingDelay=e||0},e.prototype.clear=function(e){Object.values(this.modIdMapInstance).forEach((function(t){t&&t.clearLaserHandle(e)})),y.a.info(R("clear"))},e.prototype.getViewList=function(){return q(this,void 0,void 0,(function(){var e,t,o=this;return F(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.serviceHandle.getModList()];case 1:return e=r.sent(),Object.keys(this.modIdMapInstance).forEach((function(t){-1===e.indexOf(t)&&o.deleteMapInstance(t)})),e.forEach((function(e){o.modIdMapInstance[e]||o.setMapInstance(new z(e,o.serviceHandle)),o.setViewSize(e)})),y.a.info(R("getViewList"),JSON.stringify(Object.keys(this.modIdMapInstance))),[2,Object.values(this.modIdMapInstance).sort((function(e,t){return o.serviceHandle.getCreateTime(t.getID())-o.serviceHandle.getCreateTime(e.getID())}))];case 2:return t=r.sent(),y.a.error(R("getViewList"),this.createErrorStr(t)),[2,Promise.reject(void 0!==t.code?t:Object(n.b)(s.i.ZegoWhiteboardViewErrorGetListFail))];case 3:return[2]}}))}))},e.prototype.createView=function(e,t){var o=this;return new Promise((function(r,i){return q(o,void 0,void 0,(function(){var o,a,c,u;return F(this,(function(l){switch(l.label){case 0:if(!this.checkCreatingView(e))return o=Object(n.b)(s.i.ZegoWhiteboardViewErrorParamInvalid,"参数错误：roomID、name为字符串，aspectWidth、aspectHeight、pageCount为正整数",!0),y.a.error(R("createView"),JSON.stringify(o)),i(o),[2];this.setFileInfo(e),y.a.info(R("createView"),JSON.stringify(e)),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.serviceHandle.createMod(e,t)];case 2:return a=l.sent(),(c=this.getMapInstance(a))||(c=new z(a,this.serviceHandle),this.setMapInstance(c),y.a.info(R("createView"),"success")),r(c),[3,4];case 3:return u=l.sent(),y.a.error(R("createView"),this.createErrorStr(u)),i(void 0!==u.code?u:Object(n.b)(s.i.ZegoWhiteboardViewErrorViewCreateFail)),[3,4];case 4:return[2]}}))}))}))},e.prototype.destroyView=function(e){var t=this;return new Promise((function(o,r){return q(t,void 0,void 0,(function(){var t,i,a;return F(this,(function(c){switch(c.label){case 0:if(!e||!e.getID)return t=Object(n.b)(s.i.ZegoWhiteboardViewErrorViewNotExist),y.a.error(R("destroyView"),JSON.stringify({whiteboardView:e,errorData:t})),r(t),[2];c.label=1;case 1:return c.trys.push([1,3,,4]),i=e.getID(),[4,this.serviceHandle.destroyMod(i)];case 2:return c.sent(),this.deleteMapInstance(i),e.destroyDomHandle(),e=null,y.a.info(R("destroyView"),"success"),o(),[3,4];case 3:return a=c.sent(),y.a.error(R("destroyView"),this.createErrorStr(a)),r(void 0!==a.code?a:Object(n.b)(s.i.ZegoWhiteboardViewErrorDestroyFail)),[3,4];case 4:return[2]}}))}))}))},e.prototype.attachView=function(e,t){var o=this;return new Promise((function(r,i){if(!o.checkAttachingParent(t)){var a=Object(n.b)(s.i.ZegoWhiteboardViewErrorViewParentNotExist);return y.a.error(R("attachView"),JSON.stringify({parent:t,errorData:a})),void i(a)}if(!e||!e.getID){a=Object(n.b)(s.i.ZegoWhiteboardViewErrorViewNotExist);return y.a.error(R("attachView"),JSON.stringify({whiteboardView:e,errorData:a})),void i(a)}y.a.info(R("attachView"),JSON.stringify({whiteboardID:e.getID(),parent:t}));try{var c=e,u=c.getID();c.init(t),o.setMapInstance(c),o.setActivitedView(u,c.getRootDomID());var l=o.serviceHandle.getScrollPercent(u),d=l.horizontalPercent,h=l.verticalPercent,p=l.pptStep;c.scrollToHandle(d,h,p,!1),y.a.info(R("attachView"),"success"),r()}catch(e){y.a.error(R("attachView"),o.createErrorStr(e)),i(Object(n.b)(s.i.ZegoWhiteboardViewErrorAttachFail))}}))},e.prototype.enableSyncScale=function(e){r.a.scaleModes.sync=!!e,e&&this.getActivitedViews().forEach((function(e){return e.syncScaleToHandle()}))},e.prototype.enableResponseScale=function(e){var t=this;r.a.scaleModes.response=!!e,e&&this.getActivitedViews().forEach((function(e){var o=t.serviceHandle.getScale(e.getID()),r=o.scaleFactor,i=o.scaleOffsetX,n=o.scaleOffsetY;e.scaleToHandle(r,i,n,!1)}))},e.prototype.enableHandwriting=function(e){if("boolean"==typeof e){var t=r.a.basicState.attributes,o=JSON.parse(t);o.stroke=!!e,r.a.basicState.attributes=JSON.stringify(o),this.serviceHandle.enableHandwriting(o.stroke)}else{var i=Object(n.b)(s.i.ZegoWhiteboardViewErrorParamInvalid,"参数错误",!0);y.a.error(R("enableHandwriting"),JSON.stringify(i))}},e.prototype.undoClearAction=function(){this.getActivitedViews().forEach((function(e){return e._undoClear()}))},e.prototype.switchView=function(e){return this.serviceHandle.switchView(e)},e.prototype.on=function(e,t){return y.a.info(R("on"),JSON.stringify({event:e})),i.e.on(e,t)},e.prototype.off=function(e,t){return y.a.info(R("off"),JSON.stringify({event:e})),i.e.off(e,t)},e}()},function(e,t,o){"use strict";o.d(t,"a",(function(){return M}));o(273),o(274),o(35),o(59),o(50),o(51),o(180),o(57),o(37),o(65),o(82);var r,i,n,a,s=o(242),c=(o(279),o(304),o(1)),u=o(14),l=o(23),d=2*(window.devicePixelRatio||1),h="zego-docsview-zoom",p="zego-docsview-con",f="zego-docsview-render",g="zego-docsview-iframe",m="zego-whiteboard";!function(e){e[e.PDF=0]="PDF",e[e.PPT=1]="PPT",e[e.H5_PPT=2]="H5_PPT",e[e.H5_CUSTOM=3]="H5_CUSTOM"}(r||(r={})),function(e){e.Load="onDocsLoadPdf",e.GetPageImage="onDocsGetPDFPageImage",e.Uploading="onDocsUploading",e.Convert="onDocsConvertStatus",e.Downloading="onDocsDownloading",e.QueryCache="onDocsCachExist",e.CancelCache="onDocsCancelCache",e.DownloadCache="onDocsDownloadCache",e.LoadFile="docsLoad",e.Upload="docsUpload",e.UploadH5File="docsUploadH5File"}(i||(i={})),function(e){e.InitPlatform="initPlatform",e.GetAllPageStepCount="getAllPageStepCount",e.SetCustomizedConfig="setCustomizedConfig",e.GotoPage="gotoPage",e.PreviousStep="previousStep",e.NextStep="nextStep",e.TriggerElementsClick="triggerElementsClick",e.SnapshotForH5="snapshotForH5",e.StopPlay="stopPlay",e.SetVolume="setVolume",e.HideLoadingStyle="hideLoadingStyle"}(n||(n={})),function(e){e.Scale="scale",e.SyncDOMEvent="syncDOMEvent",e.PptOperationAuth="pptOperationAuth"}(a||(a={}));var _=function(){function e(){var e;this.isElectron=!1,this.store=((e={})[c.a.PptStepMode]=1,e[c.a.DisableH5ImageDrag]=!1,e[c.a.UnloadVideoSrc]=!1,e.multiDocsQueue=null,e.syncPPTH5Queue=null,e.syncQueueRuning=!1,e)}return e.prototype.setStore=function(e){return Object.assign(this.store,e),!0},e.prototype.getStore=function(){return this.store},e}(),y=(o(232),o(85),o(115),o(32),o(39),o(43),o(44),o(210),o(45),o(90),o(31),o(58),o(86),o(181),o(89),o(74),o(306),o(282),o(211),o(105),o(182),o(93),o(66),o(67),o(68),new Image);y.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAN90lEQVR4Xu1dC3BcVRn+/7tJ82ybNu8mezZt6qAoLx2dmm42TZPY2g74Qh3EQZ6KOoMoA47gW1EHfOCgIg8RcQYVEWRgoG0SQjbbUhwc0aK0hdLee7N59f3MY3fvcQ6kJU33ce9/d3Pv9p4z02mb/N/5z/m+797de+55IMjiaQbQ072XnQdpAI+bQBpAGsDjDHi8+/IOIA3gcQY83n15B5AG8DgDHu++vANIA3icAY93X94BpAE8zsCs7quq+jAi1iNijHMeB4CY+CP+LX528ueIGJ/+2Zt/K4oSTyQSGwOBwOZ8YlTeAWaopapqEBEHiAI+yRj7KBHrGEwaYAb1mqZFAGAlRQ1FUaoaGxv3U7BOYqQBptkfHBy8wjCMP1DE4JzfEQgEvk7BOo2RBphWQNO0IQCoJwjCGWMKAecKiDQAAKiq+j1E/DZRkasZY78nYh2Hed4AmqYtAYAoUYlXGWPnErGugHneALqu/5Fz/lmKGoZhtDQ1Nb1AwboFk9EA3f0D303VWEQMcM5Vt3TGajsWlpcH6qorr7SKE/ETk7Ht6tDQXyjYbGIyadDV1ppSP9GOjAboCUf6AGBV0kZzeBkQLsxmh+ayLn99LZQUFZFS7tIHIZEwSNisgjJo0BkKptXYswZYUF4GdVWVJC0OHD4C+w4eImGzDpIGoFHa7G8An89HAu/co5FwOQFJA1intbJiIYg/lDKybz8cOXacAs0NRhrAGq8FPh8s8zdYA01HT8VisCc6TMLmDCQNYI3a+upKmF9WZg00Ha0Pj8L45CQJmzOQCwzgkm9DmSkuKylZ2FBbfVHmyDMjxicm9uojY/+lYHOK4VCR7kksp08BPMHbu9pbn89pB7NYua7rL3DOV1CqnDdvXm1dXd0YBZtLTHffwCr0oXhUT1qkAaZp0TRNDPhQx+x/xBi7LZdCUuuWBjDJnKZp4uqtNhk+MyzGGJtHwM0JRBrABM2apv0QAKhX8FWMsYdMpHEkRBogA+0jIyM1U1NToxR1EHGb3+8/n4KdK4w0QAamdV1/hHN+GUUQznlrIBAQ08RcW6QB0kgTjUZbEokEaZYu5/yxQCDwSdcqP90waYA0Cmma9iIAfIAiYiKRqF+6dOkIBTuXGM8aoK+vrzzm812qcLwIEM/nnG/1+XDblKJsWNvSckBV1SsQkTTJEwBc+9g321yeNEBv/5YWUIz7OId3n3G1IQyBAbecsyxwF+e8inA1TjLGigk4RyCeM8CmcPhKBZS0Azp23vYZhnFNU1PTg46oSUjqKQM829fXVOgreAUAU77N8fkUaPY3Eqh8E/IfxtgFVLATOE8ZoCccuQMAbk5HdH11FcwvK6Vq0cYYC1PBTuA8ZoDNGwD4mlREFxcVAauvJemAiI/5/X7XP/Z5+ktgTzhyGAAWpFKY1ddBcRF52L6BMSZWB+VV8dYdYCDyL+DJZyHbmeSJiD/x+/3fyCvlvTgQ1B2O3IMA1ycTqpk1gk8hLdEbZ4yRvzQ4bRqP3QEG1gLHZ2eTbuexDxGv9fv9v3NaSGp+TxlAkNQbjtzDZ9wFxFUvrn5iybvHPk9/CTzZebFcDRG/I/5fV10JC4iTPBFxld/v7yeaxxUwz90BTrIuhoPLyopuXlJTTd2W5XHG2CdcoaKNRnjWAIKz4eHh6lgsRpqoaRjGLU1NTXfa4N4VUE8bQCig6/oqznnKWbHpVDIMY31TU9MzrlCS2AjPG0DwpmnalwHgVxQO4/F407Jly/J2ibs0wLTqmqb9BgC+SDDBMcbYfALOFRBpgBkyaJomvtGHCMq8yBgjLRgh5MoqRBpgFp2apu0DAMrC/wcZY9dkVZ05qEwaYBbJu3fvrvP5fNQlvDcxxn4+B7plLYU0QBIqVVXtQMQeIstrGWMbzWB7BgbWcgNFrtXAjRpAfreiKE+uDgZ3mMFnI0YaIAWLqqregIi/pJCsKIq/sbFxMBV2UySyROF4G3D+pWQxnMPlXW3BRyi5rWKkAdIwpqrqvYj4eaukAsBhxlhFMlxPf+TTgHA7ADSnqxcBr+oIrcz5kjJpgAzqqqoaQUTLG0Bzzl8IBAItM6vvDoevQ1DuM2soBLiuIxR8wGw8JU4awARrqqoeRMSkV3Q6OOf8gUAgcJ2I6QlHxFV/q4l0p4Xk+uNAGsCEIjt27GgoKSlJ+ZmewQRffU3VLwaA1SZSpQgxPtYZCv2djk+NlAYwyWo0Gu1KJBKbTIafFjY4OgYnxico0FMY5Limo20lKX+6xNIAFmQZHBy80TCMX1iAnAp9Q49CPJGgQE9hEgk8b037yldsVTILLA1gkU1d1+/nnF9rEQYJw4BdGulT5LRUvkSspL293d7tZEaN0gBWlXzrFfIWzvkHrULHJyZBHyHtNXEqFefweldb8B1Wc6eKlwYgMqlpWto1BqmqPXz0GIzuP0DM+haMA/9TV6j1M7YqmQZLAxBZjEaj/kQiQdr0d+zAQTh05Cgx8zQM8abO1pW23zuctQbYuHFjma+o/FzuM/Z3tba+YY/t5Ghd19dyzs+YZm4m1+DIGJyYsPdRrihw+eqgvSHjs84A3eHIjQj8KgA8tTkTB/gnIL+vq7XV9CicGRFFjKZpNwHAT83Gz4zbpUchYfPJADl2dLStfI6SX2DOGgP0hMPnAvhuB+CpZ/kiPAsJ+HHnqiD1cMekPG/fufPV0uLid1oVIRtPBgiwl4OxqjMU+p/V/GeNAfq2bFmeiPPHAfh55kjI3shab//ANzniD6gLS7PxZIAAm2MFyiViaxtz/X87Ku/vAL29mwO80HgcAN9rpfO+RGxRe3u7rY2qu/sHrkbEU8vClgf8oGDGQ1TOaOaho8dgzOaTAQD8rTMUvNQKB3l/BwiHw/VToHQDJNnrJzMTE52hYEnmsOQR3eEtaxCMpwCg8GREYUEBLG0Up8hZL2P7D8KhozafDADu7AwFb7GSPW/vAE/19VWVFhRu5Tz9e/V0ZCDC9o7W4LusEPbmVdPffx6iT4gfmI21s8NINp4MQIHrO4PBe832KS8N8MzWrQvmTcVfBQDa5XY6Oxs6Q8EPmyVsQzhcX8CVJwHh/bMxZaUl0FBD2U8aIBsDRNPtiYEB6ztXBcWdMWPJOwP09fUVJ3yFYieORRl7ZzKAc/hrV1vwU5nCX3rppcKDJyaeRoAPJYtdzhpBIewxYBgcXtf0TOlN/x4RtxtgrDcz/pFXBnj00Ud9lXVLjnIA8md3KhYReC8Av7UjFPpHsphN4XCHD5QbOMAlyX5fs3gRVCygrQ8ZGtsLx06MmxbYTCDn8ExXW3B9pti8MkBPOMIzdcjm748iwq8NQ3mkq61lm6jruYGB9xkcxa4iKd8Ain2FxGMgpRw9fgKG94qlCNkvCHB3Ryh4Q7qa88YAPeGIeI1Wk32aUtYoxvnFEHLyU09nwJoa6mFe4amHAUtNfE3VgfMc+hr5jZ2trSlnN+eFAbr7I9sQ4T2WmJ2j4MUVC6GKeobg3v1w5PgcnCGIysWdrS1PJ6PE9QboDW/u4cA75khPS2kKCwtgaQPtQeT4+DhER/daymcjeA+AsT7ZcLGrDdA7sJl8WIMNskxD/XW1UFKcH4dHI2Dv5LHD69etW3fawYWuNUDPwOa7gPOvmFZjjgMXzi+H2srFpKxi2FcM/8514cDv7wq1nrbQxZUGyNSouSZudj47x8dm4+WPnf7PPqsxE9eOnBuYqVF2CMgGdklNFZSX0vaG3D04BLF4PBvNINUhDUCi7W1QeWkJLCEO9+47eAgOHD5iswX24NIANvgTw7zLGpeQhnsnp2KgDlG3HbDR6FlQaQAbXNZULoaK+eWkGtShEZicmiJhswmSBiCyWVpSDI21tIFIcdsXt383FGkAogpiooeY8GG1iC984oufW4o0AEEJO7uJZ2WSB6HNqSDSABbJLCkqAj/xGBmx+EMsAnFTkQawqIYQX5jAasnGlG+rOc3ESwOYYWk6ZtGC+VC9mDbxKBeTPCw0PWVo3hggG521U0fl4ormqkULSfvzTMXjG3er0Z/YyZ9LbFd76/Mn68806urIUHAuO2+2bk3TngAAy2cJcM5j8Xi8urm5Wawedn2RBkgikaqqX0DE31LU45x/LhAIPEzBOoGRBpjFuq7ryznn/wYAytueJxhjH3dCSGpORw0AAA9xzl211z6rr/1ISXHxhRRC9wyN3DU5OZkXt/6T/UNEsbjlylT9zel3AODwMmDygxwpAtjFiMOjxCFSlJKVTR8oie1iMmjgGQOISR7imZ8y3Cs2ehAjfnlZpAHeks3Owg7xmle87s3LIg0AkO+TPGwZz+sGEJM8xGteyqnhE5NToA2P2OLfcbDXDVC1qAIWL0x5onxaffThURifPG2WteN6Wm7AHBkgebs4VACCYzMl5peVLqqvrrrAMmniQICjx/TR/Qd2UbCuwmTQoDMUbE/XXuv7obik92Kl8YoVK8SxMBnX/iVp8k7G2Dku6YqjzchbA2ia9i0A+D6FPURc5/f7SfsDUvK5GZOXBohGoy3xeLwPEecRyL2XMSaWi8sCAHlpAF3Xn+acZ9w8YbbCnPNRRVGW+v3+7O7mkMdWyjsDaJr2NQD4GZHzyxhjfyZiz0pY3hngrFTBwU5JAzhIvhtSSwO4QQUH2yAN4CD5bkgtDeAGFRxsgzSAg+S7IbU0gBtUcLAN0gAOku+G1NIAblDBwTZIAzhIvhtSSwO4QQUH2yAN4CD5bkgtDeAGFRxsgzSAg+S7IbU0gBtUcLAN0gAOku+G1P8HXF8j+YvhwMkAAAAASUVORK5CYII=";var v=o(4),b=o(2);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S,I=function(){return(I=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},x=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<o;t++)for(var n=arguments[t],a=0,s=n.length;a<s;a++,i++)r[i]=n[a];return r},E=b.b.bind(null,"docs.v."),P=function(){function e(e,t,o){var n=this;this.parent="",this.id="",this.wbId="",this.canvasArray=[],this.renderMode=r.PDF,this.isTouch="ontouchstart"in window||navigator.maxTouchPoints>0,this.viewInfo={ticking:!1,percent:0,total:1,sheet:0,sheetName:"",parentWidth:0,parentHeight:0,width:0,height:0,viewWidth:0,viewHeight:0,rate:1,canvasMaxPage:5,scrollTop:0,scrollLeft:0,lastTime:0,lastTimeId:0,scrollTimeId:0,isParentScale:!1,fillPPT:!1,h5CDNUsedMap:{},imgInfo:{isSmall:!1,isScale:!1,width:0,height:0,min_w:640,min_h:400},firstInfo:{page:0,step:0,h5Extra:"",loadedFile:!1,scrollTop:0},maxSteps:{}},this.zoomInfo={zoom:1,x:0,y:0,tx:0,ty:0,isDrag:!1,enableScroll:!0,remoteScroll:!0,dragRectTop:0,dragRectBottom:0},this.ppth5Info={page:1,step:1,scene:0,targetPage:0,targetStep:0,lastStep:-1,goPage:0,goStep:0,notify:!0,loaded:!1,scale:1,goTimer:0,syncTimer:0,pageChangeTimer:0,p:"",loadRetryTimer:0},this.fileInfo={},this.vpageImgCache={},this.vpageAspecCache={},this.vpageDrawImgCache={},this.domEventListeners=null,this.loadFileCallback=function(){var e=n.getLoadFileModelForCallback();n.loadFileListener&&"function"==typeof n.loadFileListener?n.loadFileListener(e):v.e.emit(v.a.LoadFile,e),b.a.info(E("loadFileCallback"))},this.reloadViewCallback=function(){var e={action:l.b.ReloadView,data:n.getLoadFileModelForCallback()};if(n.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:e})),n.renderMode===r.PDF){var t=n.zoomInfo.zoom;n.getDocViewChild().style.cssText+="transform:scale("+t+");";var o=n.viewInfo.scrollLeft*t|0,i=n.viewInfo.scrollTop*t|0;n.docDom.scrollTo(o,i),n.renderDom.scrollTo(o,i),clearTimeout(n.viewInfo.scrollTimeId),n.viewInfo.scrollTimeId=window.setTimeout((function(){n.viewInfo.ticking=!1}),34)}else n.setDocsViewDomTransform(n.zoomInfo.tx,n.zoomInfo.ty);b.a.info(E("reloadViewCallback"))},this.handleWhiteboardEvent=function(e){var t=e&&e.detail,o=t.action;if(b.a.info(E(l.a.Whiteboard),JSON.stringify(t)),o===l.b.Page)n.handleWhiteboardPageEvent(t);else if(o===l.b.WbScale){var r=t,i=r.scale,a=r.x,s=r.y,c=r.notify;n.handleSetScaleFactor(i,a,s,c)}else o===l.b.WbDragTool?n.handleWhiteboardDragToolEvent(t):o===l.b.WbInit?(b.a.setExtraConfig({wbId:t.data}),n.handleWhiteboardInitEvent(t)):o===l.b.Animation?n.handleWhiteboardAnimationEvent(t):o===l.b.WbDestroy?n.unloadFile():o===l.b.Snapshot?n.docsSnapshot(t):o===l.b.ReloadView&&n.reloadView()},this.handleIframeMessage=function(e){var t=e.data;if(t&&"zegodocsview"===t.source){var o=t.action,r=t.res,i=t.hash;if(!i||i==="#"+n.id)if("syncDOMEvent"!==o&&"getH5SnapshotResult"!==o&&b.a.info(E("h5_iframe"),JSON.stringify(t)),"syncCurrentPage"===o)n.syncCurrentPage(r);else if("syncCurrentStep"===o&&n.ppth5Info.loaded)n.syncCurrentStep(r);else if("syncCurrentPageStep"===o)n.syncCurrentPageStep(r);else if("syncCurrentElement"===o)n.syncCurrentElement(r);else if("syncDOMEvent"===o&&n.domEventListeners){var a=n.domEventListeners[r.type];a&&a(r)}else"syncCurrentError"===o?n.syncCurrentError(r):"onload"===o?n.initIframe():"didLoadFinish"===o?n.ppth5Info.loadRetryTimer&&clearTimeout(n.ppth5Info.loadRetryTimer):"getAllPageStepCount"===o?n.viewInfo.maxSteps=Object.freeze(JSON.parse(r)):"getH5SnapshotResult"===o&&n.getH5SnapshotResult(r)}},this.handleScrollEvent=function(e){n.zoomInfo.enableScroll&&!n.viewInfo.ticking&&(requestAnimationFrame((function(){n.ppth5Info.notify=!0;var t=n.zoomInfo,o=t.zoom,r=t.dragRectTop,i=t.dragRectBottom,a=e.target,s=Math.ceil(a.scrollTop),c=Math.ceil(a.scrollLeft),u=Math.ceil(s/o),l=Math.ceil(c/o),d=Math.ceil(s-n.viewInfo.percent*n.viewInfo.height*o);l!==n.viewInfo.scrollLeft?(n.viewInfo.scrollLeft=l,n.renderDom.scrollLeft=c,n.postSyncDragMessage(c,d)):u!==n.viewInfo.scrollTop&&(n.renderDom.scrollTop=s,1==o||s<r||s>i?(n.updateCurViewMax(s,o),n.onScrollCallback(c,s)):n.postSyncDragMessage(c,d),n.viewInfo.scrollTop=u),n.viewInfo.ticking=!1})),n.viewInfo.ticking=!0)},this.handleDragStart=function(e){n.zoomInfo.x=n.zoomInfo.y=0;var t=n.zoomInfo,o=t.isDrag,i=t.enableScroll,a=t.zoom;if(o){if(!i&&1===a)return;var s=e instanceof MouseEvent?e:e.changedTouches[0],c=s.clientX,u=s.clientY;if(n.renderMode===r.PDF){var l=n.docDom.getBoundingClientRect(),d=l.bottom;if(c>l.right-15||u>d-15)return;n.zoomInfo.tx=n.docDom.scrollLeft,n.zoomInfo.ty=n.docDom.scrollTop}(a>1||n.viewInfo.height>n.viewInfo.viewHeight)&&(n.zoomInfo.x=c,n.zoomInfo.y=u)}},this.handleDragMove=function(e,t){if(n.zoomInfo.isDrag&&n.zoomInfo.x){if(e instanceof MouseEvent&&!t&&e.buttons<1)return;"touchmove"===e.type&&e.preventDefault(),n.ppth5Info.notify=!0,n.renderMode===r.PDF?n.dragPDF(e,!!t):n.dragPPT(e,!!t)}},this.handleDragEnd=function(e){n.handleDragMove(e,!0)},this.serviceHandle=e,this.id=t,this.setSheet(o),this.serviceHandle.registerEventHandler(this.id,i.Load,(function(e){n.viewInfo.firstInfo.loadedFile=!0,n.tranlateFileAspec(e),Object.assign(n.fileInfo,e),n.checkRenderType(),n.loadCurrentSheet(!0)}))}return e.prototype.unload=function(){this.canvasArray.length=0,this.docDom=null,this.renderDom=null,this.iframeDom=null,this.loadingDom=null,this.canvasArray=null,this.fileInfo=null,this.vpageImgCache=null,this.vpageDrawImgCache=null,this.domEventListeners=null,this.loadFileListener=null,this.serviceHandle.removeEventHandler(this.id)},e.prototype.setParentWidthHeight=function(){var e=document.getElementById(this.parent);e.style.cssText+="position:relative;display:inherit!important;";var t=e.clientWidth,o=e.clientHeight;if(t<=0||o<=0)throw v.e.emit(v.b.Error,Object(u.b)(c.b.ZegoDocsViewErrorSizeInvalid)),new Error("无法获取容器宽高");this.viewInfo.parentWidth=t,this.viewInfo.parentHeight=o},e.prototype.setDocsViewDomOverflow=function(){var e=this.zoomInfo,t=e.zoom,o=e.enableScroll;if(t>1){var i=this.renderMode===r.PDF&&o?"auto":"hidden";this.docDom.style.overflowX=i,this.docDom.style.overflowY=i,this.renderDom&&(this.renderDom.style.overflowX=i,this.renderDom.style.overflowY=i)}else{var n=this.viewInfo,a=n.height,s=n.viewHeight;i=this.renderMode===r.PDF&&o&&a>s?" auto":"hidden";this.docDom.style.overflowX="hidden",this.docDom.style.overflowY=i,this.renderDom&&(this.renderDom.style.overflowX="hidden",this.renderDom.style.overflowY=i)}},e.prototype.setDocsViewDomTransform=function(e,t){var o=function(e,t,o){return"transform:translate("+e+"px,"+t+"px) scale("+o+");"},r=this.zoomInfo.zoom,i=t-(this.ppth5Info.page-1)*this.viewInfo.viewHeight*r,n=this.renderDom.firstChild;n.style.cssText+=o(e,t,r),(n=this.getDocViewChild()).style.cssText+=o(e,i,r)},e.prototype.getCanvasSplit=function(e){var t=this.viewInfo,o=t.canvasMaxPage,r=t.total,i=(e-1)/o|0;return{index:i,start:i*o+1,end:Math.min(i*o+o,r)}},e.prototype.getCanvasHeight=function(e){var t=this.viewInfo,o=t.sheet,i=t.total,n=t.height,a=t.viewHeight,s=t.canvasMaxPage,u=this.vpageAspecCache[o],l=u.h[e]||0;if(l)return l;if(this.getFileType()===c.c.ZegoDocsViewFileTypeIMG)return l=n,u.h[e]=l,l;if(this.renderMode===r.PPT)return l=a,u.h[e]=l,l;for(var d=e?u.p[e*s]+1:u.vs,h=u.p[Math.min((e+1)*s,i)],p=d;p<=h;p++)l+=u[p].h;return l=Math.round(l),u.h[e]=l,l},e.prototype.getImgErrorAspec=function(e,t,o){var r=128*d;return[(e-r)/2,o+=(t-r)/2,r,r]},e.prototype.clearImgError=function(e,t,o,r){e.clearRect.apply(e,this.getImgErrorAspec(t,o,r))},e.prototype.drawImgError=function(e,t,o,r,i){e.drawImage.apply(e,x([y],this.getImgErrorAspec(t,o,r))),b.a.info(E("draw_error"),JSON.stringify({p:this.ppth5Info.page,vpage:i}))},e.prototype.drawDividingLine=function(e,t,o,r,i,n,a){e.lineWidth=d,e.beginPath(),a?(e.moveTo(o,0),e.lineTo(o,n)):(e.moveTo(0,r),e.lineTo(i,r)),e.stroke()},e.prototype.getCurrentCDNHost=function(e){return/^https?:\/\//.test(e)&&e.indexOf(".zego.im")>0?e.substr(0,e.indexOf(".zego.im")+8):""},e.prototype.changeDecryptImageCDNHost=function(e,t,o,r){var i=this,n=this.getCurrentCDNHost(o),a=this.getCDNHostList();if(n&&a.length){t[n]=1;var s=(a.findIndex((function(e){return e===n}))+1)%a.length;if(!t[a[s]]){var c=o.replace(n,a[s]);return this.serviceHandle.decryptImage(c).then((function(t){return e.src=t})).catch((function(){return i.changeDecryptImageCDNHost(e,t,c,r)})),void b.a.info(E("draw_img_cdn"),JSON.stringify({src:c,action:"DecryptImage"}))}}var u={src:o,action:"DecryptImageLoadError",usedMap:t};this.postErrorMessage(u),b.a.info(E("draw_img_error"),JSON.stringify(u)),r()},e.prototype.changeImageCDNHost=function(e,t,o,r){var i=this.getCurrentCDNHost(e.src),n=this.getCDNHostList();if(i&&n.length){t[i]=1;var a=(n.findIndex((function(e){return e===i}))+1)%n.length;if(!t[n[a]])return e.src=e.src.replace(i,n[a])+(r?"?p="+r:""),b.a.info(E("draw_"+o+"_cdn"),JSON.stringify({src:e.src,page:r})),!0}var s={src:e.src,page:r,action:"ImageLoadError",code:c.b.ZegoDocsViewErrorNetworkTimeout};return this.postErrorMessage(s),b.a.warn(E("draw_"+o+"_error"),JSON.stringify(s)),!1},e.prototype.changeH5CDNHost=function(){var e=this,t=this.viewInfo.h5CDNUsedMap,o=this.iframeDom.src,r=this.getCurrentCDNHost(o),i=this.getCDNHostList();if(r&&i.length){t[r]=(t[r]||0)+1;var n=(i.findIndex((function(e){return e===r}))+1)%i.length,a=i[n];if(n>0&&!t[a])return this.iframeDom.src=o.replace(r,a),this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.ppth5Info.loadRetryTimer=window.setTimeout((function(){return e.changeH5CDNHost()}),62e3),void b.a.info(E("draw_h5_cdn"),JSON.stringify({src:this.iframeDom.src}));if(0==n&&1==t[a]){for(var s=1;s<i.length;s++)t[i[s]]=0;if(1==i.length){this.renderDom.removeChild(this.iframeDom);var u=this.vpageAspecCache[0][1],l=u.w,d=u.h;this.createIFrame(g+this.id,l,d),this.iframeDom.src=o,this.renderDom.appendChild(this.iframeDom)}else this.iframeDom.src=o.replace(r,a);return this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.ppth5Info.loadRetryTimer=window.setTimeout((function(){return e.changeH5CDNHost()}),62e3),void b.a.info(E("draw_h5_cdn_retry"),JSON.stringify({src:this.iframeDom.src}))}}this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer);var h={src:o,action:"H5LoadError",code:c.b.ZegoDocsViewErrorNetworkTimeout};this.postErrorMessage(h),b.a.warn(E("draw_h5_error"),JSON.stringify(h))},e.prototype.drawPPT=function(e,t,o,r,i){var n=this;return new Promise((function(a,s){t*=d,o*=d;var c={},u=i.getContext("2d"),l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=n.delayDraw((function(){u.clearRect(0,0,t,o),u.fillStyle="white",u.fillRect(0,0,t,o),u.drawImage(l,0,0,t,o),b.a.info(E("draw_ppt"),JSON.stringify({p:n.ppth5Info.page,vpage:e,w:t,h:o})),a()})),l.onerror=function(r){n.changeImageCDNHost(l,c,"ppt",e)||(u.clearRect(0,0,t,o),n.drawImgError(u,t,o,0,e),s(r))},l.src=/^https?:\/\//.test(r)?r+"?p="+e:"data:image/png;base64,"+r}))},e.prototype.drawPDF=function(e,t,o,r,i,n,a){var s=this;if(this.vpageDrawImgCache[t])return Promise.resolve();var c=this.getCanvasSplit(e),u=c.index,l=c.start,h=c.end;if(e<l||e>h)return Promise.resolve();o*=d,r*=d,i*=d,n*=d;var p=this.vpageAspecCache[this.viewInfo.sheet],f=this.canvasArray[u].getContext("2d");return t-=p.vs-1,new Promise((function(c,u){var l={},d=new Image;d.setAttribute("crossOrigin","anonymous"),d.onload=s.delayDraw((function(){s.clearImgError(f,i,n,r),f.fillStyle="white",p.o?(f.fillRect(o,0,i,n),f.drawImage(d,o,0,i,n)):(f.fillRect(0,r,i,n),f.drawImage(d,0,r,i,n)),s.vpageDrawImgCache[t]=1,t>1&&t===p.p[e-1]+1&&s.drawDividingLine(f,e,o,r,i,n,p.o),c()})),d.onerror=function(a){s.changeImageCDNHost(d,l,"pdf",t)||(s.drawImgError(f,i,n,r,t),s.vpageDrawImgCache[t]=0,t>1&&t===p.p[e-1]+1&&s.drawDividingLine(f,e,o,r,i,n,p.o),u(a))},d.src=/^https?:\/\//.test(a)?a+"?p="+t:"data:image/png;base64,"+a}))},e.prototype.drawImg=function(e,t){var o=this;return new Promise((function(r,i){var n={},a=o.viewInfo,s=a.parentWidth,c=a.parentHeight,u=a.viewWidth,l=a.viewHeight,h=a.rate,p=o.vpageAspecCache[0][1],f=t.getContext("2d"),g=new Image;if(g.setAttribute("crossOrigin","anonymous"),g.onload=function(){var e=o.viewInfo.imgInfo,i=e.min_w,n=e.min_h,a=g.width,m=g.height,_=m/a,y=a<=i&&m<=n,v=a<=1440&&_<=2.2&&_>=614/1280;if(o.viewInfo.imgInfo.isSmall=y,o.viewInfo.imgInfo.isScale=v,o.viewInfo.imgInfo.width=a,o.viewInfo.imgInfo.height=m,o.clearImgError(f,u*d,l*d,0),y||v){var w=y?Math.min(i,s)/a:s/a,S=y?Math.min(n,c)/m:c/m,I=Math.min(w,S),x=(s-(T=a*I|0))/2,P=(c-(D=m*I|0))/2;Object.assign(p,{x:x,y:P,w:T,h:D}),o.viewInfo.height=p.h,o.updateDocsViewLayout(x,P,T,D),o.setCanvasWidthHeight(t,T,D),f.fillStyle="white",f.fillRect(0,0,t.width,t.height),f.drawImage(g,0,0,t.width,t.height),b.a.info(E("draw_img_scale"),JSON.stringify({width:a,height:m,draw_w:T,draw_h:D,rate:I}))}else{var T=a*h|0,D=m*h|0;P=Math.max((c-D)/2,0);Object.assign(p,{x:0,y:P,w:s,h:D}),o.viewInfo.height=p.h,o.updateDocsViewLayout(0,P,s,Math.min(c,D)),o.setCanvasWidthHeight(t,s,D),f.fillStyle="white",f.fillRect(0,0,t.width,t.height),f.drawImage(g,0,0,t.width,t.height),b.a.info(E("draw_img_full"),JSON.stringify({width:a,height:m,draw_w:T,draw_h:D,rate:h}))}var O=o.getFile();O.max_width=p.w,O.total_height=p.h,r()},/^https?:\/\//.test(e)){var m=function(){o.setCanvasWidthHeight(t,s,c),o.drawImgError(f,t.width,t.height,0,1),i()};o.serviceHandle.decryptImage(e).then((function(e){return g.src=e})).catch((function(){return o.changeDecryptImageCDNHost(g,n,e,m)}))}else g.onerror=function(){o.changeImageCDNHost(g,n,"img")||(o.setCanvasWidthHeight(t,s,c),o.drawImgError(f,t.width,t.height,0,1),i())},g.src="file://"+e}))},e.prototype.createDocsView=function(){var e=p+this.id;if(!document.getElementById(e)){this.canvasArray=[],this.vpageDrawImgCache={};var t=document.createElement("div");t.id=f+this.id,this.renderDom=t,(t=document.createElement("div")).id=e,t.setAttribute("data-page",this.viewInfo.total+""),t.setAttribute("data-mode",this.renderMode+""),t.addEventListener(l.a.Whiteboard,this.handleWhiteboardEvent),this.docDom=t;var o=document.createElement("div");o.id=h+this.id,o.appendChild(this.renderDom),this.createImageLoading(o),o.appendChild(this.docDom),document.getElementById(this.parent).appendChild(o),t.addEventListener("scroll",this.handleScrollEvent),t.addEventListener("mousedown",this.handleDragStart),t.addEventListener("mousemove",this.handleDragMove),t.addEventListener("mouseup",this.handleDragEnd),t.addEventListener("mouseleave",this.handleDragEnd),t.addEventListener("touchstart",this.handleDragStart),t.addEventListener("touchmove",this.handleDragMove),t.addEventListener("touchend",this.handleDragEnd),t.addEventListener("touchcancel",this.handleDragEnd)}},e.prototype.createImageLoading=function(e){if(this.renderMode===r.PDF||this.renderMode===r.PPT){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("version","1.1"),t.setAttribute("viewBox","0 0 1024 1024"),t.setAttribute("width","48"),t.setAttribute("height","48"),t.setAttribute("class","loading"),t.innerHTML='<path d="M834.7648 736.3584a5.632 5.632 0 1 0 11.264 0 5.632 5.632 0 0 0-11.264 0z m-124.16 128.1024a11.1616 11.1616 0 1 0 22.3744 0 11.1616 11.1616 0 0 0-22.3744 0z m-167.3216 65.8944a16.7936 16.7936 0 1 0 33.6384 0 16.7936 16.7936 0 0 0-33.6384 0zM363.1616 921.6a22.3744 22.3744 0 1 0 44.7488 0 22.3744 22.3744 0 0 0-44.7488 0z m-159.744-82.0224a28.0064 28.0064 0 1 0 55.9616 0 28.0064 28.0064 0 0 0-56.0128 0zM92.672 700.16a33.6384 33.6384 0 1 0 67.2256 0 33.6384 33.6384 0 0 0-67.2256 0zM51.2 528.9984a39.168 39.168 0 1 0 78.336 0 39.168 39.168 0 0 0-78.336 0z m34.1504-170.0864a44.8 44.8 0 1 0 89.6 0 44.8 44.8 0 0 0-89.6 0zM187.904 221.7984a50.432 50.432 0 1 0 100.864 0 50.432 50.432 0 0 0-100.864 0zM338.432 143.36a55.9616 55.9616 0 1 0 111.9232 0 55.9616 55.9616 0 0 0-111.9744 0z m169.0112-4.9152a61.5936 61.5936 0 1 0 123.2384 0 61.5936 61.5936 0 0 0-123.2384 0z m154.7776 69.632a67.1744 67.1744 0 1 0 134.3488 0 67.1744 67.1744 0 0 0-134.3488 0z m110.0288 130.816a72.8064 72.8064 0 1 0 145.5616 0 72.8064 72.8064 0 0 0-145.5616 0z m43.7248 169.472a78.3872 78.3872 0 1 0 156.8256 0 78.3872 78.3872 0 0 0-156.8256 0z" fill="#cdcdcd"></path>',this.loadingDom=t,e.appendChild(this.loadingDom)}},e.prototype.showImageLoading=function(e){this.loadingDom.style.display=e?"block":"none"},e.prototype.hideOtherDocsView=function(){var e=document.getElementById(this.parent);if(e){var t=h+this.serviceHandle.getStore()[this.parent+"_activited"];Array.from(e.children||e.childNodes).forEach((function(e){e.style.display=e.id==t?"block":"none"}))}},e.prototype.updateDocsViewLayout=function(e,t,o,r){e|=0,t|=0,o|=0,r|=0,this.viewInfo.width=o,this.viewInfo.viewWidth=o,this.viewInfo.viewHeight=r;var i="width:"+o+"px;height:"+r+"px;";this.docDom.style.cssText+=i,this.renderDom.style.cssText+=i,this.docDom.parentElement.style.cssText=i+"left:"+e+"px;top:"+t+"px;",b.a.info(E("layout"),JSON.stringify({x:e,y:t,w:o,h:r,h0:this.viewInfo.height}))},e.prototype.setCanvasWidthHeight=function(e,t,o){e.style.cssText+="width:"+t+"px;height:"+o+"px;",e.width=t*d,e.height=o*d},e.prototype.createCanvas=function(){if(this.canvasArray.length)return!1;var e=document.createElement("canvas");e.setAttribute("data-i","0"),this.canvasArray.push(e);var t=this.viewInfo,o=t.parentWidth,i=t.parentHeight,n=t.height,a=t.sheet,s=t.canvasMaxPage,u=t.fillPPT,l=this.getFileType();if(l===c.c.ZegoDocsViewFileTypeIMG)return this.updateDocsViewLayout(0,0,o,i),!0;var d=this.vpageAspecCache[0][1],h=d.x,p=d.y,f=d.w,g=d.h;if(this.renderMode===r.PPT)this.setCanvasWidthHeight(e,f,g),this.updateDocsViewLayout(h,p,f,g);else{var m=u?f:o;this.setCanvasWidthHeight(e,m,this.getCanvasHeight(0));var _=this.getPageCount();if(_>s){_=Math.ceil(_/s);for(var y=0,v=this.vpageAspecCache[a],w=0;w<_;w++)y+=this.getCanvasHeight(w);if(y=n-y,Math.abs(y)>10&&_>2){var S=y>0?1:-1;y*=S;var I=Math.ceil(_>y?_/y:1);S=1==I?Math.round(S*y/_):S;var x="diff="+y+",step="+I+",count="+_+",equal="+this.getFile().isEqualAspec;b.a.info(E("pdf_diff_canvas"),x);for(w=1;w<=_;)v.h[w]+=S,w+=I}for(w=1;w<_;w++){var P=document.createElement("canvas");P.setAttribute("data-i",w+"");var T=u?f:o;this.setCanvasWidthHeight(P,T,this.getCanvasHeight(w)),this.canvasArray.push(P)}}if(l===c.c.ZegoDocsViewFileTypeELS&&this.getDocViewChild())this.resetVisibleSize();else if(u)this.updateDocsViewLayout(h,p,f,g);else{var D=Math.max((i-n)/2,0),O=Math.min(i,n);this.updateDocsViewLayout(0,D,o,O)}}return!0},e.prototype.renderCanvas=function(){var e=this.zoomInfo.zoom,t=this.viewInfo,o=t.width,i=t.height,n=this.getDocViewChild(),a=!!n,s="width:"+o+"px;height:"+i+"px;"+(e>1?"transform:scale("+e+");":"");if(n||(n=document.createElement("div"),this.docDom.appendChild(n)),n.style.cssText=s,a){if(this.getFileType()==c.c.ZegoDocsViewFileTypeELS){var u=document.createDocumentFragment();this.canvasArray.forEach((function(e){return u.appendChild(e)})),(n=this.renderDom.firstChild).style.cssText=s,n.innerHTML="",n.appendChild(u)}}else if(this.renderMode===r.PPT)this.renderDom.appendChild(this.canvasArray[0]);else{var l=document.createDocumentFragment();(n=document.createElement("div")).style.cssText=s,this.canvasArray.forEach((function(e){return n.appendChild(e)})),l.appendChild(n),this.renderDom.appendChild(l)}this.setDocsViewDomOverflow(),this.viewInfo.firstInfo.scrollTop>0&&this.handleScroll(this.viewInfo.firstInfo.scrollTop),this.viewInfo.firstInfo.scrollTop=-1},e.prototype.drawCanvas=function(e,t){var o=this,i=this.renderMode===r.PPT;i&&(e=e.filter((function(e){return e.virtual_page_number===o.ppth5Info.page}))),this.createDocsView(),this.showImageLoading(!0);for(var n=this.createCanvas(),a=this.canvasArray[0],s=0,c=0,u={id:this.id},l=[],d=this.vpageAspecCache[this.viewInfo.sheet],h=0;h<e.length;++h){var p=e[h],f=p.image_data,g=p.image_path,m=p.virtual_page_number;if(f)if(i){var _=d[m],y=_.w,v=_.h,w=this.drawPPT(m,y,v,f,a);l.push(w)}else{var S=d[m],I=S.p;y=S.w,v=S.h,w=this.drawPDF(I,m,c,s,y,v,f);l.push(w),s+=v,c+=y,u[m]=this.vpageDrawImgCache[m]}else if(g){w=this.drawImg(g,a);l.push(w)}}this.canvasArray.length>1&&b.a.info(E("draw_cache"),JSON.stringify(u));var x=function(){o.docDom&&n&&o.renderCanvas(),o.hideOtherDocsView(),t&&t(),o.showImageLoading(!1)};Promise.all(l).then(x,x)},e.prototype.drawHtml=function(e,t){var o=this;this.createDocsView();var r=g+this.id;if(!document.getElementById(r)){var i=this.vpageAspecCache[0][1],n=i.x,a=i.y,s=i.w,c=i.h,u=this.getFile().page_list[0].width;(this.isTouch||s-u>4)&&(this.ppth5Info.scale=Number((s/u).toFixed(4))),this.createIFrame(r,s,c),this.iframeDom.src=e[0].image_data+"#"+this.id,this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.ppth5Info.loadRetryTimer=window.setTimeout((function(){return o.changeH5CDNHost()}),62e3);var l="width:"+s+"px;height:"+this.viewInfo.height+"px;",d=document.createElement("div");d.style.cssText=l,this.docDom.appendChild(d),this.renderDom.style.zIndex="1",this.renderDom.appendChild(this.iframeDom),this.updateDocsViewLayout(n,a,s,c),this.setDocsViewDomOverflow(),window.addEventListener("message",this.handleIframeMessage)}this.hideOtherDocsView(),t&&t()},e.prototype.createIFrame=function(e,t,o){var r=document.createElement("iframe");r.id=e,r.allow="autoplay",r.width=t+"",r.height=o+"",this.iframeDom=r},e.prototype.execDraw=function(e,t){var o=this,i=e,n=e;if(this.renderMode===r.PDF){var a=this.getCanvasSplit(e);i=a.start,n=a.end}var s=this.getAllVirtualInPageRange(i-1,n-1);this.startGetImageByVirtualPageList(s,(function(e){o.renderMode===r.H5_PPT||o.renderMode===r.H5_CUSTOM?o.drawHtml(e,t):o.drawCanvas(e,t)}))},e.prototype.execScrollFileAndDraw=function(e,t,o){var r=this;if(this.canvasArray.length>1){var i=Date.now(),n=i-this.viewInfo.lastTime;if(this.viewInfo.lastTime=i,n<100)return this.viewInfo.lastTimeId&&clearTimeout(this.viewInfo.lastTimeId),void(this.viewInfo.lastTimeId=window.setTimeout((function(){o?o.forEach((function(e){return r.execDraw(e,t)})):r.execDraw(r.ppth5Info.page,t);var i={p:r.ppth5Info.page,page:e,zoom:r.zoomInfo.zoom,pages:o};b.a.info(E("draw_scrolled"),JSON.stringify(i))}),100))}this.execDraw(e,t)},e.prototype.onScrollCallback=function(e,t){var o=this.viewInfo,r=o.total,i=o.width,n=o.height,a=o.viewHeight,s=o.scrollTop;if(n>a){var c=this.zoomInfo.zoom,u=this.getPageByScrollTop(t),l=Number((t/n/c).toFixed(7));this.ppth5Info.page=u,this.triggerOnScrollEventListener(t,u,l);var d=e&&Number((e/i/c).toFixed(7));if(this.postPageChangeMessage(d),this.ppth5Info.page!==u){if(this.execScrollFileAndDraw(u),this.viewInfo.isParentScale)(h=document.getElementById(this.parent))&&this.drawPDFBlank(h.clientHeight,t/c)}else if(u>1&&u<r)if(this.viewInfo.isParentScale){var h;(h=document.getElementById(this.parent))&&this.drawPDFBlank(h.clientHeight,t/c)}else{var p=t>s*c?1:-1;this.getCanvasSplit(u).index!==this.getCanvasSplit(u+p).index&&this.execScrollFileAndDraw(u+p)}}else this.postSyncDragMessage(e,t)},e.prototype.getLoadFileModelForAPI=function(e){var t={parent:this.parent,fileID:e.file_id,fileName:e.file_list[0].file_name,fileType:e.file_type,fileUrls:e.file_urls,pageCount:e.file_list[0].page_count,width:e.width,height:e.height};return e.file_hash?t.fileHash=e.file_hash:t.seq=e.seq,e.file_type===c.c.ZegoDocsViewFileTypeELS&&(t.name=e.file_list[0].name,t.sheets=e.file_list.map((function(e){return e.file_name}))),t},e.prototype.getLoadFileModelForCallback=function(){var e,t=this.viewInfo,o=t.width,r=t.height,i=this.getFile(),n=this.getFileType(),a={parent:this.parent,fileID:this.fileInfo.file_id,fileName:i.file_name,fileType:n,pageCount:i.page_count,width:o,height:r};this.fileInfo.file_hash?a.fileHash=this.fileInfo.file_hash:a.seq=this.fileInfo.seq,this.parent&&(a.viewID=p+this.id);var s=((e={fileID:a.fileID})[a.fileName]={width:o,height:r,pageCount:a.pageCount},e);return n===c.c.ZegoDocsViewFileTypeELS&&(a.name=i.name,a.sheets=this.fileInfo.file_list.map((function(e){return s[e.file_name]={width:e.max_width,height:e.total_height,pageCount:e.page_count},e.file_name}))),document.body.dispatchEvent(new CustomEvent("loadfile",{detail:s})),a},e.prototype.loadCurrentSheet=function(e,t){var o=this.getFile();if(o){var i=this.getFileType();this.viewInfo.width=o.max_width,this.viewInfo.height=o.total_height,this.viewInfo.total=o.page_count,this.viewInfo.rate=o.rate,i===c.c.ZegoDocsViewFileTypePPT?this.renderMode=r.PPT:i===c.c.ZegoDocsViewFileTypeDynamicPPTH5?this.renderMode=r.H5_PPT:i===c.c.ZegoDocsViewFileTypeCustomH5&&(this.renderMode=r.H5_CUSTOM),i===c.c.ZegoDocsViewFileTypeELS&&t&&(this.docDom.scrollTop=0,this.renderDom.scrollTop=0,this.canvasArray.length=0),this.execScrollFileAndDraw(this.ppth5Info.page,e?this.loadFileCallback:void 0)}},e.prototype.resetDocsViewLayout=function(e,t){var o=this.viewInfo,r=o.parentWidth,i=o.parentHeight,n=o.viewWidth,a=o.viewHeight;if(Math.abs(e-n)<5&&Math.abs(t-a)<5){var s=(r-e)/2,c=(i-t)/2;return this.docDom.parentElement.style.cssText+="left:"+s+"px;top:"+c+"px;",b.a.info(E("reloadViewLayou"),JSON.stringify({w0:n,h0:a,w:e,h:t})),!1}return!0},e.prototype.canReloadView=function(){var e=this.viewInfo.viewWidth;this.setParentWidthHeight();var t=this.viewInfo,o=t.parentWidth,i=t.parentHeight,n=t.height,a=t.viewHeight;if(this.renderMode===r.PPT||this.renderMode===r.H5_PPT||this.renderMode===r.H5_CUSTOM||this.viewInfo.fillPPT){var s=this.fileInfo.file_list[0].page_list[0],u=s.width;return((w=s.height*(v=o)/u)>i||Math.abs(w-i)<=1)&&(v=i*o/w|0,w=i),w|=0,this.resetDocsViewLayout(v,w)}if(this.getFileType()===c.c.ZegoDocsViewFileTypeIMG){var l=this.viewInfo.imgInfo,d=l.isSmall,h=l.isScale,p=(u=l.width,l.height),f=l.min_w,g=l.min_h;if(d||h){var m=d?Math.min(f,o)/u:o/u,_=d?Math.min(g,i)/p:i/p,y=Math.min(m,_),v=u*y|0,w=p*y|0;return this.resetDocsViewLayout(v,w)}}if(Math.abs(o-e)<5){var S=Math.max((i-n)/2,0),I=Math.min(i,n);return this.updateDocsViewLayout(0,S,o,I),b.a.info(E("reloadViewLayou"),JSON.stringify({w0:e,h0:a,w:o,h:I})),!1}return!0},e.prototype.checkPPT2PDF=function(e,t){if(e===c.c.ZegoDocsViewFileTypePDF){var o=t.page_list[0],r=o.width,i=o.height,n=Number((i/r).toFixed(3));if(n<=1&&n>=614/1280)return t.page_list.map((function(e){return Number((e.height/e.width).toFixed(3))})).every((function(e){return e===n}))}return!1},e.prototype.calculateFileAspec=function(e,t){var o=e.page_list[0],r=o.width,i=o.height,n=r,a=i,s=r,c=i;if(!t){n=0,a=0,s=Number.MAX_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER;for(var u=0,l=e.page_list;u<l.length;u++){var d=l[u];d.width>n&&(n=d.width),d.width<s&&(s=d.width),d.height>a&&(a=d.height),d.height<c&&(c=d.height)}}return e.origin_max_width=n,e.max_width=n,e.min_width=s,e.max_height=a,e.min_height=c,e},e.prototype.checkRenderType=function(){8==this.fileInfo.expect_file_type&&this.postErrorMessage(c.b.ZegoDocsViewErrorUnsupportRenderType)},e.prototype.calculateFileAspecWithNoParent=function(e){for(var t=e.file_type,o=this.viewInfo.sheetName,r=function(r){var n=e.file_list[r];if(t===c.c.ZegoDocsViewFileTypeELS?(n.page_count=n.page_list.length,n.file_name===o&&(i.viewInfo.sheet=r)):n.page_count||(n.page_count=n.page_list.length),t===c.c.ZegoDocsViewFileTypePPT||t===c.c.ZegoDocsViewFileTypeDynamicPPTH5||t===c.c.ZegoDocsViewFileTypeCustomH5){var a=n.page_list[0],s=a.width,u=a.height;n.max_width=s,n.total_height=u*n.page_count}else{var l=i.checkPPT2PDF(t,n);if(i.viewInfo.fillPPT=l,l){var d=n.page_list[0];s=d.width,u=d.height;n.max_width=s,n.total_height=u*n.page_count}else{var h=i.calculateFileAspec(n,l),p=h.max_width,f=h.min_width,g=h.max_height,m=h.min_height,_=Math.abs(p-f)<5&&Math.abs(g-m)<5,y=0;_?y=n.page_count*g:n.page_list.forEach((function(e){y+=e.height*p/e.width})),n.max_width=p,n.total_height=Math.round(y)}}},i=this,n=0;n<e.file_list.length;++n)r(n)},e.prototype.tranlateFileAspec=function(e){this.setParentWidthHeight();for(var t=e.file_type,o=this.viewInfo,r=o.sheetName,i=o.parentWidth,n=o.parentHeight,a=function(o){var a={vs:1,p:{0:0},h:{}};s.vpageAspecCache[o]=a;var u=e.file_list[o];if(t===c.c.ZegoDocsViewFileTypeELS?(u.page_count=u.page_list.length,u.file_name===r&&(s.viewInfo.sheet=o)):u.page_count||(u.page_count=u.page_list.length),t===c.c.ZegoDocsViewFileTypePPT||t===c.c.ZegoDocsViewFileTypeDynamicPPTH5||t===c.c.ZegoDocsViewFileTypeCustomH5){var l=u.page_list[0],h=l.width;((_=l.height*(m=i)/h)>n||Math.abs(_-n)<=1)&&(m=n*i/_|0,_=n),u.max_width=m,u.total_height=_*u.page_count|0,u.rate=i/h;for(var p={p:1,x:(i-m)/2,y:(n-(_|=0))/2,w:m,h:_},f=1;f<=u.page_count;++f)a[f]=I(I({},p),{p:f}),a.p[f]=1}else{a.vs=u.page_list[0].virtual_page_list[0].virtual_page_number,a.o=!1;var g=s.checkPPT2PDF(t,u);if(s.viewInfo.fillPPT=g,g){var m,_,y=u.page_list[0];h=y.width;((_=y.height*(m=i)/h)>n||Math.abs(_-n)<=1)&&(m=n*i/_|0,_=n),u.isEqualAspec=!0,u.max_width=m,u.total_height=_*u.page_count|0,u.rate=i/h;var v={p:1,x:(i-m)/2,y:(n-(_|=0))/2,w:m,h:_},b=a.vs-1;u.page_list.forEach((function(e,t){b+=e.virtual_page_list.length,a.p[t+1]=b;for(var o=0,r=e.virtual_page_list;o<r.length;o++){var i=r[o];a[i.virtual_page_number]=I(I({},v),{p:t+1})}}))}else{var w=s.calculateFileAspec(u,g),S=w.max_width,x=w.min_width,E=w.max_height,P=w.min_height;u.rate=i/S;var T=Math.abs(S-x)<5&&Math.abs(E-P)<5,D=T?u.page_count*E*i/x:0,O=a.vs-1;u.page_list.forEach((function(e,t){var o=e.virtual_page_list.length;O+=o,a.p[t+1]=O;var r={p:t+1,x:0,y:0,w:i};T?r.h=Number((D/u.page_count/o).toFixed(4)):(r.h=Number((e.height*i/S/o).toFixed(4)),D+=e.height*i/S);for(var n=0,s=e.virtual_page_list;n<s.length;n++){var c=s[n];a[c.virtual_page_number]=r}})),u.isEqualAspec=T,u.max_width=i,u.total_height=Math.round(D)}var M=Math.floor(16e3*u.page_count/(d*u.total_height))||1;s.viewInfo.canvasMaxPage=M}},s=this,u=0;u<e.file_list.length;++u)a(u)},e.prototype.handleScroll=function(e,t,o){var i=this;if(this.docDom){var n=this.zoomInfo,a=n.zoom,s=n.enableScroll,c=this.viewInfo,u=c.height,l=c.total,d=this.ppth5Info.page,h=this.renderMode===r.PDF;if(h&&(s&&(this.viewInfo.ticking=!0,clearTimeout(this.viewInfo.scrollTimeId),this.viewInfo.scrollTimeId=window.setTimeout((function(){return i.viewInfo.ticking=!1}),34)),this.docDom.scrollTop=e,this.renderDom.scrollTop=e,this.viewInfo.scrollTop=Math.ceil(e/a)),this.renderMode===r.PDF||this.renderMode===r.PPT){if(this.viewInfo.isParentScale){this.execScrollFileAndDraw(d);var p=document.getElementById(this.parent);p&&this.drawPDFBlank(p.clientHeight,this.viewInfo.scrollTop)}else this.execScrollFileAndDraw(d);t="number"==typeof t?t:Number((h?e/u/a:(d-1)/l).toFixed(7)),this.triggerOnScrollEventListener(e,d,t),this.postPageChangeMessage(o)}}},e.prototype.getScrollTopByPage=function(e){var t=this.zoomInfo.zoom;if(this.viewInfo.total<=1||e<=1)return this.updateCurViewMax(0,t),0;if(this.renderMode!==r.PDF)return(e-1)*this.viewInfo.viewHeight*t+2;for(var o=this.vpageAspecCache[this.viewInfo.sheet],i=o.p[e-1],n=0,a=o.vs;a<=i;a++)n+=o[a].h;return n*=t,this.updateCurViewMax(n,t),n},e.prototype.getPageByScrollTop=function(e){var t=this.viewInfo,o=t.sheet,i=t.viewHeight,n=t.total,a=this.zoomInfo.zoom,s=this.getFileType(),u=Math.ceil(.5*i);if(s===c.c.ZegoDocsViewFileTypeIMG)return 1;if(this.renderMode!==r.PDF)return Math.round(e/a/i)+1;for(var l=this.vpageAspecCache[o],d=-u,h=l.vs;d<=e&&l[h];)d+=l[h].h*a,h++;return Math.min(n,Math.max(1,l[h-1].p))},e.prototype.getDocViewChild=function(){return this.docDom.firstChild},e.prototype.postWhiteboardMessage=function(e,t){if(this.wbId){var o={action:e,data:t};this.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:o}))}},e.prototype.postSyncDragMessage=function(e,t,o){if(o||this.renderMode===r.PDF||(this.zoomInfo.tx=e,this.zoomInfo.ty=t),this.wbId){var i={action:l.b.SyncDrag,x:e,y:t,scale:this.zoomInfo.zoom,notify:this.ppth5Info.notify};this.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:i}))}},e.prototype.postPageChangeMessage=function(e){if(this.wbId){var t={action:l.b.Page,page:this.ppth5Info.page,step:this.ppth5Info.step,pageCount:this.viewInfo.total,ofsX:e,percent:this.viewInfo.percent,notify:this.ppth5Info.notify};this.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:t})),this.renderMode!==r.PDF&&this.setDocsViewDomTransform(this.zoomInfo.tx,this.zoomInfo.ty)}},e.prototype.postStepChangeMessage=function(){var e={parent:this.parent,page:this.ppth5Info.page,step:this.ppth5Info.step,fileID:this.getFileID(),fileType:this.getFileType(),fileName:this.getFile().file_name,notify:this.ppth5Info.notify};this.ppth5Info.scene&&(e.scene=this.ppth5Info.scene),v.e.emit(v.a.StepChange,e),this.triggerH5OnScrollEventListener(),this.postPageChangeMessage(),this.ppth5Info.scene=0},e.prototype.postErrorMessage=function(e){if(2000001!==(e="object"===w(e)?e:Object(u.b)(e)).code)if(String(e.code).startsWith("3"))this.postWhiteboardMessage(l.b.WbError,e.code);else{var t=I({parent:this.parent,fileID:this.getFileID(),fileType:this.getFileType(),fileName:this.getFile().file_name},e);v.e.emit(v.b.Error,t)}},e.prototype.triggerOnScrollEventListener=function(e,t,o){this.viewInfo.percent=o;var r=this.getFile(),i={parent:this.parent,percent:o,page:t,y:e,fileID:this.fileInfo.file_id,fileType:this.getFileType(),fileName:r.file_name,name:r.name||""};v.e.emit(v.a.Scroll,i)},e.prototype.triggerH5OnScrollEventListener=function(){var e=this.ppth5Info.page,t=(e-1)*this.viewInfo.viewHeight,o=Number(((e-1)/this.viewInfo.total).toFixed(7));this.triggerOnScrollEventListener(t,e,o)},e.prototype.postMessage2iframe=function(e,t){var o=this.iframeDom;o&&o.contentWindow&&o.contentWindow.postMessage({source:"zegodocsview",action:e,args:t||[]},"*")},e.prototype.handleWhiteboardPageEvent=function(e){var t=e.percent,o=e.step,i=e.notify,n=e.ofsX,a=e.ofsY;this.ppth5Info.notify=i;var s=0,c=1;i?(c=Math.min(Math.round(t*this.viewInfo.total)+1,this.viewInfo.total),s=this.getScrollTopByPage(c)):(s=Math.floor((t+a)*this.viewInfo.height*this.zoomInfo.zoom),c=this.getPageByScrollTop(s));var u={oldpage:this.ppth5Info.page,oldstep:this.ppth5Info.step,page:c,step:o};if(b.a.info(E(l.a.Whiteboard+"_page"),JSON.stringify(u)),this.renderMode===r.H5_PPT||this.renderMode===r.H5_CUSTOM)this.syncWhiteboardPPTH5Queue(c,o);else{this.ppth5Info.page=c;var d=i&&this.renderMode===r.PDF?n:void 0;this.handleScroll(s,t,d)}},e.prototype.handleWhiteboardDragToolEvent=function(e){var t=e.enable,o=this.zoomInfo.enableScroll;this.zoomInfo.enableScroll=t,this.zoomInfo.remoteScroll=e.remoteScroll,this.zoomInfo.isDrag=e.isDrag,o!==t&&(this.setDocsViewDomOverflow(),this.postMessage2iframe(n.SetCustomizedConfig,[a.PptOperationAuth,JSON.stringify({scroll:+t})]))},e.prototype.handleWhiteboardInitEvent=function(e){var t=this;this.wbId=e.data,setTimeout((function(){var e={action:l.b.DocsAspect,data:JSON.parse(JSON.stringify(t.vpageAspecCache[t.viewInfo.sheet]))};t.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:e}))}))},e.prototype.handleWhiteboardAnimationEvent=function(e){this.ppth5Info.notify=!1,e.notify?(this.viewInfo.firstInfo.page=this.ppth5Info.page,this.viewInfo.firstInfo.step=this.ppth5Info.step,this.viewInfo.firstInfo.h5Extra=e.data):this.playAnimation(e.data)},e.prototype.tryInitPageStep=function(e,t){var o=this;if(this.ppth5Info.goPage&&this.ppth5Info.goStep){if(this.ppth5Info.goTimer&&clearTimeout(this.ppth5Info.goTimer),this.ppth5Info.goPage===e&&this.ppth5Info.goStep===t)return void(this.ppth5Info.goPage=this.ppth5Info.goStep=0);this.ppth5Info.goTimer=window.setTimeout((function(){var r=o.ppth5Info,i=r.goPage,n=r.goStep;i&&n&&(o.execGotoPage(i,n,!1),b.a.info(E("h5_init_timeout"),JSON.stringify({id:o.id,page:e,step:t,h5:o.ppth5Info})))}),2e3)}},e.prototype.syncCurrentPageStep=function(e){var t=!1;if(!this.ppth5Info.loaded){b.a.info(E("h5_init_page"),JSON.stringify({id:this.id,h5:this.ppth5Info})),this.ppth5Info.loaded=!0;var o=this.ppth5Info,r=o.targetPage,i=o.targetStep;r&&i&&(this.ppth5Info.page=r,this.ppth5Info.step=i,this.gotoPage(!1),t=!0)}!t&&Object.assign(this.ppth5Info,e),this.ppth5Info.page===this.ppth5Info.targetPage&&this.ppth5Info.step===this.ppth5Info.targetStep&&(this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0),t||(this.firstNeedPlayAnimation(),this.postStepChangeMessage(),this.execSyncPPTH5Queue())},e.prototype.syncCurrentPage=function(e){var t=this;if(this.ppth5Info.loaded){"boolean"==typeof e.notify&&(this.ppth5Info.notify=e.notify);var o=+e.page+1,r=(e.step||0)+1;this.ppth5Info.pageChangeTimer&&clearTimeout(this.ppth5Info.pageChangeTimer),this.ppth5Info.pageChangeTimer=window.setTimeout((function(e){t.ppth5Info.page=e[0],t.ppth5Info.step=e[1],t.ppth5Info.scene=e[2],t.postStepChangeMessage()}),2e3,[o,r,e.scene]),this.tryInitPageStep(o,r)}else{b.a.info(E("h5_init_page"),JSON.stringify({id:this.id,h5:this.ppth5Info})),this.ppth5Info.loaded=!0;var i=this.ppth5Info,n=i.targetPage,a=i.targetStep;n>1?(this.ppth5Info.goPage=n,this.ppth5Info.goStep=a,this.ppth5Info.page=n,this.gotoPage(!1)):a<=1&&(this.postStepChangeMessage(),this.firstNeedPlayAnimation())}},e.prototype.syncCurrentStep=function(e){this.ppth5Info.pageChangeTimer&&clearTimeout(this.ppth5Info.pageChangeTimer);var t=e.page+1,o=+e.step+1,r=this.ppth5Info.lastStep;if(this.ppth5Info.lastStep=t===this.ppth5Info.page?o:-1,0!=o&&(0!=r||1!=o)&&("boolean"==typeof e.notify&&(this.ppth5Info.notify=e.notify),b.a.info(E("h5_step"),JSON.stringify({id:this.id,page:t,step:o,notify:e.notify,h5:this.ppth5Info})),o===this.ppth5Info.step&&t===this.ppth5Info.page||(this.ppth5Info.page=t,this.ppth5Info.step=o,this.tryInitPageStep(t,o),this.ppth5Info.targetPage||this.ppth5Info.targetStep||(b.a.info(E("h5_queue_done"),JSON.stringify({id:this.id,page:t,step:o,action:"step"})),this.firstNeedPlayAnimation(),this.postStepChangeMessage(),this.execSyncPPTH5Queue(),this.execMultiDocsQueue())),this.ppth5Info.page===this.ppth5Info.targetPage)){var i="h5step:"+t+","+o+"-"+this.ppth5Info.page+","+this.ppth5Info.targetStep+")";this.ppth5Info.targetStep<o?this.previousStep(this.ppth5Info.notify,i):this.ppth5Info.targetStep>o?this.nextStep(this.ppth5Info.notify,i):(this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0,this.ppth5Info.goPage=0,this.ppth5Info.goStep=0,b.a.info(E("h5_queue_done"),JSON.stringify({id:this.id,page:t,step:o,action:"page"})),this.firstNeedPlayAnimation(),this.postStepChangeMessage(),this.execSyncPPTH5Queue(),this.execMultiDocsQueue())}},e.prototype.syncCurrentElement=function(e){var t={parent:this.parent,page:this.ppth5Info.page,step:this.ppth5Info.step,fileID:this.getFileID(),fileType:this.getFileType(),fileName:this.getFile().file_name,data:e};if(v.e.emit(v.a.PlayAnimation,t),this.wbId){var o={action:l.b.Animation,data:e,notify:!0};this.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:o}))}},e.prototype.syncCurrentError=function(e){e.code===c.b.ZegoDocsViewErrorNetworkTimeout?(this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.changeH5CDNHost()):this.postErrorMessage(e)},e.prototype.initIframe=function(){var e=this;this.postMessage2iframe(n.InitPlatform,[4]),this.postMessage2iframe(n.GetAllPageStepCount),this.renderMode===r.H5_PPT&&this.postMessage2iframe(n.SetCustomizedConfig,[a.Scale,this.ppth5Info.scale]),this.domEventListeners&&this.postMessage2iframe(n.SetCustomizedConfig,[a.SyncDOMEvent]),this.postMessage2iframe(n.SetCustomizedConfig,[a.PptOperationAuth,JSON.stringify({scroll:+this.zoomInfo.enableScroll})]);var t=this.serviceHandle.getStore();[c.a.UnloadVideoSrc,c.a.PptStepMode,c.a.DisableH5ImageDrag].forEach((function(o){return e.postMessage2iframe(n.SetCustomizedConfig,[o,t[o]])}))},e.prototype.dragPDF=function(e,t){var o=this.zoomInfo,r=o.tx,i=o.ty,n=o.zoom,a=o.enableScroll,s=o.remoteScroll,c=o.dragRectTop,d=o.dragRectBottom,h=this.viewInfo,p=h.width,f=h.height,g=h.viewHeight,m=h.percent,_=e instanceof MouseEvent?e:e.changedTouches[0],y=_.clientX,v=_.clientY,b=r+this.zoomInfo.x-y,w=i+this.zoomInfo.y-v,S=p*(n-1);S=Math.floor(S),b<0?b=0:b>S&&(b=S);var I=a?0:Math.ceil(m*f*n);if(S=a?f*n-g:I+(n-1)*g,S=Math.floor(S),w<I?w=I:w>S&&(w=S),a&&(this.viewInfo.scrollLeft=Math.ceil(b/n),this.viewInfo.scrollTop=Math.ceil(w/n)),this.viewInfo.ticking=!0,this.docDom.scrollTo(b,w),this.renderDom.scrollTo(b,w),t)if(this.zoomInfo.x=0,this.zoomInfo.y=0,this.viewInfo.ticking=!1,n>1&&w>=c&&w<=d)this.postSyncDragMessage(b,w-m*f*n);else{if(!a)return!s&&this.postWhiteboardMessage(l.b.WbError,u.a.ZegoWhiteboardViewErrorNoAuthScroll),this.viewInfo.ticking=!0,this.docDom.scrollTo(r,i),this.renderDom.scrollTo(r,i),void(this.viewInfo.ticking=!1);this.updateCurViewMax(w,n),this.onScrollCallback(b,w)}},e.prototype.dragPPT=function(e,t){var o=this.zoomInfo,r=o.tx,i=o.ty,n=o.zoom,a=this.viewInfo,s=a.viewWidth,c=a.viewHeight,u=e instanceof MouseEvent?e:e.changedTouches[0],l=u.clientX,d=u.clientY,h=r+l-this.zoomInfo.x,p=i+d-this.zoomInfo.y,f=s*(1-n);h>0?h=0:h<f&&(h=f),f=c*(1-n),p>0?p=0:p<f&&(p=f),t&&(this.zoomInfo.x=0,this.zoomInfo.y=0,this.postSyncDragMessage(h,p,!t)),this.setDocsViewDomTransform(h,p)},e.prototype.handleSetScaleFactor=function(e,t,o,i){var n=this;this.ppth5Info.notify=i,this.zoomInfo.zoom=e;var a=this.viewInfo,s=a.viewWidth,c=a.viewHeight,u=a.width,l=a.height,d=a.scrollTop,h=a.percent;if(this.setDocsViewDomOverflow(),this.renderMode===r.PDF){var p=this.getDocViewChild();p.style.cssText+="transform:scale("+e+");",(p=this.renderDom.firstChild).style.cssText+="transform:scale("+e+");";var f=t*u*e,g=(o+h)*l*e;i&&(f=s*(e-1)*.5,g=(g=d)*e+c*(e-1)*.5),f=Math.round(f),g=Math.round(g),this.viewInfo.ticking=!0,this.docDom.scrollTo(f,g),this.renderDom.scrollTo(f,g),this.postSyncDragMessage(f,g-h*l*e),this.updateCurViewMax(Math.ceil(h*l*e),e),clearTimeout(this.viewInfo.scrollTimeId),this.viewInfo.scrollTimeId=window.setTimeout((function(){n.viewInfo.ticking=!1}),34)}else{f=Math.round(i?s*(1-e)*.5:-t*u*e),g=Math.round(i?c*(1-e)*.5:-o*l*e);this.setDocsViewDomTransform(f,g),this.postSyncDragMessage(f,g)}this.wbId||(this.zoomInfo.isDrag=e>1,this.docDom.style.cursor=e>1?"move":"auto"),this.renderMode!==r.PDF&&this.renderMode!==r.PPT||this.loadCurrentSheet()},e.prototype.updateCurViewMax=function(e,t){t>1?(this.zoomInfo.dragRectTop=e-2,this.zoomInfo.dragRectBottom=Math.ceil(e+this.viewInfo.viewHeight*(t-1))):(this.zoomInfo.dragRectTop=0,this.zoomInfo.dragRectBottom=0)},e.prototype.drawPDFBlank=function(e,t){var o=this;if(!(this.canvasArray.length<2)){for(var r=t,i=0,n=0;n<r;)n+=this.getCanvasHeight(i++);var a=i>0?i-1:0;for(r+=e,i=0,n=0;n<r;){var s=this.getCanvasHeight(i++);if(n+=s,0===s)break}for(var c=this.viewInfo,u=c.canvasMaxPage,l=c.isParentScale,d=i>0?i-1:0,h=[];a<=d;a++)h.push(a*u+1);if(l)this.execScrollFileAndDraw(h[0],void 0,h);else{h.forEach((function(e){return o.execDraw(e,void 0)}));var p={id:this.id,pages:h};b.a.info(E("draw_scrolled"),JSON.stringify(p))}}},e.prototype.firstNeedPlayAnimation=function(){var e=this.viewInfo.firstInfo,t=e.page,o=e.step,r=e.h5Extra;t&&r&&t==this.ppth5Info.page&&o==this.ppth5Info.step&&(this.playAnimation(r),this.viewInfo.firstInfo.page=0,this.viewInfo.firstInfo.step=0)},e.prototype.getAllVirtualInPageRange=function(e,t){var o=this.getFile().page_list,r=[];e<0&&(e=0),t>=o.length&&(t=o.length-1);for(var i=e;i<=t;++i)for(var n=0,a=o[i].virtual_page_list;n<a.length;n++){var s=a[n];r.push(s.virtual_page_number)}return r},e.prototype.startGetImageByVirtualPageList=function(e,t){for(var o=[],r=this.vpageImgCache[this.viewInfo.sheet],i=0;i<e.length;){var n=r&&r[e[i]];n?(o.push(n),e.splice(i,1)):i++}this.getImageByVirtualPageList(o,e,t)},e.prototype.sortVirtualPageListRule=function(e,t){return e.virtual_page_number-t.virtual_page_number},e.prototype.getImageByVirtualPageList=function(e,t,o){var r=this;if(t.length<=0)return e.sort(this.sortVirtualPageListRule),void o(e);this.serviceHandle.registerEventHandler(this.id,i.GetPageImage,(function(i){for(var n=i.virtual_page_number,a=0;a<t.length;++a)if(t[a]==n){t.splice(a,1);break}var s=r.vpageImgCache[r.viewInfo.sheet]||{};s[n]=i,r.vpageImgCache[r.viewInfo.sheet]=s;var c=!1;for(a=0;a<e.length;++a)e[a].virtual_page_number==n&&(e[a]=i,c=!0);c||e.push(i),r.getImageByVirtualPageList(e,t,o)}));var n=this.viewInfo,a=n.sheet,s=n.rate;this.serviceHandle.getPageImage(this.id,{sheet:a,rate:s*d*1.5,virtual_page_number:t[0],virtual_start:this.vpageAspecCache[a].vs-1,res:this.fileInfo})},e.prototype.getFile=function(){return this.fileInfo.file_list[this.viewInfo.sheet]},e.prototype.execGotoPage=function(e,t,o){e!==this.ppth5Info.page?(this.ppth5Info.page=e,this.ppth5Info.step=this.renderMode===r.H5_CUSTOM?t:1,this.gotoPage(o)):t<this.ppth5Info.step?this.previousStep(this.ppth5Info.notify,"execGotoPage("+e+","+t+","+this.ppth5Info.step+")"):t>this.ppth5Info.step?this.nextStep(this.ppth5Info.notify,"execGotoPage("+e+","+t+","+this.ppth5Info.step+")"):t!==this.ppth5Info.step||1===this.ppth5Info.targetPage&&1===this.ppth5Info.targetStep||(this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0)},e.prototype.runGotoPageQueue=function(e,t,o,r){var i=this;this.ppth5Info.targetPage=e,this.ppth5Info.targetStep=t,this.execGotoPage(e,t,o);var n=this.ppth5Info.loaded?1e3:2e4;this.ppth5Info.syncTimer&&clearTimeout(this.ppth5Info.syncTimer),this.ppth5Info.syncTimer=window.setTimeout((function(){return i[r](!0)}),n)},e.prototype.syncWhiteboardPPTH5Queue=function(e,t){var o=this,r=this.ppth5Info,i=r.page,n=r.step,a=r.loaded,s=r.notify;if(e!=i||t!=n){var c={page:e,step:t,notify:s,loaded:a,id:this.id},u=this.serviceHandle.getStore();u.syncPPTH5Queue=u.syncPPTH5Queue&&u.syncPPTH5Queue.length?u.syncPPTH5Queue.filter((function(e){return e.id===o.id})):[];var l=u.syncPPTH5Queue[u.syncPPTH5Queue.length-1];if(!l||l.page===e&&l.step===t)l||(u.syncPPTH5Queue=[c],b.a.info(E("h5_wbqueue_init"),JSON.stringify({task:c})),this.runGotoPageQueue(c.page,c.step,c.notify,"execSyncPPTH5Queue"));else{var d={page:i,step:n,task:c,queue:u.syncPPTH5Queue.map((function(e){return e.page+"-"+e.step})).join()};u.syncPPTH5Queue.push(c),b.a.info(E("h5_wbqueue_push"),JSON.stringify(d))}}},e.prototype.execSyncPPTH5Queue=function(e){var t=this.serviceHandle.getStore(),o=t.syncPPTH5Queue,r=e&&t.syncQueueRuning;if(r&&this.execQueueTimeout(o),t.syncQueueRuning=!1,o&&o.length){t.syncQueueRuning=!0;var i=o.shift();r&&!o[0]||(i=o[0]),i&&(b.a.info(E("h5_wbqueue_pop"),JSON.stringify({timeout:e,task:i,store:t})),this.runGotoPageQueue(i.page,i.step,i.notify,"execSyncPPTH5Queue"))}},e.prototype.execMultiDocsQueue=function(e){var t=this,o=this.serviceHandle.getStore(),r=o.multiDocsQueue;if(e&&o.syncQueueRuning&&this.execQueueTimeout(r),o.syncQueueRuning=!1,r&&r.length){o.syncQueueRuning=!0;var i=[],n=r.shift();i.push(n);for(var a=0;a<r.length;a++){var s=r[a];s&&s.id!==n.id&&s.p!==n.p&&(n=s,i.push(n),r.splice(a,1))}b.a.info(E("h5_mdqueue_pop"),JSON.stringify({timeout:e,tasks:i,store:o})),i.forEach((function(e){t.serviceHandle.execViewFuction("runGotoPageQueue",e.id,x(e.args,["execMultiDocsQueue"]))}))}},e.prototype.execQueueTimeout=function(e){if(e&&e.length){for(var t=[],o=0;o<e.length-1;o++)e[o]&&!e[o].loaded&&(t.push(e[o]),e.splice(o,1));var r={id:this.id,loaded:this.ppth5Info.loaded,queue:e,tasks:t};b.a.info(E("h5_queue_timeout"),JSON.stringify(r))}this.ppth5Info.loaded=!0,this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0,this.postStepChangeMessage(),this.postMessage2iframe(n.HideLoadingStyle)},e.prototype.gotoPage=function(e){this.ppth5Info.notify=e,this.renderMode===r.H5_PPT?(b.a.info(E("gotoPage"),JSON.stringify({id:this.id,notify:e,page:this.ppth5Info.page})),this.postMessage2iframe(n.GotoPage,[this.ppth5Info.page-1,e])):this.renderMode===r.H5_CUSTOM?this.postMessage2iframe(n.GotoPage,[this.ppth5Info.page,this.ppth5Info.step,e]):this.handleScroll(this.getScrollTopByPage(this.ppth5Info.page))},e.prototype.checkParamsPage=function(e){var t=this.getPageCount();return e<1?e=1:e>t?e=t:e|=0,e},e.prototype.delayDraw=function(e){var t=this;return function(o){t.isAppleDevice()?setTimeout(e.bind(t,o)):e(o)}},e.prototype.isAppleDevice=function(){var e=navigator.userAgent,t=e.includes("Mac"),o=!e.includes("Chrome")&&e.includes("Safari");return this.isTouch?t:o},e.prototype.getCDNHostList=function(){return this.fileInfo.cdn_hosts||[]},e.prototype.docsSnapshot=function(e){var t=e.ctx,o=e.snapshotId;this.renderMode===r.H5_PPT||this.renderMode===r.H5_CUSTOM?this.postMessage2iframe(n.SnapshotForH5,[o]):this.snapshotForStatic(t)},e.prototype.getH5SnapshotResult=function(e){var t=I(I({},e),{action:l.b.H5Snapshot});this.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:t}))},e.prototype.snapshotForStatic=function(e){var t=this.viewInfo,o=t.width,r=t.height,i=t.viewWidth,n=t.viewHeight,a=t.scrollTop,s=t.sheet,c=Math.min(o,i),u=Math.min(r,n),l=this.getCanvasInds(n,a);e.clearRect(0,0,i,n);for(var h=0,p=0;p<=l[0];)h+=this.getCanvasHeight(p++);var f=(a-h+this.vpageAspecCache[s].h[l[0]])*d,g=c*d,m=u*d;if(e.drawImage(this.canvasArray[l[0]],0,f,g,m,0,0,c,u),2===l.length){var _=h-a,y=(u-_)*d;e.drawImage(this.canvasArray[l[1]],0,0,g,y,0,_,c,u-_)}},e.prototype.getCanvasInds=function(e,t){if(this.canvasArray.length<2)return[0];for(var o=0,r=0;r<t;)r+=this.getCanvasHeight(o++);var i=o>0?o-1:0,n=t+e;for(o=0,r=0;r<n;){var a=this.getCanvasHeight(o++);if(r+=a,0===a)break}var s=o>0?o-1:0;return i===s?[i]:[i,s]},e.prototype.setSheet=function(e){"string"==typeof e?this.viewInfo.sheetName=e:"number"==typeof e&&(this.viewInfo.sheet=e)},e.prototype.resetVisibleSize=function(){if(this.docDom&&this.renderMode===r.PDF){var e=document.getElementById(this.parent),t=e.clientWidth,o=e.clientHeight,i="width:"+t+"px;height:"+o+"px;",n=this.docDom.parentElement;this.docDom.style.cssText+=i+"overflow: hidden auto;",this.renderDom.style.cssText+=i+"overflow: hidden auto;",n.style.cssText+=i+"top:"+Math.max(0,(o-this.viewInfo.height)/2)+"px;",this.drawPDFBlank(o,this.viewInfo.scrollTop),this.viewInfo.isParentScale=!0}},e.prototype.addDOMEventListener=function(e,t){this.domEventListeners||(this.domEventListeners={}),this.domEventListeners[e]=t},e.prototype.enableDOMEvent=function(e){var t=this.docDom&&this.docDom.parentElement;t&&this.renderMode===r.H5_PPT&&(t.style.cssText+="pointer-events:"+(e?"initial":"none")+";")},e.prototype.setParent=function(e){this.parent=e,this.ppth5Info.p=e},e.prototype.mergeRemoteFileInfo=function(e){this.parent?this.tranlateFileAspec(e):this.calculateFileAspecWithNoParent(e);var t=e.file_list[this.viewInfo.sheet],o=t.max_width,r=t.total_height;return this.viewInfo.width=o,this.viewInfo.height=r,Object.assign(this.fileInfo,e),Promise.resolve(this.getLoadFileModelForCallback())},e.prototype.getExcelSheetNameList=function(){return this.fileInfo.file_type===c.c.ZegoDocsViewFileTypeELS?this.fileInfo.file_list.map((function(e){return e.file_name})):[]},e.prototype.loadFile=function(e,t,o){var r,i=this;return this.loadFileListener=o,this.serviceHandle.setStore(((r={})[this.parent+"_activited"]=this.id,r)),this.viewInfo.ticking=!1,this.fileInfo.file_id===e&&this.viewInfo.firstInfo.loadedFile?(setTimeout((function(){i.hideOtherDocsView(),i.loadFileCallback()})),Promise.resolve(this.getLoadFileModelForAPI(this.fileInfo))):(b.a.setExtraConfig({fileID:e}),this.serviceHandle.load(this.id,{fileID:e,authKey:t},!0).then((function(e){return i.getLoadFileModelForAPI(e)})))},e.prototype.unloadFile=function(){var e,t,o=null===(e=this.docDom)||void 0===e?void 0:e.parentElement;o&&(null===(t=o.parentElement)||void 0===t||t.removeChild(o),b.a.info(E("unloadFile"))),this.serviceHandle.execViewFuction("unloadFile",this.id,[])},e.prototype.getContentSize=function(){return{width:this.viewInfo.width,height:this.viewInfo.height}},e.prototype.getVisibleSize=function(){return{width:this.viewInfo.viewWidth,height:this.viewInfo.viewHeight}},e.prototype.getFileID=function(){return this.fileInfo.file_id},e.prototype.getFileType=function(){return this.fileInfo.file_type},e.prototype.getCurrentPage=function(){return this.ppth5Info.page},e.prototype.getCurrentStep=function(){return this.ppth5Info.step},e.prototype.getPageCount=function(){return this.viewInfo.total},e.prototype.getPPTNotes=function(e){return e=this.checkParamsPage(e),this.fileInfo.notes[e-1]||""},e.prototype.getThumbnailUrlList=function(){return this.fileInfo.thumbnails},e.prototype.getVerticalPercent=function(){return this.viewInfo.percent},e.prototype.scrollTo=function(e,t){this.ppth5Info.notify=void 0===t||!!t;var o=Math.ceil(this.viewInfo.height*e*this.zoomInfo.zoom),r=this.getPageByScrollTop(o);this.ppth5Info.page=r,this.handleScroll(o),-1!==this.viewInfo.firstInfo.scrollTop&&(this.viewInfo.firstInfo.scrollTop=o),b.a.info(E("scrollTo"),JSON.stringify({id:this.id,params:e,page:r,top:o}))},e.prototype.flipPage=function(e,t,o){e=this.checkParamsPage(e),t="number"==typeof t?Math.max(1,0|t):1,o=void 0===o||!!o,this.ppth5Info.notify=o;var i=this.renderMode===r.H5_PPT||this.renderMode===r.H5_CUSTOM,n=i&&this.viewInfo.maxSteps[e-1];if(n&&t>n)b.a.info(E("flipPage"),JSON.stringify({actionMsg:"error step",params:{page:e,step:t,maxStep:n}}));else if(i&&this.wbId)this.syncWhiteboardPPTH5Queue(e,t);else{i&&(this.ppth5Info.targetPage=e,this.ppth5Info.targetStep=t);var a=this.ppth5Info.loaded,s=this.serviceHandle.getStore();if(i&&(a||!a&&(e>1||t>1))){if(s.multiDocsQueue&&s.syncQueueRuning){for(var c=!0,u=this.id,l=s.multiDocsQueue.length-1;l>=0;l--){var d=s.multiDocsQueue[l];if(d.id==u&&d.args.page==e&&d.args.step==t){c=!1;break}}if(c){var h={p:this.parent,id:this.id,loaded:a,args:[e,t,o]};return s.multiDocsQueue.push(h),void b.a.info(E("h5_mdqueue_push"),JSON.stringify({task:h}))}}s.syncQueueRuning=!0,s.multiDocsQueue=s.multiDocsQueue||[]}s.multiDocsQueue?this.runGotoPageQueue(e,t,o,"execMultiDocsQueue"):(-1!==this.viewInfo.firstInfo.scrollTop&&(this.viewInfo.firstInfo.scrollTop=this.getScrollTopByPage(e)),this.execGotoPage(e,t,o)),b.a.info(E("flipPage"),JSON.stringify({id:this.id,params:{page:e,step:t}}))}},e.prototype.previousStep=function(e,t){var o=this.ppth5Info,r=o.page,i=o.step;1===r&&1===i||(e=void 0===e||!!e,this.zoomInfo.enableScroll||!e||1!==i?(this.ppth5Info.notify=e,this.postMessage2iframe(n.PreviousStep,[e]),e&&this.postWhiteboardMessage(l.b.Step,""),b.a.info(E("previousStep"),JSON.stringify({id:this.id,notify:e,action:t}))):!this.zoomInfo.remoteScroll&&this.postWhiteboardMessage(l.b.WbError,u.a.ZegoWhiteboardViewErrorNoAuthScroll))},e.prototype.nextStep=function(e,t){var o=this.ppth5Info,r=o.page,i=o.step;e=void 0===e||!!e,this.zoomInfo.enableScroll||!e||i!==this.viewInfo.maxSteps[r-1]?(this.ppth5Info.notify=e,this.postMessage2iframe(n.NextStep,[e]),e&&this.postWhiteboardMessage(l.b.Step,""),b.a.info(E("nextStep"),JSON.stringify({id:this.id,notify:e,action:t}))):!this.zoomInfo.remoteScroll&&this.postWhiteboardMessage(l.b.WbError,u.a.ZegoWhiteboardViewErrorNoAuthScroll)},e.prototype.switchSheet=function(e){this.getFileType()===c.c.ZegoDocsViewFileTypeELS&&this.viewInfo.sheet!==e&&e>=0&&e<this.fileInfo.file_list.length&&(this.viewInfo.sheet=e,this.vpageDrawImgCache={},this.loadCurrentSheet(!1,!0),b.a.info(E("switchSheet"),JSON.stringify({id:this.id,params:e})))},e.prototype.setScaleFactor=function(e,t,o){var i=e;(!i||i<1)&&(i=1),this.zoomInfo.zoom!==i&&(this.renderMode!==r.H5_PPT&&this.renderMode!==r.H5_CUSTOM||this.iframeDom)&&(this.renderMode!==r.PDF&&this.renderMode!==r.PPT||this.canvasArray[0])&&(b.a.info(E("setScaleFactor"),JSON.stringify({zoom:i,x:t,y:o})),this.handleSetScaleFactor(i,t||0,o||0,!0))},e.prototype.getScaleFactor=function(){return{scaleFactor:this.zoomInfo.zoom,scaleOffsetX:0,scaleOffsetY:0}},e.prototype.playAnimation=function(e){this.postMessage2iframe(n.TriggerElementsClick,[e]),b.a.info(E("playAnimation"),e)},e.prototype.stopPlay=function(e){this.postMessage2iframe(n.StopPlay,[e]),b.a.info(E("stopPlay"),e)},e.prototype.setVolume=function(e){this.postMessage2iframe(n.SetVolume,[e]),b.a.info(E("setVolume"),e)},e.prototype.reloadView=function(){if(this.canReloadView()){var e=this.viewInfo.scrollLeft/this.viewInfo.width,t=this.viewInfo.scrollTop/this.viewInfo.height,o=this.zoomInfo.tx/this.viewInfo.viewWidth,i=this.zoomInfo.ty/this.viewInfo.viewHeight;this.tranlateFileAspec(this.fileInfo);var s=this.getFile();if(this.viewInfo.width=s.max_width,this.viewInfo.height=s.total_height,this.viewInfo.total=s.page_count,this.viewInfo.rate=s.rate,this.ppth5Info.notify=!1,this.renderMode===r.H5_PPT||this.renderMode===r.H5_CUSTOM){var c=this.vpageAspecCache[0][1],u=c.x,l=c.y,d=c.w,h=c.h;this.iframeDom.width=d,this.iframeDom.height=h,this.postSyncDragMessage(o*d|0,i*h|0),this.updateDocsViewLayout(u,l,d,h),this.setDocsViewDomOverflow(),this.getDocViewChild().style.cssText+="width:"+this.viewInfo.width+"px;height:"+this.viewInfo.height+"px;",this.reloadViewCallback();var p=this.getFile().page_list[0].width;this.ppth5Info.scale=Number((d/p).toFixed(4)),this.renderMode===r.H5_PPT&&this.postMessage2iframe(n.SetCustomizedConfig,[a.Scale,this.ppth5Info.scale])}else{if(this.canvasArray=[],this.vpageDrawImgCache={},this.docDom.innerHTML="",this.renderDom.innerHTML="",this.renderMode===r.PDF)this.viewInfo.ticking=!0,this.viewInfo.scrollLeft=e*this.viewInfo.width,this.viewInfo.scrollTop=t*this.viewInfo.height;else{var f=this.vpageAspecCache[0][1];d=f.w,h=f.h;this.postSyncDragMessage(o*d|0,i*h|0)}this.execScrollFileAndDraw(this.ppth5Info.page,this.reloadViewCallback)}}},e}(),T=(S=function(e,t){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),D=function(){return(D=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},O=b.b.bind(null,"docs.s."),M=function(e){function t(t){var o=e.call(this)||this;return o.listeners={},o.docsviews={},o.zegoDocs=new s.a(t),o}return T(t,e),t.prototype.setTestEnv=function(e){this.zegoDocs.setTestEnv(e),b.a.info(O("setTestEnv"),JSON.stringify({params:e}))},t.prototype.setConfig=function(e,t){var o,r;return r=["set_alpha_env","dynamicPPT_HD","dynamicPPT_AutomaticPage",c.a.Domain,c.a.ThumbnailMode].includes(e)?this.zegoDocs.setConfig(e,t):this.setStore(((o={})[e]=t,o)),b.a.info(O("setConfig"),JSON.stringify({params:{key:e,value:t},result:r})),r},t.prototype.getConfig=function(e){var t;return t=e===c.a.Domain||e===c.a.ThumbnailMode?this.zegoDocs.getConfig(e):this.getStore()[e],b.a.info(O("getConfig"),JSON.stringify({params:e,result:t})),t},t.prototype.execViewFuction=function(e,t,o){if("unloadFile"===e)return this.docsviews[t]=null,void delete this.docsviews[t];var r=this.docsviews[t];r&&r[e].apply(r,o)},t.prototype.registerEventHandler=function(e,t,o){this.listeners[t]=this.listeners[t]||{},this.listeners[t][e]=o},t.prototype.removeEventHandler=function(e){for(var t in this.listeners)this.listeners[t][e]=null},t.prototype.load=function(e,t,o){var r=this;return this.zegoDocs.loadFile(t.fileID).then(this.resolveLoad.bind(this,e,t.fileID,o)).catch((function(){return r.zegoDocs.loadFile(t.fileID).then(r.resolveLoad.bind(r,e,t.fileID,o)).catch((function(e){throw e=e||{code:c.b.ZegoDocsViewErrorNetworkTimeout,message:"网络超时"},v.e.emit(v.b.Error,D(D({},t),e)),b.a.error(O("load_error"),JSON.stringify({params:t,result:e})),e}))}))},t.prototype.cacheFile=function(e){return this.zegoDocs.cacheFile(e)},t.prototype.getPageImage=function(e,t){var o=this.listeners[i.GetPageImage][e];o&&o(this.transImage(t))},t.prototype.decryptImage=function(e){return this.zegoDocs.decryptImage(e)},t.prototype.on=function(e,t){return v.e.on(e,t)},t.prototype.off=function(e,t){return v.e.off(e,t)},t.prototype.getVersion=function(){return this.zegoDocs.getVersion()},t.prototype.createView=function(e,t){var o={ID:e=(e||Date.now()+Math.floor(1e3*Math.random()))+"",sheet:t},r=O("createView"),i=this.docsviews[e];if(i)return b.a.info(r,JSON.stringify({actionMsg:"find in cache",params:o})),i;var n=document.getElementById(m+e);if(n=n&&n.parentElement){var a=n.id.replace(p,"");if(i=this.docsviews[a])return this.docsviews[e]=i,o.wbID=a,b.a.info(r,JSON.stringify({actionMsg:"find in cache on whiteboard",params:o})),i}return i=new P(this,e,t||0),this.docsviews[e]=i,b.a.info(r,JSON.stringify({params:o})),i},t.prototype.setDocsViewParent=function(e,t){e.setParent(t)},t.prototype.getDocsViewFileInfo=function(e,t){return this.zegoDocs.loadFile(t).then((function(t){return e.mergeRemoteFileInfo(t)}))},t.prototype.uploadFile=function(e,t,o,r){var i=r&&"function"==typeof r?r:function(e){v.e.emit(v.a.Upload,Object.assign(e,o))};return this.zegoDocs.uploadFile({file:e,renderType:t,onProgress:i})},t.prototype.cancelUploadFile=function(e){return this.zegoDocs.cancelUploadFile({fileHash:e})},t.prototype.uploadH5File=function(e,t,o){return this.zegoDocs.uploadH5File(e,t,o)},t.prototype.resolveLoad=function(e,t,o,r){if(o&&r.file_type!==c.c.ZegoDocsViewFileTypeAudio&&r.file_type!==c.c.ZegoDocsViewFileTypeVideo){var n=this.listeners[i.Load][e];n&&setTimeout((function(){return n(r)}))}var a=D(D({},r),{preload:void 0,notes:void 0,thumbnails:void 0,file_list:void 0,file_urls:void 0});return b.a.info(O("loadFile"),JSON.stringify({params:t,result:a})),r},t.prototype.transImage=function(e){var t=e.virtual_page_number,o=e.virtual_start,r=e.res,i=e.sheet,n=r.file_type===c.c.ZegoDocsViewFileTypeIMG,a=r.file_list[i].page_list[t-o-1].src;return{error_code:0,file_id:r.file_id,image_data:n?"":a,image_path:n?a:"",virtual_page_number:t}},t}(_)},,function(e,t,o){var r=o(280),i=o(305);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var n={insert:"head",singleton:!1};r(i,n);e.exports=i.locals||{}},function(e,t,o){(t=o(281)(!1)).push([e.i,"[id^='zego-docsview-zoom'],\n[id^='zego-docsview-render'],\n[id^='zego-docsview-render'] > div,\n[id^='zego-docsview-con'],\n[id^='zego-docsview-con'] > div {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n/* [id^='zego-docsview-con'], */\n[id^='zego-docsview-con'] > div,\n[id^='zego-docsview-render'] > div,\n[id^='zego-docsview-iframe'] {\n  transform-origin: 0 0;\n}\n\n[id^='zego-docsview-render'] {\n  text-align: initial;\n}\n\n[id^='zego-docsview-render'] iframe {\n  border: none;\n}\n[id^='zego-docsview-render'] canvas {\n  display: block;\n  transform-origin: 0 0;\n}\n\n[id^='zego-docsview-zoom'] svg.loading {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -24px;\n  display: none;\n  animation: loading 2s infinite linear;\n  -webkit-animation: loading 2s infinite linear;\n  -moz-animation: loading 2s infinite linear;\n  -o-animation: loading 2s infinite linear;\n}\n@keyframes loading {\n  from {\n    transform: rotate(0deg);\n    -ms-transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes loading {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@-moz-keyframes loading {\n  from {\n    -moz-transform: rotate(0deg);\n  }\n  to {\n    -moz-transform: rotate(360deg);\n  }\n}\n@-o-keyframes loading {\n  from {\n    -o-transform: rotate(0deg);\n  }\n  to {\n    -o-transform: rotate(360deg);\n  }\n}\n",""]),e.exports=t},function(e,t,o){"use strict";var r=o(7),i=o(20).every;r({target:"Array",proto:!0,forced:!o(56)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){var r=o(17),i=o(77),n=o(28),a=o(91).f,s=function(e){return function(t){for(var o,s=n(t),c=i(s),u=c.length,l=0,d=[];u>l;)o=c[l++],r&&!a.call(s,o)||d.push(e?[o,s[o]]:s[o]);return d}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,o){var r=o(280),i=o(309);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var n={insert:"head",singleton:!1};r(i,n);e.exports=i.locals||{}},function(e,t,o){(t=o(281)(!1)).push([e.i,"#zego-whiteboard-input {\n    position: absolute;\n    width: 0px;\n    height: 0px;\n    padding: 0px;\n    border: none;\n}\n\n[id^='zego-whiteboard-zoom'] {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n}\n\n[id^='zego-whiteboard-con'],\n[id^='zego-whiteboard-con'] > div {\n    transform-origin: 0 0;\n}\n\n[id^='zego-whiteboard'] {\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    position: absolute;\n}\n[id^='zego-whiteboard'] *,\n[id^='zego-whiteboard'] ::after,\n[id^='zego-whiteboard'] ::before {\n    box-sizing: border-box !important;\n}\n[id^='zego-whiteboard'] [id^='zego-graphics-bg-container'] {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    display: flex;\n}\n[id^='zego-whiteboard'] [id^='zego-graphics-bgImage-container'] {\n    flex: 1;\n}\n[id^='zego-whiteboard'] [id^='zego-graphics-container'] {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    overflow: hidden;\n}\n\n[id^='zego-graphics-container'] [id^='zego-laser'] {\n    transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear;\n    -moz-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear; /* Firefox 4 */\n    -webkit-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear; /* Safari 和 Chrome */\n    -o-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear; /* Opera */\n    -ms-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear;\n    margin-left: -8px;\n    margin-top: -8px;\n}\n\n/* [id^='zego-graphics-container'] path.transition {\n    transition: transform 0.2s linear;\n    -moz-transition: transform 0.2s linear;\n    -webkit-transition: transform 0.2s linear;\n    -o-transition: transform 0.2s linear;\n    -ms-transition: transform 0.2s linear;\n}\n\n[id^='zego-graphics-container'] line.transition {\n    transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -moz-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -webkit-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -o-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -ms-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n}\n\n[id^='zego-graphics-container'] rect.transition {\n    transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -moz-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -webkit-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -o-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -ms-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n}\n\n[id^='zego-graphics-container'] ellipse.transition {\n    transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -moz-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -webkit-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -o-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -ms-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n} */\n\n[id^='zego-whiteboard'] [id^='zego-box-container'] {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    overflow: hidden;\n}\n[id^='zego-whiteboard'] svg {\n    transform-origin: 0px 0px 0px;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    margin: 0px;\n    padding: 0px;\n    left: 0;\n    right: 0;\n    pointer-events: none;\n}\n[id^='zego-whiteboard'] textarea {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    border: none;\n    outline: none;\n    background: transparent;\n    resize: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n    padding: 0 6px;\n    line-height: 1.5;\n    font-family: inherit;\n    font-size: inherit;\n    box-sizing: border-box;\n    color: inherit;\n    font-style: inherit;\n    font-weight: inherit;\n    white-space: pre-wrap;\n    word-break: break-all;\n    overflow: hidden;\n}\n[id^='zego-whiteboard'] pre {\n    display: block;\n    visibility: hidden;\n    margin: 0px 0px;\n    font-family: inherit;\n    font-size: inherit;\n    color: inherit;\n    font-style: inherit;\n    font-weight: inherit;\n    line-height: 1.5;\n    padding: 0 6px;\n}\n[id^='zego-graphics-box'] {\n    position: absolute;\n}\n[id^='zego-textarea'] {\n    position: absolute;\n    border: 1px dashed transparent;\n    overflow: hidden;\n}\n[id^='zego-other-container'] {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    cursor: none;\n    overflow: hidden;\n}\n[id^='zego-other-container'] div {\n    box-sizing: border-box;\n}\n[id^='zego-laser'] {\n    width: 16px;\n    height: 16px;\n    border-radius: 50%;\n    background: rgba(255, 78, 51, 1);\n    border: 2px solid rgba(255, 144, 128, 1);\n    box-shadow: 0px 0px 8px 0px rgba(254, 94, 70, 0.7);\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n\n[id^='zego-box-container'] .img-editor-box,\n[id^='zego-box-container'] .graphics-box {\n    display: none;\n    position: absolute;\n    overflow: visible;\n    margin: 0;\n    padding: 0;\n    z-index: 2;\n    border: 2px solid #b0b3b8;\n    box-shadow: 0 0 1px 0 #ffffff, inset 0 0 1px 0 #ffffff;\n    transform-origin: 0px 0px 0px;\n    transition: border 0.3s;\n    -moz-transition: border 0.3s; /* Firefox 4 */\n    -webkit-transition: border 0.3s; /* Safari 和 Chrome */\n    -o-transition: border 0.3s; /* Opera */\n}\n\n[id^='zego-box-container'] .operation-point-desktop {\n    width: 12px;\n    height: 12px;\n    position: absolute;\n    background-color: #ffffff;\n    border: 2px solid #b0b3b8;\n}\n[id^='zego-box-container'] .operation-point-desktop:active,\n[id^='zego-box-container'] .operation-point-desktop:hover {\n    transform: scale(1.5);\n    border: 2px solid #eb98c7;\n}\n\n[id^='zego-box-container'] .operation-point-desktop.left-top {\n    left: -6px;\n    top: -6px;\n    cursor: nwse-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.right-top {\n    right: -6px;\n    top: -6px;\n    cursor: nesw-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.left-bottom {\n    left: -6px;\n    bottom: -6px;\n    cursor: nesw-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.right-bottom {\n    right: -6px;\n    bottom: -6px;\n    cursor: nwse-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.top {\n    top: -6px;\n    cursor: ns-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.right {\n    right: -6px;\n    cursor: ew-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.bottom {\n    bottom: -6px;\n    cursor: ns-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.left {\n    left: -6px;\n    cursor: ew-resize;\n}\n",""]),e.exports=t},function(e,t,o){var r=o(7),i=o(112),n=o(92);r({target:"Array",proto:!0},{fill:i}),n("fill")},function(e,t,o){var r=o(7),i=o(312);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,o){var r=o(6),i=o(21),n=o(233).trim,a=o(234),s=r.parseInt,c=/^[+-]?0[Xx]/,u=8!==s(a+"08")||22!==s(a+"0x16");e.exports=u?function(e,t){var o=n(i(e));return s(o,t>>>0||(c.test(o)?16:10))}:s},function(e,t,o){var r=o(7),i=o(314);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(e,t,o){var r=o(6),i=o(21),n=o(233).trim,a=o(234),s=r.parseFloat,c=1/s(a+"-0")!=-1/0;e.exports=c?function(e){var t=n(i(e)),o=s(t);return 0===o&&"-"==t.charAt(0)?-0:o}:s},function(e,t,o){"use strict";var r=o(7),i=o(231).start;r({target:"String",proto:!0,forced:o(316)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,o){var r=o(36);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},function(e,t,o){"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=o(297),r.BufferWriter=o(326),r.Reader=o(298),r.BufferReader=o(327),r.util=o(147),r.rpc=o(328),r.roots=o(330),r.configure=i,i()},function(e,t,o){"use strict";e.exports=function(e,t){var o=new Array(arguments.length-1),r=0,i=2,n=!0;for(;i<arguments.length;)o[r++]=arguments[i++];return new Promise((function(i,a){o[r]=function(e){if(n)if(n=!1,e)a(e);else{for(var t=new Array(arguments.length-1),o=0;o<t.length;)t[o++]=arguments[o];i.apply(null,t)}};try{e.apply(t||null,o)}catch(e){n&&(n=!1,a(e))}}))}},function(e,t,o){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var o=0;--t%4>1&&"="===e.charAt(t);)++o;return Math.ceil(3*e.length)/4-o};for(var i=new Array(64),n=new Array(123),a=0;a<64;)n[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,o){for(var r,n=null,a=[],s=0,c=0;t<o;){var u=e[t++];switch(c){case 0:a[s++]=i[u>>2],r=(3&u)<<4,c=1;break;case 1:a[s++]=i[r|u>>4],r=(15&u)<<2,c=2;break;case 2:a[s++]=i[r|u>>6],a[s++]=i[63&u],c=0}s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=i[r],a[s++]=61,1===c&&(a[s++]=61)),n?(s&&n.push(String.fromCharCode.apply(String,a.slice(0,s))),n.join("")):String.fromCharCode.apply(String,a.slice(0,s))};r.decode=function(e,t,o){for(var r,i=o,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&a>1)break;if(void 0===(c=n[c]))throw Error("invalid encoding");switch(a){case 0:r=c,a=1;break;case 1:t[o++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:t[o++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:t[o++]=(3&r)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return o-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,o){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,o){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:o||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var o=this._listeners[e],r=0;r<o.length;)o[r].fn===t?o.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var o=[],r=1;r<arguments.length;)o.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,o)}return this}},function(e,t,o){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),o=new Uint8Array(t.buffer),r=128===o[3];function i(e,r,i){t[0]=e,r[i]=o[0],r[i+1]=o[1],r[i+2]=o[2],r[i+3]=o[3]}function n(e,r,i){t[0]=e,r[i]=o[3],r[i+1]=o[2],r[i+2]=o[1],r[i+3]=o[0]}function a(e,r){return o[0]=e[r],o[1]=e[r+1],o[2]=e[r+2],o[3]=e[r+3],t[0]}function s(e,r){return o[3]=e[r],o[2]=e[r+1],o[1]=e[r+2],o[0]=e[r+3],t[0]}e.writeFloatLE=r?i:n,e.writeFloatBE=r?n:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,o,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,o,r);else if(isNaN(t))e(2143289344,o,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,o,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,o,r);else{var n=Math.floor(Math.log(t)/Math.LN2);e((i<<31|n+127<<23|8388607&Math.round(t*Math.pow(2,-n)*8388608))>>>0,o,r)}}function o(e,t,o){var r=e(t,o),i=2*(r>>31)+1,n=r>>>23&255,a=8388607&r;return 255===n?a?NaN:i*(1/0):0===n?1401298464324817e-60*i*a:i*Math.pow(2,n-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,n),e.readFloatLE=o.bind(null,a),e.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),o=new Uint8Array(t.buffer),r=128===o[7];function i(e,r,i){t[0]=e,r[i]=o[0],r[i+1]=o[1],r[i+2]=o[2],r[i+3]=o[3],r[i+4]=o[4],r[i+5]=o[5],r[i+6]=o[6],r[i+7]=o[7]}function n(e,r,i){t[0]=e,r[i]=o[7],r[i+1]=o[6],r[i+2]=o[5],r[i+3]=o[4],r[i+4]=o[3],r[i+5]=o[2],r[i+6]=o[1],r[i+7]=o[0]}function a(e,r){return o[0]=e[r],o[1]=e[r+1],o[2]=e[r+2],o[3]=e[r+3],o[4]=e[r+4],o[5]=e[r+5],o[6]=e[r+6],o[7]=e[r+7],t[0]}function s(e,r){return o[7]=e[r],o[6]=e[r+1],o[5]=e[r+2],o[4]=e[r+3],o[3]=e[r+4],o[2]=e[r+5],o[1]=e[r+6],o[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:n,e.writeDoubleBE=r?n:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,o,r,i,n){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,n+t),e(1/r>0?0:2147483648,i,n+o);else if(isNaN(r))e(0,i,n+t),e(2146959360,i,n+o);else if(r>17976931348623157e292)e(0,i,n+t),e((a<<31|2146435072)>>>0,i,n+o);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,n+t),e((a<<31|s/4294967296)>>>0,i,n+o);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=r*Math.pow(2,-c))>>>0,i,n+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,i,n+o)}}}function o(e,t,o,r,i){var n=e(r,i+t),a=e(r,i+o),s=2*(a>>31)+1,c=a>>>20&2047,u=4294967296*(1048575&a)+n;return 2047===c?u?NaN:s*(1/0):0===c?5e-324*s*u:s*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=o.bind(null,a,0,4),e.readDoubleBE=o.bind(null,s,4,0)}(),e}function i(e,t,o){t[o]=255&e,t[o+1]=e>>>8&255,t[o+2]=e>>>16&255,t[o+3]=e>>>24}function n(e,t,o){t[o]=e>>>24,t[o+1]=e>>>16&255,t[o+2]=e>>>8&255,t[o+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,o){"use strict";var r=t;r.length=function(e){for(var t=0,o=0,r=0;r<e.length;++r)(o=e.charCodeAt(r))<128?t+=1:o<2048?t+=2:55296==(64512&o)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,o){if(o-t<1)return"";for(var r,i=null,n=[],a=0;t<o;)(r=e[t++])<128?n[a++]=r:r>191&&r<224?n[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,n[a++]=55296+(r>>10),n[a++]=56320+(1023&r)):n[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,n)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,n.slice(0,a))),i.join("")):String.fromCharCode.apply(String,n.slice(0,a))},r.write=function(e,t,o){for(var r,i,n=o,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[o++]=r:r<2048?(t[o++]=r>>6|192,t[o++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[o++]=r>>18|240,t[o++]=r>>12&63|128,t[o++]=r>>6&63|128,t[o++]=63&r|128):(t[o++]=r>>12|224,t[o++]=r>>6&63|128,t[o++]=63&r|128);return o-n}},function(e,t,o){"use strict";e.exports=function(e,t,o){var r=o||8192,i=r>>>1,n=null,a=r;return function(o){if(o<1||o>i)return e(o);a+o>r&&(n=e(r),a=0);var s=t.call(n,a,a+=o);return 7&a&&(a=1+(7|a)),s}}},function(e,t,o){"use strict";e.exports=i;var r=o(147);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var n=i.zero=new i(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return n;var t=e<0;t&&(e=-e);var o=e>>>0,r=(e-o)/4294967296>>>0;return t&&(r=~r>>>0,o=~o>>>0,++o>4294967295&&(o=0,++r>4294967295&&(r=0))),new i(o,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):n},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,o=~this.hi>>>0;return t||(o=o+1>>>0),-(t+4294967296*o)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?n:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return 0===o?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:o<128?9:10}},function(e,t,o){"use strict";e.exports=n;var r=o(297);(n.prototype=Object.create(r.prototype)).constructor=n;var i=o(147);function n(){r.call(this)}function a(e,t,o){e.length<40?i.utf8.write(e,t,o):t.utf8Write?t.utf8Write(e,o):t.write(e,o)}n._configure=function(){n.alloc=i._Buffer_allocUnsafe,n.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,o){t.set(e,o)}:function(e,t,o){if(e.copy)e.copy(t,o,0,e.length);else for(var r=0;r<e.length;)t[o++]=e[r++]}},n.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(n.writeBytesBuffer,t,e),this},n.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},n._configure()},function(e,t,o){"use strict";e.exports=n;var r=o(298);(n.prototype=Object.create(r.prototype)).constructor=n;var i=o(147);function n(e){r.call(this,e)}n._configure=function(){i.Buffer&&(n.prototype._slice=i.Buffer.prototype.slice)},n.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},n._configure()},function(e,t,o){"use strict";t.Service=o(329)},function(e,t,o){"use strict";e.exports=i;var r=o(147);function i(e,t,o){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(o)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,o,i,n,a){if(!n)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,o,i,n);if(s.rpcImpl)try{return s.rpcImpl(t,o[s.requestDelimited?"encodeDelimited":"encode"](n).finish(),(function(e,o){if(e)return s.emit("error",e,t),a(e);if(null!==o){if(!(o instanceof i))try{o=i[s.responseDelimited?"decodeDelimited":"decode"](o)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",o,t),a(null,o)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,o){"use strict";e.exports={}},function(e,t){var o={utf8:{stringToBytes:function(e){return o.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(o.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],o=0;o<e.length;o++)t.push(255&e.charCodeAt(o));return t},bytesToString:function(e){for(var t=[],o=0;o<e.length;o++)t.push(String.fromCharCode(e[o]));return t.join("")}}};e.exports=o},,function(e,t,o){var r,i,n,a,s;r=o(341),i=o(331).utf8,n=o(342),a=o(331).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var o=r.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,d=-1732584194,h=271733878,p=0;p<o.length;p++)o[p]=16711935&(o[p]<<8|o[p]>>>24)|4278255360&(o[p]<<24|o[p]>>>8);o[c>>>5]|=128<<c%32,o[14+(c+64>>>9<<4)]=c;var f=s._ff,g=s._gg,m=s._hh,_=s._ii;for(p=0;p<o.length;p+=16){var y=u,v=l,b=d,w=h;u=f(u,l,d,h,o[p+0],7,-680876936),h=f(h,u,l,d,o[p+1],12,-389564586),d=f(d,h,u,l,o[p+2],17,606105819),l=f(l,d,h,u,o[p+3],22,-1044525330),u=f(u,l,d,h,o[p+4],7,-176418897),h=f(h,u,l,d,o[p+5],12,1200080426),d=f(d,h,u,l,o[p+6],17,-1473231341),l=f(l,d,h,u,o[p+7],22,-45705983),u=f(u,l,d,h,o[p+8],7,1770035416),h=f(h,u,l,d,o[p+9],12,-1958414417),d=f(d,h,u,l,o[p+10],17,-42063),l=f(l,d,h,u,o[p+11],22,-1990404162),u=f(u,l,d,h,o[p+12],7,1804603682),h=f(h,u,l,d,o[p+13],12,-40341101),d=f(d,h,u,l,o[p+14],17,-1502002290),u=g(u,l=f(l,d,h,u,o[p+15],22,1236535329),d,h,o[p+1],5,-165796510),h=g(h,u,l,d,o[p+6],9,-1069501632),d=g(d,h,u,l,o[p+11],14,643717713),l=g(l,d,h,u,o[p+0],20,-373897302),u=g(u,l,d,h,o[p+5],5,-701558691),h=g(h,u,l,d,o[p+10],9,38016083),d=g(d,h,u,l,o[p+15],14,-660478335),l=g(l,d,h,u,o[p+4],20,-405537848),u=g(u,l,d,h,o[p+9],5,568446438),h=g(h,u,l,d,o[p+14],9,-1019803690),d=g(d,h,u,l,o[p+3],14,-187363961),l=g(l,d,h,u,o[p+8],20,1163531501),u=g(u,l,d,h,o[p+13],5,-1444681467),h=g(h,u,l,d,o[p+2],9,-51403784),d=g(d,h,u,l,o[p+7],14,1735328473),u=m(u,l=g(l,d,h,u,o[p+12],20,-1926607734),d,h,o[p+5],4,-378558),h=m(h,u,l,d,o[p+8],11,-2022574463),d=m(d,h,u,l,o[p+11],16,1839030562),l=m(l,d,h,u,o[p+14],23,-35309556),u=m(u,l,d,h,o[p+1],4,-1530992060),h=m(h,u,l,d,o[p+4],11,1272893353),d=m(d,h,u,l,o[p+7],16,-155497632),l=m(l,d,h,u,o[p+10],23,-1094730640),u=m(u,l,d,h,o[p+13],4,681279174),h=m(h,u,l,d,o[p+0],11,-358537222),d=m(d,h,u,l,o[p+3],16,-722521979),l=m(l,d,h,u,o[p+6],23,76029189),u=m(u,l,d,h,o[p+9],4,-640364487),h=m(h,u,l,d,o[p+12],11,-421815835),d=m(d,h,u,l,o[p+15],16,530742520),u=_(u,l=m(l,d,h,u,o[p+2],23,-995338651),d,h,o[p+0],6,-198630844),h=_(h,u,l,d,o[p+7],10,1126891415),d=_(d,h,u,l,o[p+14],15,-1416354905),l=_(l,d,h,u,o[p+5],21,-57434055),u=_(u,l,d,h,o[p+12],6,1700485571),h=_(h,u,l,d,o[p+3],10,-1894986606),d=_(d,h,u,l,o[p+10],15,-1051523),l=_(l,d,h,u,o[p+1],21,-2054922799),u=_(u,l,d,h,o[p+8],6,1873313359),h=_(h,u,l,d,o[p+15],10,-30611744),d=_(d,h,u,l,o[p+6],15,-1560198380),l=_(l,d,h,u,o[p+13],21,1309151649),u=_(u,l,d,h,o[p+4],6,-145523070),h=_(h,u,l,d,o[p+11],10,-1120210379),d=_(d,h,u,l,o[p+2],15,718787259),l=_(l,d,h,u,o[p+9],21,-343485551),u=u+y>>>0,l=l+v>>>0,d=d+b>>>0,h=h+w>>>0}return r.endian([u,l,d,h])})._ff=function(e,t,o,r,i,n,a){var s=e+(t&o|~t&r)+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._gg=function(e,t,o,r,i,n,a){var s=e+(t&r|o&~r)+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._hh=function(e,t,o,r,i,n,a){var s=e+(t^o^r)+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._ii=function(e,t,o,r,i,n,a){var s=e+(o^(t|~r))+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var o=r.wordsToBytes(s(e,t));return t&&t.asBytes?o:t&&t.asString?a.bytesToString(o):r.bytesToHex(o)}},,,,,,,function(e,t,o){"use strict";var r=o(7),i=o(137).left,n=o(56),a=o(62),s=o(114);r({target:"Array",proto:!0,forced:!n("reduce")||!s&&a>79&&a<83},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t){var o,r;o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],o=0,r=0;o<e.length;o++,r+=8)t[r>>>5]|=e[o]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],o=0;o<32*e.length;o+=8)t.push(e[o>>>5]>>>24-o%32&255);return t},bytesToHex:function(e){for(var t=[],o=0;o<e.length;o++)t.push((e[o]>>>4).toString(16)),t.push((15&e[o]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],o=0;o<e.length;o+=2)t.push(parseInt(e.substr(o,2),16));return t},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],n=0;n<4;n++)8*r+6*n<=8*e.length?t.push(o.charAt(i>>>6*(3-n)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&t.push((o.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|o.indexOf(e.charAt(r))>>>6-2*i);return t}},e.exports=r},function(e,t){function o(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(o(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&o(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,o){"use strict";o.r(t),o.d(t,"ZegoSuperBoardManager",(function(){return k}));o(35),o(32),o(39),o(66),o(67),o(68),o(31),o(45),o(58),o(59),o(211),o(212),o(89),o(168),o(115),o(74),o(105),o(43),o(44),o(183),o(340);var r,i,n,a,s,c,u,l,d,h,p=o(301),f=o(300),g=o(302),m=o(2),_=o(4),y=o(33),v=o(1),b=(o(57),o(86),o(37),o(65),o(333)),w=o.n(b),S=o(5);!function(e){e[e.None=0]="None",e[e.Pen=1]="Pen",e[e.Text=2]="Text",e[e.Line=4]="Line",e[e.Rect=8]="Rect",e[e.Ellipse=16]="Ellipse",e[e.Selector=32]="Selector",e[e.Eraser=64]="Eraser",e[e.Laser=128]="Laser",e[e.Click=256]="Click",e[e.CustomImage=512]="CustomImage"}(r||(r={})),function(e){e[e.None=1]="None",e[e.Draw=2]="Draw",e[e.Scroll=4]="Scroll",e[e.Zoom=8]="Zoom"}(i||(i={})),function(e){e[e.Graphic=0]="Graphic",e[e.Custom=1]="Custom"}(n||(n={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Bottom=2]="Bottom",e[e.Top=3]="Top",e[e.Center=4]="Center"}(a||(a={})),function(e){e.DisableH5ImageDrag="disableH5ImageDrag",e.PptStepMode="pptStepMode",e.Domain="domain",e.ThumbnailMode="thumbnailMode"}(s||(s={})),function(e){e[e.Unknown=0]="Unknown",e[e.PPT=1]="PPT",e[e.DOC=2]="DOC",e[e.ELS=4]="ELS",e[e.PDF=8]="PDF",e[e.IMG=16]="IMG",e[e.TXT=32]="TXT",e[e.DynamicPPTH5=512]="DynamicPPTH5",e[e.CustomH5=4096]="CustomH5"}(c||(c={})),function(e){e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.WAITING=4]="WAITING",e[e.CONVERTING=8]="CONVERTING",e[e.CONVERTED=16]="CONVERTED",e[e.CONVERTFAIL=32]="CONVERTFAIL",e[e.CONVERTCANCEL=64]="CONVERTCANCEL"}(u||(u={})),function(e){e[e.Vector=1]="Vector",e[e.IMG=2]="IMG",e[e.VectorAndIMG=3]="VectorAndIMG",e[e.DynamicPPTH5=6]="DynamicPPTH5",e[e.CustomH5=7]="CustomH5"}(l||(l={})),function(e){e[e.ZegoSuperBoardSuccess=0]="ZegoSuperBoardSuccess",e[e.ZegoSuperBoardErrorInternal=3100001]="ZegoSuperBoardErrorInternal",e[e.ZegoSuperBoardErrorParamInvalid=3100002]="ZegoSuperBoardErrorParamInvalid",e[e.ZegoSuperBoardErrorNetworkTimeout=3100003]="ZegoSuperBoardErrorNetworkTimeout",e[e.ZegoSuperBoardErrorNetworkDisconnect=3100004]="ZegoSuperBoardErrorNetworkDisconnect",e[e.ZegoSuperBoardErrorResponse=3100005]="ZegoSuperBoardErrorResponse",e[e.ZegoSuperBoardErrorRequestTooFrequent=3100006]="ZegoSuperBoardErrorRequestTooFrequent",e[e.ZegoSuperBoardErrorVersionMismatch=3100007]="ZegoSuperBoardErrorVersionMismatch",e[e.ZegoSuperBoardErrorExpressImcompatible=3100008]="ZegoSuperBoardErrorExpressImcompatible",e[e.ZegoSuperBoardErrorNoLoginRoom=3110001]="ZegoSuperBoardErrorNoLoginRoom",e[e.ZegoSuperBoardErrorViewNotExist=3120001]="ZegoSuperBoardErrorViewNotExist",e[e.ZegoSuperBoardErrorViewCreateFail=3120002]="ZegoSuperBoardErrorViewCreateFail",e[e.ZegoSuperBoardErrorViewModifyFail=3120003]="ZegoSuperBoardErrorViewModifyFail",e[e.ZegoSuperBoardErrorViewNameLimit=3120004]="ZegoSuperBoardErrorViewNameLimit",e[e.ZegoSuperBoardErrorViewParentNotExist=3120005]="ZegoSuperBoardErrorViewParentNotExist",e[e.ZegoSuperBoardErrorViewNumLimit=3120006]="ZegoSuperBoardErrorViewNumLimit",e[e.ZegoSuperBoardErrorAnimationInfoLimit=3120007]="ZegoSuperBoardErrorAnimationInfoLimit",e[e.ZegoSuperBoardErrorGraphicNotExist=3130001]="ZegoSuperBoardErrorGraphicNotExist",e[e.ZegoSuperBoardErrorGraphicCreateFail=3130002]="ZegoSuperBoardErrorGraphicCreateFail",e[e.ZegoSuperBoardErrorGraphicModifyFail=3130003]="ZegoSuperBoardErrorGraphicModifyFail",e[e.ZegoSuperBoardErrorGraphicUnableDraw=3130004]="ZegoSuperBoardErrorGraphicUnableDraw",e[e.ZegoSuperBoardErrorGraphicDataLimit=3130005]="ZegoSuperBoardErrorGraphicDataLimit",e[e.ZegoSuperBoardErrorGraphicNumLimit=3130006]="ZegoSuperBoardErrorGraphicNumLimit",e[e.ZegoSuperBoardErrorGraphicTextLimit=3130007]="ZegoSuperBoardErrorGraphicTextLimit",e[e.ZegoSuperBoardErrorGraphicImageSizeLimit=3130008]="ZegoSuperBoardErrorGraphicImageSizeLimit",e[e.ZegoSuperBoardErrorGraphicImageTypeNotSupport=3130009]="ZegoSuperBoardErrorGraphicImageTypeNotSupport",e[e.ZegoSuperBoardErrorGraphicIllegalAddress=3130010]="ZegoSuperBoardErrorGraphicIllegalAddress",e[e.ZegoSuperBoardErrorInitFail=3140001]="ZegoSuperBoardErrorInitFail",e[e.ZegoSuperBoardErrorGetListFail=3140002]="ZegoSuperBoardErrorGetListFail",e[e.ZegoSuperBoardErrorCreateFail=3140003]="ZegoSuperBoardErrorCreateFail",e[e.ZegoSuperBoardErrorDestroyFail=3140004]="ZegoSuperBoardErrorDestroyFail",e[e.ZegoSuperBoardErrorAttachFail=3140005]="ZegoSuperBoardErrorAttachFail",e[e.ZegoSuperBoardErrorClearFail=3140006]="ZegoSuperBoardErrorClearFail",e[e.ZegoSuperBoardErrorScrollFail=3140007]="ZegoSuperBoardErrorScrollFail",e[e.ZegoSuperBoardErrorUndoFail=3140008]="ZegoSuperBoardErrorUndoFail",e[e.ZegoSuperBoardErrorRedoFail=3140009]="ZegoSuperBoardErrorRedoFail",e[e.ZegoSuperBoardErrorLogFolderNotAccess=3140010]="ZegoSuperBoardErrorLogFolderNotAccess",e[e.ZegoSuperBoardErrorCacheFolderNotAccess=3140011]="ZegoSuperBoardErrorCacheFolderNotAccess",e[e.ZegoSuperBoardErrorSwitchFail=3140012]="ZegoSuperBoardErrorSwitchFail",e[e.ZegoSuperBoardErrorNoAuthScale=3150001]="ZegoSuperBoardErrorNoAuthScale",e[e.ZegoSuperBoardErrorNoAuthScroll=3150002]="ZegoSuperBoardErrorNoAuthScroll",e[e.ZegoSuperBoardErrorNoAuthCreateGraphic=3150003]="ZegoSuperBoardErrorNoAuthCreateGraphic",e[e.ZegoSuperBoardErrorNoAuthUpdateGraphic=3150004]="ZegoSuperBoardErrorNoAuthUpdateGraphic",e[e.ZegoSuperBoardErrorNoAuthMoveGraphic=3150005]="ZegoSuperBoardErrorNoAuthMoveGraphic",e[e.ZegoSuperBoardErrorNoAuthDeleteGraphic=3150006]="ZegoSuperBoardErrorNoAuthDeleteGraphic",e[e.ZegoSuperBoardErrorNoAuthClearGraphic=3150007]="ZegoSuperBoardErrorNoAuthClearGraphic",e[e.ZegoSuperBoardErrorFileNotExist=3111001]="ZegoSuperBoardErrorFileNotExist",e[e.ZegoSuperBoardErrorUploadFailed=3111002]="ZegoSuperBoardErrorUploadFailed",e[e.ZegoSuperBoardErrorUnsupportRenderType=3111003]="ZegoSuperBoardErrorUnsupportRenderType",e[e.ZegoSuperBoardErrorFileEncrypt=3121001]="ZegoSuperBoardErrorFileEncrypt",e[e.ZegoSuperBoardErrorFileSizeLimit=3121002]="ZegoSuperBoardErrorFileSizeLimit",e[e.ZegoSuperBoardErrorFileSheetLimit=3121003]="ZegoSuperBoardErrorFileSheetLimit",e[e.ZegoSuperBoardErrorConvertFail=3121004]="ZegoSuperBoardErrorConvertFail",e[e.ZegoSuperBoardErrorFreeSpaceLimit=3131005]="ZegoSuperBoardErrorFreeSpaceLimit",e[e.ZegoSuperBoardErrorUploadNotSupported=3131006]="ZegoSuperBoardErrorUploadNotSupported",e[e.ZegoSuperBoardErrorUploadDuplicated=3131007]="ZegoSuperBoardErrorUploadDuplicated",e[e.ZegoSuperBoardErrorEmptyDomain=3131008]="ZegoSuperBoardErrorEmptyDomain",e[e.ZegoSuperBoardErrorDuplicateInit=3131009]="ZegoSuperBoardErrorDuplicateInit",e[e.ZegoSuperBoardErrorServerFileNotExist=3131010]="ZegoSuperBoardErrorServerFileNotExist",e[e.ZegoSuperBoardErrorDocLogFolderNotAccess=3131011]="ZegoSuperBoardErrorDocLogFolderNotAccess",e[e.ZegoSuperBoardErrorDocCacheFolderNotAccess=3131012]="ZegoSuperBoardErrorDocCacheFolderNotAccess",e[e.ZegoSuperBoardErrorDocDataFolderNotAccess=3131013]="ZegoSuperBoardErrorDocDataFolderNotAccess",e[e.ZegoSuperBoardErrorCacheNotSupported=3131014]="ZegoSuperBoardErrorCacheNotSupported",e[e.ZegoSuperBoardErrorCacheFailed=3131015]="ZegoSuperBoardErrorCacheFailed",e[e.ZegoSuperBoardErrorZipFileInvalid=3131016]="ZegoSuperBoardErrorZipFileInvalid",e[e.ZegoSuperBoardErrorH5FileInvalid=3131017]="ZegoSuperBoardErrorH5FileInvalid",e[e.ZegoSuperBoardErrorConvertCancel=3121005]="ZegoSuperBoardErrorConvertCancel",e[e.ZegoSuperBoardErrorFileContentEmpty=3121006]="ZegoSuperBoardErrorFileContentEmpty",e[e.ZegoSuperBoardErrorConvertElementNotSupported=3121008]="ZegoSuperBoardErrorConvertElementNotSupported",e[e.ZegoSuperBoardErrorConvertFileTypeInvalid=3121009]="ZegoSuperBoardErrorConvertFileTypeInvalid",e[e.ZegoSuperBoardErrorAuthParamInvalid=3131001]="ZegoSuperBoardErrorAuthParamInvalid",e[e.ZegoSuperBoardErrorFilePathNotAccess=3131002]="ZegoSuperBoardErrorFilePathNotAccess",e[e.ZegoSuperBoardErrorInitFailed=3131003]="ZegoSuperBoardErrorInitFailed",e[e.ZegoSuperBoardErrorFileReadOnly=3121007]="ZegoSuperBoardErrorFileReadOnly",e[e.ZegoSuperBoardErrorSizeInvalid=3131004]="ZegoSuperBoardErrorSizeInvalid"}(d||(d={}));var I=((h={})[d.ZegoSuperBoardErrorInternal]="内部错误",h[d.ZegoSuperBoardErrorParamInvalid]="参数错误",h[d.ZegoSuperBoardErrorNetworkTimeout]="网络超时",h[d.ZegoSuperBoardErrorNetworkDisconnect]="网络断开",h[d.ZegoSuperBoardErrorResponse]="网络回包错误",h[d.ZegoSuperBoardErrorRequestTooFrequent]="请求过于频繁",h[d.ZegoSuperBoardErrorNoLoginRoom]="未登录房间",h[d.ZegoSuperBoardErrorViewNotExist]="用户不存在",h[d.ZegoSuperBoardErrorViewNotExist]="白板view不存在",h[d.ZegoSuperBoardErrorViewCreateFail]="创建白板view失败",h[d.ZegoSuperBoardErrorViewModifyFail]="修改白板view失败",h[d.ZegoSuperBoardErrorViewNameLimit]="白板view名称或者content过长",h[d.ZegoSuperBoardErrorViewParentNotExist]="白板view的parent不存在",h[d.ZegoSuperBoardErrorViewNumLimit]="超过白板最大数量限制",h[d.ZegoSuperBoardErrorGraphicNotExist]="图元不存在",h[d.ZegoSuperBoardErrorGraphicCreateFail]="创建图元错误",h[d.ZegoSuperBoardErrorGraphicModifyFail]="修改图元错误",h[d.ZegoSuperBoardErrorGraphicUnableDraw]="未开启绘制",h[d.ZegoSuperBoardErrorGraphicDataLimit]="图元数据大小超过限制",h[d.ZegoSuperBoardErrorGraphicNumLimit]="超过图元最大数量限制",h[d.ZegoSuperBoardErrorGraphicTextLimit]="文本字数超过上限",h[d.ZegoSuperBoardErrorGraphicImageSizeLimit]="图片图元大小超限制",h[d.ZegoSuperBoardErrorGraphicImageTypeNotSupport]="不支持的图片类型",h[d.ZegoSuperBoardErrorGraphicIllegalAddress]="无效图片地址",h[d.ZegoSuperBoardErrorInitFail]="初始化失败",h[d.ZegoSuperBoardErrorGetListFail]="拉取白板view列表失败",h[d.ZegoSuperBoardErrorCreateFail]="创建白板view失败",h[d.ZegoSuperBoardErrorDestroyFail]="销毁白板view失败",h[d.ZegoSuperBoardErrorAttachFail]="attach白板view失败",h[d.ZegoSuperBoardErrorClearFail]="清空白板view失败",h[d.ZegoSuperBoardErrorScrollFail]="滚动白板view失败",h[d.ZegoSuperBoardErrorUndoFail]="撤销操作失败",h[d.ZegoSuperBoardErrorRedoFail]="重做操作失败",h[d.ZegoSuperBoardErrorLogFolderNotAccess]="日志目录无法创建或写入",h[d.ZegoSuperBoardErrorCacheFolderNotAccess]="缓目录径无法创建或写入",h[d.ZegoSuperBoardErrorNoAuthScale]="无白板缩放权限",h[d.ZegoSuperBoardErrorNoAuthScroll]="无白板滚动权限",h[d.ZegoSuperBoardErrorNoAuthCreateGraphic]="无图元创建权限",h[d.ZegoSuperBoardErrorNoAuthUpdateGraphic]="无图元编辑权限",h[d.ZegoSuperBoardErrorNoAuthMoveGraphic]="无图元移动权限",h[d.ZegoSuperBoardErrorNoAuthDeleteGraphic]="无图元删除权限",h[d.ZegoSuperBoardErrorNoAuthClearGraphic]="无白板清空权限",h),x=function(){return w()("webSuperboard"+((new Date).getTime()+Math.round(1e3*Math.random())))},E=function(){return Object(S.d)()},P=function(e,t){var o;if(String(e).startsWith("20"))o=Number(String(e).replace("20","31"));else if(String(e).startsWith("30"))o=Number(String(e).replace("30","31"));else switch(e){case 10001:o=3112001;break;case 10002:o=3112002;break;case 10003:o=3112003;break;case 10006:o=3112006}return{code:o,message:t=I[o]||t||I[d.ZegoSuperBoardErrorInternal]}},T=function(e){if(new Blob([e]).size<=128)return e;for(var t=e.length/2|0,o=t,r=t+1;o>0&&r<e.length;){var i=e.substr(0,o)+"..."+e.substr(r);if(new Blob([i]).size<=128)return i;o--,r++}return e},D=function(){function e(){if(this.parentDomID="",this.isUseBoardView=!0,this.curSubView=null,e.instance)return e.instance;e.instance=this}return e.getInstance=function(){return this.instance||(this.instance=new e)},e.prototype.setParentDomID=function(e){return this.parentDomID=e,this},e.prototype.getParentDomID=function(){return this.parentDomID},e.prototype.enableUseBoardView=function(e){this.isUseBoardView=e},e.prototype.setCurrentSuperBoardSubView=function(e,t){return this.isUseBoardView?(this.curSubView=e,this.curSubView&&this.curSubView.switchWhiteboardView(t)):this.curSubView=null,this},e.prototype.getCurrentSuperBoardSubView=function(){return this.curSubView},e.prototype.switchSuperBoardSubView=function(e,t){return new Promise((function(o,r){_.e.emit(_.d.SyncSwitchMod,e,t,o,r)}))},e}(),O=(o(232),function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}),M=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},A=function(){function e(e,t){this.curDocsView=null,this.whiteboardViews=e,this.docsViews=t;var o=e.findIndex((function(e){return!!e}));this.switchWhiteboardView(o);var r=this.curWhiteboardView.getFileInfo();this.model=Object.freeze({uniqueID:this.curWhiteboardView.getUniqueID(),name:this.curWhiteboardView.getName(),createTime:this.curWhiteboardView.getCreateTime(),fileID:r?r.fileID:"",fileType:r?r.fileType:0})}return e.prototype.getWhiteboardViewList=function(){return this.whiteboardViews},e.prototype.getCurrentWhiteboardView=function(){return this.curWhiteboardView},e.prototype.findWhiteboardView=function(e){return this.whiteboardViews[e]||this.whiteboardViews[0]},e.prototype.switchWhiteboardView=function(e){this.curWhiteboardView=this.whiteboardViews[e],this.curDocsView=this.docsViews[e]},e.prototype.insertView=function(e,t,o){this.whiteboardViews[e]=t,this.docsViews[e]=o},e.prototype.getModel=function(){return this.model},e.prototype.getPageCount=function(){return this.curWhiteboardView.getPageCount()},e.prototype.getCurrentPage=function(){return this.curWhiteboardView.getCurrentPage()},e.prototype.getCurrentStep=function(){return this.curDocsView?this.curDocsView.getCurrentStep():1},e.prototype.getVisibleSize=function(){return this.curWhiteboardView.getVisibleSize()},e.prototype.flipToPage=function(e){var t=(e-1)/this.getPageCount();return this.model.fileID?this.curWhiteboardView.scroll(0,t):this.curWhiteboardView.scroll(t,0)},e.prototype.flipToPrePage=function(){var e=this.getCurrentPage();return e>1&&this.flipToPage(e-1)},e.prototype.flipToNextPage=function(){var e=this.getCurrentPage();return e<this.getPageCount()&&this.flipToPage(e+1)},e.prototype.preStep=function(){this.curDocsView&&this.curDocsView.previousStep()},e.prototype.nextStep=function(){this.curDocsView&&this.curDocsView.nextStep()},e.prototype.addText=function(e,t,o){this.curWhiteboardView.addText(e,t,o)},e.prototype.addImage=function(e,t,o,r,i){var n=this;return new Promise((function(a,s){return O(n,void 0,void 0,(function(){var n,c,u;return M(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.curWhiteboardView.addImage(e,t,o,r,i)];case 1:return n=l.sent(),a(n),[3,3];case 2:return c=l.sent(),u=P(c.code,c.msg),s(u),[3,3];case 3:return[2]}}))}))}))},e.prototype.setBackgroundImage=function(e,t,o){var r=this;return new Promise((function(i,n){return O(r,void 0,void 0,(function(){var r,a,s;return M(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.curWhiteboardView.setBackgroundImage(e,t,o)];case 1:return r=c.sent(),i(r),[3,3];case 2:return a=c.sent(),s=P(a.code,a.msg),n(s),[3,3];case 3:return[2]}}))}))}))},e.prototype.clearBackgroundImage=function(){this.curWhiteboardView.clearBackgroundImage()},e.prototype.clearAllPage=function(){this.curWhiteboardView.clear()},e.prototype.clearCurrentPage=function(){this.curWhiteboardView.clearCurrentPage()},e.prototype.clearSelected=function(){this.curWhiteboardView.deleteSelectedGraphics()},e.prototype.undo=function(){this.curWhiteboardView.undo()},e.prototype.redo=function(){this.curWhiteboardView.redo()},e.prototype.setScaleFactor=function(e,t,o){this.curWhiteboardView.setScaleFactor(e,t,o)},e.prototype.getScaleFactor=function(){return this.curWhiteboardView.getScaleFactor()},e.prototype.setOperationMode=function(e){this.curWhiteboardView.setWhiteboardOperationMode(e)},e.prototype.snapshot=function(e){var t=this;return new Promise((function(o,r){return O(t,void 0,void 0,(function(){var t,i;return M(this,(function(n){try{t=this.curWhiteboardView.snapshot(e),o(t)}catch(e){i=P(e.code,e.msg),r(i)}return[2]}))}))}))},e.prototype.reloadView=function(){this.curWhiteboardView.reloadView()},e.prototype.getCurrentSheetName=function(){return this.model.fileID&&this.model.fileType===c.ELS?this.curWhiteboardView.getFileInfo().fileName:""},e.prototype.getExcelSheetNameList=function(){return this.curDocsView?this.curDocsView.getExcelSheetNameList():[]},e.prototype.getThumbnailUrlList=function(){return this.curDocsView?this.curDocsView.getThumbnailUrlList():[]},e.prototype.getPPTNotes=function(e){return this.curDocsView?this.curDocsView.getPPTNotes(e):""},e.prototype.stopPlayPPTVideo=function(e){this.curDocsView&&this.curDocsView.stopPlay(e)},e}(),C=function(){return(C=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},L=function(e,t,o,r){return new(o||(o=Promise))((function(i,n){function a(e){try{c(r.next(e))}catch(e){n(e)}}function s(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},B=function(e,t){var o,r,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(i=2&n[0]?r.return:n[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,n[1])).done)return i;switch(r=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],r=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},N=m.b.bind(null,"sb.m."),V=function(){function e(){this.subViews=[],this.isUseBoardView=!0,this.isLoginAttached=!1,this.viewAddTaskList=[],this.viewAddTaskIndex=0,this.viewAddTaskPending=!1,this.createIsLimit=!1}return e.prototype.init=function(e,t){e&&e.getVersion&&t&&t.parentDomID&&t.appID&&t.token||Promise.reject(new Error("参数错误，初始化失败"));var o=C({userID:"",isTestEnv:!1},t),r=e.getVersion()<"2.0"?e.zegoWebRTC:e.zegoWebRTM;return this.zegoDocsService=new g.a(o),this.zegoWhiteboard=new p.a(new f.a(r)),this.getSuperBoardView().setParentDomID(t.parentDomID),this.bindRoomStateUpdate(),this.bindEvents(),Promise.resolve(!0)},e.prototype.bindRoomStateUpdate=function(){var e=this;_.e.on(_.c.RoomDisConnected,(function(){e.subViews=[],e.getSuperBoardView().setCurrentSuperBoardSubView(null,0),_.e.removeAllListeners()}))},e.prototype.bindEvents=function(){var e=this;_.e.on(_.d.SyncSwitchMod,(function(t,o,r,i){e.viewAddTaskHandle({name:"SyncSwitchMod",fn:function(){return L(e,void 0,void 0,(function(){return B(this,(function(e){switch(e.label){case 0:return[4,this.onSyncSwitchViewEvent(t,o,r,i)];case 1:return e.sent(),[2]}}))}))}})})),_.e.on(_.d.RemoteSwitchMod,(function(t,o){if(e.viewAddTaskList.length){e.viewAddTaskHandle({name:"RemoteSwitchMod",fn:function(){return L(e,void 0,void 0,(function(){return B(this,(function(e){switch(e.label){case 0:return[4,this.onRemoteSwitchViewEvent(t,o)];case 1:return e.sent(),[2]}}))}))}})}else e.onRemoteSwitchViewEvent(t,o)})),_.e.on(_.d.RemoteModAdd,(function(t){if(e.isLoginAttached){e.viewAddTaskHandle({name:"RemoteModAdd",fn:function(){return L(e,void 0,void 0,(function(){return B(this,(function(e){switch(e.label){case 0:return[4,this.onRemoteModAddEvent(t)];case 1:return e.sent(),[2]}}))}))}})}})),_.e.on(_.d.RemoteModRemoved,(function(t,o){e.viewAddTaskHandle({name:"RemoteModRemoved",fn:function(){e.onRemoteModRemovedEvent(t,o)}})}))},e.prototype.viewAddTaskHandle=function(e){return L(this,void 0,void 0,(function(){return B(this,(function(t){switch(t.label){case 0:if(this.viewAddTaskList.push(e),this.viewAddTaskPending&&this.viewAddTaskList.length)return[2];t.label=1;case 1:return this.viewAddTaskIndex<=this.viewAddTaskList.length?(this.viewAddTaskPending=!0,this.viewAddTaskList[this.viewAddTaskIndex]?[4,this.viewAddTaskList[this.viewAddTaskIndex].fn()]:[3,3]):[3,5];case 2:t.sent(),t.label=3;case 3:this.viewAddTaskIndex++,t.label=4;case 4:return[3,1];case 5:return this.viewAddTaskList.length=0,this.viewAddTaskIndex=0,this.viewAddTaskPending=!1,[2]}}))}))},e.prototype.setCustomizedConfig=function(e,t){return m.a.info(N("setCustomizedConfig"),JSON.stringify({key:e,value:t})),this.zegoDocsService.setConfig(e,t)},e.prototype.getCustomizedConfig=function(e){return this.zegoDocsService.getConfig(e)},e.prototype.on=function(e,t){var o;return"error"==e&&t&&(o=function(e){var o=String(e.code);o.startsWith("10")||(o.startsWith("31")||(e=P(e.code,e.msg)),t(e))}),_.e.on(e,o||t)},e.prototype.off=function(e,t){return _.e.off(e,t)},e.prototype.getSDKVersion=function(){return"2.0.0"},e.prototype.getSuperBoardView=function(){var e=D.getInstance();return e.enableUseBoardView(this.isUseBoardView),e},e.prototype.enableSuperBoardView=function(e){this.isUseBoardView=e},e.prototype.getSuperBoardSubView=function(e){return this.isUseBoardView?null:this.subViews.find((function(t){return t.getModel().uniqueID===e}))||null},e.prototype.attachSuperBoardSubView=function(e,t){var o=this;if(this.isUseBoardView)return Promise.reject(new Error("仅限于不使用 ZegoSuperBoardView 的场景"));var r=e;if(!r||!r.getCurrentWhiteboardView())return Promise.reject(new Error("白板不存在"));var i=r.getCurrentWhiteboardView(),n=i.getRootDomID();if(n&&n!==t)return Promise.reject(new Error("不允许挂载到多个容器"));var a=r.getModel().fileID;return a?new Promise((function(e,r){var n,s=null===(n=i.getFileInfo())||void 0===n?void 0:n.fileName,c=o.zegoDocsService.createView(i.getID(),s);o.zegoDocsService.setDocsViewParent(c,t),c.loadFile(a,"",(function(t){o.zegoWhiteboard.attachView(i,t.viewID).then(e,r)})).catch(r)})):this.zegoWhiteboard.attachView(i,t)},e.prototype.createWhiteboardView=function(e){return L(this,void 0,void 0,(function(){var t,o,r,i;return B(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),e.perPageWidth|=0,e.perPageHeight|=0,e.pageCount|=0,t={uniqueID:x(),name:T(e.name),aspectWidth:e.perPageWidth*e.pageCount,aspectHeight:e.perPageHeight,pageCount:e.pageCount},m.a.info(N("createWhiteboardView"),JSON.stringify({model:t})),[4,this.zegoWhiteboard.createView(t)];case 1:return o=n.sent(),r=new A([o],[]),this.isUseBoardView?[4,this.zegoWhiteboard.attachView(o,this.getSuperBoardView().getParentDomID())]:[3,3];case 2:n.sent(),this.zegoWhiteboard.switchView(o.getID()),this.getSuperBoardView().setCurrentSuperBoardSubView(r,0),n.label=3;case 3:return this.subViews.push(r),[2,r.getModel()];case 4:throw i=n.sent(),P(i.code,i.msg);case 5:return[2]}}))}))},e.prototype.createFileView=function(e){var t=this;return new Promise((function(o,r){var i=e.fileID,n=t.getSuperBoardView().getParentDomID(),a=x(),s=E(),c=t.zegoDocsService.createView(s),u=function(e){return L(t,void 0,void 0,(function(){var t,u,l,h,p,f,g,m,_,y,b,w;return B(this,(function(S){switch(S.label){case 0:if(e.fileType!==v.c.ZegoDocsViewFileTypeELS)return[3,12];S.label=1;case 1:S.trys.push([1,10,,11]),t=e.sheets,u=[],l=[],S.label=2;case 2:S.trys.push([2,7,,8]),h=t.length-1,S.label=3;case 3:return h>0?[4,this.createExcelRestFileView(n,a,i,t[h])]:[3,6];case 4:p=S.sent(),f=p[0],g=p[1],u.push(f),l.push(g),S.label=5;case 5:return h--,[3,3];case 6:return[3,8];case 7:return m=S.sent(),(m=P(m.code,m.msg)).code==d.ZegoSuperBoardErrorViewNumLimit&&(c.unloadFile(),this.isUseBoardView&&this.findZorderSubView(void 0)),r(m),[2];case 8:return[4,this.createAndAttachFileView(a,s,e)];case 9:return y=S.sent(),u.push(y),l.push(c),u.reverse(),l.reverse(),b=new A(u,l),this.subViews.push(b),this.isUseBoardView&&(this.getSuperBoardView().setCurrentSuperBoardSubView(b,0),this.zegoWhiteboard.switchView(s)),o(b.getModel()),[3,11];case 10:return _=S.sent(),_=P(_.code,_.msg),r(_),[3,11];case 11:return[3,15];case 12:return S.trys.push([12,14,,15]),[4,this.createAndAttachFileView(a,s,e)];case 13:return y=S.sent(),b=new A([y],[c]),this.subViews.push(b),this.isUseBoardView&&(this.getSuperBoardView().setCurrentSuperBoardSubView(b,0),this.zegoWhiteboard.switchView(s)),o(b.getModel()),[3,15];case 14:return w=S.sent(),(w=P(w.code,w.msg)).code==d.ZegoSuperBoardErrorViewNumLimit&&(c.unloadFile(),this.isUseBoardView&&this.findZorderSubView(void 0)),r(w),[3,15];case 15:return[2]}}))}))};t.isUseBoardView?(t.zegoDocsService.setDocsViewParent(c,n),c.loadFile(i,"",u).catch((function(e){r(P(e.code,e.msg))}))):t.zegoDocsService.getDocsViewFileInfo(c,i).then(u).catch((function(e){r(P(e.code,e.msg))}))}))},e.prototype.destroySuperBoardSubView=function(e){var t,o=this;m.a.info(N("destroySuperBoardSubView"),JSON.stringify({uniqueID:e}));var r=this.subViews.findIndex((function(t){return t.getModel().uniqueID==e}));if(-1!=r){var i=null===(t=this.getSuperBoardView().getCurrentSuperBoardSubView())||void 0===t?void 0:t.getModel().uniqueID,n=this.subViews.splice(r,1)[0].getWhiteboardViewList().map((function(e){return o.zegoWhiteboard.destroyView(e)}));return Promise.all(n).then((function(){return L(o,void 0,void 0,(function(){return B(this,(function(e){switch(e.label){case 0:return[4,this.findZorderSubView(i)];case 1:return e.sent(),[2]}}))}))})).catch((function(e){}))}return Promise.reject(new Error("白板不存在"))},e.prototype.findZorderSubView=function(e){return L(this,void 0,void 0,(function(){var t,o,r,i,n;return B(this,(function(a){switch(a.label){case 0:return this.isUseBoardView?0===this.subViews.length?[3,2]:(t=this.zegoWhiteboard.getCurrentActivitedView(),o=t[0],r=t[1],(i=this.subViews.find((function(e){return e.getModel().uniqueID==o})))&&e!==o?(n=i.getWhiteboardViewList().findIndex((function(e){return e.getID()==r})),[4,this.onSyncSwitchViewEvent(o,n)]):[2]):[2];case 1:return a.sent(),[3,3];case 2:this.getSuperBoardView().setCurrentSuperBoardSubView(null,0),a.label=3;case 3:return[2]}}))}))},e.prototype.querySuperBoardSubViewModelList=function(){return L(this,void 0,void 0,(function(){var e,t,o,r,i,n,a,s,c,u,l;return B(this,(function(d){switch(d.label){case 0:return this.subViews.length?[2,Promise.resolve(this.subViews.map((function(e){return e.getModel()})))]:[4,this.zegoWhiteboard.getViewList()];case 1:e=d.sent(),t={},e.forEach((function(e){var o=e,r=o.getUniqueID();t[r]?t[r].push(o):t[r]=[o]})),o=Object.keys(t),r=function(e){var r,n,a,s;return B(this,(function(c){switch(c.label){case 0:return r=o[e],i.subViews.find((function(e){return e.getModel().uniqueID===r}))?[3,2]:(n=t[r],[4,i.generateDocsViews(n,null===(c=n[0].getFileInfo())||void 0===c?void 0:c.fileID)]);case 1:a=c.sent(),s=new A(n,a),i.subViews.push(s),c.label=2;case 2:return[2]}}))},i=this,n=0,d.label=2;case 2:return n<o.length?[5,r(n)]:[3,5];case 3:d.sent(),d.label=4;case 4:return n++,[3,2];case 5:return a=this.zegoWhiteboard.getCurrentActivitedView(),s=a[0],c=a[1],(u=this.subViews.find((function(e){return e.getModel().uniqueID==s})))?(l=u.getWhiteboardViewList().findIndex((function(e){return e.getID()==c})),this.getSuperBoardView().setCurrentSuperBoardSubView(u,l)):this.getSuperBoardView().setCurrentSuperBoardSubView(null,0),this.isLoginAttached=!0,[2,Promise.resolve(this.subViews.map((function(e){return e.getModel()})))]}}))}))},e.prototype.clearCache=function(){return this.zegoWhiteboard.clear()},e.prototype.setDeferredRenderingTime=function(e){m.a.info(N("setDeferredRenderingTime"),JSON.stringify({delay:e})),this.zegoWhiteboard.setDeferredRenderingTime(e)},e.prototype.enableSyncScale=function(e){m.a.info(N("enableSyncScale"),JSON.stringify({enable:e})),this.zegoWhiteboard.enableSyncScale(e)},e.prototype.enableResponseScale=function(e){m.a.info(N("enableResponseScale"),JSON.stringify({enable:e})),this.zegoWhiteboard.enableResponseScale(e)},e.prototype.enableHandwriting=function(e){m.a.info(N("enableHandwriting"),JSON.stringify({enable:e})),this.zegoWhiteboard.enableHandwriting(e)},e.prototype.setToolType=function(e){var t=Object(y.o)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setToolType(e)})),t},e.prototype.getToolType=function(){return Object(y.e)()},e.prototype.setFontBold=function(e){return Object(y.l)(e)},e.prototype.isFontBold=function(){return Object(y.f)()},e.prototype.setFontItalic=function(e){return Object(y.m)(e)},e.prototype.isFontItalic=function(){return Object(y.g)()},e.prototype.setFontSize=function(e){var t=Object(y.n)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setFontSize(e)})),t},e.prototype.getFontSize=function(){return Object(y.d)()},e.prototype.setBrushSize=function(e){var t=Object(y.k)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setBrushSize(e)})),t},e.prototype.getBrushSize=function(){return Object(y.c)()},e.prototype.setBrushColor=function(e){return Object(y.j)(e)},e.prototype.getBrushColor=function(){return Object(y.b)()},e.prototype.setWhiteboardBackgroundColor=function(e){var t=Object(y.i)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setBackgroundColor(e)})),t},e.prototype.isHandwritingEnabled=function(){return Object(y.h)()},e.prototype.getWhiteboardBackgroundColor=function(){return Object(y.a)()},e.prototype.uploadFile=function(e,t,o){var r=this;return new Promise((function(i,n){return L(r,void 0,void 0,(function(){var r,a;return B(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.zegoDocsService.uploadFile(e,t,{},o)];case 1:return r=s.sent(),i(r),[3,3];case 2:return a=s.sent(),n(P(a.code,a.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.cancelUploadFile=function(e){var t=this;return new Promise((function(o,r){return L(t,void 0,void 0,(function(){var t,i;return B(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.zegoDocsService.cancelUploadFile(e)];case 1:return t=n.sent(),o(t),[3,3];case 2:return i=n.sent(),r(P(i.code,i.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.uploadH5File=function(e,t,o){var r=this;return new Promise((function(i,n){return L(r,void 0,void 0,(function(){var r,a;return B(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.zegoDocsService.uploadH5File(e,t,o)];case 1:return r=s.sent(),i(r),[3,3];case 2:return a=s.sent(),n(P(a.code,a.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.cacheFile=function(e){var t=this;return new Promise((function(o,r){return L(t,void 0,void 0,(function(){var t,i;return B(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.zegoDocsService.cacheFile(e)];case 1:return t=n.sent(),o(t),[3,3];case 2:return i=n.sent(),r(P(i.code,i.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.createAndAttachFileView=function(e,t,o){return L(this,void 0,void 0,(function(){var r,i;return B(this,(function(n){switch(n.label){case 0:return r={uniqueID:e,name:T(o.name||o.fileName),aspectWidth:o.width,aspectHeight:o.height,pageCount:o.pageCount,fileInfo:{fileID:o.fileID,fileName:o.fileName,fileType:o.fileType}},m.a.info(N("createAndAttachFileView"),JSON.stringify({model:r,whiteboardID:t})),[4,this.zegoWhiteboard.createView(r,t)];case 1:return i=n.sent(),this.isUseBoardView?[4,this.zegoWhiteboard.attachView(i,o.viewID)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2,i]}}))}))},e.prototype.createExcelRestFileView=function(e,t,o,r){var i=this;return new Promise((function(n,a){var s=E(),c=i.zegoDocsService.createView(s,r);i.isUseBoardView&&i.zegoDocsService.setDocsViewParent(c,e),i.zegoDocsService.getDocsViewFileInfo(c,o).then((function(e){return L(i,void 0,void 0,(function(){var o,i,u;return B(this,(function(l){switch(l.label){case 0:o={uniqueID:t,name:T(e.name),aspectWidth:e.width,aspectHeight:e.height,pageCount:e.pageCount,fileInfo:{fileID:e.fileID,fileName:r,fileType:e.fileType}},m.a.info(N("createExcelRestFileView"),JSON.stringify({model:o,whiteboardID:s})),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.zegoWhiteboard.createView(o,s)];case 2:return i=l.sent(),n([i,c]),[3,4];case 3:return u=l.sent(),a(P(u.code,u.msg)),[3,4];case 4:return[2]}}))}))}))}))},e.prototype.stopVideo=function(){var e=this.getSuperBoardView().getCurrentSuperBoardSubView();e&&((e.getModel().fileID&&e.getModel().fileType===c.CustomH5||e.getModel().fileType===c.DynamicPPTH5)&&e.stopPlayPPTVideo(0))},e.prototype.generateDocsViews=function(e,t){var o=this;if(t){var r=e.map((function(e,r){var i=o.zegoDocsService.createView(e.getID(),r);return o.zegoDocsService.getDocsViewFileInfo(i,t).then((function(){return i}))}));return Promise.all(r)}return Promise.resolve([])},e.prototype.emitRemoteSubViewAddEvent=function(e,t,o){var r=this.subViews.find((function(t){return t.getModel().uniqueID===e}));r||(r=new A([t],o?[o]:[]),this.subViews.push(r)),this.isUseBoardView&&this.getSuperBoardView().setCurrentSuperBoardSubView(r,0),_.e.emit(_.d.RemoteSubViewAdd,e)},e.prototype.onSyncSwitchViewEvent=function(e,t,o,r){return L(this,void 0,void 0,(function(){var i,n,a,s,c,u,l,d=this;return B(this,(function(h){switch(h.label){case 0:if(!this.isUseBoardView)return[2,r&&r(!1)];if(this.stopVideo(),!(i=this.subViews.find((function(t){return t.getModel().uniqueID==e}))))return[3,8];h.label=1;case 1:return h.trys.push([1,6,,7]),t=+t||0,n=i.findWhiteboardView(t),a=n.getID(),[4,this.zegoWhiteboard.switchView(a)];case 2:return h.sent(),s=this.getSuperBoardView().getParentDomID(),(c=i.getModel().fileID)?(u=this.zegoDocsService.createView(a,t),this.zegoDocsService.setDocsViewParent(u,s),this.getSuperBoardView().setCurrentSuperBoardSubView(i,t),u.loadFile(c,"",(function(e){return L(d,void 0,void 0,(function(){return B(this,(function(t){try{this.zegoWhiteboard.attachView(n,e.viewID),o&&o(!0)}catch(e){r&&r(P(e.code,e.msg))}return[2]}))}))})),[3,5]):[3,3];case 3:return this.getSuperBoardView().setCurrentSuperBoardSubView(i,0),[4,this.zegoWhiteboard.attachView(n,s)];case 4:h.sent(),o&&o(!0),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),r&&r(P(l.code,l.msg)),[3,7];case 7:return[3,9];case 8:r&&r(new Error("白板不存在")),h.label=9;case 9:return[2]}}))}))},e.prototype.onRemoteSwitchViewEvent=function(e,t){return!this.isUseBoardView||this.lastSwitchUniqueID===e&&this.lastSwitchWhiteboardID===t?Promise.resolve():this.switchView(e,t)},e.prototype.switchView=function(e,t){return L(this,void 0,void 0,(function(){var o,r,i,n,a,s,c=this;return B(this,(function(u){switch(u.label){case 0:return this.stopVideo(),(o=this.subViews.find((function(t){return t.getModel().uniqueID==e})))?(r=o.getWhiteboardViewList().findIndex((function(e){return e.getID()==t})),i=o.findWhiteboardView(r),n=this.getSuperBoardView().getParentDomID(),(a=o.getModel().fileID)?(s=this.zegoDocsService.createView(t,r),this.zegoDocsService.setDocsViewParent(s,n),s.loadFile(a,"",(function(t){return L(c,void 0,void 0,(function(){var n;return B(this,(function(a){switch(a.label){case 0:return[4,this.zegoWhiteboard.attachView(i,t.viewID)];case 1:return a.sent(),n=this.getSuperBoardView().getCurrentSuperBoardSubView(),this.getSuperBoardView().setCurrentSuperBoardSubView(o,r),(null==n?void 0:n.getModel().uniqueID)==e?_.e.emit(_.d.RemoteSubViewExcelSwitched,e,r):_.e.emit(_.d.RemoteSubViewSwitched,e),[2]}}))}))})),[3,3]):[3,1]):[3,4];case 1:return[4,this.zegoWhiteboard.attachView(i,n)];case 2:u.sent(),this.getSuperBoardView().setCurrentSuperBoardSubView(o,0),_.e.emit(_.d.RemoteSubViewSwitched,e),u.label=3;case 3:this.lastSwitchUniqueID=e,this.lastSwitchWhiteboardID=t,u.label=4;case 4:return[2]}}))}))},e.prototype.onRemoteModAddEvent=function(e){return L(this,void 0,void 0,(function(){var t,o,r,i,n,a,s,c,u,l,d,h,p,f,g;return B(this,(function(m){switch(m.label){case 0:return this.isLoginAttached?(t=this.getSuperBoardView().getParentDomID(),o=e.getUniqueID(),r=e.getID(),i=e.getFileInfo(),(n=this.subViews.find((function(e){return e.getModel().uniqueID===o})))?i?(s=i.fileID,a=i.fileName,i.fileType!==v.c.ZegoDocsViewFileTypeELS?[3,5]:(l=n.getExcelSheetNameList(),d=l.findIndex((function(e){return e===a})),g=this.zegoDocsService.createView(r,a),this.isUseBoardView&&this.zegoDocsService.setDocsViewParent(g,t),n.getWhiteboardViewList().reduce((function(e,t){return t?++e:e}),0)+1<l.length?[4,this.zegoDocsService.getDocsViewFileInfo(g,s)]:[3,2])):[3,7]:[3,9]):[2];case 1:return m.sent(),n.insertView(d,e,g),[3,4];case 2:return[4,this.zegoDocsService.getDocsViewFileInfo(g,s)];case 3:m.sent(),n.insertView(d,e,g),n.switchWhiteboardView(d),_.e.emit(_.d.RemoteSubViewAdd,o),m.label=4;case 4:return[3,6];case 5:_.e.emit(_.d.RemoteSubViewAdd,o),m.label=6;case 6:return[3,8];case 7:_.e.emit(_.d.RemoteSubViewAdd,o),m.label=8;case 8:return[3,15];case 9:return i?(s=i.fileID,c=i.fileName,i.fileType!==v.c.ZegoDocsViewFileTypeELS?[3,11]:(g=this.zegoDocsService.createView(r,c),this.isUseBoardView&&this.zegoDocsService.setDocsViewParent(g,t),[4,this.zegoDocsService.getDocsViewFileInfo(g,s)])):[3,14];case 10:return u=m.sent(),l=u.sheets,d=l.findIndex((function(e){return e===c})),(h=this.subViews.find((function(e){return e.getModel().uniqueID===o})))||(f=[],(p=[])[d]=e,f[d]=g,h=new A(p,f),this.subViews.push(h),h.switchWhiteboardView(d)),[3,13];case 11:return g=this.zegoDocsService.createView(r),[4,this.zegoDocsService.getDocsViewFileInfo(g,s)];case 12:m.sent(),this.emitRemoteSubViewAddEvent(o,e,g),m.label=13;case 13:return[3,15];case 14:this.emitRemoteSubViewAddEvent(o,e),m.label=15;case 15:return[2]}}))}))},e.prototype.onRemoteModRemovedEvent=function(e,t){var o=this.subViews.findIndex((function(t){return t.getModel().uniqueID===e}));if(-1==o)_.e.emit(_.d.RemoteSubViewRemoved,e);else{var r=this.subViews[o],i=r.getModel(),n=i.fileType;if(i.fileID&&n==c.ELS){var a=r.getWhiteboardViewList(),s=a.findIndex((function(e){return e.getID()==t}));if(a.splice(s,1),0!==a.reduce((function(e,t){return t?++e:e}),0))return}this.subViews.splice(o,1),this.isUseBoardView&&0===this.subViews.length&&this.getSuperBoardView().setCurrentSuperBoardSubView(null,0),_.e.emit(_.d.RemoteSubViewRemoved,e)}},e}(),k=function(){function e(){if(e.instance)return e.instance;this.zegoSuperBoardService=new V,e.instance=this}return e.getInstance=function(){return this.instance||(this.instance=new e)},e.prototype.init=function(e,t){return this.zegoSuperBoardService.init(e,t)},e.prototype.setCustomizedConfig=function(e,t){return this.zegoSuperBoardService.setCustomizedConfig(e,t)},e.prototype.getCustomizedConfig=function(e){return this.zegoSuperBoardService.getCustomizedConfig(e)},e.prototype.on=function(e,t){return this.zegoSuperBoardService.on(e,t)},e.prototype.off=function(e,t){return this.zegoSuperBoardService.off(e,t)},e.prototype.getSDKVersion=function(){return this.zegoSuperBoardService.getSDKVersion()},e.prototype.getSuperBoardView=function(){return this.zegoSuperBoardService.getSuperBoardView()},e.prototype.enableSuperBoardView=function(e){this.zegoSuperBoardService.enableSuperBoardView(e)},e.prototype.getSuperBoardSubView=function(e){return this.zegoSuperBoardService.getSuperBoardSubView(e)},e.prototype.attachSuperBoardSubView=function(e,t){return this.zegoSuperBoardService.attachSuperBoardSubView(e,t)},e.prototype.createWhiteboardView=function(e){return this.zegoSuperBoardService.createWhiteboardView(e)},e.prototype.createFileView=function(e){return this.zegoSuperBoardService.createFileView(e)},e.prototype.destroySuperBoardSubView=function(e){return this.zegoSuperBoardService.destroySuperBoardSubView(e)},e.prototype.querySuperBoardSubViewList=function(){return this.zegoSuperBoardService.querySuperBoardSubViewModelList()},e.prototype.clearCache=function(){return this.zegoSuperBoardService.clearCache()},e.prototype.setDeferredRenderingTime=function(e){this.zegoSuperBoardService.setDeferredRenderingTime(e)},e.prototype.enableSyncScale=function(e){this.zegoSuperBoardService.enableSyncScale(e)},e.prototype.enableResponseScale=function(e){this.zegoSuperBoardService.enableResponseScale(e)},e.prototype.enableHandwriting=function(e){this.zegoSuperBoardService.enableHandwriting(e)},e.prototype.setToolType=function(e){return this.zegoSuperBoardService.setToolType(e)},e.prototype.getToolType=function(){return this.zegoSuperBoardService.getToolType()},e.prototype.setFontBold=function(e){this.zegoSuperBoardService.setFontBold(e)},e.prototype.isFontBold=function(){return this.zegoSuperBoardService.isFontBold()},e.prototype.setFontItalic=function(e){this.zegoSuperBoardService.setFontItalic(e)},e.prototype.isFontItalic=function(){return this.zegoSuperBoardService.isFontItalic()},e.prototype.setFontSize=function(e){this.zegoSuperBoardService.setFontSize(e)},e.prototype.getFontSize=function(){return this.zegoSuperBoardService.getFontSize()},e.prototype.setBrushSize=function(e){this.zegoSuperBoardService.setBrushSize(e)},e.prototype.getBrushSize=function(){return this.zegoSuperBoardService.getBrushSize()},e.prototype.setBrushColor=function(e){this.zegoSuperBoardService.setBrushColor(e)},e.prototype.getBrushColor=function(){return this.zegoSuperBoardService.getBrushColor()},e.prototype.setWhiteboardBackgroundColor=function(e){this.zegoSuperBoardService.setWhiteboardBackgroundColor(e)},e.prototype.getWhiteboardBackgroundColor=function(){return this.zegoSuperBoardService.getWhiteboardBackgroundColor()},e.prototype.isHandwritingEnabled=function(){return this.zegoSuperBoardService.isHandwritingEnabled()},e.prototype.uploadFile=function(e,t,o){return this.zegoSuperBoardService.uploadFile(e,t,o)},e.prototype.cancelUploadFile=function(e){return this.zegoSuperBoardService.cancelUploadFile(e)},e.prototype.uploadH5File=function(e,t,o){return this.zegoSuperBoardService.uploadH5File(e,t,o)},e.prototype.cacheFile=function(e){return this.zegoSuperBoardService.cacheFile(e)},e}()}])}));