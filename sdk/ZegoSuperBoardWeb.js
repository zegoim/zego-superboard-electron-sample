/*! For license information please see ZegoSuperBoardWeb.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=392)}([function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return n})),r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return l})),r.d(t,"h",(function(){return d})),r.d(t,"c",(function(){return p})),r.d(t,"l",(function(){return h})),r.d(t,"m",(function(){return f}));var o,i,n,a,s,c,u,l,d,p,h,f,g=r(32);r.d(t,"i",(function(){return g.a})),r.d(t,"j",(function(){return g.b})),r.d(t,"k",(function(){return g.c})),r.d(t,"n",(function(){return g.d})),r.d(t,"o",(function(){return g.e})),r.d(t,"p",(function(){return g.f})),function(e){e[e.PPT=1]="PPT",e[e.DOC=2]="DOC",e[e.ELS=4]="ELS",e[e.PDF=8]="PDF",e[e.IMG=16]="IMG",e[e.TXT=32]="TXT",e[e.PPTH5=512]="PPTH5",e[e.CUSTOM_H5=4096]="CUSTOM_H5"}(o||(o={})),function(e){e[e.Single=1]="Single",e[e.Multi=2]="Multi",e[e.Other=4]="Other"}(i||(i={})),function(e){e[e.Append=1]="Append",e[e.Update=2]="Update",e[e.Delete=4]="Delete",e[e.Move=8]="Move",e[e.Create=32]="Create"}(n||(n={})),function(e){e[e.Local=0]="Local",e[e.Remote=1]="Remote",e[e.UnReDo=2]="UnReDo",e[e.Reload=3]="Reload"}(a||(a={})),function(e){e[e.Pencil=1]="Pencil",e[e.Text=2]="Text",e[e.Line=4]="Line",e[e.Rect=8]="Rect",e[e.Ellipse=16]="Ellipse",e[e.Laser=128]="Laser",e[e.Image=256]="Image",e[e.BgImage=512]="BgImage",e[e.RealTime=999]="RealTime",e[e.Cursor=1024]="Cursor"}(s||(s={})),function(e){e[e.Pc=1]="Pc",e[e.Mobile=2]="Mobile"}(c||(c={})),function(e){e[e.Init=1]="Init",e[e.Down=2]="Down",e[e.Move=3]="Move",e[e.DownMove=4]="DownMove",e[e.DownMoveUp=5]="DownMoveUp",e[e.DownNoMoveUp=6]="DownNoMoveUp",e[e.Leave=7]="Leave",e[e.DownLeave=8]="DownLeave"}(u||(u={})),function(e){e[e.success=1]="success",e[e.error=2]="error"}(l||(l={})),function(e){e[e.InProgress=1]="InProgress",e[e.Pending=2]="Pending"}(d||(d={})),function(e){e[e.BatchSelete=0]="BatchSelete",e[e.ClearPage=1]="ClearPage",e[e.EraserTool=2]="EraserTool"}(p||(p={})),function(e){e[e.None=0]="None",e[e.Scale=1]="Scale",e[e.Scroll=2]="Scroll"}(h||(h={})),function(e){e[e.None=0]="None",e[e.Append=1]="Append",e[e.Update=2]="Update",e[e.Delete=4]="Delete",e[e.Move=8]="Move",e[e.Clear=16]="Clear",e[e.Create=32]="Create"}(f||(f={}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return h}));r(45),r(38),r(301),r(30),r(49),r(306),r(308),r(309),r(310),r(311),r(312),r(314),r(315),r(316),r(317),r(318),r(319),r(320),r(67),r(79),r(72),r(46),r(80),r(187),r(60),r(61);var o=r(228),i=(r(115),r(111),r(96),function(){return(i=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}),n=function(){function e(e,t){this.appid="",this.roomid="",this.userid="",this.token="",this.version="",this.platform="",this.extra={},this.isProd=!1,this.isElectron=!1,this.logLevel=1,this.logCacheSend=[],this.logCacheMax=100,this.platform=e||"",this.isElectron=t,this.openLogServer()}return e.prototype.init=function(e){var t=e.appid,r=e.version,o=e.isProd,i=e.liveroom;this.appid=(t||this.appid)+"",this.version=r||this.version,this.isProd=o,i&&!this.platform.includes("liveroom")&&(this.platform+=",liveroom")},e.prototype.initRoom=function(e){var t=e.roomid,r=e.userid,o=e.token,i=e.logLevel;this.roomid=t||this.roomid,this.userid=r||this.userid,this.token=o||this.token,"number"==typeof i&&(this.logLevel=i)},e.prototype.setLogConfig=function(e){"number"==typeof e&&(this.logLevel=e)},e.prototype.setExtraConfig=function(e){Object.assign(this.extra,e)},e.prototype.getConfig=function(){return{appid:+this.appid,roomid:this.roomid,userid:this.userid,token:this.token}},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.log(0,e);if(this.logLevel>0);else{var o=console.debug;o(r)}},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.log(1,e);if(this.logLevel>1);else{var o=console.info;o(r)}},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.log(2,e);if(this.logLevel>2);else{var o=console.warn;o(r)}},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.log(3,e);if(this.logLevel>3);else{var o=console.error;o(r)}},e.prototype.writeLocalLog=function(e){},e.prototype.log=function(e,t){var r=this.isProd||this.isElectron?this.logParamList(e,t.join("")):t.join("");return this.isProd&&this.remoteWebSocketLog(e,r),this.isElectron&&this.writeLocalLog(r),r},e.prototype.openLogServer=function(){this.stopWebSocketServer(),this.websocket=new WebSocket("wss://weblogger-edu.zego.im/log")},e.prototype.stopWebSocketServer=function(){this.websocket&&(this.websocket.close(),this.websocket=null)},e.prototype.remoteWebSocketLog=function(e,t){if(!("string"==typeof t&&t.length>4e3))if(null==this.websocket||2==this.websocket.readyState||3==this.websocket.readyState)this.openLogServer(),this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t);else if(0==this.websocket.readyState)this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t);else if(1==this.websocket.readyState)if(this.logCacheSend.length>0){for(var r="",o=0;o<this.logCacheSend.length;o++)(r+this.logCacheSend[o]).length>4e3&&(this.websocket.send(r),r=""),r=r+this.logCacheSend[o]+"\n";t=r+t,this.logCacheSend=[],this.websocket.send(t)}else this.websocket.send(t);else this.logCacheSend.length<this.logCacheMax&&this.logCacheSend.push(t)},e.prototype.logParamList=function(e,t){var r=(new Date).toLocaleString(),o=t.indexOf(" "),n=t.substr(0,o)||t,a=t.substr(o+1,4500),s=i(i({time:r,level:e,action:n,content:a,appid:this.appid,userid:this.userid,roomid:this.roomid},this.extra),{version:this.version,platform:this.platform});return JSON.stringify(s)},e}(),a=function(e,t,r){var o=!(!e||!e.versions.electron);return{electron:o,platform:(o?e.platform:t)+","+r[r.length-2]+","+r[r.length-1]}}(window.process,navigator.platform,navigator.userAgent.split(" ")),s=a.electron,c=a.platform;var u,l=window.zegoLogger||(window.zegoLogger=new n(c,s)),d=function(){return(d=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};!function(e){e[e.debug=0]="debug",e[e.info=1]="info",e[e.warn=2]="warn",e[e.error=3]="error",e[e.report=99]="report",e[e.disable=100]="disable"}(u||(u={}));var p=function(){function e(t,r){if(this.appID="",this.roomID="",this.userID="",this.token="",this.isTestEnv=!0,this.logLevel=1,this.version="",this.platform="",this.extra={},e.instance)return e.instance;e.env=t,e.product=r,this.logger=new o.ZegoLogger(t,r),this.logger.setDebugVerbose(!1),e.instance=this}return e.getInstance=function(){return window.zegoAddonLogger||(window.zegoAddonLogger=new e(e.env,e.product))},e.prototype.setLogConfig=function(e){switch(this.logger.setLogLevel(e.logLevel),this.logger.setRemoteLogLevel(e.remoteLogLevel),e.logLevel){case"debug":this.logLevel=0;break;case"info":this.logLevel=1;break;case"warn":this.logLevel=2;break;case"error":this.logLevel=3;break;case"report":this.logLevel=99;break;case"disable":this.logLevel=100}l.setLogConfig(this.logLevel)},e.prototype.initLogger=function(t,r){var o=navigator.userAgent,i=t.appID,n=t.userID,a=t.token;this.header={version:r,appID:i,userID:n,device:o},this.logger.setCommonField(new Map([["userID",n]])),this.logger.setHeaderInfo(this.formatContent(JSON.stringify(this.header))),a&&(e.uploadConfig={appID:i,userID:n,token:a,product:e.product,uploadURL:"https://detaillog"+t.appID+"-api.zego.im/zglog/zip",deviceID:this.generateUUID()})},e.prototype.updateLoggerHeader=function(e){Object.assign(this.header.version,e),this.logger.setHeaderInfo(this.formatContent(JSON.stringify(this.header)))},e.startTimingUpload=function(){e.uploadTimer||(e.uploadTimer=setInterval((function(){e.instance.upload(e.uploadConfig,e.product)}),e.uploadInterval))},e.stopTimingUpload=function(){e.uploadTimer&&(clearInterval(e.uploadTimer),e.uploadTimer=null)},e.prototype.generateUUID=function(){var e=localStorage.getItem("z_deviceID");if(e)return e;var t=(new Date).getTime(),r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?r:3&r|8).toString(36)}));return localStorage.setItem("z_deviceID",r),r},e.prototype.getConfig=function(){return{appID:+this.appID,roomID:this.roomID,userID:this.userID,token:this.token}},e.prototype.initInfo=function(e){var t=e.appID,r=e.version,o=(e.isProd,e.liveroom);this.appID=(t||this.appID)+"",this.version=r||this.version,o&&!this.platform.includes("liveroom")&&(this.platform+=",liveroom"),l.init({appid:t,version:r,isProd:!0,liveroom:o})},e.prototype.initRoomInfo=function(t){var r=t.roomID,o=t.userID,i=t.token,n=t.logLevel;this.roomID=r||this.roomID,this.userID=o||this.userID,this.token=i||this.token,"SuperBoard"!==e.product&&"number"==typeof n&&(this.logLevel=n),"SuperBoard"!==e.product&&l.initRoom({roomid:this.roomID,userid:this.userID,token:this.token,logLevel:n})},e.prototype.upload=function(e,t){this.logger.upload(d(d({},e),{appID:e.appID+"",product:t}))},e.prototype.report=function(e,t,r){this.logger.write(e,"report",t,this.formatContent(r))},e.prototype.debug=function(e,t,r){this.logger.write(e,"debug",t,this.formatContent(r)),l.debug(t,r)},e.prototype.info=function(e,t,r){this.logger.write(e,"info",t,this.formatContent(r)),l.info(e+"_"+t+":",r)},e.prototype.warn=function(e,t,r){this.logger.write(e,"warn",t,this.formatContent(r)),l.warn(e+t,r)},e.prototype.error=function(e,t,r){this.logger.write(e,"error",t,this.formatContent(r)),l.error(t,r)},e.prototype.formatContent=function(e){return e?String(e).replace(/\"/g,"'"):""},e.uploadInterval=3e5,e}(),h=function(e,t,r){if(window.zegoAddonLogger){var o=localStorage.getItem("ZEGO_SDK_VER");if(o){var i=Object.assign(JSON.parse(o),r);p.getInstance().updateLoggerHeader(i)}}else window.zegoAddonLogger=new p(0,t),p.getInstance().initLogger(e,r),p.getInstance().initInfo(e),localStorage.setItem("ZEGO_SDK_VER",JSON.stringify(r)),l.init({appid:e.appID,version:r,isProd:!0})}},function(e,t,r){"use strict";var o,i,n,a,s;r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return s})),function(e){e.UnloadVideoSrc="unloadVideoSrc",e.DisableH5ImageDrag="disableH5ImageDrag",e.PptStepMode="pptStepMode",e.ThumbnailMode="thumbnailMode",e.Domain="domain"}(o||(o={})),function(e){e[e.ZegoDocsViewSuccess=0]="ZegoDocsViewSuccess",e[e.ZegoDocsViewErrorInternal=2000001]="ZegoDocsViewErrorInternal",e[e.ZegoDocsViewErrorParamInvalid=2000002]="ZegoDocsViewErrorParamInvalid",e[e.ZegoDocsViewErrorNetworkTimeout=2000003]="ZegoDocsViewErrorNetworkTimeout",e[e.ZegoDocsViewErrorFileNotExist=2010001]="ZegoDocsViewErrorFileNotExist",e[e.ZegoDocsViewErrorUploadFailed=2010002]="ZegoDocsViewErrorUploadFailed",e[e.ZegoDocsViewErrorUnsupportRenderType=2010003]="ZegoDocsViewErrorUnsupportRenderType",e[e.ZegoDocsViewErrorFileEncrypt=2020001]="ZegoDocsViewErrorFileEncrypt",e[e.ZegoDocsViewErrorFileSizeLimit=2020002]="ZegoDocsViewErrorFileSizeLimit",e[e.ZegoDocsViewErrorFileSheetLimit=2020003]="ZegoDocsViewErrorFileSheetLimit",e[e.ZegoDocsViewErrorConvertFail=2020004]="ZegoDocsViewErrorConvertFail",e[e.ZegoDocsViewErrorConvertCancel=2020005]="ZegoDocsViewErrorConvertCancel",e[e.ZegoDocsViewErrorFileContentEmpty=2020006]="ZegoDocsViewErrorFileContentEmpty",e[e.ZegoDocsViewErrorFileReadOnly=2020007]="ZegoDocsViewErrorFileReadOnly",e[e.ZegoDocsViewErrorConvertElementNotSupported=2020008]="ZegoDocsViewErrorConvertElementNotSupported",e[e.ZegoDocsViewErrorConvertFileTypeInvalid=2020009]="ZegoDocsViewErrorConvertFileTypeInvalid",e[e.ZegoDocsViewErrorFileCorruption=2030018]="ZegoDocsViewErrorFileCorruption",e[e.ZegoDocsViewErrorFileContentIncomplete=2030019]="ZegoDocsViewErrorFileContentIncomplete",e[e.ZegoDocsViewErrorAuthParamInvalid=2030001]="ZegoDocsViewErrorAuthParamInvalid",e[e.ZegoDocsViewErrorFilePathNotAccess=2030002]="ZegoDocsViewErrorFilePathNotAccess",e[e.ZegoDocsViewErrorInitFailed=2030003]="ZegoDocsViewErrorInitFailed",e[e.ZegoDocsViewErrorSizeInvalid=2030004]="ZegoDocsViewErrorSizeInvalid",e[e.ZegoDocsViewErrorFreeSpaceLimit=2030005]="ZegoDocsViewErrorFreeSpaceLimit",e[e.ZegoDocsViewErrorUploadNotSupported=2030006]="ZegoDocsViewErrorUploadNotSupported",e[e.ZegoDocsViewErrorUploadDuplicated=2030007]="ZegoDocsViewErrorUploadDuplicated",e[e.ZegoDocsViewErrorEmptyDomain=2030008]="ZegoDocsViewErrorEmptyDomain",e[e.ZegoDocsViewErrorHaveInit=2030009]="ZegoDocsViewErrorHaveInit",e[e.ZegoDocsViewErrorServerFileNotExist=2030010]="ZegoDocsViewErrorServerFileNotExist",e[e.ZegoDocsViewErrorCacheNotSupported=2030014]="ZegoDocsViewErrorCacheNotSupported",e[e.ZegoDocsViewErrorCacheFailed=2030015]="ZegoDocsViewErrorCacheFailed",e[e.ZegoDocsViewErrorZipFileInvalid=2030016]="ZegoDocsViewErrorZipFileInvalid",e[e.ZegoDocsViewErrorH5FileInvalid=2030017]="ZegoDocsViewErrorH5FileInvalid",e[e.ZegoDocsViewErrorConvertFileUnsafe=2020010]="ZegoDocsViewErrorConvertFileUnsafe",e[e.ZegoDocsViewErrorConvertElementNotExported=2020011]="ZegoDocsViewErrorConvertElementNotExported",e[e.ZegoDocsViewErrorRequestFailure=2000004]="ZegoDocsViewErrorRequestFailure"}(i||(i={})),function(e){e[e.ZegoDocsViewFileTypeUnknown=0]="ZegoDocsViewFileTypeUnknown",e[e.ZegoDocsViewFileTypePPT=1]="ZegoDocsViewFileTypePPT",e[e.ZegoDocsViewFileTypeDOC=2]="ZegoDocsViewFileTypeDOC",e[e.ZegoDocsViewFileTypeELS=4]="ZegoDocsViewFileTypeELS",e[e.ZegoDocsViewFileTypePDF=8]="ZegoDocsViewFileTypePDF",e[e.ZegoDocsViewFileTypeIMG=16]="ZegoDocsViewFileTypeIMG",e[e.ZegoDocsViewFileTypeTXT=32]="ZegoDocsViewFileTypeTXT",e[e.ZegoDocsViewFileTypeDynamicPPTH5=512]="ZegoDocsViewFileTypeDynamicPPTH5",e[e.ZegoDocsViewFileTypeAudio=1024]="ZegoDocsViewFileTypeAudio",e[e.ZegoDocsViewFileTypeVideo=2048]="ZegoDocsViewFileTypeVideo",e[e.ZegoDocsViewFileTypeCustomH5=4096]="ZegoDocsViewFileTypeCustomH5"}(n||(n={})),function(e){e[e.ZegoDocsViewRenderTypeVector=1]="ZegoDocsViewRenderTypeVector",e[e.ZegoDocsViewRenderTypeIMG=2]="ZegoDocsViewRenderTypeIMG",e[e.ZegoDocsViewRenderTypeVectorAndIMG=3]="ZegoDocsViewRenderTypeVectorAndIMG",e[e.ZegoDocsViewRenderTypeDynamicPPTH5=6]="ZegoDocsViewRenderTypeDynamicPPTH5"}(a||(a={})),function(e){e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.WAITING=4]="WAITING",e[e.CONVERTING=8]="CONVERTING",e[e.CONVERTED=16]="CONVERTED",e[e.CONVERT_FAIL=32]="CONVERT_FAIL",e[e.CONVERT_CANCEL=64]="CONVERT_CANCEL"}(s||(s={}))},function(e,t,r){"use strict";var o=r(0),i="ontouchstart"in window||navigator.maxTouchPoints>0;t.a={reservedPrefix:{whiteboardZoom:"zego-whiteboard-zoom",fileWhiteboardCon:"zego-docsview-con",whiteboardCon:"zego-whiteboard-con",whiteboard:"zego-whiteboard",laserContainer:"zego-other-container",graphicsBgContainer:"zego-graphics-bg-container",graphicsBgImageContainer:"zego-graphics-bgImage-container",graphicsContainer:"zego-graphics-container",graphicsSvg:"zego-svg",textareaCon:"zego-textarea",laserCon:"zego-laser",cursorCon:"zego-cursor",graphics:"zego-graphics",boxContainer:"zego-box-container",graphicsBox:"zego-graphics-box"},basicState:{type:o.k.ZegoWhiteboardViewToolPen,size:6,fontSize:24,color:"#f54326",bgColor:"rgb(241, 243, 244)",attributes:'{"bold": false, "italic": false, "stroke": false}'},basicExtraState:{drawSize:0,drawFontSize:0,customImage:{url:"",w:80,h:80},defaultFileBgColor:"rgb(255, 255, 255, 0)"},realTimeState:{localDrawCount:10,remoteDrawDelay:4,remoteDrawCount:2,remoteDrawEndDelay:1e4},customCursor:{enable:!1,remoteVisible:!0,type:o.i.pen,attributes:'{"url": "", "pox_x": 0, "pox_y": 0 }'},scaleModes:{sync:!1,response:!1},handWritingFactor:{step:.016,max_speed:1.2,min_speed:.05,max_width_factor:1.2,min_width_factor:.5,last_size:0,lastX:0,lastY:0},svgPath:{tops:[],bottoms:[]},isTouch:i,boxPadding:0,textareaBoxPadding:24,textareaHPadding:0,textareaVPadding:0,textareaConBorderWidth:1,lineHeight:1,boxBorderWidth:2,selectedBorderCss:"2px solid #b0b3b8",unSelectedBorderCss:"2px solid transparent",maxlength:200,scrollbarSize:20,initLaserX:0,initLaserY:0,hiddenLaserX:-100,hiddenLaserY:-100,hiddenLaserDelay:5e3,mouseEvents:{down:"mousedown",move:"mousemove",up:"mouseup",leave:"mouseleave",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend",mouseleave:"touchcancel"},calStandard:{sizeWidth:1280,placeWidth:128e4,minFontSize:i?1:12,maxFontSize:100,minLineWidth:1,maxLineWidth:100}}},function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r(70))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return a}));var o,i,n,a;r(111),r(120),r(52),r(30),r(53);!function(e){e.Upload="onUpload",e.LoadFile="onLoadFile",e.StepChange="onStepChange",e.Scroll="onScroll",e.PlayAnimation="onPlayAnimation"}(o||(o={})),function(e){e.Error="error",e.ViewAdd="viewAdd",e.ViewRemoved="viewRemoved",e.ViewScroll="viewScroll",e.ViewScale="viewScale",e.WhiteboardAuthChange="whiteboardAuthChange",e.WhiteboardGraphicAuthChange="whiteboardGraphicAuthChange"}(i||(i={})),function(e){e.PushAddMod="pushAddMod",e.PushRemovedMod="pushRemovedMod",e.PushDrawPageGraphics="pushDrawPageGraphics",e.PushClearPageGraphics="pushClearPageGraphics",e.PushScroll="pushScroll",e.PushScale="pushScale",e.PushH5ExtraAppended="pushH5ExtraAppended",e.PushAuthChange="pushAuthChange",e.RemoteDelMod="remoteDelMod",e.GetPageGraphicsList="getPageGraphicsList",e.AppendH5Extra="appendH5Extra",e.Scroll="scroll",e.Scale="scale",e.RoomConnected="roomConnected",e.RoomDisConnected="roomDisConnected",e.AttachedView="attachedView",e.SuperRoomConnected="SuperRoomConnected",e.SuperRoomDisConnected="SuperRoomDisConnected",e.SuperDocsLogoutRoom="SuperDocsLogoutRoom"}(n||(n={})),function(e){e.SubViewScrollChanged="superBoardSubViewScrollChanged",e.SubViewScaleChanged="superBoardSubViewScaleChanged",e.RemoteSubViewAdd="remoteSuperBoardSubViewAdded",e.RemoteSubViewRemoved="remoteSuperBoardSubViewRemoved",e.RemoteSubViewSwitched="remoteSuperBoardSubViewSwitched",e.RemoteSubViewExcelSwitched="remoteSuperBoardSubViewExcelSwitched",e.RemoteAuthChange="remoteSuperBoardAuthChanged",e.RemoteGraphicAuthChange="remoteSuperBoardGraphicAuthChanged",e.SyncSwitchMod="syncSwitchMod",e.RemoteSwitchMod="remoteSwitchMod",e.RemoteModAdd="remoteModAdd",e.RemoteModRemoved="remoteModRemoved",e.SyncSwitchModWithWhiteboardID="SyncSwitchModWithWhiteboardID"}(a||(a={}));var s=function(){function e(){var e;this.listeners=((e={})[i.Error]=[],e[o.LoadFile]=[],e[o.Upload]=[],e[o.Scroll]=[],e[o.StepChange]=[],e[o.PlayAnimation]=[],e[n.PushAddMod]=[],e[n.PushRemovedMod]=[],e[n.PushDrawPageGraphics]=[],e[n.PushClearPageGraphics]=[],e[n.PushScroll]=[],e[n.PushScale]=[],e[n.PushH5ExtraAppended]=[],e[n.PushAuthChange]=[],e[n.GetPageGraphicsList]=[],e[n.AppendH5Extra]=[],e[n.Scroll]=[],e[n.Scale]=[],e[n.RoomConnected]=[],e[n.RoomDisConnected]=[],e[n.AttachedView]=[],e[n.SuperRoomConnected]=[],e[n.SuperRoomDisConnected]=[],e[n.RemoteDelMod]=[],e[n.SuperDocsLogoutRoom]=[],e[i.ViewAdd]=[],e[i.ViewRemoved]=[],e[i.ViewScroll]=[],e[i.ViewScale]=[],e[i.WhiteboardAuthChange]=[],e[i.WhiteboardGraphicAuthChange]=[],e[a.RemoteSubViewAdd]=[],e[a.RemoteSubViewRemoved]=[],e[a.RemoteSubViewSwitched]=[],e[a.RemoteSubViewExcelSwitched]=[],e[a.RemoteAuthChange]=[],e[a.RemoteGraphicAuthChange]=[],e[a.SyncSwitchMod]=[],e[a.SyncSwitchModWithWhiteboardID]=[],e[a.RemoteSwitchMod]=[],e[a.RemoteModAdd]=[],e[a.RemoteModRemoved]=[],e[a.SubViewScrollChanged]=[],e[a.SubViewScaleChanged]=[],e)}return e.prototype.on=function(e,t){var r=[n.RoomDisConnected];return!!this.listeners[e]&&("function"==typeof t&&(-1!==r.indexOf(e)?-1==this.listeners[e].indexOf(t)&&this.listeners[e].push(t):this.listeners[e][0]=t,!0))},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var r=this.listeners[e];return t?r.splice(r.indexOf(t),1):this.listeners[e]=[],!0},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.listeners[e]&&this.listeners[e].forEach((function(e){e.apply(void 0,t)}))},e}();t.e=new s},function(e,t,r){"use strict";r.d(t,"m",(function(){return L})),r.d(t,"d",(function(){return y})),r.d(t,"p",(function(){return b})),r.d(t,"h",(function(){return w})),r.d(t,"c",(function(){return S})),r.d(t,"n",(function(){return x})),r.d(t,"q",(function(){return E})),r.d(t,"e",(function(){return P})),r.d(t,"r",(function(){return k})),r.d(t,"s",(function(){return D})),r.d(t,"a",(function(){return T})),r.d(t,"b",(function(){return A})),r.d(t,"i",(function(){return C})),r.d(t,"j",(function(){return B})),r.d(t,"v",(function(){return N})),r.d(t,"u",(function(){return M})),r.d(t,"t",(function(){return V})),r.d(t,"f",(function(){return v})),r.d(t,"o",(function(){return O})),r.d(t,"k",(function(){return R})),r.d(t,"l",(function(){return H})),r.d(t,"g",(function(){return j}));r(99),r(111),r(115),r(192),r(52),r(30),r(53),r(46),r(96),r(130),r(359),r(80),r(361),r(72),r(187),r(363),r(206),r(49),r(204);var o,i=new Uint8Array(16);function n(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"==typeof e&&a.test(e)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r};var d=function(e,t,r){var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=o[i];return t}return l(o)},p=r(348),h=r.n(p),f=r(333),g=r.n(f),_=r(3),m=r(0),y=function(){return""+g()(d())},v=function(){var e=Math.sqrt(Math.sqrt(+g()(d())))*Math.random()|0;return e>99?.3*e|0:e<3?e+10*Math.random()|0:e},b=function(e){if(e){var t=e.parentNode;t?t.removeChild(e):e.remove?e.remove():e.removeNode()}},w=function(e){return e.children||e.childNodes},S=function(e,t,r,o){var i,n=_.a.calStandard,a=n.sizeWidth,s=n.minFontSize,c=n.minLineWidth;return o?i=Math.round(e*a/r):(i=Math.round(r*e/a),m.f.Text===t?i<s&&(i=s):i<c&&(i=c)),i},I=function(e){var t=e[0],r=e[1],o=e[2],i=e[3];return[Math.min(t,o||t),Math.min(r,i||r)]},x=function(e,t){var r;switch(e){case m.f.Pencil:r=function(e){for(var t=e.length,r=.1,o=t-4,i="M"+e[0]+", "+e[1],n=0;n<t-2;n+=2){var a=n?e[n-2]:e[0],s=n?e[n-1]:e[1],c=e[n+0],u=e[n+1],l=e[n+2],d=e[n+3],p=n!==o?e[n+4]:l,h=n!==o?e[n+5]:d;i+=" C"+(Number(c)+(l-a)/6*r)+","+(Number(u)+(d-s)/6*r)+","+(Number(l)-(p-c)/6*r)+","+(Number(d)-(h-u)/6*r)+","+l+","+d}return i}(t);break;case m.f.Line:r={x1:t[0],y1:t[1],x2:t[2]||t[0],y2:t[3]||t[1]};break;case m.f.Rect:var o=Math.abs((t[2]||t[0])-t[0])||1,i=Math.abs((t[3]||t[1])-t[1])||1,n=I(t);r={x:n[0],y:n[1],width:o,height:i};break;case m.f.Ellipse:var a=Math.abs((t[2]||t[0])-t[0])/2||.5,s=Math.abs((t[3]||t[1])-t[1])/2||.5,c=I(t);r={cx:c[0]+a,cy:c[1]+s,rx:a,ry:s};break;default:r=""}return r},O=function(e,t,r){var o=1,i=_.a.handWritingFactor,n=i.step,a=i.max_width_factor,s=i.min_width_factor,c=i.max_speed,u=i.min_speed,l=_.a.handWritingFactor,d=l.lastX,p=l.lastY,h=e.data,f=h.length,g=!0;_.a.svgPath.tops=[],_.a.svgPath.bottoms=[];for(var m={tx1:0,ty1:0,tx2:0,ty2:0,bx1:0,by1:0,bx2:0,by2:0,mtx1:0,mty1:0,mbx1:0,mby1:0},y=2;y<f;y+=2){2===y&&(d=h[0],p=h[1]);var v=d,b=p,w=h[y]-v,S=h[y+1]-b,I=Math.sqrt(Math.pow(w,2)+Math.pow(S,2));if(!(I<r/1280*3*2.5)){if(o++,y===f-2&&2==o)return;var x=I*n;x>c&&(x=c),x<u&&(x=u);var O=a*t,E=s*t,P=(O-E)*(1-x/c)+E;P>O&&(P=O),P<E&&(P=E);var k,D;if(k=P/2*S/I,D=P/2*w/I,m.tx1=d+k,m.ty1=p-D,m.tx2=h[y]+k,m.ty2=h[y+1]-D,m.bx1=d-k,m.by1=p+D,m.bx2=h[y]-k,m.by2=h[y+1]+D,g&&(m.tx1=d,m.ty1=p,m.bx1=d,m.by1=p),m.mtx1=(m.tx1+m.tx2)/2,m.mty1=(m.ty1+m.ty2)/2,m.mbx1=(m.bx1+m.bx2)/2,m.mby1=(m.by1+m.by2)/2,g)_.a.svgPath.tops.push("M"+d+" "+p+" L"+m.mtx1+" "+m.mty1),_.a.svgPath.bottoms.unshift("Q"+m.bx2+" "+m.by2+" "+m.mbx1+" "+m.mby1+" L"+d+" "+p);else if(_.a.svgPath.tops.join("").indexOf("M")<0&&_.a.svgPath.tops.push("M"+m.mtx1+" "+m.mty1),y===f-2){var T=h[f-2],A=h[f-1];x===u?_.a.svgPath.tops.push("Q"+T+" "+A+" "+T+" "+A):_.a.svgPath.tops.push("Q"+m.tx1+" "+m.ty1+" "+T+" "+A)}else _.a.svgPath.tops.push("Q"+m.tx1+" "+m.ty1+" "+m.mtx1+" "+m.mty1),_.a.svgPath.bottoms.unshift("Q"+m.bx2+" "+m.by2+" "+m.mbx1+" "+m.mby1);d=h[y],p=h[y+1],g=!1}}return _.a.svgPath.tops.concat(_.a.svgPath.bottoms).join(" ")},E=function(e,t){t.forEach((function(t){e.setAttribute(t.attr,t.value)}))},P=function(e,t,r,o){var i,n=document.querySelector("#"+e);if(n)return o&&n.setAttribute("data-z",o+""),[i=n.querySelector("#"+t)];n=document.createElementNS("http://www.w3.org/2000/svg","svg");var a=document.createElementNS("http://www.w3.org/2000/svg","g");return i=document.createElementNS("http://www.w3.org/2000/svg",r),n.id=e,n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("version","1.1"),o&&n.setAttribute("data-z",o+""),i.id=t,a.appendChild(i),n.appendChild(a),[i,n]},k=function(e,t){void 0===t&&(t=1);var r=[],o=[];return e.forEach((function(e,t,r){t%2==0&&o.push({x:e,y:r[t+1]})})),h()(o,t).forEach((function(e){r=r.concat([e.x,e.y])})),r},D=function(e){var t=e.split(",");return{beginX:t[0],beginY:t[1],text:t.slice(2).join(",")}},T=function(e,t,r){return parseInt(t)+","+parseInt(r)+","+e},A=function(e,t){t.forEach((function(t){e.addEventListener(t,(function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}))}))},C=function(e){var t=0,r=0;if(e)for(t+=e.offsetTop,r+=e.offsetLeft;e.offsetParent;)t+=e.offsetParent.offsetTop,r+=e.offsetParent.offsetLeft,e=e.offsetParent;return{offsetTop:t,offsetLeft:r}},B=function(e){var t=0,r=0;if(e)for(t+=e.scrollTop,r+=e.scrollLeft;e.parentNode;)t+=e.parentNode.scrollTop||0,r+=e.parentNode.scrollLeft||0,e=e.parentNode;return{scrollTop:t,scrollLeft:r}},N=function(e,t){var r=e.length>1?m.b.Multi:m.b.Single,o=JSON.parse(JSON.stringify(e));return o.forEach((function(e){e.action_type=r,t&&(e.action=t),delete e.selected,delete e.fontSize,delete e.bgColor})),o},M=function(e,t){return t?e?"#"+(e=e.toString(16)).slice(2).padStart(6,"0"):_.a.basicState.color:(e=function(e){if(0===e.indexOf("#"))return e;var t=e.replace(/rgba?/,"").replace(/\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),r=parseFloat(t[3]||"1"),o=Math.floor(r*parseInt(t[0])+255*(1-r)),i=Math.floor(r*parseInt(t[1])+255*(1-r)),n=Math.floor(r*parseInt(t[2])+255*(1-r));return"#"+("0"+o.toString(16)).slice(-2)+("0"+i.toString(16)).slice(-2)+("0"+n.toString(16)).slice(-2)}(e),parseInt("0xFF"+e.split("#")[1]))},L=function(e){return"number"==typeof e&&!isNaN(e)},V=function(e){for(var t=e.length,r=.1,o=t-4,i=[e[0],e[1]],n=[],a=0;a<t-2;a+=2){var s=a?e[a-2]:e[0],c=a?e[a-1]:e[1],u=e[a+0],l=e[a+1],d=e[a+2],p=e[a+3],h=a!==o?e[a+4]:d,f=a!==o?e[a+5]:p,g=Number(u)+(d-s)/6*r,_=Number(l)+(p-c)/6*r,m=Number(d)-(h-u)/6*r,y=Number(p)-(f-l)/6*r;n.push([g,_,m,y,d,p])}return{moveTo:i,path:n}},j=function(e){return(null==e?void 0:e.buffer)?decodeURIComponent(escape(String.fromCharCode.apply(String,Array.from(e)))):e},R=function(e){var t=e.type,r=e.attributes,o=j(r);return(t==m.f.Pencil||t==m.f.RealTime)&&JSON.parse(o||_.a.basicState.attributes).stroke},H=function(){return!!window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}},function(e,t){var r=Function.prototype,o=r.bind,i=r.call,n=o&&o.bind(i,i);e.exports=o?function(e){return e&&n(e)}:function(e){return e&&function(){return i.apply(e,arguments)}}},function(e,t,r){var o=r(4),i=r(73).f,n=r(40),a=r(29),s=r(124),c=r(176),u=r(116);e.exports=function(e,t){var r,l,d,p,h,f=e.target,g=e.global,_=e.stat;if(r=g?o:_?o[f]||s(f,{}):(o[f]||{}).prototype)for(l in t){if(p=t[l],d=e.noTargetGet?(h=i(r,l))&&h.value:r[l],!u(g?l:f+(_?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&n(p,"sham",!0),a(r,l,p,e)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return u}));r(60);var o,i=r(5),n=r(0),a=((o={})[n.j.ZegoWhiteboardViewErrorInternal]="内部错误",o[n.j.ZegoWhiteboardViewErrorParamInvalid]="参数错误",o[n.j.ZegoWhiteboardViewErrorNetworkTimeout]="网络超时",o[n.j.ZegoWhiteboardViewErrorNetworkDisconnect]="网络断开",o[n.j.ZegoWhiteboardViewErrorInvalidRsp]="网络回包错误",o[n.j.ZegoWhiteboardViewErrorRequestTooMany]="请求过于频繁",o[n.j.ZegoWhiteboardViewErrorNoLoginRoom]="未登录房间",o[n.j.ZegoWhiteboardViewErrorUserNotExist]="用户不存在",o[n.j.ZegoWhiteboardViewErrorViewNotExist]="白板view不存在",o[n.j.ZegoWhiteboardViewErrorViewCreateFail]="创建白板view失败",o[n.j.ZegoWhiteboardViewErrorViewModifyFail]="修改白板view失败",o[n.j.ZegoWhiteboardViewErrorViewNameLimit]="白板view名称或者content过长",o[n.j.ZegoWhiteboardViewErrorViewParentNotExist]="白板view的parent不存在",o[n.j.ZegoWhiteboardViewErrorViewNumLimit]="超过白板最大数量限制",o[n.j.ZegoWhiteboardViewErrorGraphicNotExist]="图元不存在",o[n.j.ZegoWhiteboardViewErrorGraphicCreateFail]="创建图元错误",o[n.j.ZegoWhiteboardViewErrorGraphicModifyFail]="修改图元错误",o[n.j.ZegoWhiteboardViewErrorGraphicUnableDraw]="未开启绘制",o[n.j.ZegoWhiteboardViewErrorGraphicDataLimit]="图元数据大小超过限制",o[n.j.ZegoWhiteboardViewErrorGraphicNumLimit]="超过图元最大数量限制",o[n.j.ZegoWhiteboardViewErrorGraphicTextLimit]="文本字数超过上限",o[n.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit]="图片图元大小超限制",o[n.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport]="不支持的图片类型",o[n.j.ZegoWhiteboardViewErrorGraphicIllegalUrl]="无效图片地址",o[n.j.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit]="光标设置偏移值超出限制",o[n.j.ZegoWhiteboardViewErrorInitFail]="初始化失败",o[n.j.ZegoWhiteboardViewErrorGetListFail]="拉取白板view列表失败",o[n.j.ZegoWhiteboardViewErrorCreateFail]="创建白板view失败",o[n.j.ZegoWhiteboardViewErrorDestroyFail]="销毁白板view失败",o[n.j.ZegoWhiteboardViewErrorAttachFail]="attach白板view失败",o[n.j.ZegoWhiteboardViewErrorClearFail]="清空白板view失败",o[n.j.ZegoWhiteboardViewErrorScrollFail]="滚动白板view失败",o[n.j.ZegoWhiteboardViewErrorUndoFail]="撤销操作失败",o[n.j.ZegoWhiteboardViewErrorRedoFail]="重做操作失败",o[n.j.ZegoWhiteboardViewErrorLogFolderNotAccess]="日志目录无法创建或写入",o[n.j.ZegoWhiteboardViewErrorCacheFolderNotAccess]="缓目录径无法创建或写入",o[n.j.ZegoWhiteboardViewErrorNoAuthScale]="无白板缩放权限",o[n.j.ZegoWhiteboardViewErrorNoAuthScroll]="无白板滚动权限",o[n.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic]="无图元创建权限",o[n.j.ZegoWhiteboardViewErrorNoAuthUpdateGraphic]="无图元编辑权限",o[n.j.ZegoWhiteboardViewErrorNoAuthMoveGraphic]="无图元移动权限",o[n.j.ZegoWhiteboardViewErrorNoAuthDeleteGraphic]="无图元删除权限",o[n.j.ZegoWhiteboardViewErrorNoAuthClearGraphic]="无白板清空权限",o),s={1003:n.j.ZegoWhiteboardViewErrorNoLoginRoom,1014:n.j.ZegoWhiteboardViewErrorUserNotExist,1101:n.j.ZegoWhiteboardViewErrorViewNotExist,1102:n.j.ZegoWhiteboardViewErrorViewCreateFail,1104:n.j.ZegoWhiteboardViewErrorViewModifyFail,1114:n.j.ZegoWhiteboardViewErrorViewNumLimit,1201:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,1202:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,1212:n.j.ZegoWhiteboardViewErrorGraphicCreateFail,1217:n.j.ZegoWhiteboardViewErrorGraphicDataLimit,1219:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,1222:n.j.ZegoWhiteboardViewErrorGraphicDataLimit,1223:n.j.ZegoWhiteboardViewErrorGraphicNumLimit,60003001:n.j.ZegoWhiteboardViewErrorInvalidRsp,10001e3:n.j.ZegoWhiteboardViewErrorInternal,10001001:n.j.ZegoWhiteboardViewErrorParamInvalid,110000001:n.j.ZegoWhiteboardViewErrorGraphicIllegalUrl,110000003:n.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport,110000004:n.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit,110000005:n.j.ZegoWhiteboardViewErrorGraphicIllegalUrl,110000007:n.j.ZegoWhiteboardViewErrorLogFolderNotAccess,110000008:n.j.ZegoWhiteboardViewErrorCacheFolderNotAccess,110000009:n.j.ZegoWhiteboardViewErrorViewNameLimit,111001001:n.j.ZegoWhiteboardViewErrorNetworkDisconnect,111001002:n.j.ZegoWhiteboardViewErrorNetworkTimeout,111101001:n.j.ZegoWhiteboardViewErrorRequestTooMany,112001003:n.j.ZegoWhiteboardViewErrorNoLoginRoom,112001014:n.j.ZegoWhiteboardViewErrorUserNotExist,112001101:n.j.ZegoWhiteboardViewErrorViewNotExist,112001102:n.j.ZegoWhiteboardViewErrorViewCreateFail,112001104:n.j.ZegoWhiteboardViewErrorViewModifyFail,112001114:n.j.ZegoWhiteboardViewErrorViewNumLimit,112001201:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,112001202:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,112001212:n.j.ZegoWhiteboardViewErrorGraphicCreateFail,112001217:n.j.ZegoWhiteboardViewErrorGraphicDataLimit,112001219:n.j.ZegoWhiteboardViewErrorGraphicModifyFail,112001222:n.j.ZegoWhiteboardViewErrorGraphicDataLimit,112001223:n.j.ZegoWhiteboardViewErrorGraphicNumLimit},c=function(e,t,r){return[1201,1202,1219,1212].includes(e),{code:e=s[e]||e,msg:t=a[e]&&r&&t?t:a[e]||t||a[n.j.ZegoWhiteboardViewErrorInternal]}},u=function(e,t,r){var o=c(e,t,r);return i.e.emit(i.b.Error,o),o}},function(e,t,r){var o=r(4),i=r(18),n=o.String,a=o.TypeError;e.exports=function(e){if(i(e))return e;throw a(n(e)+" is not an object")}},function(e,t,r){"use strict";var o,i,n,a=r(183),s=r(19),c=r(4),u=r(14),l=r(18),d=r(20),p=r(66),h=r(88),f=r(40),g=r(29),_=r(22).f,m=r(48),y=r(104),v=r(69),b=r(13),w=r(89),S=c.Int8Array,I=S&&S.prototype,x=c.Uint8ClampedArray,O=x&&x.prototype,E=S&&y(S),P=I&&y(I),k=Object.prototype,D=c.TypeError,T=b("toStringTag"),A=w("TYPED_ARRAY_TAG"),C=w("TYPED_ARRAY_CONSTRUCTOR"),B=a&&!!v&&"Opera"!==p(c.opera),N=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L={BigInt64Array:8,BigUint64Array:8},V=function(e){if(!l(e))return!1;var t=p(e);return d(M,t)||d(L,t)};for(o in M)(n=(i=c[o])&&i.prototype)?f(n,C,i):B=!1;for(o in L)(n=(i=c[o])&&i.prototype)&&f(n,C,i);if((!B||!u(E)||E===Function.prototype)&&(E=function(){throw D("Incorrect invocation")},B))for(o in M)c[o]&&v(c[o],E);if((!B||!P||P===k)&&(P=E.prototype,B))for(o in M)c[o]&&v(c[o].prototype,P);if(B&&y(O)!==P&&v(O,P),s&&!d(P,T))for(o in N=!0,_(P,T,{get:function(){return l(this)?this[A]:void 0}}),M)c[o]&&f(c[o],A,o);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_CONSTRUCTOR:C,TYPED_ARRAY_TAG:N&&A,aTypedArray:function(e){if(V(e))return e;throw D("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!v||m(E,e)))return e;throw D(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,o){if(s){if(r)for(var i in M){var n=c[i];if(n&&d(n.prototype,e))try{delete n.prototype[e]}catch(r){try{n.prototype[e]=t}catch(e){}}}P[e]&&!r||g(P,e,r?t:B&&I[e]||t,o)}},exportTypedArrayStaticMethod:function(e,t,r){var o,i;if(s){if(v){if(r)for(o in M)if((i=c[o])&&d(i,e))try{delete i[e]}catch(e){}if(E[e]&&!r)return;try{return g(E,e,r?t:B&&E[e]||t)}catch(e){}}for(o in M)!(i=c[o])||i[e]&&!r||g(i,e,t)}},isView:function(e){if(!l(e))return!1;var t=p(e);return"DataView"===t||d(M,t)||d(L,t)},isTypedArray:V,TypedArray:E,TypedArrayPrototype:P}},function(e,t,r){var o=r(4),i=r(100),n=r(20),a=r(89),s=r(122),c=r(173),u=i("wks"),l=o.Symbol,d=l&&l.for,p=c?l:l&&l.withoutSetter||a;e.exports=function(e){if(!n(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&n(l,e)?u[e]=l[e]:u[e]=c&&d?d(t):p(t)}return u[e]}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t){var r=Function.prototype.call;e.exports=r.bind?r.bind(r):function(){return r.apply(r,arguments)}},function(e,t,r){"use strict";e.exports=r(367)},function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return i}));var o,i,n=r(2),a=((o={30001:"请求过于频繁",60011:"token无效",60012:"token已过期",60013:"文档转换请求已处理",60014:"不存在的任务ID"})[n.b.ZegoDocsViewSuccess]="执行成功",o[n.b.ZegoDocsViewErrorInternal]="内部错误",o[n.b.ZegoDocsViewErrorParamInvalid]="参数错误",o[n.b.ZegoDocsViewErrorNetworkTimeout]="网络超时",o[n.b.ZegoDocsViewErrorRequestFailure]="请求失败",o[n.b.ZegoDocsViewErrorFileNotExist]="找不到对应的本地文件",o[n.b.ZegoDocsViewErrorUploadFailed]="上传失败",o[n.b.ZegoDocsViewErrorUnsupportRenderType]="不支持渲染模式",o[n.b.ZegoDocsViewErrorFileEncrypt]="文件被加密",o[n.b.ZegoDocsViewErrorFileSizeLimit]="文件内容过大",o[n.b.ZegoDocsViewErrorFileSheetLimit]="文件页数过多",o[n.b.ZegoDocsViewErrorConvertFail]="格式转换失败",o[n.b.ZegoDocsViewErrorConvertCancel]="格式转换被取消",o[n.b.ZegoDocsViewErrorFileContentEmpty]="文件内容为空",o[n.b.ZegoDocsViewErrorFileReadOnly]="文件为只读模式",o[n.b.ZegoDocsViewErrorConvertElementNotSupported]="源文件中存在不支持转码的元素",o[n.b.ZegoDocsViewErrorConvertFileTypeInvalid]="文件后缀名不匹配",o[n.b.ZegoDocsViewErrorConvertFileUnsafe]="源文件中存在安全隐患，无法正常打开",o[n.b.ZegoDocsViewErrorConvertElementNotExported]="转码结束后存在图片、音视频文件未正常导出",o[n.b.ZegoDocsViewErrorFileCorruption]="文件损坏",o[n.b.ZegoDocsViewErrorFileContentIncomplete]="文件内容不完整",o[n.b.ZegoDocsViewErrorAuthParamInvalid]="认证参数错误",o[n.b.ZegoDocsViewErrorFilePathNotAccess]="路径权限不足",o[n.b.ZegoDocsViewErrorInitFailed]="初始化失败",o[n.b.ZegoDocsViewErrorSizeInvalid]="无法获取当前 view 宽高",o[n.b.ZegoDocsViewErrorFreeSpaceLimit]="本地空间不足",o[n.b.ZegoDocsViewErrorUploadNotSupported]="不支持文件上传功能",o[n.b.ZegoDocsViewErrorUploadDuplicated]="正在上传相同文件",o[n.b.ZegoDocsViewErrorEmptyDomain]="空域名",o[n.b.ZegoDocsViewErrorHaveInit]="已初始化",o[n.b.ZegoDocsViewErrorServerFileNotExist]="找不到对应的转码后文件",o[n.b.ZegoDocsViewErrorCacheNotSupported]="当前 AppID 不支持动态 PPT 预加载",o[n.b.ZegoDocsViewErrorCacheFailed]="预加载失败",o[n.b.ZegoDocsViewErrorZipFileInvalid]="无效的 ZIP 文件",o[n.b.ZegoDocsViewErrorH5FileInvalid]="无效的 H5 文件，不符合 ZEGO 定义的 H5 文件规范",o),s={4:n.b.ZegoDocsViewErrorParamInvalid,32:n.b.ZegoDocsViewErrorConvertFail,64:n.b.ZegoDocsViewErrorConvertCancel,128:n.b.ZegoDocsViewErrorFileEncrypt,256:n.b.ZegoDocsViewErrorFileSizeLimit,512:n.b.ZegoDocsViewErrorFileSheetLimit,1024:n.b.ZegoDocsViewErrorFileContentEmpty,8192:n.b.ZegoDocsViewErrorFileReadOnly,32768:n.b.ZegoDocsViewErrorConvertElementNotSupported,32769:n.b.ZegoDocsViewErrorConvertFileTypeInvalid,32773:n.b.ZegoDocsViewErrorFileCorruption,32774:n.b.ZegoDocsViewErrorFileContentIncomplete,60002:n.b.ZegoDocsViewErrorFileNotExist,60011:n.b.ZegoDocsViewErrorAuthParamInvalid,60013:n.b.ZegoDocsViewErrorConvertCancel,60015:n.b.ZegoDocsViewErrorUnsupportRenderType,60016:n.b.ZegoDocsViewErrorFileSizeLimit,60018:n.b.ZegoDocsViewErrorServerFileNotExist,60021:n.b.ZegoDocsViewErrorUnsupportRenderType,60036:n.b.ZegoDocsViewErrorZipFileInvalid,60037:n.b.ZegoDocsViewErrorFileEncrypt,60038:n.b.ZegoDocsViewErrorH5FileInvalid,"-102":n.b.ZegoDocsViewErrorNetworkTimeout,"-105":n.b.ZegoDocsViewErrorFileNotExist,"-108":n.b.ZegoDocsViewErrorUnsupportRenderType,"-109":n.b.ZegoDocsViewErrorUploadFailed,"-110":n.b.ZegoDocsViewErrorFilePathNotAccess,"-114":n.b.ZegoDocsViewErrorCacheFailed,"-115":n.b.ZegoDocsViewErrorFreeSpaceLimit,"-116":n.b.ZegoDocsViewErrorInitFailed,"-117":n.b.ZegoDocsViewErrorFileSizeLimit,"-118":n.b.ZegoDocsViewErrorUploadNotSupported,"-119":n.b.ZegoDocsViewErrorUploadDuplicated,"-120":n.b.ZegoDocsViewErrorUnsupportRenderType,"-121":n.b.ZegoDocsViewErrorEmptyDomain,"-123":n.b.ZegoDocsViewErrorFileContentEmpty,"-124":n.b.ZegoDocsViewErrorFilePathNotAccess,"-125":n.b.ZegoDocsViewErrorCacheNotSupported,"-126":n.b.ZegoDocsViewErrorFileEncrypt,"-127":n.b.ZegoDocsViewErrorZipFileInvalid,"-128":n.b.ZegoDocsViewErrorFileEncrypt,"-129":n.b.ZegoDocsViewErrorH5FileInvalid,"-130":n.b.ZegoDocsViewErrorConvertElementNotSupported,"-131":n.b.ZegoDocsViewErrorConvertFileTypeInvalid,"-132":n.b.ZegoDocsViewErrorConvertFileTypeInvalid,"-999998":n.b.ZegoDocsViewErrorSizeInvalid,"-999999":n.b.ZegoDocsViewErrorParamInvalid},c=function(e,t){return{code:e=s[e]||e,message:t=a[e]||t||a[n.b.ZegoDocsViewErrorInternal]}};!function(e){e[e.ZegoWhiteboardViewErrorNoAuthScroll=3050002]="ZegoWhiteboardViewErrorNoAuthScroll"}(i||(i={}))},function(e,t,r){var o=r(14);e.exports=function(e){return"object"==typeof e?null!==e:o(e)}},function(e,t,r){var o=r(9);e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,r){var o=r(7),i=r(25),n=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return n(i(e),t)}},function(e,t){e.exports=!1},function(e,t,r){var o=r(4),i=r(19),n=r(174),a=r(175),s=r(11),c=r(86),u=o.TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor;t.f=i?a?function(e,t,r){if(s(e),t=c(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var o=d(e,t);o&&o.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:o.configurable,enumerable:"enumerable"in r?r.enumerable:o.enumerable,writable:!1})}return l(e,t,r)}:l:function(e,t,r){if(s(e),t=c(t),s(r),n)try{return l(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var o=r(4),i=r(66),n=o.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return n(e)}},function(e,t,r){var o=r(42);e.exports=function(e){return o(e.length)}},function(e,t,r){var o=r(4),i=r(44),n=o.Object;e.exports=function(e){return n(i(e))}},function(e,t,r){"use strict";var o,i;r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i})),function(e){e.Docs="zegoeventdocs",e.Whiteboard="zegoeventwb"}(o||(o={})),function(e){e.WbInit="wbinit",e.WbDragTool="wbdragtool",e.WbScale="wbscale",e.WbDestroy="wbdestroy",e.WbSwitch="wbSwitch",e.WbError="wberror",e.Snapshot="snapshot",e.Page="page",e.Step="step",e.SyncDrag="syncDrag",e.Animation="targetclick",e.H5Snapshot="getH5SnapshotResult",e.DocsAspect="getAspectCache",e.ReloadView="reloadview",e.ClearEvent="clearEvent"}(i||(i={}))},function(e,t,r){var o=r(31),i=r(7),n=r(85),a=r(25),s=r(24),c=r(134),u=i([].push),l=function(e){var t=1==e,r=2==e,i=3==e,l=4==e,d=6==e,p=7==e,h=5==e||d;return function(f,g,_,m){for(var y,v,b=a(f),w=n(b),S=o(g,_),I=s(w),x=0,O=m||c,E=t?O(f,I):r||p?O(f,0):void 0;I>x;x++)if((h||x in w)&&(v=S(y=w[x],x,b),e))if(t)E[x]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return x;case 2:u(E,y)}else switch(e){case 4:return!1;case 7:u(E,y)}return d?-1:i||l?l:E}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(e,t,r){var o=r(4),i=r(14),n=r(88),a=o.TypeError;e.exports=function(e){if(i(e))return e;throw a(n(e)+" is not a function")}},function(e,t,r){var o=r(4),i=r(14),n=r(20),a=r(40),s=r(124),c=r(108),u=r(43),l=r(91).CONFIGURABLE,d=u.get,p=u.enforce,h=String(String).split("String");(e.exports=function(e,t,r,c){var u,d=!!c&&!!c.unsafe,f=!!c&&!!c.enumerable,g=!!c&&!!c.noTargetGet,_=c&&void 0!==c.name?c.name:t;i(r)&&("Symbol("===String(_).slice(0,7)&&(_="["+String(_).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!n(r,"name")||l&&r.name!==_)&&a(r,"name",_),(u=p(r)).source||(u.source=h.join("string"==typeof _?_:""))),e!==o?(d?!g&&e[t]&&(f=!0):delete e[t],f?e[t]=r:a(e,t,r)):f?e[t]=r:s(t,r)})(Function.prototype,"toString",(function(){return i(this)&&d(this).source||c(this)}))},function(e,t,r){var o=r(127),i=r(29),n=r(250);o||i(Object.prototype,"toString",n,{unsafe:!0})},function(e,t,r){var o=r(7),i=r(28),n=o(o.bind);e.exports=function(e,t){return i(e),void 0===t?e:n?n(e,t):function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";var o,i,n,a,s,c,u;r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"a",(function(){return u})),function(e){e[e.ZegoWhiteboardViewSuccess=0]="ZegoWhiteboardViewSuccess",e[e.ZegoWhiteboardViewErrorInternal=3000001]="ZegoWhiteboardViewErrorInternal",e[e.ZegoWhiteboardViewErrorParamInvalid=3000002]="ZegoWhiteboardViewErrorParamInvalid",e[e.ZegoWhiteboardViewErrorNetworkTimeout=3000003]="ZegoWhiteboardViewErrorNetworkTimeout",e[e.ZegoWhiteboardViewErrorNetworkDisconnect=3000004]="ZegoWhiteboardViewErrorNetworkDisconnect",e[e.ZegoWhiteboardViewErrorInvalidRsp=3000005]="ZegoWhiteboardViewErrorInvalidRsp",e[e.ZegoWhiteboardViewErrorRequestTooMany=3000006]="ZegoWhiteboardViewErrorRequestTooMany",e[e.ZegoWhiteboardViewErrorVersionMismatch=3000007]="ZegoWhiteboardViewErrorVersionMismatch",e[e.ZegoWhiteboardViewErrorNoLoginRoom=3010001]="ZegoWhiteboardViewErrorNoLoginRoom",e[e.ZegoWhiteboardViewErrorUserNotExist=3010002]="ZegoWhiteboardViewErrorUserNotExist",e[e.ZegoWhiteboardViewErrorViewNotExist=3020001]="ZegoWhiteboardViewErrorViewNotExist",e[e.ZegoWhiteboardViewErrorViewCreateFail=3020002]="ZegoWhiteboardViewErrorViewCreateFail",e[e.ZegoWhiteboardViewErrorViewModifyFail=3020003]="ZegoWhiteboardViewErrorViewModifyFail",e[e.ZegoWhiteboardViewErrorViewNameLimit=3020004]="ZegoWhiteboardViewErrorViewNameLimit",e[e.ZegoWhiteboardViewErrorViewParentNotExist=3020005]="ZegoWhiteboardViewErrorViewParentNotExist",e[e.ZegoWhiteboardViewErrorViewNumLimit=3020006]="ZegoWhiteboardViewErrorViewNumLimit",e[e.ZegoWhiteboardViewErrorAnimationInfoLimit=3020007]="ZegoWhiteboardViewErrorAnimationInfoLimit",e[e.ZegoWhiteboardViewErrorGraphicNotExist=3030001]="ZegoWhiteboardViewErrorGraphicNotExist",e[e.ZegoWhiteboardViewErrorGraphicCreateFail=3030002]="ZegoWhiteboardViewErrorGraphicCreateFail",e[e.ZegoWhiteboardViewErrorGraphicModifyFail=3030003]="ZegoWhiteboardViewErrorGraphicModifyFail",e[e.ZegoWhiteboardViewErrorGraphicUnableDraw=3030004]="ZegoWhiteboardViewErrorGraphicUnableDraw",e[e.ZegoWhiteboardViewErrorGraphicDataLimit=3030005]="ZegoWhiteboardViewErrorGraphicDataLimit",e[e.ZegoWhiteboardViewErrorGraphicNumLimit=3030006]="ZegoWhiteboardViewErrorGraphicNumLimit",e[e.ZegoWhiteboardViewErrorGraphicTextLimit=3030007]="ZegoWhiteboardViewErrorGraphicTextLimit",e[e.ZegoWhiteboardViewErrorGraphicImageSizeLimit=3030008]="ZegoWhiteboardViewErrorGraphicImageSizeLimit",e[e.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport=3030009]="ZegoWhiteboardViewErrorGraphicImageTypeNotSupport",e[e.ZegoWhiteboardViewErrorGraphicIllegalUrl=3030010]="ZegoWhiteboardViewErrorGraphicIllegalUrl",e[e.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit=3030011]="ZegoWhiteboardViewErrorGraphicCursorOffsetLimit",e[e.ZegoWhiteboardViewErrorInitFail=3040001]="ZegoWhiteboardViewErrorInitFail",e[e.ZegoWhiteboardViewErrorGetListFail=3040002]="ZegoWhiteboardViewErrorGetListFail",e[e.ZegoWhiteboardViewErrorCreateFail=3040003]="ZegoWhiteboardViewErrorCreateFail",e[e.ZegoWhiteboardViewErrorDestroyFail=3040004]="ZegoWhiteboardViewErrorDestroyFail",e[e.ZegoWhiteboardViewErrorAttachFail=3040005]="ZegoWhiteboardViewErrorAttachFail",e[e.ZegoWhiteboardViewErrorClearFail=3040006]="ZegoWhiteboardViewErrorClearFail",e[e.ZegoWhiteboardViewErrorScrollFail=3040007]="ZegoWhiteboardViewErrorScrollFail",e[e.ZegoWhiteboardViewErrorUndoFail=3040008]="ZegoWhiteboardViewErrorUndoFail",e[e.ZegoWhiteboardViewErrorRedoFail=3040009]="ZegoWhiteboardViewErrorRedoFail",e[e.ZegoWhiteboardViewErrorLogFolderNotAccess=3040010]="ZegoWhiteboardViewErrorLogFolderNotAccess",e[e.ZegoWhiteboardViewErrorCacheFolderNotAccess=3040011]="ZegoWhiteboardViewErrorCacheFolderNotAccess",e[e.ZegoWhiteboardViewErrorNoAuthScale=3050001]="ZegoWhiteboardViewErrorNoAuthScale",e[e.ZegoWhiteboardViewErrorNoAuthScroll=3050002]="ZegoWhiteboardViewErrorNoAuthScroll",e[e.ZegoWhiteboardViewErrorNoAuthCreateGraphic=3050003]="ZegoWhiteboardViewErrorNoAuthCreateGraphic",e[e.ZegoWhiteboardViewErrorNoAuthUpdateGraphic=3050004]="ZegoWhiteboardViewErrorNoAuthUpdateGraphic",e[e.ZegoWhiteboardViewErrorNoAuthMoveGraphic=3050005]="ZegoWhiteboardViewErrorNoAuthMoveGraphic",e[e.ZegoWhiteboardViewErrorNoAuthDeleteGraphic=3050006]="ZegoWhiteboardViewErrorNoAuthDeleteGraphic",e[e.ZegoWhiteboardViewErrorNoAuthClearGraphic=3050007]="ZegoWhiteboardViewErrorNoAuthClearGraphic"}(o||(o={})),function(e){e[e.ZegoWhiteboardViewToolPen=1]="ZegoWhiteboardViewToolPen",e[e.ZegoWhiteboardViewToolText=2]="ZegoWhiteboardViewToolText",e[e.ZegoWhiteboardViewToolLine=4]="ZegoWhiteboardViewToolLine",e[e.ZegoWhiteboardViewToolRect=8]="ZegoWhiteboardViewToolRect",e[e.ZegoWhiteboardViewToolEllipse=16]="ZegoWhiteboardViewToolEllipse",e[e.ZegoWhiteboardViewToolSelector=32]="ZegoWhiteboardViewToolSelector",e[e.ZegoWhiteboardViewToolEraser=64]="ZegoWhiteboardViewToolEraser",e[e.ZegoWhiteboardViewToolLaser=128]="ZegoWhiteboardViewToolLaser",e[e.ZegoWhiteboardViewToolClick=256]="ZegoWhiteboardViewToolClick",e[e.ZegoWhitebaordViewToolCustomImage=512]="ZegoWhitebaordViewToolCustomImage"}(i||(i={})),function(e){e[e.ZegoWhiteboardOperationModeNone=1]="ZegoWhiteboardOperationModeNone",e[e.ZegoWhiteboardOperationModeScroll=2]="ZegoWhiteboardOperationModeScroll",e[e.ZegoWhiteboardOperationModeDraw=4]="ZegoWhiteboardOperationModeDraw",e[e.ZegoWhiteboardOperationModeZoom=8]="ZegoWhiteboardOperationModeZoom"}(n||(n={})),function(e){e[e.ZegoWhiteboardViewImageGraphic=0]="ZegoWhiteboardViewImageGraphic",e[e.ZegoWhiteboardViewImageCustom=1]="ZegoWhiteboardViewImageCustom"}(a||(a={})),function(e){e[e.ZegoWhiteboardViewImageFitModeLeft=0]="ZegoWhiteboardViewImageFitModeLeft",e[e.ZegoWhiteboardViewImageFitModeRight=1]="ZegoWhiteboardViewImageFitModeRight",e[e.ZegoWhiteboardViewImageFitModeBottom=2]="ZegoWhiteboardViewImageFitModeBottom",e[e.ZegoWhiteboardViewImageFitModeTop=3]="ZegoWhiteboardViewImageFitModeTop",e[e.ZegoWhiteboardViewImageFitModeCenter=4]="ZegoWhiteboardViewImageFitModeCenter"}(s||(s={})),function(e){e[e.Center=0]="Center",e[e.Horizontal=1]="Horizontal",e[e.Vertical=2]="Vertical"}(c||(c={})),function(e){e[e.pen=1]="pen"}(u||(u={}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return d})),r.d(t,"a",(function(){return u}));var o,i,n,a,s,c,u,l=15e3,d=36e5;!function(e){e[e.TXT=0]="TXT",e[e.MD=1]="MD",e[e.C=2]="C",e[e.CPP=3]="CPP",e[e.H=4]="H",e[e.HPP=5]="HPP",e[e.PY=6]="PY",e[e.JS=7]="JS",e[e.XML=8]="XML"}(o||(o={})),function(e){e[e.JPG=0]="JPG",e[e.JPEG=1]="JPEG",e[e.PNG=2]="PNG",e[e.BMP=3]="BMP",e[e.SVG=4]="SVG",e[e.HEIC=5]="HEIC"}(i||(i={})),function(e){e[e.PDF=0]="PDF"}(n||(n={})),function(e){e[e.XLSX=0]="XLSX",e[e.XLS=1]="XLS"}(a||(a={})),function(e){e[e.DOC=0]="DOC",e[e.DOCX=1]="DOCX"}(s||(s={})),function(e){e[e.PPT=0]="PPT",e[e.PPTX=1]="PPTX"}(c||(c={})),function(e){e[e.PPT=1]="PPT",e[e.DOC=2]="DOC",e[e.ELS=4]="ELS",e[e.PDF=8]="PDF",e[e.IMG=16]="IMG",e[e.TXT=32]="TXT",e[e.H5=64]="H5",e[e.H5PDF=128]="H5PDF",e[e.IMGAndPDF=256]="IMGAndPDF",e[e.PPTH5=512]="PPTH5",e[e.H5ZIP=4096]="H5ZIP"}(u||(u={}))},function(e,t,r){var o=r(4),i=r(31),n=r(15),a=r(11),s=r(88),c=r(139),u=r(24),l=r(48),d=r(119),p=r(98),h=r(214),f=o.TypeError,g=function(e,t){this.stopped=e,this.result=t},_=g.prototype;e.exports=function(e,t,r){var o,m,y,v,b,w,S,I=r&&r.that,x=!(!r||!r.AS_ENTRIES),O=!(!r||!r.IS_ITERATOR),E=!(!r||!r.INTERRUPTED),P=i(t,I),k=function(e){return o&&h(o,"normal",e),new g(!0,e)},D=function(e){return x?(a(e),E?P(e[0],e[1],k):P(e[0],e[1])):E?P(e,k):P(e)};if(O)o=e;else{if(!(m=p(e)))throw f(s(e)+" is not iterable");if(c(m)){for(y=0,v=u(e);v>y;y++)if((b=D(e[y]))&&l(_,b))return b;return new g(!1)}o=d(e,m)}for(w=o.next;!(S=n(w,o)).done;){try{b=D(S.value)}catch(e){h(o,"throw",e)}if("object"==typeof b&&b&&l(_,b))return b}return new g(!1)}},function(e,t,r){var o=r(4),i=r(14),n=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?n(o[e]):o[e]&&o[e][t]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));r(171);var o=r(62),i="docservice",n="docservice-base",a="/doc/query_status",s="/doc/cvt_doc",c="/doc/cancel_cvt",u="/doc/access",l="/doc/upload_file",d=["https://"+i+"."+o.a.host.main,"https://"+n+"."+o.a.host.main],p={queryStatusUrl:""+d[0]+a,createCvtUrl:""+d[0]+s,cancelCvtUrl:""+d[0]+c,queryUrl:""+d[0]+u,uploadH5Url:""+d[0]+l},h={API_Label:"/doc/",Try_Time:6,updateFullURL:function(){return p={queryStatusUrl:""+d[0]+a,createCvtUrl:""+d[0]+s,cancelCvtUrl:""+d[0]+c,queryUrl:""+d[0]+u,uploadH5Url:""+d[0]+l}},updateOriginList:function(e,t,r){return d="-alpha"===e||"-test"===e?["https://docservice"+e+"."+o.a.host.main]:t?[r]:["https://"+i+"."+o.a.host.main,"https://"+n+"."+o.a.host.main],h.updateFullURL(),d},switchOrigin:function(){return d.reverse(),h.updateFullURL(),d},getOriginList:function(){return d},getFileLimit:function(){return o.a.file_type_size_limit},getFullURL:function(){return p}}},function(e,t,r){var o=r(85),i=r(44);e.exports=function(e){return o(i(e))}},function(e,t,r){"use strict";var o=r(37),i=r(110),n=r(87),a=r(43),s=r(22).f,c=r(128),u=r(21),l=r(19),d=a.set,p=a.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){d(this,{type:"Array Iterator",target:o(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,r=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:o,done:!1}:"values"==r?{value:t[o],done:!1}:{value:[o,t[o]],done:!1}}),"values");var h=n.Arguments=n.Array;if(i("keys"),i("values"),i("entries"),!u&&l&&"values"!==h.name)try{s(h,"name",{value:"values"})}catch(e){}},function(e,t,r){"use strict";var o=r(218),i=Object.prototype.toString;function n(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),n(e))for(var r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function r(r,o){"object"==typeof t[o]&&"object"==typeof r?t[o]=e(t[o],r):t[o]=r}for(var o=0,i=arguments.length;o<i;o++)u(arguments[o],r);return t},deepMerge:function e(){var t={};function r(r,o){"object"==typeof t[o]&&"object"==typeof r?t[o]=e(t[o],r):t[o]="object"==typeof r?e({},r):r}for(var o=0,i=arguments.length;o<i;o++)u(arguments[o],r);return t},extend:function(e,t,r){return u(t,(function(t,i){e[i]=r&&"function"==typeof t?o(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){var o=r(19),i=r(22),n=r(65);e.exports=o?function(e,t,r){return i.f(e,t,n(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){var r=Math.ceil,o=Math.floor;e.exports=function(e){var t=+e;return t!=t||0===t?0:(t>0?o:r)(t)}},function(e,t,r){var o=r(41),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},function(e,t,r){var o,i,n,a=r(242),s=r(4),c=r(7),u=r(18),l=r(40),d=r(20),p=r(123),h=r(101),f=r(90),g=s.TypeError,_=s.WeakMap;if(a||p.state){var m=p.state||(p.state=new _),y=c(m.get),v=c(m.has),b=c(m.set);o=function(e,t){if(v(m,e))throw new g("Object already initialized");return t.facade=e,b(m,e,t),t},i=function(e){return y(m,e)||{}},n=function(e){return v(m,e)}}else{var w=h("state");f[w]=!0,o=function(e,t){if(d(e,w))throw new g("Object already initialized");return t.facade=e,l(e,w,t),t},i=function(e){return d(e,w)?e[w]:{}},n=function(e){return d(e,w)}}e.exports={set:o,get:i,has:n,enforce:function(e){return n(e)?i(e):o(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},function(e,t,r){var o=r(4).TypeError;e.exports=function(e){if(null==e)throw o("Can't call method on "+e);return e}},function(e,t,r){var o=r(8),i=r(199);o({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,r){"use strict";var o=r(8),i=r(102);o({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,r){"use strict";r.d(t,"e",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return p})),r.d(t,"a",(function(){return h})),r.d(t,"h",(function(){return f})),r.d(t,"o",(function(){return g})),r.d(t,"j",(function(){return _})),r.d(t,"k",(function(){return m})),r.d(t,"n",(function(){return y})),r.d(t,"l",(function(){return v})),r.d(t,"m",(function(){return b})),r.d(t,"i",(function(){return w}));r(46),r(331),r(332),r(60),r(61),r(268);var o=r(3),i=r(10),n=r(0),a=function(e){return/^#[0-9a-fA-F]{6}|rgba?\(*.+\d\)$/.test(e)};function s(){return o.a.basicState.type||null}function c(){return o.a.basicState.color}function u(){return o.a.basicState.size}function l(){return o.a.basicState.fontSize}function d(){return JSON.parse(o.a.basicState.attributes).bold}function p(){return JSON.parse(o.a.basicState.attributes).italic}function h(){return o.a.basicState.bgColor}function f(){return JSON.parse(o.a.basicState.attributes).stroke}function g(e){return!e||Object.keys(n.k).includes(String(e))?(o.a.basicState.type=e||0,!0):(Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid),!1)}function _(e){return a(e)?(o.a.basicState.color=e,!0):(Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误：color仅支持16进制、rgba",!0),!1)}function m(e){return/^([1-9]|[1-9]\d|100)$/.test(""+(t=e))&&"number"==typeof t?(o.a.basicState.size=e,!0):(Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误: 画笔粗细为100内的正整数",!0),!1);var t}function y(e){return/^([1-9]|[1-9]\d|100)$/.test(""+(t=e))&&"number"==typeof t?(o.a.basicState.fontSize=e,!0):(Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误: 文本大小为100内的正整数",!0),!1);var t}function v(e){if("boolean"!=typeof e)return Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid),!1;var t=o.a.basicState.attributes,r=JSON.parse(t);return r.bold=e,o.a.basicState.attributes=JSON.stringify(r),!0}function b(e){if("boolean"!=typeof e)return Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid),!1;var t=o.a.basicState.attributes,r=JSON.parse(t);return r.italic=e,o.a.basicState.attributes=JSON.stringify(r),!0}function w(e){return a(e)?(o.a.basicState.bgColor=e,!0):(Object(i.a)(n.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误: color仅支持16进制、rgba",!0),!1)}},function(e,t,r){var o=r(7);e.exports=o({}.isPrototypeOf)},function(e,t,r){"use strict";var o=r(137).charAt,i=r(23),n=r(43),a=r(128),s=n.set,c=n.getterFor("String Iterator");a(String,"String",(function(e){s(this,{type:"String Iterator",string:i(e),index:0})}),(function(){var e,t=c(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=o(r,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,r){var o;e.exports=(o=o||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),o={},i=o.lib={},n=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,o=this.sigBytes,i=e.sigBytes;if(this.clamp(),o%4)for(var n=0;n<i;n++){var a=r[n>>>2]>>>24-n%4*8&255;t[o+n>>>2]|=a<<24-(o+n)%4*8}else for(n=0;n<i;n+=4)t[o+n>>>2]=r[n>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,o=[],i=function(t){t=t;var r=987654321,o=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&o)<<16)+(t=18e3*(65535&t)+(t>>16)&o)&o;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},n=0;n<t;n+=4){var s=i(4294967296*(r||e.random()));r=987654071*s(),o.push(4294967296*s()|0)}return new a.init(o,t)}}),s=o.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,o=[],i=0;i<r;i++){var n=t[i>>>2]>>>24-i%4*8&255;o.push((n>>>4).toString(16)),o.push((15&n).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,r=[],o=0;o<t;o+=2)r[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new a.init(r,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,o=[],i=0;i<r;i++){var n=t[i>>>2]>>>24-i%4*8&255;o.push(String.fromCharCode(n))}return o.join("")},parse:function(e){for(var t=e.length,r=[],o=0;o<t;o++)r[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new a.init(r,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,o=r.words,i=r.sigBytes,n=this.blockSize,s=i/(4*n),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*n,u=e.min(4*c,i);if(c){for(var l=0;l<c;l+=n)this._doProcessBlock(o,l);var d=o.splice(0,c);r.sigBytes-=u}return new a.init(d,u)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(i.Hasher=d.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}}),o.algo={});return o}(Math),o)},function(e,t,r){var o,i=r(11),n=r(133),a=r(125),s=r(90),c=r(194),u=r(107),l=r(101),d=l("IE_PROTO"),p=function(){},h=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{o=new ActiveXObject("htmlfile")}catch(e){}var e,t;g="undefined"!=typeof document?document.domain&&o?f(o):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):f(o);for(var r=a.length;r--;)delete g.prototype[a[r]];return g()};s[d]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(p.prototype=i(e),r=new p,p.prototype=null,r[d]=e):r=g(),void 0===t?r:n.f(r,t)}},function(e,t,r){"use strict";var o=r(8),i=r(186);o({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,r){var o=r(4),i=r(188),n=r(189),a=r(186),s=r(40),c=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var u in i)i[u]&&c(o[u]&&o[u].prototype);c(n)},function(e,t,r){var o=r(15);e.exports=function(e){return o(Map.prototype.entries,e)}},function(e,t,r){var o=r(7),i=o({}.toString),n=o("".slice);e.exports=function(e){return n(i(e),8,-1)}},function(e,t,r){var o=r(35);e.exports=o("navigator","userAgent")||""},function(e,t,r){var o=r(41),i=Math.max,n=Math.min;e.exports=function(e,t){var r=o(e);return r<0?i(r+t,0):n(r,t)}},function(e,t){var r=Function.prototype,o=r.apply,i=r.bind,n=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?n.bind(o):function(){return n.apply(o,arguments)})},function(e,t,r){"use strict";var o,i,n,a,s=r(8),c=r(21),u=r(4),l=r(35),d=r(15),p=r(273),h=r(29),f=r(117),g=r(69),_=r(64),m=r(140),y=r(28),v=r(14),b=r(18),w=r(78),S=r(108),I=r(34),x=r(118),O=r(71),E=r(215).set,P=r(274),k=r(277),D=r(278),T=r(217),A=r(279),C=r(280),B=r(43),N=r(116),M=r(13),L=r(281),V=r(141),j=r(77),R=M("species"),H="Promise",q=B.getterFor(H),z=B.set,F=B.getterFor(H),Z=p&&p.prototype,W=p,U=Z,G=u.TypeError,J=u.document,Y=u.process,X=T.f,Q=X,K=!!(J&&J.createEvent&&u.dispatchEvent),$=v(u.PromiseRejectionEvent),ee=!1,te=N(H,(function(){var e=S(W),t=e!==String(W);if(!t&&66===j)return!0;if(c&&!U.finally)return!0;if(j>=51&&/native code/.test(e))return!1;var r=new W((function(e){e(1)})),o=function(e){e((function(){}),(function(){}))};return(r.constructor={})[R]=o,!(ee=r.then((function(){}))instanceof o)||!t&&L&&!$})),re=te||!x((function(e){W.all(e).catch((function(){}))})),oe=function(e){var t;return!(!b(e)||!v(t=e.then))&&t},ie=function(e,t){var r,o,i,n=t.value,a=1==t.state,s=a?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{s?(a||(2===t.rejection&&ue(t),t.rejection=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),i=!0)),r===e.promise?u(G("Promise-chain cycle")):(o=oe(r))?d(o,r,c,u):c(r)):u(n)}catch(e){l&&!i&&l.exit(),u(e)}},ne=function(e,t){e.notified||(e.notified=!0,P((function(){for(var r,o=e.reactions;r=o.get();)ie(r,e);e.notified=!1,t&&!e.rejection&&se(e)})))},ae=function(e,t,r){var o,i;K?((o=J.createEvent("Event")).promise=t,o.reason=r,o.initEvent(e,!1,!0),u.dispatchEvent(o)):o={promise:t,reason:r},!$&&(i=u["on"+e])?i(o):"unhandledrejection"===e&&D("Unhandled promise rejection",r)},se=function(e){d(E,u,(function(){var t,r=e.facade,o=e.value;if(ce(e)&&(t=A((function(){V?Y.emit("unhandledRejection",o,r):ae("unhandledrejection",r,o)})),e.rejection=V||ce(e)?2:1,t.error))throw t.value}))},ce=function(e){return 1!==e.rejection&&!e.parent},ue=function(e){d(E,u,(function(){var t=e.facade;V?Y.emit("rejectionHandled",t):ae("rejectionhandled",t,e.value)}))},le=function(e,t,r){return function(o){e(t,o,r)}},de=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,ne(e,!0))},pe=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw G("Promise can't be resolved itself");var o=oe(t);o?P((function(){var r={done:!1};try{d(o,t,le(pe,r,e),le(de,r,e))}catch(t){de(r,t,e)}})):(e.value=t,e.state=1,ne(e,!1))}catch(t){de({done:!1},t,e)}}};if(te&&(U=(W=function(e){w(this,U),y(e),d(o,this);var t=q(this);try{e(le(pe,t),le(de,t))}catch(e){de(t,e)}}).prototype,(o=function(e){z(this,{type:H,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=f(U,{then:function(e,t){var r=F(this),o=X(O(this,W));return r.parent=!0,o.ok=!v(e)||e,o.fail=v(t)&&t,o.domain=V?Y.domain:void 0,0==r.state?r.reactions.add(o):P((function(){ie(o,r)})),o.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new o,t=q(e);this.promise=e,this.resolve=le(pe,t),this.reject=le(de,t)},T.f=X=function(e){return e===W||e===n?new i(e):Q(e)},!c&&v(p)&&Z!==Object.prototype)){a=Z.then,ee||(h(Z,"then",(function(e,t){var r=this;return new W((function(e,t){d(a,r,e,t)})).then(e,t)}),{unsafe:!0}),h(Z,"catch",U.catch,{unsafe:!0}));try{delete Z.constructor}catch(e){}g&&g(Z,U)}s({global:!0,wrap:!0,forced:te},{Promise:W}),_(W,H,!1,!0),m(H),n=l(H),s({target:H,stat:!0,forced:te},{reject:function(e){var t=X(this);return d(t.reject,void 0,e),t.promise}}),s({target:H,stat:!0,forced:c||te},{resolve:function(e){return k(c&&this===n?W:this,e)}}),s({target:H,stat:!0,forced:re},{all:function(e){var t=this,r=X(t),o=r.resolve,i=r.reject,n=A((function(){var r=y(t.resolve),n=[],a=0,s=1;I(e,(function(e){var c=a++,u=!1;s++,d(r,t,e).then((function(e){u||(u=!0,n[c]=e,--s||o(n))}),i)})),--s||o(n)}));return n.error&&i(n.value),r.promise},race:function(e){var t=this,r=X(t),o=r.reject,i=A((function(){var i=y(t.resolve);I(e,(function(e){d(i,t,e).then(r.resolve,o)}))}));return i.error&&o(i.value),r.promise}})},function(e,t,r){"use strict";var o=r(8),i=r(93).includes,n=r(110);o({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},function(e,t,r){"use strict";var o=r(8),i=r(7),n=r(234),a=r(44),s=r(23),c=r(235),u=i("".indexOf);o({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(s(a(this)),s(n(e)),arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var o={host:{main:"zego.im"},ca_root:"http://flexible.zego.im/root/cert.2017",save_local:1,max_virtual_page_size:31457280,virtual_page_count:3,file_type_size_limit:[[1,524288e3],[2,104857600],[4,10485760],[8,104857600],[16,104857600],[32,2097152],[4096,52428800]],dynamicPPT_config:{retry_time:1,timeout:60}}},function(e,t,r){"use strict";r.d(t,"f",(function(){return b})),r.d(t,"e",(function(){return w})),r.d(t,"c",(function(){return S})),r.d(t,"b",(function(){return I})),r.d(t,"a",(function(){return x})),r.d(t,"d",(function(){return O})),r.d(t,"g",(function(){return P}));r(46),r(204),r(113),r(96),r(38),r(144),r(30),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(167),r(168),r(169),r(72),r(187),r(75),r(80),r(52),r(53),r(131),r(59),r(171);var o=r(269),i=r.n(o),n=r(232),a=r.n(n),s=r(121),c=r.n(s),u=r(270),l=r.n(u),d=r(50),p=r.n(d),h=r(33),f=r(17),g=r(2),_=r(1),m=a.a.parse("89c78c018ed563571a3024342073c002"),y=a.a.parse("0d9d89c53bd0a086834b411fe8387946"),v={},b=function(e){return e&&!isNaN(e)&&/^[1-9]\d*$/.test(String(e))},w=function(){return!!window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},S=function(e){var t=g.c.ZegoDocsViewFileTypeUnknown,r=("string"==typeof e?e:e.name).split(".").pop();switch(r?r.toUpperCase():r){case"XLSX":case"XLS":t=g.c.ZegoDocsViewFileTypeELS;break;case"DOC":case"DOCX":t=g.c.ZegoDocsViewFileTypeDOC;break;case"PPT":case"PPTX":t=g.c.ZegoDocsViewFileTypePPT;break;case"TXT":case"MD":case"C":case"CPP":case"H":case"HPP":case"PY":case"JS":case"XML":t=g.c.ZegoDocsViewFileTypeTXT;break;case"PDF":t=g.c.ZegoDocsViewFileTypePDF;break;case"JPG":case"JPEG":case"PNG":case"BMP":case"SVG":case"HEIC":t=g.c.ZegoDocsViewFileTypeIMG;break;case"ZIP":t=g.c.ZegoDocsViewFileTypeCustomH5}return _.a.getInstance().info(["DocsView_Service"],"getFileType",JSON.stringify({result:t})),t},I=function(e,t){var r;switch(e){case g.d.ZegoDocsViewRenderTypeVector:r=h.a.PDF;break;case g.d.ZegoDocsViewRenderTypeIMG:case g.d.ZegoDocsViewRenderTypeVectorAndIMG:r=t===g.c.ZegoDocsViewFileTypeIMG?h.a.IMG:h.a.IMGAndPDF;break;case g.d.ZegoDocsViewRenderTypeDynamicPPTH5:r=h.a.PPTH5;break;default:r=h.a.IMGAndPDF}return r};var x=function(e){var t=function(e){for(var t=e.length,r=[],o=0;o<t;o++)r[o>>>2]|=(255&e[o])<<24-o%4*8;return p.a.lib.WordArray.create(r,t)}(e).toString(c.a);return function(e){for(var t=e.words,r=e.sigBytes,o=new Uint8Array(r),i=0;i<r;i++){var n=t[i>>>2]>>>24-i%4*8&255;o[i]=n}return o}(i.a.decrypt(t,m,{iv:y,mode:p.a.mode.CBC,padding:l.a}))},O=function(e,t){var r=g.c.ZegoDocsViewFileTypeDynamicPPTH5,o=t.file_type,i=t.expect_file_type,n=t.file_name,a=t.width,s=t.height,c=t.split_file_list,u=t.file_urls,l=i===r?r:o,d=l===g.c.ZegoDocsViewFileTypeELS,p={file_id:e,file_name:n,file_type:l,width:a,height:s,file_size:t.file_size,file_hash:t.file_hash,expect_file_type:i,file_urls:u,notes:t.notes||[],thumbnails:t.thumbnails||[],cdn_hosts:t.cdn_hosts||[],preload:t.preload||[]};if(c){var h=1;p.file_list=c.map((function(e){var r={};if(d){var o=Math.floor(e.width),i=Math.floor(e.height);r.name=n,r.file_name=e.file_name.replace(/\.[a-zA-Z]+$/,""),r.page_count=e.file_urls.length,r.page_list=e.file_urls.map((function(e,t){return{width:o,height:i,src:e,virtual_page_list:[{width:o,height:i,virtual_page_number:t+h}]}})),h+=e.file_urls.length}else{var a=0,s=[];e.split_data.forEach((function(e){e.page_data.forEach((function(e){for(var t=Math.floor(e[0]),r=Math.floor(e[1]),o=e[3],i=0;i<o;i++)s.push({width:t,height:r,src:u[a++],virtual_page_list:[{width:t,height:r,virtual_page_number:a}]})}))})),r.file_name=n,r.page_count=t.page_count,r.page_list=s}return r}))}else p.file_list=[{file_name:n,page_count:t.page_count,page_list:u.map((function(e,t){return{width:a,height:s,src:e,virtual_page_list:[{width:a,height:s,virtual_page_number:t+1}]}}))}];return p};function E(e,t,r){var o,i=v;if(e&&t.length){i[e]=1;var n=(t.findIndex((function(t){return t===e}))+1)%t.length;if(!i[t[n]]){var a=t[n],s=new XMLHttpRequest;if(s.open("GET",a+"/"+r,!1),s.onreadystatechange=function(){if(4==s.readyState)if(200!=s.status){o=!1;var e={status:s.status,src:a+r};_.a.getInstance().info(["DocsView_Service"],"preload_h5_cdn",JSON.stringify({error:e}))}else o=!0},s.send(null),!o)return!1}return!0}return!1}var P=function(e){return new Promise((function(t,r){if((e.expect_file_type===g.c.ZegoDocsViewFileTypeDynamicPPTH5||e.expect_file_type===g.c.ZegoDocsViewFileTypeCustomH5)&&e.preload){e.preload.slide_files||t({totalFileNum:0,failedFileNum:0});var o=0,i=0,n=e.file_urls[0].replace("index.html",""),a=e.cdn_hosts.reverse();e.preload.slide_files.forEach((function(e){for(var t in e)e[t].forEach((function(e){var t=new XMLHttpRequest;t.open("GET",n+e.rel,!1),t.onreadystatechange=function(){if(4==t.readyState&&(o++,200!=t.status)){var r={status:t.status,src:n+e.rel};_.a.getInstance().info(["DocsView_Service"],"preload_h5",JSON.stringify({error:r})),!E(n,a,e.rel)&&i++}},t.send(null)}))})),t({totalFileNum:o,failedFileNum:i})}else r(Object(f.b)(g.b.ZegoDocsViewErrorCacheNotSupported))}))}},function(e,t,r){var o=r(22).f,i=r(20),n=r(13)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,n)&&o(e,n,{configurable:!0,value:t})}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var o=r(4),i=r(127),n=r(14),a=r(55),s=r(13)("toStringTag"),c=o.Object,u="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=c(e),s))?r:u?a(t):"Object"==(o=a(t))&&n(t.callee)?"Arguments":o}},function(e,t,r){var o=r(4),i=r(188),n=r(189),a=r(38),s=r(40),c=r(13),u=c("iterator"),l=c("toStringTag"),d=a.values,p=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(t){e[u]=d}if(e[l]||s(e,l,t),i[t])for(var r in a)if(e[r]!==a[r])try{s(e,r,a[r])}catch(t){e[r]=a[r]}}};for(var h in i)p(o[h]&&o[h].prototype,h);p(n,"DOMTokenList")},function(e,t,r){var o=r(177),i=r(125).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},function(e,t,r){var o=r(7),i=r(11),n=r(248);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=o(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,o){return i(r),n(o),t?e(r,o):r.__proto__=o,r}}():void 0)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var o=r(11),i=r(180),n=r(13)("species");e.exports=function(e,t){var r,a=o(e).constructor;return void 0===a||null==(r=o(a)[n])?t:i(r)}},function(e,t,r){var o=r(7),i=r(29),n=Date.prototype,a=o(n.toString),s=o(n.getTime);"Invalid Date"!=String(new Date(NaN))&&i(n,"toString",(function(){var e=s(this);return e==e?a(this):"Invalid Date"}))},function(e,t,r){var o=r(19),i=r(15),n=r(114),a=r(65),s=r(37),c=r(86),u=r(20),l=r(174),d=Object.getOwnPropertyDescriptor;t.f=o?d:function(e,t){if(e=s(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i(n.f,e,t),e[t])}},function(e,t,r){var o=r(7);e.exports=o([].slice)},function(e,t,r){"use strict";var o=r(8),i=r(27).map;o({target:"Array",proto:!0,forced:!r(103)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var o=r(9);e.exports=function(e,t){var r=[][e];return!!r&&o((function(){r.call(null,t||function(){throw 1},1)}))}},function(e,t,r){var o,i,n=r(4),a=r(56),s=n.process,c=n.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(i=(o=l.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!i&&a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(i=+o[1]),e.exports=i},function(e,t,r){var o=r(4),i=r(48),n=o.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw n("Incorrect invocation")}},function(e,t,r){var o=r(8),i=r(4),n=r(58),a=r(14),s=r(56),c=r(74),u=/MSIE .\./.test(s),l=i.Function,d=function(e){return function(t,r){var o=arguments.length>2,i=o?c(arguments,2):void 0;return e(o?function(){n(a(t)?t:l(t),this,i)}:t,r)}};o({global:!0,bind:!0,forced:u},{setTimeout:d(i.setTimeout),setInterval:d(i.setInterval)})},function(e,t,r){"use strict";var o=r(58),i=r(15),n=r(7),a=r(135),s=r(9),c=r(11),u=r(14),l=r(41),d=r(42),p=r(23),h=r(44),f=r(136),g=r(81),_=r(300),m=r(138),y=r(13)("replace"),v=Math.max,b=Math.min,w=n([].concat),S=n([].push),I=n("".indexOf),x=n("".slice),O="$0"==="a".replace(/./,"$0"),E=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(e,t,r){var n=E?"$":"$0";return[function(e,r){var o=h(this),n=null==e?void 0:g(e,y);return n?i(n,e,o,r):i(t,p(o),e,r)},function(e,i){var a=c(this),s=p(e);if("string"==typeof i&&-1===I(i,n)&&-1===I(i,"$<")){var h=r(t,a,s,i);if(h.done)return h.value}var g=u(i);g||(i=p(i));var y=a.global;if(y){var O=a.unicode;a.lastIndex=0}for(var E=[];;){var P=m(a,s);if(null===P)break;if(S(E,P),!y)break;""===p(P[0])&&(a.lastIndex=f(s,d(a.lastIndex),O))}for(var k,D="",T=0,A=0;A<E.length;A++){for(var C=p((P=E[A])[0]),B=v(b(l(P.index),s.length),0),N=[],M=1;M<P.length;M++)S(N,void 0===(k=P[M])?k:String(k));var L=P.groups;if(g){var V=w([C],N,B,s);void 0!==L&&S(V,L);var j=p(o(i,void 0,V))}else j=_(C,s,B,N,L,i);B>=T&&(D+=x(s,T,B)+j,T=B+C.length)}return D+x(s,T)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!O||E)},function(e,t,r){var o=r(28);e.exports=function(e,t){var r=e[t];return null==r?void 0:o(r)}},function(e,t,r){"use strict";var o=r(8),i=r(4),n=r(35),a=r(58),s=r(15),c=r(7),u=r(21),l=r(19),d=r(122),p=r(9),h=r(20),f=r(94),g=r(14),_=r(18),m=r(48),y=r(92),v=r(11),b=r(25),w=r(37),S=r(86),I=r(23),x=r(65),O=r(51),E=r(109),P=r(68),k=r(196),D=r(126),T=r(73),A=r(22),C=r(133),B=r(114),N=r(74),M=r(29),L=r(100),V=r(101),j=r(90),R=r(89),H=r(13),q=r(190),z=r(191),F=r(64),Z=r(43),W=r(27).forEach,U=V("hidden"),G=H("toPrimitive"),J=Z.set,Y=Z.getterFor("Symbol"),X=Object.prototype,Q=i.Symbol,K=Q&&Q.prototype,$=i.TypeError,ee=i.QObject,te=n("JSON","stringify"),re=T.f,oe=A.f,ie=k.f,ne=B.f,ae=c([].push),se=L("symbols"),ce=L("op-symbols"),ue=L("string-to-symbol-registry"),le=L("symbol-to-string-registry"),de=L("wks"),pe=!ee||!ee.prototype||!ee.prototype.findChild,he=l&&p((function(){return 7!=O(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a}))?function(e,t,r){var o=re(X,t);o&&delete X[t],oe(e,t,r),o&&e!==X&&oe(X,t,o)}:oe,fe=function(e,t){var r=se[e]=O(K);return J(r,{type:"Symbol",tag:e,description:t}),l||(r.description=t),r},ge=function(e,t,r){e===X&&ge(ce,t,r),v(e);var o=S(t);return v(r),h(se,o)?(r.enumerable?(h(e,U)&&e[U][o]&&(e[U][o]=!1),r=O(r,{enumerable:x(0,!1)})):(h(e,U)||oe(e,U,x(1,{})),e[U][o]=!0),he(e,o,r)):oe(e,o,r)},_e=function(e,t){v(e);var r=w(t),o=E(r).concat(be(r));return W(o,(function(t){l&&!s(me,r,t)||ge(e,t,r[t])})),e},me=function(e){var t=S(e),r=s(ne,this,t);return!(this===X&&h(se,t)&&!h(ce,t))&&(!(r||!h(this,t)||!h(se,t)||h(this,U)&&this[U][t])||r)},ye=function(e,t){var r=w(e),o=S(t);if(r!==X||!h(se,o)||h(ce,o)){var i=re(r,o);return!i||!h(se,o)||h(r,U)&&r[U][o]||(i.enumerable=!0),i}},ve=function(e){var t=ie(w(e)),r=[];return W(t,(function(e){h(se,e)||h(j,e)||ae(r,e)})),r},be=function(e){var t=e===X,r=ie(t?ce:w(e)),o=[];return W(r,(function(e){!h(se,e)||t&&!h(X,e)||ae(o,se[e])})),o};(d||(M(K=(Q=function(){if(m(K,this))throw $("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?I(arguments[0]):void 0,t=R(e),r=function(e){this===X&&s(r,ce,e),h(this,U)&&h(this[U],t)&&(this[U][t]=!1),he(this,t,x(1,e))};return l&&pe&&he(X,t,{configurable:!0,set:r}),fe(t,e)}).prototype,"toString",(function(){return Y(this).tag})),M(Q,"withoutSetter",(function(e){return fe(R(e),e)})),B.f=me,A.f=ge,C.f=_e,T.f=ye,P.f=k.f=ve,D.f=be,q.f=function(e){return fe(H(e),e)},l&&(oe(K,"description",{configurable:!0,get:function(){return Y(this).description}}),u||M(X,"propertyIsEnumerable",me,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Q}),W(E(de),(function(e){z(e)})),o({target:"Symbol",stat:!0,forced:!d},{for:function(e){var t=I(e);if(h(ue,t))return ue[t];var r=Q(t);return ue[t]=r,le[r]=t,r},keyFor:function(e){if(!y(e))throw $(e+" is not a symbol");if(h(le,e))return le[e]},useSetter:function(){pe=!0},useSimple:function(){pe=!1}}),o({target:"Object",stat:!0,forced:!d,sham:!l},{create:function(e,t){return void 0===t?O(e):_e(O(e),t)},defineProperty:ge,defineProperties:_e,getOwnPropertyDescriptor:ye}),o({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:ve,getOwnPropertySymbols:be}),o({target:"Object",stat:!0,forced:p((function(){D.f(1)}))},{getOwnPropertySymbols:function(e){return D.f(b(e))}}),te)&&o({target:"JSON",stat:!0,forced:!d||p((function(){var e=Q();return"[null]"!=te([e])||"{}"!=te({a:e})||"{}"!=te(Object(e))}))},{stringify:function(e,t,r){var o=N(arguments),i=t;if((_(t)||void 0!==e)&&!y(e))return f(t)||(t=function(e,t){if(g(i)&&(t=s(i,this,e,t)),!y(t))return t}),o[1]=t,a(te,null,o)}});if(!K[G]){var we=K.valueOf;M(K,G,(function(e){return s(we,this)}))}F(Q,"Symbol"),j[U]=!0},function(e,t,r){"use strict";var o=r(8),i=r(19),n=r(4),a=r(7),s=r(20),c=r(14),u=r(48),l=r(23),d=r(22).f,p=r(176),h=n.Symbol,f=h&&h.prototype;if(i&&c(h)&&(!("description"in f)||void 0!==h().description)){var g={},_=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(f,this)?new h(e):void 0===e?h():h(e);return""===e&&(g[t]=!0),t};p(_,h),_.prototype=f,f.constructor=_;var m="Symbol(test)"==String(h("test")),y=a(f.toString),v=a(f.valueOf),b=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),S=a("".slice);d(f,"description",{configurable:!0,get:function(){var e=v(this),t=y(e);if(s(g,e))return"";var r=m?S(t,7,-1):w(t,b,"$1");return""===r?void 0:r}}),o({global:!0,forced:!0},{Symbol:_})}},function(e,t,r){r(191)("iterator")},function(e,t,r){var o=r(4),i=r(7),n=r(9),a=r(55),s=o.Object,c=i("".split);e.exports=n((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?c(e,""):s(e)}:s},function(e,t,r){var o=r(198),i=r(92);e.exports=function(e){var t=o(e,"string");return i(t)?t:t+""}},function(e,t){e.exports={}},function(e,t,r){var o=r(4).String;e.exports=function(e){try{return o(e)}catch(e){return"Object"}}},function(e,t,r){var o=r(7),i=0,n=Math.random(),a=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+n,36)}},function(e,t){e.exports={}},function(e,t,r){var o=r(19),i=r(20),n=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,s=i(n,"name"),c=s&&"something"===function(){}.name,u=s&&(!o||o&&a(n,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},function(e,t,r){var o=r(4),i=r(35),n=r(14),a=r(48),s=r(173),c=o.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return n(t)&&a(t.prototype,c(e))}},function(e,t,r){var o=r(37),i=r(57),n=r(24),a=function(e){return function(t,r,a){var s,c=o(t),u=n(c),l=i(a,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,r){var o=r(55);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,r){var o=r(4),i=r(57),n=r(24),a=r(97),s=o.Array,c=Math.max;e.exports=function(e,t,r){for(var o=n(e),u=i(t,o),l=i(void 0===r?o:r,o),d=s(c(l-u,0)),p=0;u<l;u++,p++)a(d,p,e[u]);return d.length=p,d}},function(e,t,r){"use strict";var o=r(58),i=r(15),n=r(7),a=r(135),s=r(195),c=r(11),u=r(44),l=r(71),d=r(136),p=r(42),h=r(23),f=r(81),g=r(95),_=r(138),m=r(102),y=r(179),v=r(9),b=y.UNSUPPORTED_Y,w=Math.min,S=[].push,I=n(/./.exec),x=n(S),O=n("".slice);a("split",(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=h(u(this)),a=void 0===r?4294967295:r>>>0;if(0===a)return[];if(void 0===e)return[n];if(!s(e))return i(t,n,e,a);for(var c,l,d,p=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),_=0,y=new RegExp(e.source,f+"g");(c=i(m,y,n))&&!((l=y.lastIndex)>_&&(x(p,O(n,_,c.index)),c.length>1&&c.index<n.length&&o(S,p,g(c,1)),d=c[0].length,_=l,p.length>=a));)y.lastIndex===c.index&&y.lastIndex++;return _===n.length?!d&&I(y,"")||x(p,""):x(p,O(n,_)),p.length>a?g(p,0,a):p}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:i(t,this,e,r)}:t,[function(t,r){var o=u(this),a=null==t?void 0:f(t,e);return a?i(a,t,o,r):i(n,h(o),t,r)},function(e,o){var i=c(this),a=h(e),s=r(n,i,a,o,n!==t);if(s.done)return s.value;var u=l(i,RegExp),f=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(b?"g":"y"),m=new u(b?"^(?:"+i.source+")":i,g),y=void 0===o?4294967295:o>>>0;if(0===y)return[];if(0===a.length)return null===_(m,a)?[a]:[];for(var v=0,S=0,I=[];S<a.length;){m.lastIndex=b?0:S;var E,P=_(m,b?O(a,S):a);if(null===P||(E=w(p(m.lastIndex+(b?S:0)),a.length))===v)S=d(a,S,f);else{if(x(I,O(a,v,S)),I.length===y)return I;for(var k=1;k<=P.length-1;k++)if(x(I,P[k]),I.length===y)return I;S=v=E}}return x(I,O(a,v)),I}]}),!!v((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),b)},function(e,t,r){"use strict";var o=r(86),i=r(22),n=r(65);e.exports=function(e,t,r){var a=o(t);a in e?i.f(e,a,n(0,r)):e[a]=r}},function(e,t,r){var o=r(66),i=r(81),n=r(87),a=r(13)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||n[o(e)]}},function(e,t,r){"use strict";var o=r(19),i=r(4),n=r(7),a=r(116),s=r(29),c=r(20),u=r(142),l=r(48),d=r(92),p=r(198),h=r(9),f=r(68).f,g=r(73).f,_=r(22).f,m=r(267),y=r(259).trim,v=i.Number,b=v.prototype,w=i.TypeError,S=n("".slice),I=n("".charCodeAt),x=function(e){var t=p(e,"number");return"bigint"==typeof t?t:O(t)},O=function(e){var t,r,o,i,n,a,s,c,u=p(e,"number");if(d(u))throw w("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=y(u),43===(t=I(u,0))||45===t){if(88===(r=I(u,2))||120===r)return NaN}else if(48===t){switch(I(u,1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+u}for(a=(n=S(u,2)).length,s=0;s<a;s++)if((c=I(n,s))<48||c>i)return NaN;return parseInt(n,o)}return+u};if(a("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var E,P=function(e){var t=arguments.length<1?0:v(x(e)),r=this;return l(b,r)&&h((function(){m(r)}))?u(Object(t),r,P):t},k=o?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),D=0;k.length>D;D++)c(v,E=k[D])&&!c(P,E)&&_(P,E,g(v,E));P.prototype=b,b.constructor=P,s(i,"Number",P)}},function(e,t,r){var o=r(21),i=r(123);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.20.2",mode:o?"pure":"global",copyright:"© 2022 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var o=r(100),i=r(89),n=o("keys");e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){"use strict";var o,i,n=r(15),a=r(7),s=r(23),c=r(178),u=r(179),l=r(100),d=r(51),p=r(43).get,h=r(244),f=r(245),g=l("native-string-replace",String.prototype.replace),_=RegExp.prototype.exec,m=_,y=a("".charAt),v=a("".indexOf),b=a("".replace),w=a("".slice),S=(i=/b*/g,n(_,o=/a/,"a"),n(_,i,"a"),0!==o.lastIndex||0!==i.lastIndex),I=u.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(S||x||I||h||f)&&(m=function(e){var t,r,o,i,a,u,l,h=this,f=p(h),O=s(e),E=f.raw;if(E)return E.lastIndex=h.lastIndex,t=n(m,E,O),h.lastIndex=E.lastIndex,t;var P=f.groups,k=I&&h.sticky,D=n(c,h),T=h.source,A=0,C=O;if(k&&(D=b(D,"y",""),-1===v(D,"g")&&(D+="g"),C=w(O,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==y(O,h.lastIndex-1))&&(T="(?: "+T+")",C=" "+C,A++),r=new RegExp("^(?:"+T+")",D)),x&&(r=new RegExp("^"+T+"$(?!\\s)",D)),S&&(o=h.lastIndex),i=n(_,k?r:h,C),k?i?(i.input=w(i.input,A),i[0]=w(i[0],A),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:S&&i&&(h.lastIndex=h.global?i.index+i[0].length:o),x&&i&&i.length>1&&n(g,i[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&P)for(i.groups=u=d(null),a=0;a<P.length;a++)u[(l=P[a])[0]]=i[l[1]];return i}),e.exports=m},function(e,t,r){var o=r(9),i=r(13),n=r(77),a=i("species");e.exports=function(e){return n>=51||!o((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,r){var o=r(4),i=r(20),n=r(14),a=r(25),s=r(101),c=r(247),u=s("IE_PROTO"),l=o.Object,d=l.prototype;e.exports=c?l.getPrototypeOf:function(e){var t=a(e);if(i(t,u))return t[u];var r=t.constructor;return n(r)&&t instanceof r?r.prototype:t instanceof l?d:null}},function(e,t,r){var o=r(12),i=r(71),n=o.TYPED_ARRAY_CONSTRUCTOR,a=o.aTypedArrayConstructor;e.exports=function(e){return a(i(e,e[n]))}},function(e,t,r){"use strict";var o=r(8),i=r(27).filter;o({target:"Array",proto:!0,forced:!r(103)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var o=r(4),i=r(18),n=o.document,a=i(n)&&i(n.createElement);e.exports=function(e){return a?n.createElement(e):{}}},function(e,t,r){var o=r(7),i=r(14),n=r(123),a=o(Function.toString);i(n.inspectSource)||(n.inspectSource=function(e){return a(e)}),e.exports=n.inspectSource},function(e,t,r){var o=r(177),i=r(125);e.exports=Object.keys||function(e){return o(e,i)}},function(e,t,r){var o=r(13),i=r(51),n=r(22),a=o("unscopables"),s=Array.prototype;null==s[a]&&n.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,r){"use strict";var o=r(8),i=r(7),n=r(93).indexOf,a=r(76),s=i([].indexOf),c=!!s&&1/s([1],1,-0)<0,u=a("indexOf");o({target:"Array",proto:!0,forced:c||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?s(this,e,t)||0:n(this,e,t)}})},function(e,t,r){var o=r(7),i=r(9),n=r(14),a=r(66),s=r(35),c=r(108),u=function(){},l=[],d=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=o(p.exec),f=!p.exec(u),g=function(e){if(!n(e))return!1;try{return d(u,l,e),!0}catch(e){return!1}},_=function(e){if(!n(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(p,c(e))}catch(e){return!0}};_.sham=!0,e.exports=!d||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?_:g},function(e,t,r){var o=r(19),i=r(91).EXISTS,n=r(7),a=r(22).f,s=Function.prototype,c=n(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=n(u.exec);o&&!i&&a(s,"name",{configurable:!0,get:function(){try{return l(u,c(this))[1]}catch(e){return""}}})},function(e,t,r){"use strict";var o={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!o.call({1:2},1);t.f=n?function(e){var t=i(this,e);return!!t&&t.enumerable}:o},function(e,t,r){"use strict";var o=r(8),i=r(7),n=r(85),a=r(37),s=r(76),c=i([].join),u=n!=Object,l=s("join",",");o({target:"Array",proto:!0,forced:u||!l},{join:function(e){return c(a(this),void 0===e?",":e)}})},function(e,t,r){var o=r(9),i=r(14),n=/#|\.prototype\./,a=function(e,t){var r=c[s(e)];return r==l||r!=u&&(i(t)?o(t):!!t)},s=a.normalize=function(e){return String(e).replace(n,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},function(e,t,r){var o=r(29);e.exports=function(e,t,r){for(var i in t)o(e,i,t[i],r);return e}},function(e,t,r){var o=r(13)("iterator"),i=!1;try{var n=0,a={next:function(){return{done:!!n++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var n={};n[o]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}},function(e,t,r){var o=r(4),i=r(15),n=r(28),a=r(11),s=r(88),c=r(98),u=o.TypeError;e.exports=function(e,t){var r=arguments.length<2?c(e):t;if(n(r))return a(i(r,e));throw u(s(e)+" is not iterable")}},function(e,t,r){"use strict";var o=r(8),i=r(4),n=r(57),a=r(41),s=r(24),c=r(25),u=r(134),l=r(97),d=r(103)("splice"),p=i.TypeError,h=Math.max,f=Math.min;o({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var r,o,i,d,g,_,m=c(this),y=s(m),v=n(e,y),b=arguments.length;if(0===b?r=o=0:1===b?(r=0,o=y-v):(r=b-2,o=f(h(a(t),0),y-v)),y+r-o>9007199254740991)throw p("Maximum allowed length exceeded");for(i=u(m,o),d=0;d<o;d++)(g=v+d)in m&&l(i,d,m[g]);if(i.length=o,r<o){for(d=v;d<y-o;d++)_=d+r,(g=d+o)in m?m[_]=m[g]:delete m[_];for(d=y;d>y-o+r;d--)delete m[d-1]}else if(r>o)for(d=y-o;d>v;d--)_=d+r-1,(g=d+o-1)in m?m[_]=m[g]:delete m[_];for(d=0;d<r;d++)m[d+v]=arguments[d+2];return m.length=y-o+r,i}})},function(e,t,r){var o,i,n;e.exports=(n=r(50),i=(o=n).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,o=this._map;e.clamp();for(var i=[],n=0;n<r;n+=3)for(var a=(t[n>>>2]>>>24-n%4*8&255)<<16|(t[n+1>>>2]>>>24-(n+1)%4*8&255)<<8|t[n+2>>>2]>>>24-(n+2)%4*8&255,s=0;s<4&&n+.75*s<r;s++)i.push(o.charAt(a>>>6*(3-s)&63));var c=o.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,r=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var n=0;n<r.length;n++)o[r.charCodeAt(n)]=n}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,r){for(var o=[],n=0,a=0;a<t;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2,c=r[e.charCodeAt(a)]>>>6-a%4*2;o[n>>>2]|=(s|c)<<24-n%4*8,n++}return i.create(o,n)}(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)},function(e,t,r){var o=r(77),i=r(9);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},function(e,t,r){var o=r(4),i=r(124),n=o["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=n},function(e,t,r){var o=r(4),i=Object.defineProperty;e.exports=function(e,t){try{i(o,e,{value:t,configurable:!0,writable:!0})}catch(r){o[e]=t}return t}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var o={};o[r(13)("toStringTag")]="z",e.exports="[object z]"===String(o)},function(e,t,r){"use strict";var o=r(8),i=r(15),n=r(21),a=r(91),s=r(14),c=r(200),u=r(104),l=r(69),d=r(64),p=r(40),h=r(29),f=r(13),g=r(87),_=r(181),m=a.PROPER,y=a.CONFIGURABLE,v=_.IteratorPrototype,b=_.BUGGY_SAFARI_ITERATORS,w=f("iterator"),S=function(){return this};e.exports=function(e,t,r,a,f,_,I){c(r,t,a);var x,O,E,P=function(e){if(e===f&&C)return C;if(!b&&e in T)return T[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},k=t+" Iterator",D=!1,T=e.prototype,A=T[w]||T["@@iterator"]||f&&T[f],C=!b&&A||P(f),B="Array"==t&&T.entries||A;if(B&&(x=u(B.call(new e)))!==Object.prototype&&x.next&&(n||u(x)===v||(l?l(x,v):s(x[w])||h(x,w,S)),d(x,k,!0,!0),n&&(g[k]=S)),m&&"values"==f&&A&&"values"!==A.name&&(!n&&y?p(T,"name","values"):(D=!0,C=function(){return i(A,this)})),f)if(O={values:P("values"),keys:_?C:P("keys"),entries:P("entries")},I)for(E in O)(b||D||!(E in T))&&h(T,E,O[E]);else o({target:t,proto:!0,forced:b||D},O);return n&&!I||T[w]===C||h(T,w,C,{name:f}),g[t]=C,O}},function(e,t,r){"use strict";var o=r(25),i=r(57),n=r(24);e.exports=function(e){for(var t=o(this),r=n(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),c=a>2?arguments[2]:void 0,u=void 0===c?r:i(c,r);u>s;)t[s++]=e;return t}},function(e,t,r){"use strict";var o=r(8),i=r(4),n=r(94),a=r(112),s=r(18),c=r(57),u=r(24),l=r(37),d=r(97),p=r(13),h=r(103),f=r(74),g=h("slice"),_=p("species"),m=i.Array,y=Math.max;o({target:"Array",proto:!0,forced:!g},{slice:function(e,t){var r,o,i,p=l(this),h=u(p),g=c(e,h),v=c(void 0===t?h:t,h);if(n(p)&&(r=p.constructor,(a(r)&&(r===m||n(r.prototype))||s(r)&&null===(r=r[_]))&&(r=void 0),r===m||void 0===r))return f(p,g,v);for(o=new(void 0===r?m:r)(y(v-g,0)),i=0;g<v;g++,i++)g in p&&d(o,i,p[g]);return o.length=i,o}})},function(e,t,r){"use strict";var o=r(8),i=r(27).findIndex,n=r(110),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),o({target:"Array",proto:!0,forced:a},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("findIndex")},function(e,t,r){"use strict";r.d(t,"b",(function(){return h})),r.d(t,"a",(function(){return f}));r(72),r(329),r(75),r(30),r(59);var o=r(229),i=r.n(o),n=r(121),a=r.n(n),s=r(230),c=r.n(s),u=r(231),l=r.n(u),d=r(62),p=function(e,t){return a.a.stringify(c()(t,e))},h=function(e){var t=Math.max.apply(Math,d.a.file_type_size_limit.map((function(e){return e[1]})))/1024/1024,r=e.access_key_id,o=e.access_key_secret,n=e.bucket_name,a=e.security_token,s=e.endpoint,c=e.object_name,u=e.timeout,l=void 0===u?1:u,h=e.maxSize,f=function(e,t){var r=new Date;r.setHours(r.getHours()+e);var o={expiration:r.toISOString(),conditions:[["content-length-range",0,1024*t*1024]]};return i.a.Base64.encode(JSON.stringify(o))}(l,void 0===h?t:h);return{url:"https://"+n+"."+s,signature:p(o,f),securityToken:a,policy:f,key:c,OSSAccessKeyId:r,successActionStatus:"200",objectName:c}},f=function(e){return new Promise((function(t,r){try{var o=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,i=Math.ceil(e.size/1048576),n=new l.a.ArrayBuffer,a=0,s=new FileReader;s.onload=function(){var e=s.result||s.content;e?(n.append(e),++a<i?c():t(n.end())):r({code:2020006,message:"文件内容为空"})},s.onerror=function(){r({code:2010001,message:"找不到对应的本地文件"})};var c=function(){var t=1048576*a,r=t+1048576>=e.size?e.size:t+1048576,i=o.call(e,t,r);s.readAsArrayBuffer(i)};c()}catch(e){r(e)}}))}},function(e,t,r){var o=r(19),i=r(175),n=r(22),a=r(11),s=r(37),c=r(109);t.f=o&&!i?Object.defineProperties:function(e,t){a(e);for(var r,o=s(t),i=c(t),u=i.length,l=0;u>l;)n.f(e,r=i[l++],o[r]);return e}},function(e,t,r){var o=r(246);e.exports=function(e,t){return new(o(e))(0===t?0:t)}},function(e,t,r){"use strict";r(46);var o=r(7),i=r(29),n=r(102),a=r(9),s=r(13),c=r(40),u=s("species"),l=RegExp.prototype;e.exports=function(e,t,r,d){var p=s(e),h=!a((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=h&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!h||!f||r){var g=o(/./[p]),_=t(p,""[e],(function(e,t,r,i,a){var s=o(e),c=t.exec;return c===n||c===l.exec?h&&!a?{done:!0,value:g(t,r,i)}:{done:!0,value:s(r,t,i)}:{done:!1}}));i(String.prototype,e,_[0]),i(l,p,_[1])}d&&c(l[p],"sham",!0)}},function(e,t,r){"use strict";var o=r(137).charAt;e.exports=function(e,t,r){return t+(r?o(e,t).length:1)}},function(e,t,r){var o=r(7),i=r(41),n=r(23),a=r(44),s=o("".charAt),c=o("".charCodeAt),u=o("".slice),l=function(e){return function(t,r){var o,l,d=n(a(t)),p=i(r),h=d.length;return p<0||p>=h?e?"":void 0:(o=c(d,p))<55296||o>56319||p+1===h||(l=c(d,p+1))<56320||l>57343?e?s(d,p):o:e?u(d,p,p+2):l-56320+(o-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},function(e,t,r){var o=r(4),i=r(15),n=r(11),a=r(14),s=r(55),c=r(102),u=o.TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var o=i(r,e,t);return null!==o&&n(o),o}if("RegExp"===s(e))return i(c,e,t);throw u("RegExp#exec called on incompatible receiver")}},function(e,t,r){var o=r(13),i=r(87),n=o("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[n]===e)}},function(e,t,r){"use strict";var o=r(35),i=r(22),n=r(13),a=r(19),s=n("species");e.exports=function(e){var t=o(e),r=i.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var o=r(55),i=r(4);e.exports="process"==o(i.process)},function(e,t,r){var o=r(14),i=r(18),n=r(69);e.exports=function(e,t,r){var a,s;return n&&o(a=t.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&n(e,s),e}},function(e,t,r){var o=r(4),i=r(28),n=r(25),a=r(85),s=r(24),c=o.TypeError,u=function(e){return function(t,r,o,u){i(r);var l=n(t),d=a(l),p=s(l),h=e?p-1:0,f=e?-1:1;if(o<2)for(;;){if(h in d){u=d[h],h+=f;break}if(h+=f,e?h<0:p<=h)throw c("Reduce of empty array with no initial value")}for(;e?h>=0:p>h;h+=f)h in d&&(u=r(u,d[h],h,l));return u}};e.exports={left:u(!1),right:u(!0)}},function(e,t,r){"use strict";var o=r(8),i=r(7),n=r(9),a=r(182),s=r(11),c=r(57),u=r(42),l=r(71),d=a.ArrayBuffer,p=a.DataView,h=p.prototype,f=i(d.prototype.slice),g=i(h.getUint8),_=i(h.setUint8);o({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:n((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(f&&void 0===t)return f(s(this),e);for(var r=s(this).byteLength,o=c(e,r),i=c(void 0===t?r:t,r),n=new(l(this,d))(u(i-o)),a=new p(this),h=new p(n),m=0;o<i;)_(h,m++,g(a,o++));return n}})},function(e,t,r){r(210)("Uint8",(function(e){return function(t,r,o){return e(this,t,r,o)}}))},function(e,t,r){"use strict";var o=r(7),i=r(12),n=o(r(252)),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return n(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},function(e,t,r){"use strict";var o=r(12),i=r(27).every,n=o.aTypedArray;(0,o.exportTypedArrayMethod)("every",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var o=r(12),i=r(15),n=r(129),a=o.aTypedArray;(0,o.exportTypedArrayMethod)("fill",(function(e){var t=arguments.length;return i(n,a(this),e,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}))},function(e,t,r){"use strict";var o=r(12),i=r(27).filter,n=r(253),a=o.aTypedArray;(0,o.exportTypedArrayMethod)("filter",(function(e){var t=i(a(this),e,arguments.length>1?arguments[1]:void 0);return n(this,t)}))},function(e,t,r){"use strict";var o=r(12),i=r(27).find,n=o.aTypedArray;(0,o.exportTypedArrayMethod)("find",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var o=r(12),i=r(27).findIndex,n=o.aTypedArray;(0,o.exportTypedArrayMethod)("findIndex",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var o=r(12),i=r(27).forEach,n=o.aTypedArray;(0,o.exportTypedArrayMethod)("forEach",(function(e){i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var o=r(12),i=r(93).includes,n=o.aTypedArray;(0,o.exportTypedArrayMethod)("includes",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var o=r(12),i=r(93).indexOf,n=o.aTypedArray;(0,o.exportTypedArrayMethod)("indexOf",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var o=r(4),i=r(9),n=r(7),a=r(12),s=r(38),c=r(13)("iterator"),u=o.Uint8Array,l=n(s.values),d=n(s.keys),p=n(s.entries),h=a.aTypedArray,f=a.exportTypedArrayMethod,g=u&&u.prototype,_=!i((function(){g[c].call([1])})),m=!!g&&g.values&&g[c]===g.values&&"values"===g.values.name,y=function(){return l(h(this))};f("entries",(function(){return p(h(this))}),_),f("keys",(function(){return d(h(this))}),_),f("values",y,_||!m,{name:"values"}),f(c,y,_||!m,{name:"values"})},function(e,t,r){"use strict";var o=r(12),i=r(7),n=o.aTypedArray,a=o.exportTypedArrayMethod,s=i([].join);a("join",(function(e){return s(n(this),e)}))},function(e,t,r){"use strict";var o=r(12),i=r(58),n=r(213),a=o.aTypedArray;(0,o.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(n,a(this),t>1?[e,arguments[1]]:[e])}))},function(e,t,r){"use strict";var o=r(12),i=r(27).map,n=r(105),a=o.aTypedArray;(0,o.exportTypedArrayMethod)("map",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(n(e))(t)}))}))},function(e,t,r){"use strict";var o=r(12),i=r(143).left,n=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(n(this),e,t,t>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var o=r(12),i=r(143).right,n=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(n(this),e,t,t>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var o=r(12),i=o.aTypedArray,n=o.exportTypedArrayMethod,a=Math.floor;n("reverse",(function(){for(var e,t=i(this).length,r=a(t/2),o=0;o<r;)e=this[o],this[o++]=this[--t],this[t]=e;return this}))},function(e,t,r){"use strict";var o=r(4),i=r(15),n=r(12),a=r(24),s=r(185),c=r(25),u=r(9),l=o.RangeError,d=o.Int8Array,p=d&&d.prototype,h=p&&p.set,f=n.aTypedArray,g=n.exportTypedArrayMethod,_=!u((function(){var e=new Uint8ClampedArray(2);return i(h,e,{length:1,0:3},1),3!==e[1]})),m=_&&n.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){f(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(_)return i(h,this,r,t);var o=this.length,n=a(r),u=0;if(n+t>o)throw l("Wrong length");for(;u<n;)this[t+u]=r[u++]}),!_||m)},function(e,t,r){"use strict";var o=r(12),i=r(105),n=r(9),a=r(74),s=o.aTypedArray;(0,o.exportTypedArrayMethod)("slice",(function(e,t){for(var r=a(s(this),e,t),o=i(this),n=0,c=r.length,u=new o(c);c>n;)u[n]=r[n++];return u}),n((function(){new Int8Array(1).slice()})))},function(e,t,r){"use strict";var o=r(12),i=r(27).some,n=o.aTypedArray;(0,o.exportTypedArrayMethod)("some",(function(e){return i(n(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var o=r(4),i=r(7),n=r(9),a=r(28),s=r(166),c=r(12),u=r(201),l=r(202),d=r(77),p=r(203),h=o.Array,f=c.aTypedArray,g=c.exportTypedArrayMethod,_=o.Uint16Array,m=_&&i(_.prototype.sort),y=!(!m||n((function(){m(new _(2),null)}))&&n((function(){m(new _(2),{})}))),v=!!m&&!n((function(){if(d)return d<74;if(u)return u<67;if(l)return!0;if(p)return p<602;var e,t,r=new _(516),o=h(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,o[e]=e-2*t+3;for(m(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==o[e])return!0}));g("sort",(function(e){return void 0!==e&&a(e),v?m(this,e):s(f(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!v||y)},function(e,t,r){var o=r(95),i=Math.floor,n=function(e,t){var r=e.length,c=i(r/2);return r<8?a(e,t):s(e,n(o(e,0,c),t),n(o(e,c),t),t)},a=function(e,t){for(var r,o,i=e.length,n=1;n<i;){for(o=n,r=e[n];o&&t(e[o-1],r)>0;)e[o]=e[--o];o!==n++&&(e[o]=r)}return e},s=function(e,t,r,o){for(var i=t.length,n=r.length,a=0,s=0;a<i||s<n;)e[a+s]=a<i&&s<n?o(t[a],r[s])<=0?t[a++]:r[s++]:a<i?t[a++]:r[s++];return e};e.exports=n},function(e,t,r){"use strict";var o=r(12),i=r(42),n=r(57),a=r(105),s=o.aTypedArray;(0,o.exportTypedArrayMethod)("subarray",(function(e,t){var r=s(this),o=r.length,c=n(e,o);return new(a(r))(r.buffer,r.byteOffset+c*r.BYTES_PER_ELEMENT,i((void 0===t?o:n(t,o))-c))}))},function(e,t,r){"use strict";var o=r(4),i=r(58),n=r(12),a=r(9),s=r(74),c=o.Int8Array,u=n.aTypedArray,l=n.exportTypedArrayMethod,d=[].toLocaleString,p=!!c&&a((function(){d.call(new c(1))}));l("toLocaleString",(function(){return i(d,p?s(u(this)):u(this),s(arguments))}),a((function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()}))||!a((function(){c.prototype.toLocaleString.call([1,2])})))},function(e,t,r){"use strict";var o=r(12).exportTypedArrayMethod,i=r(9),n=r(4),a=r(7),s=n.Uint8Array,c=s&&s.prototype||{},u=[].toString,l=a([].join);i((function(){u.call({})}))&&(u=function(){return l(this)});var d=c.toString!=u;o("toString",u,d)},function(e,t,r){"use strict";var o=r(8),i=r(27).some;o({target:"Array",proto:!0,forced:!r(76)("some")},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var o=r(8),i=r(7),n=r(94),a=i([].reverse),s=[1,2];o({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),a(this)}})},function(e,t,r){"use strict";(function(e){var o=t;function i(e,t,r){for(var o=Object.keys(t),i=0;i<o.length;++i)void 0!==e[o[i]]&&r||(e[o[i]]=t[o[i]]);return e}function n(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}o.asPromise=r(368),o.base64=r(369),o.EventEmitter=r(370),o.float=r(371),o.inquire=r(372),o.utf8=r(373),o.pool=r(374),o.LongBits=r(375),o.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),o.global=o.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},o.isString=function(e){return"string"==typeof e||e instanceof String},o.isObject=function(e){return e&&"object"==typeof e},o.isset=o.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},o.Buffer=function(){try{var e=o.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),o._Buffer_from=null,o._Buffer_allocUnsafe=null,o.newBuffer=function(e){return"number"==typeof e?o.Buffer?o._Buffer_allocUnsafe(e):new o.Array(e):o.Buffer?o._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},o.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,o.Long=o.global.dcodeIO&&o.global.dcodeIO.Long||o.global.Long||o.inquire("long"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function(e){return e?o.LongBits.from(e).toHash():o.LongBits.zeroHash},o.longFromHash=function(e,t){var r=o.LongBits.fromHash(e);return o.Long?o.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},o.merge=i,o.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},o.newError=n,o.ProtocolError=n("ProtocolError"),o.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},o.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o._configure=function(){var e=o.Buffer;e?(o._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},o._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):o._Buffer_from=o._Buffer_allocUnsafe=null}}).call(this,r(70))},function(e,t,r){var o=r(122);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var o=r(19),i=r(9),n=r(107);e.exports=!o&&!i((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var o=r(19),i=r(9);e.exports=o&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t,r){var o=r(20),i=r(243),n=r(73),a=r(22);e.exports=function(e,t,r){for(var s=i(t),c=a.f,u=n.f,l=0;l<s.length;l++){var d=s[l];o(e,d)||r&&o(r,d)||c(e,d,u(t,d))}}},function(e,t,r){var o=r(7),i=r(20),n=r(37),a=r(93).indexOf,s=r(90),c=o([].push);e.exports=function(e,t){var r,o=n(e),u=0,l=[];for(r in o)!i(s,r)&&i(o,r)&&c(l,r);for(;t.length>u;)i(o,r=t[u++])&&(~a(l,r)||c(l,r));return l}},function(e,t,r){"use strict";var o=r(11);e.exports=function(){var e=o(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var o=r(9),i=r(4).RegExp,n=o((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=n||o((function(){return!i("a","y").sticky})),s=n||o((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:n}},function(e,t,r){var o=r(4),i=r(112),n=r(88),a=o.TypeError;e.exports=function(e){if(i(e))return e;throw a(n(e)+" is not a constructor")}},function(e,t,r){"use strict";var o,i,n,a=r(9),s=r(14),c=r(51),u=r(104),l=r(29),d=r(13),p=r(21),h=d("iterator"),f=!1;[].keys&&("next"in(n=[].keys())?(i=u(u(n)))!==Object.prototype&&(o=i):f=!0),null==o||a((function(){var e={};return o[h].call(e)!==e}))?o={}:p&&(o=c(o)),s(o[h])||l(o,h,(function(){return this})),e.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:f}},function(e,t,r){"use strict";var o=r(4),i=r(7),n=r(19),a=r(183),s=r(91),c=r(40),u=r(117),l=r(9),d=r(78),p=r(41),h=r(42),f=r(184),g=r(249),_=r(104),m=r(69),y=r(68).f,v=r(22).f,b=r(129),w=r(95),S=r(64),I=r(43),x=s.PROPER,O=s.CONFIGURABLE,E=I.get,P=I.set,k=o.ArrayBuffer,D=k,T=D&&D.prototype,A=o.DataView,C=A&&A.prototype,B=Object.prototype,N=o.Array,M=o.RangeError,L=i(b),V=i([].reverse),j=g.pack,R=g.unpack,H=function(e){return[255&e]},q=function(e){return[255&e,e>>8&255]},z=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},F=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Z=function(e){return j(e,23,4)},W=function(e){return j(e,52,8)},U=function(e,t){v(e.prototype,t,{get:function(){return E(this)[t]}})},G=function(e,t,r,o){var i=f(r),n=E(e);if(i+t>n.byteLength)throw M("Wrong index");var a=E(n.buffer).bytes,s=i+n.byteOffset,c=w(a,s,s+t);return o?c:V(c)},J=function(e,t,r,o,i,n){var a=f(r),s=E(e);if(a+t>s.byteLength)throw M("Wrong index");for(var c=E(s.buffer).bytes,u=a+s.byteOffset,l=o(+i),d=0;d<t;d++)c[u+d]=l[n?d:t-d-1]};if(a){var Y=x&&"ArrayBuffer"!==k.name;if(l((function(){k(1)}))&&l((function(){new k(-1)}))&&!l((function(){return new k,new k(1.5),new k(NaN),Y&&!O})))Y&&O&&c(k,"name","ArrayBuffer");else{(D=function(e){return d(this,T),new k(f(e))}).prototype=T;for(var X,Q=y(k),K=0;Q.length>K;)(X=Q[K++])in D||c(D,X,k[X]);T.constructor=D}m&&_(C)!==B&&m(C,B);var $=new A(new D(2)),ee=i(C.setInt8);$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||u(C,{setInt8:function(e,t){ee(this,e,t<<24>>24)},setUint8:function(e,t){ee(this,e,t<<24>>24)}},{unsafe:!0})}else T=(D=function(e){d(this,T);var t=f(e);P(this,{bytes:L(N(t),0),byteLength:t}),n||(this.byteLength=t)}).prototype,C=(A=function(e,t,r){d(this,C),d(e,T);var o=E(e).byteLength,i=p(t);if(i<0||i>o)throw M("Wrong offset");if(i+(r=void 0===r?o-i:h(r))>o)throw M("Wrong length");P(this,{buffer:e,byteLength:r,byteOffset:i}),n||(this.buffer=e,this.byteLength=r,this.byteOffset=i)}).prototype,n&&(U(D,"byteLength"),U(A,"buffer"),U(A,"byteLength"),U(A,"byteOffset")),u(C,{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return F(G(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return F(G(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return R(G(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return R(G(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){J(this,1,e,H,t)},setUint8:function(e,t){J(this,1,e,H,t)},setInt16:function(e,t){J(this,2,e,q,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){J(this,2,e,q,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){J(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){J(this,4,e,z,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){J(this,4,e,Z,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){J(this,8,e,W,t,arguments.length>2?arguments[2]:void 0)}});S(D,"ArrayBuffer"),S(A,"DataView"),e.exports={ArrayBuffer:D,DataView:A}},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,r){var o=r(4),i=r(41),n=r(42),a=o.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),r=n(t);if(t!==r)throw a("Wrong length or index");return r}},function(e,t,r){var o=r(4),i=r(251),n=o.RangeError;e.exports=function(e,t){var r=i(e);if(r%t)throw n("Wrong offset");return r}},function(e,t,r){"use strict";var o=r(27).forEach,i=r(76)("forEach");e.exports=i?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,r){"use strict";var o=r(7),i=r(91).PROPER,n=r(29),a=r(11),s=r(48),c=r(23),u=r(9),l=r(178),d=RegExp.prototype,p=d.toString,h=o(l),f=u((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),g=i&&"toString"!=p.name;(f||g)&&n(RegExp.prototype,"toString",(function(){var e=a(this),t=c(e.source),r=e.flags;return"/"+t+"/"+c(void 0===r&&s(d,e)&&!("flags"in d)?h(e):r)}),{unsafe:!0})},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){var o=r(107)("span").classList,i=o&&o.constructor&&o.constructor.prototype;e.exports=i===Object.prototype?void 0:i},function(e,t,r){var o=r(13);t.f=o},function(e,t,r){var o=r(255),i=r(20),n=r(190),a=r(22).f;e.exports=function(e){var t=o.Symbol||(o.Symbol={});i(t,e)||a(t,e,{value:n.f(e)})}},function(e,t,r){"use strict";var o=r(8),i=r(4),n=r(9),a=r(94),s=r(18),c=r(25),u=r(24),l=r(97),d=r(134),p=r(103),h=r(13),f=r(77),g=h("isConcatSpreadable"),_=i.TypeError,m=f>=51||!n((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),y=p("concat"),v=function(e){if(!s(e))return!1;var t=e[g];return void 0!==t?!!t:a(e)};o({target:"Array",proto:!0,forced:!m||!y},{concat:function(e){var t,r,o,i,n,a=c(this),s=d(a,0),p=0;for(t=-1,o=arguments.length;t<o;t++)if(v(n=-1===t?a:arguments[t])){if(p+(i=u(n))>9007199254740991)throw _("Maximum allowed index exceeded");for(r=0;r<i;r++,p++)r in n&&l(s,p,n[r])}else{if(p>=9007199254740991)throw _("Maximum allowed index exceeded");l(s,p++,n)}return s.length=p,s}})},function(e,t,r){var o=r(8),i=r(7),n=r(90),a=r(18),s=r(20),c=r(22).f,u=r(68),l=r(196),d=r(303),p=r(89),h=r(239),f=!1,g=p("meta"),_=0,m=function(e){c(e,g,{value:{objectID:"O"+_++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},f=!0;var e=u.f,t=i([].splice),r={};r[g]=1,e(r).length&&(u.f=function(r){for(var o=e(r),i=0,n=o.length;i<n;i++)if(o[i]===g){t(o,i,1);break}return o},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,g)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[g].objectID},getWeakData:function(e,t){if(!s(e,g)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[g].weakData},onFreeze:function(e){return h&&f&&d(e)&&!s(e,g)&&m(e),e}};n[g]=!0},function(e,t,r){var o=r(35);e.exports=o("document","documentElement")},function(e,t,r){var o=r(18),i=r(55),n=r(13)("match");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==i(e))}},function(e,t,r){var o=r(55),i=r(37),n=r(68).f,a=r(95),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==o(e)?function(e){try{return n(e)}catch(e){return a(s)}}(e):n(i(e))}},function(e,t,r){e.exports=r(284)},function(e,t,r){var o=r(4),i=r(15),n=r(18),a=r(92),s=r(81),c=r(241),u=r(13),l=o.TypeError,d=u("toPrimitive");e.exports=function(e,t){if(!n(e)||a(e))return e;var r,o=s(e,d);if(o){if(void 0===t&&(t="default"),r=i(o,e,t),!n(r)||a(r))return r;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},function(e,t,r){"use strict";var o=r(19),i=r(7),n=r(15),a=r(9),s=r(109),c=r(126),u=r(114),l=r(25),d=r(85),p=Object.assign,h=Object.defineProperty,f=i([].concat);e.exports=!p||a((function(){if(o&&1!==p({b:1},p(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=p({},e)[r]||"abcdefghijklmnopqrst"!=s(p({},t)).join("")}))?function(e,t){for(var r=l(e),i=arguments.length,a=1,p=c.f,h=u.f;i>a;)for(var g,_=d(arguments[a++]),m=p?f(s(_),p(_)):s(_),y=m.length,v=0;y>v;)g=m[v++],o&&!n(h,_,g)||(r[g]=_[g]);return r}:p},function(e,t,r){"use strict";var o=r(181).IteratorPrototype,i=r(51),n=r(65),a=r(64),s=r(87),c=function(){return this};e.exports=function(e,t,r,u){var l=t+" Iterator";return e.prototype=i(o,{next:n(+!u,r)}),a(e,l,!1,!0),s[l]=c,e}},function(e,t,r){var o=r(56).match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},function(e,t,r){var o=r(56);e.exports=/MSIE|Trident/.test(o)},function(e,t,r){var o=r(56).match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},function(e,t,r){"use strict";var o=r(15),i=r(135),n=r(11),a=r(42),s=r(23),c=r(44),u=r(81),l=r(136),d=r(138);i("match",(function(e,t,r){return[function(t){var r=c(this),i=null==t?void 0:u(t,e);return i?o(i,t,r):new RegExp(t)[e](s(r))},function(e){var o=n(this),i=s(e),c=r(t,o,i);if(c.done)return c.value;if(!o.global)return d(o,i);var u=o.unicode;o.lastIndex=0;for(var p,h=[],f=0;null!==(p=d(o,i));){var g=s(p[0]);h[f]=g,""===g&&(o.lastIndex=l(i,a(o.lastIndex),u)),f++}return 0===f?null:h}]}))},function(e,t,r){var o=r(8),i=r(4),n=r(7),a=i.Date,s=n(a.prototype.getTime);o({target:"Date",stat:!0},{now:function(){return s(new a)}})},function(e,t,r){var o=r(8),i=r(256);o({target:"Array",stat:!0,forced:!r(118)((function(e){Array.from(e)}))},{from:i})},function(e,t,r){"use strict";var o=r(8),i=r(4),n=r(7),a=r(41),s=r(267),c=r(240),u=r(9),l=i.RangeError,d=i.String,p=Math.floor,h=n(c),f=n("".slice),g=n(1..toFixed),_=function(e,t,r){return 0===t?r:t%2==1?_(e,t-1,r*e):_(e*e,t/2,r)},m=function(e,t,r){for(var o=-1,i=r;++o<6;)i+=t*e[o],e[o]=i%1e7,i=p(i/1e7)},y=function(e,t){for(var r=6,o=0;--r>=0;)o+=e[r],e[r]=p(o/t),o=o%t*1e7},v=function(e){for(var t=6,r="";--t>=0;)if(""!==r||0===t||0!==e[t]){var o=d(e[t]);r=""===r?o:r+h("0",7-o.length)+o}return r};o({target:"Number",proto:!0,forced:u((function(){return"0.000"!==g(8e-5,3)||"1"!==g(.9,0)||"1.25"!==g(1.255,2)||"1000000000000000128"!==g(0xde0b6b3a7640080,0)}))||!u((function(){g({})}))},{toFixed:function(e){var t,r,o,i,n=s(this),c=a(e),u=[0,0,0,0,0,0],p="",g="0";if(c<0||c>20)throw l("Incorrect fraction digits");if(n!=n)return"NaN";if(n<=-1e21||n>=1e21)return d(n);if(n<0&&(p="-",n=-n),n>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(n*_(2,69,1))-69)<0?n*_(2,-t,1):n/_(2,t,1),r*=4503599627370496,(t=52-t)>0){for(m(u,0,r),o=c;o>=7;)m(u,1e7,0),o-=7;for(m(u,_(10,o,1),0),o=t-1;o>=23;)y(u,1<<23),o-=23;y(u,1<<o),m(u,1,1),y(u,2),g=v(u)}else m(u,0,r),m(u,1<<-t,0),g=v(u)+h("0",c);return g=c>0?p+((i=g.length)<=c?"0."+h("0",c-i)+g:f(g,0,i-c)+"."+f(g,i-c)):p+g}})},function(e,t,r){"use strict";var o=r(8),i=r(7),n=r(28),a=r(25),s=r(24),c=r(23),u=r(9),l=r(166),d=r(76),p=r(201),h=r(202),f=r(77),g=r(203),_=[],m=i(_.sort),y=i(_.push),v=u((function(){_.sort(void 0)})),b=u((function(){_.sort(null)})),w=d("sort"),S=!u((function(){if(f)return f<70;if(!(p&&p>3)){if(h)return!0;if(g)return g<603;var e,t,r,o,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(o=0;o<47;o++)_.push({k:t+o,v:r})}for(_.sort((function(e,t){return t.v-e.v})),o=0;o<_.length;o++)t=_[o].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}}));o({target:"Array",proto:!0,forced:v||!b||!w||!S},{sort:function(e){void 0!==e&&n(e);var t=a(this);if(S)return void 0===e?m(t):m(t,e);var r,o,i=[],u=s(t);for(o=0;o<u;o++)o in t&&y(i,t[o]);for(l(i,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}}(e)),r=i.length,o=0;o<r;)t[o]=i[o++];for(;o<u;)delete t[o++];return t}})},function(e,t,r){"use strict";var o=r(8),i=r(27).find,n=r(110),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),o({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n("find")},function(e,t,r){"use strict";var o=r(8),i=r(4),n=r(15),a=r(19),s=r(211),c=r(12),u=r(182),l=r(78),d=r(65),p=r(40),h=r(233),f=r(42),g=r(184),_=r(185),m=r(86),y=r(20),v=r(66),b=r(18),w=r(92),S=r(51),I=r(48),x=r(69),O=r(68).f,E=r(212),P=r(27).forEach,k=r(140),D=r(22),T=r(73),A=r(43),C=r(142),B=A.get,N=A.set,M=D.f,L=T.f,V=Math.round,j=i.RangeError,R=u.ArrayBuffer,H=R.prototype,q=u.DataView,z=c.NATIVE_ARRAY_BUFFER_VIEWS,F=c.TYPED_ARRAY_CONSTRUCTOR,Z=c.TYPED_ARRAY_TAG,W=c.TypedArray,U=c.TypedArrayPrototype,G=c.aTypedArrayConstructor,J=c.isTypedArray,Y=function(e,t){G(e);for(var r=0,o=t.length,i=new e(o);o>r;)i[r]=t[r++];return i},X=function(e,t){M(e,t,{get:function(){return B(this)[t]}})},Q=function(e){var t;return I(H,e)||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},K=function(e,t){return J(e)&&!w(t)&&t in e&&h(+t)&&t>=0},$=function(e,t){return t=m(t),K(e,t)?d(2,e[t]):L(e,t)},ee=function(e,t,r){return t=m(t),!(K(e,t)&&b(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?M(e,t,r):(e[t]=r.value,e)};a?(z||(T.f=$,D.f=ee,X(U,"buffer"),X(U,"byteOffset"),X(U,"byteLength"),X(U,"length")),o({target:"Object",stat:!0,forced:!z},{getOwnPropertyDescriptor:$,defineProperty:ee}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,c=e+(r?"Clamped":"")+"Array",u="get"+e,d="set"+e,h=i[c],m=h,y=m&&m.prototype,v={},w=function(e,t){M(e,t,{get:function(){return function(e,t){var r=B(e);return r.view[u](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,o){var i=B(e);r&&(o=(o=V(o))<0?0:o>255?255:255&o),i.view[d](t*a+i.byteOffset,o,!0)}(this,t,e)},enumerable:!0})};z?s&&(m=t((function(e,t,r,o){return l(e,y),C(b(t)?Q(t)?void 0!==o?new h(t,_(r,a),o):void 0!==r?new h(t,_(r,a)):new h(t):J(t)?Y(m,t):n(E,m,t):new h(g(t)),e,m)})),x&&x(m,W),P(O(h),(function(e){e in m||p(m,e,h[e])})),m.prototype=y):(m=t((function(e,t,r,o){l(e,y);var i,s,c,u=0,d=0;if(b(t)){if(!Q(t))return J(t)?Y(m,t):n(E,m,t);i=t,d=_(r,a);var p=t.byteLength;if(void 0===o){if(p%a)throw j("Wrong length");if((s=p-d)<0)throw j("Wrong length")}else if((s=f(o)*a)+d>p)throw j("Wrong length");c=s/a}else c=g(t),i=new R(s=c*a);for(N(e,{buffer:i,byteOffset:d,byteLength:s,length:c,view:new q(i)});u<c;)w(e,u++)})),x&&x(m,W),y=m.prototype=S(U)),y.constructor!==m&&p(y,"constructor",m),p(y,F,m),Z&&p(y,Z,c),v[c]=m,o({global:!0,forced:m!=h,sham:!z},v),"BYTES_PER_ELEMENT"in m||p(m,"BYTES_PER_ELEMENT",a),"BYTES_PER_ELEMENT"in y||p(y,"BYTES_PER_ELEMENT",a),k(c)}):e.exports=function(){}},function(e,t,r){var o=r(4),i=r(9),n=r(118),a=r(12).NATIVE_ARRAY_BUFFER_VIEWS,s=o.ArrayBuffer,c=o.Int8Array;e.exports=!a||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!n((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},function(e,t,r){var o=r(31),i=r(15),n=r(180),a=r(25),s=r(24),c=r(119),u=r(98),l=r(139),d=r(12).aTypedArrayConstructor;e.exports=function(e){var t,r,p,h,f,g,_=n(this),m=a(e),y=arguments.length,v=y>1?arguments[1]:void 0,b=void 0!==v,w=u(m);if(w&&!l(w))for(g=(f=c(m,w)).next,m=[];!(h=i(g,f)).done;)m.push(h.value);for(b&&y>2&&(v=o(v,arguments[2])),r=s(m),p=new(d(_))(r),t=0;r>t;t++)p[t]=b?v(m[t],t):m[t];return p}},function(e,t,r){"use strict";var o=r(58),i=r(37),n=r(41),a=r(24),s=r(76),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),p=l||!d;e.exports=p?function(e){if(l)return o(u,this,arguments)||0;var t=i(this),r=a(t),s=r-1;for(arguments.length>1&&(s=c(s,n(arguments[1]))),s<0&&(s=r+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:u},function(e,t,r){var o=r(15),i=r(11),n=r(81);e.exports=function(e,t,r){var a,s;i(e);try{if(!(a=n(e,"return"))){if("throw"===t)throw r;return r}a=o(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw r;if(s)throw a;return i(a),r}},function(e,t,r){var o,i,n,a,s=r(4),c=r(58),u=r(31),l=r(14),d=r(20),p=r(9),h=r(194),f=r(74),g=r(107),_=r(216),m=r(141),y=s.setImmediate,v=s.clearImmediate,b=s.process,w=s.Dispatch,S=s.Function,I=s.MessageChannel,x=s.String,O=0,E={};try{o=s.location}catch(e){}var P=function(e){if(d(E,e)){var t=E[e];delete E[e],t()}},k=function(e){return function(){P(e)}},D=function(e){P(e.data)},T=function(e){s.postMessage(x(e),o.protocol+"//"+o.host)};y&&v||(y=function(e){var t=f(arguments,1);return E[++O]=function(){c(l(e)?e:S(e),void 0,t)},i(O),O},v=function(e){delete E[e]},m?i=function(e){b.nextTick(k(e))}:w&&w.now?i=function(e){w.now(k(e))}:I&&!_?(a=(n=new I).port2,n.port1.onmessage=D,i=u(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&o&&"file:"!==o.protocol&&!p(T)?(i=T,s.addEventListener("message",D,!1)):i="onreadystatechange"in g("script")?function(e){h.appendChild(g("script")).onreadystatechange=function(){h.removeChild(this),P(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:y,clear:v}},function(e,t,r){var o=r(56);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},function(e,t,r){"use strict";var o=r(28),i=function(e){var t,r;this.promise=new e((function(e,o){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=o})),this.resolve=o(t),this.reject=o(r)};e.exports.f=function(e){return new i(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return e.apply(t,r)}}},function(e,t,r){"use strict";var o=r(39);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(o.isURLSearchParams(t))n=t.toString();else{var a=[];o.forEach(t,(function(e,t){null!=e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,(function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),n=a.join("&")}if(n){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";(function(t){var o=r(39),i=r(289),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=r(223)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){c.headers[e]=o.merge(n)})),e.exports=c}).call(this,r(222))},function(e,t){var r,o,i=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===n||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:n}catch(e){r=n}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var c,u=[],l=!1,d=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&h())}function h(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||l||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var o=r(39),i=r(290),n=r(219),a=r(292),s=r(295),c=r(296),u=r(224);e.exports=function(e){return new Promise((function(t,l){var d=e.data,p=e.headers;o.isFormData(d)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",g=e.auth.password||"";p.Authorization="Basic "+btoa(f+":"+g)}var _=a(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),n(_,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h};i(t,l,o),h=null}},h.onabort=function(){h&&(l(u("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){l(u("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(u(t,e,"ECONNABORTED",h)),h=null},o.isStandardBrowserEnv()){var m=r(297),y=(e.withCredentials||c(_))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in h&&o.forEach(p,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:h.setRequestHeader(t,e)})),o.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),l(e),h=null)})),void 0===d&&(d=null),h.send(d)}))}},function(e,t,r){"use strict";var o=r(291);e.exports=function(e,t,r,i,n){var a=new Error(e);return o(a,t,r,i,n)}},function(e,t,r){"use strict";var o=r(39);e.exports=function(e,t){t=t||{};var r={},i=["url","method","params","data"],n=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];o.forEach(i,(function(e){void 0!==t[e]&&(r[e]=t[e])})),o.forEach(n,(function(i){o.isObject(t[i])?r[i]=o.deepMerge(e[i],t[i]):void 0!==t[i]?r[i]=t[i]:o.isObject(e[i])?r[i]=o.deepMerge(e[i]):void 0!==e[i]&&(r[i]=e[i])})),o.forEach(a,(function(o){void 0!==t[o]?r[o]=t[o]:void 0!==e[o]&&(r[o]=e[o])}));var s=i.concat(n).concat(a),c=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return o.forEach(c,(function(o){void 0!==t[o]?r[o]=t[o]:void 0!==e[o]&&(r[o]=e[o])})),r}},function(e,t,r){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},function(e,t,r){"use strict";var o,i=r(8),n=r(7),a=r(73).f,s=r(42),c=r(23),u=r(234),l=r(44),d=r(235),p=r(21),h=n("".startsWith),f=n("".slice),g=Math.min,_=d("startsWith");i({target:"String",proto:!0,forced:!!(p||_||(o=a(String.prototype,"startsWith"),!o||o.writable))&&!_},{startsWith:function(e){var t=c(l(this));u(e);var r=s(g(arguments.length>1?arguments[1]:void 0,t.length)),o=c(e);return h?h(t,o,r):f(t,r,r+o.length)===o}})},function(e,t,r){var o,i;"undefined"!=typeof self&&self,e.exports=(o=r(321),i=r(322),function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.E_CLIENT_TYPE=t.getSeq=t.ENUM_LOG_LEVEL=t.ENUM_REMOTE_TYPE=t.ZEGO_ENV=t.ZEGO_BROWSER_TYPE=void 0,function(e){e[e.IE=0]="IE",e[e.FIREFOX=1]="FIREFOX",e[e.CHROME=2]="CHROME",e[e.SAFARI=3]="SAFARI",e[e.OPERA=4]="OPERA",e[e.WEIXIN=5]="WEIXIN",e[e.WEIXINMINI=6]="WEIXINMINI",e[e.UNKOWN=7]="UNKOWN"}(t.ZEGO_BROWSER_TYPE||(t.ZEGO_BROWSER_TYPE={})),function(e){e[e.BROWSER=0]="BROWSER",e[e.WEIXINMINI=1]="WEIXINMINI"}(t.ZEGO_ENV||(t.ZEGO_ENV={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.WEBSOCKET=1]="WEBSOCKET",e[e.HTTPS=2]="HTTPS"}(t.ENUM_REMOTE_TYPE||(t.ENUM_REMOTE_TYPE={})),t.ENUM_LOG_LEVEL={DEBUG:0,INFO:1,WARN:2,ERROR:3,REPORT:99,DISABLE:100,debug:0,info:1,warn:2,error:3,report:99,disable:100},t.getSeq=(o=1,function(){return o++}),function(e){e[e.ClientType_None=0]="ClientType_None",e[e.ClientType_H5=1]="ClientType_H5",e[e.ClientType_SmallPragram=2]="ClientType_SmallPragram",e[e.ClientType_Webrtc=3]="ClientType_Webrtc"}(t.E_CLIENT_TYPE||(t.E_CLIENT_TYPE={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLogger=void 0;var o=r(2);Object.defineProperty(t,"ZegoLogger",{enumerable:!0,get:function(){return o.ZegoLogger}})},function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,i,n=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLogger=void 0;var c=r(3),u=r(0),l=r(4),d=r(5),p=r(6),h=r(9),f=r(10),g=function(){function e(e,t,r){this.env=e,this.product=t,this.logLevel=u.ENUM_LOG_LEVEL.INFO,this.logRemoteLevel=0,this.isDebug=!0,this.logUploadTimer=null,this.logUploadInterval=1e4,this.logCache=[],this.logCacheSend=[],this.logCacheMax=100,this.existUserID=!1,this.tempBuffer=[],this.isUserIDExist=!1,this.uploadURL="http://106.14.207.58:8011/zglog/zip",this.uploading=!1,this.postFailCount=0,this.basePath="",this.filePath="",this.curFile=0,this.limitKeys={},this.limitMs=500,this.stateCenter=d.LoggerStateCenter.getInstance(),this.init(r)}return e.prototype.init=function(e){return i(this,void 0,void 0,(function(){var t=this;return n(this,(function(r){return this.env%2==0?(this.fileConfig=o(o({},l.WebFileConfig),e),this.storeHandler=new p.ZegoStoreHandler(this.product,this.fileConfig),this.storeHandler.setDataDroped((function(){t.headerInfo&&t.dumpData(t.headerInfo)}))):(this.fileConfig=o(o({},l.WechatFileConfig),e),this.basePath=wx.env.USER_DATA_PATH+"/logger",this.fileHandler=new h.ZegoFileHandler(this.product,this.fileConfig,(function(){t.bufferDump()}))),[2]}))}))},e.prototype.setLogLevel=function(e){var t=u.ENUM_LOG_LEVEL[e];return void 0!==t&&(this.logLevel=t,!0)},e.prototype.setRemoteLogLevel=function(e){var t=u.ENUM_LOG_LEVEL[e];return void 0!==t&&(this.logRemoteLevel=t,!0)},e.prototype.setDebugVerbose=function(e){this.stateCenter.debug=e},e.prototype.setHeaderInfo=function(e){this.headerInfo=e,!(this.env%2!=0||this.commonField&&"string"==typeof this.commonField.get("userID"))||this.env%2==1&&this.fileHandler&&!this.fileHandler.inited?this.tempBuffer.push(e):this.dumpData(e)},e.prototype.setLimitConfig=function(e){this.limitMs=e},e.prototype.setCommonField=function(e){return"[object Map]"===Object.prototype.toString.call(e)&&null!=e.get("userID")&&"string"==typeof e.get("userID")&&""!==e.get("userID")&&(this.commonField=e,this.bufferDump(),this.isUserIDExist=!0,!0)},e.prototype.write=function(e,t,r,o){var i=u.ENUM_LOG_LEVEL[t];if(void 0===i)return!1;var n=this.logParams(e,t,r,o);if(this.logLevel!==u.ENUM_LOG_LEVEL.DISABLE&&this.logLevel<=i)switch(t){case"debug":case"report":case"info":case"warn":break;case"error":this.logError(n,o)}if(this.logRemoteLevel!==u.ENUM_LOG_LEVEL.DISABLE&&this.logRemoteLevel<=i){if(this.uploading)return this.tempBuffer.push(n),!0;if(this.env%2==0&&(!this.commonField||"string"!=typeof this.commonField.get("userID")))return this.tempBuffer.push(n),!0;if(this.env%2==1&&this.fileHandler&&!this.fileHandler.inited)return this.tempBuffer.push(n),!0;this.dumpData(n)}return!0},e.prototype.writeLimit=function(e,t,r,o,i){return this.limitKeys[e]?(new Date).getTime()-this.limitKeys[e]>this.limitMs&&(this.limitKeys[e]=(new Date).getTime(),this.write(t,r,o,i)):(this.limitKeys[e]=(new Date).getTime(),this.write(t,r,o,i))},e.prototype.upload=function(e){var t=this;return this.uploading=!0,this.setUploadState(!0),new Promise((function(r,o){e.uploadURL||(t.setUploadState(!1),o({code:1001})),t.env%2!=0||t.isUserIDExist||(t.setUploadState(!1),o({code:1001})),t.env%2==0?t.uploadWeb(e).then((function(e){t.setUploadState(!1),r(e)})).catch((function(e){t.setUploadState(!1),o(e)})):t.uploadWechatMini(e).then((function(e){t.setUploadState(!1),r(e)})).catch((function(e){t.setUploadState(!1),o(e)}))}))},e.prototype.setUploadState=function(e){this.env%2==0?this.storeHandler.setUploadState(e):wx.setStorageSync("uploading",!0)},e.prototype.getUploadState=function(){if(this.env%2==0)return this.storeHandler.getUploadState();try{return wx.getStorageSync("uploading")}catch(e){return!1}},e.prototype.uploadWeb=function(e){return i(this,void 0,void 0,(function(){var t=this;return n(this,(function(r){return[2,new Promise((function(r,o){return i(t,void 0,void 0,(function(){var t,a,s,c=this;return n(this,(function(u){switch(u.label){case 0:return[4,this.readData()];case 1:return null!==(t=u.sent())&&(a=(new Date).getTime()+"",(s=new FormData).append("logs",t),s.append("id_name",e.userID),s.append("appid",e.appID),s.append("timestamp",a),s.append("token",e.token),s.append("deviceid",e.deviceID||""),s.append("product",e.product),s.append("req_sdk","1"),this.postFile(e.uploadURL||this.uploadURL,s).then((function(){return i(c,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.storeHandler.clearStore()];case 1:return e.sent(),this.bufferDump(),this.uploading=!1,r({code:0}),[2]}}))}))})).catch((function(e){c.uploading=!1,o({code:e.code})}))),[2]}}))}))}))]}))}))},e.prototype.postFile=function(e,t){var r=this;return new Promise((function(o,i){f.postFile(e,t).then((function(e){o()})).catch((function(o){r.postFailCount++,4==o.code&&r.postFailCount<3?r.postFile(e,t):i(o)}))}))},e.prototype.bufferDump=function(){var e,t,r=this.tempBuffer.shift();if(r){var o="";if(this.env%2==0&&this.commonField&&"string"==typeof this.commonField.get("userID")&&""!==this.commonField.get("userID")){var i=r.indexOf("]:");if(-1==i)o=r;else{var n="";try{for(var c=a(this.commonField),u=c.next();!u.done;u=c.next()){var l=s(u.value,2);l[0],n+="["+l[1]+"]"}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}o=r.slice(0,i+2)+n+r.slice(i+2)}}else this.env%2==1&&(o=r);this.dumpData(o),this.bufferDump()}},e.prototype.uploadWechatMini=function(e){return i(this,void 0,void 0,(function(){var t=this;return n(this,(function(r){return[2,new Promise((function(r,o){return i(t,void 0,void 0,(function(){var t,a,s,c=this;return n(this,(function(u){switch(u.label){case 0:t=function(t){var s;return n(this,(function(u){switch(u.label){case 0:return s=a.basePath+"/"+e.product+t+".txt",[4,a.fileHandler.accessFile(s)];case 1:return u.sent()>0&&a.uploadFileWechat(e.uploadURL||a.uploadURL,s,e).then((function(){return i(c,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.fileHandler.delFile(s)];case 1:return e.sent(),[4,this.fileHandler.accessFile(s)];case 2:return e.sent(),this.bufferDump(),this.uploading=!1,r({code:0}),[2]}}))}))})).catch((function(e){c.uploading=!1,o({code:e.code})})),[2]}}))},a=this,s=0,u.label=1;case 1:return s<this.fileConfig.maxFiles?[5,t(s)]:[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}))}))]}))}))},e.prototype.uploadFileWechat=function(e,t,r){var o=this;return new Promise((function(i,n){f.postFileWechat(e,t,r).then((function(e){i()})).catch((function(i){o.postFailCount++,4==i.code&&o.postFailCount<3?o.uploadFileWechat(e,t,r):n(i)}))}))},e.prototype.dumpData=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(t){return this.env%2==0?this.writeDataStorage(e):this.writeFileWechat(e),[2]}))}))},e.prototype.readData=function(){return this.storeHandler.readData()},e.prototype.writeDataStorage=function(e){this.storeHandler.storeData(e)},e.prototype.writeFileWechat=function(e){this.fileHandler.storeData(e)},e.prototype.logParams=function(e,t,r,o){var i,n,u,l=c.getCurrentTime(),d=t.substr(0,1).toUpperCase(),p="";if(this.env%2==0&&this.commonField){var h="";try{for(var f=a(this.commonField),g=f.next();!g.done;g=f.next()){var _=s(g.value,2);_[0],h+="["+_[1]+"]"}}catch(e){i={error:e}}finally{try{g&&!g.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}p=h}var m="";e.forEach((function(e){m+="["+e+"]"}));var y="";return"function"==typeof(null===(u=null===window||void 0===window?void 0:window.performance)||void 0===u?void 0:u.now)&&(y="["+window.performance.now().toFixed(1)+"]"),"["+l+"]"+y+"["+d+"]["+r+"]"+m+":"+p+o},e.prototype.logError=function(e,t){this.env%2==0?this.stateCenter.debug&&window.alert(t):this.stateCenter.debug&&wx.showModal({title:"",content:t})},e}();t.ZegoLogger=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTime=t.getCurrentEnv=t.getBrowser=void 0;var o=r(0);t.getBrowser=function(){var e=window.navigator.userAgent,t=null!=window.ActiveXObject&&-1!=e.indexOf("MSIE"),r=-1!=e.indexOf("Firefox"),i=null!=window.opr,n=e.indexOf("Chrome")&&window.chrome,a=-1!=e.indexOf("Safari")&&-1!=e.indexOf("Version"),s=e.toLowerCase().match(/MicroMessenger/i)&&"micromessenger"===e.toLowerCase().match(/MicroMessenger/i)[0];return t?o.ZEGO_BROWSER_TYPE.IE:r?o.ZEGO_BROWSER_TYPE.FIREFOX:i?o.ZEGO_BROWSER_TYPE.OPERA:n?o.ZEGO_BROWSER_TYPE.CHROME:a?o.ZEGO_BROWSER_TYPE.SAFARI:s?o.ZEGO_BROWSER_TYPE.WEIXIN:o.ZEGO_BROWSER_TYPE.UNKOWN},t.getCurrentEnv=function(){var e=window.navigator.userAgent;return new Promise((function(t){-1==e.indexOf("MicroMessage")?t(o.ZEGO_ENV.BROWSER):wx.miniProgram.getEnv((function(e){e.miniprogram}))}))};var i=["00","01","02","03","04","05","06","07","08","09"];t.getCurrentTime=function(){var e=new Date;return[i[e.getMonth()+1]||e.getMonth()+1,(i[e.getDate()]||e.getDate())+" ",(i[e.getHours()]||e.getHours())+":",(i[e.getMinutes()]||e.getMinutes())+":",i[e.getSeconds()]||e.getSeconds(),"."+e.getTime()%1e3].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WechatFileConfig=t.WebFileConfig=void 0,t.WebFileConfig={maxSize:5242880,maxFiles:3,dropPer:1},t.WechatFileConfig={maxSize:2097152,maxFiles:3,dropPer:1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerStateCenter=void 0;var o=function(){function e(){this._testEnvironment=!0,this._ENV=0,this._debug=!0}return e.getInstance=function(){return e.instance||(e.instance=new e,e.instance.init()),e.instance},e.prototype.init=function(){},Object.defineProperty(e.prototype,"testEnvironment",{get:function(){return this._testEnvironment},set:function(e){this._testEnvironment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ENV",{get:function(){return this._ENV},set:function(e){this._ENV=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(e){this._debug=e},enumerable:!1,configurable:!0}),e.instance=new e,e}();t.LoggerStateCenter=o},function(e,t,r){"use strict";var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoStoreHandler=void 0;var a=r(7),s=r(0),c=n(r(8)),u=function(){function e(e,t){this.product=e,this.fileConfig=t,this.storeBuffer=[],this.droping=!1,this.init()}return e.prototype.init=function(){return o(this,void 0,void 0,(function(){var e,t=this;return i(this,(function(r){switch(r.label){case 0:this.storeCommon=a.createInstance({name:"logger_common"}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.storeCommon.getItem(this.product+"_logger")];case 2:return e=r.sent(),this.storeSize=e||0,[3,4];case 3:return r.sent(),[3,4];case 4:return this.store=a.createInstance({name:this.product+"_logger"}),this.storeBuffer.length>0&&this.storeBuffer.forEach((function(e){t.storeData(e)})),[2]}}))}))},e.prototype.setDataDroped=function(e){this.dataDropCallback=e},e.prototype.storeData=function(e){return o(this,void 0,void 0,(function(){var t,r;return i(this,(function(o){switch(o.label){case 0:if(!e)return[2,Promise.resolve()];if(!this.store)return this.storeBuffer.push(e),[2,Promise.resolve()];t=(new Date).getTime(),r=t+"_"+s.getSeq(),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.store.setItem(r,e)];case 2:return o.sent(),this.storeSize+=e.length+1,this.refreshStoreSize(),this.storeSize>=this.fileConfig.maxSize*this.fileConfig.maxFiles&&!this.droping&&this.dropData(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2]}}))}))},e.prototype.readData=function(){return o(this,void 0,void 0,(function(){var e,t,r,o,n,a,s=this;return i(this,(function(i){switch(i.label){case 0:e=new c.default,t=e.folder("log"),r="",o=0,n=0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.store.iterate((function(e,i,a){r+=e+"\n",(o+=e.length+1)>s.fileConfig.maxSize&&(n++,r="",o=0),t&&t.file(""+s.product+n+".txt",r)}))];case 2:case 3:return i.sent(),[3,4];case 4:return i.trys.push([4,6,,7]),[4,e.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}})];case 5:return a=i.sent(),[2,new Blob([a])];case 6:return i.sent(),[2,null];case 7:return[2]}}))}))},e.prototype.clearStore=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.store.clear()];case 1:return e.sent(),this.storeSize=0,this.refreshStoreSize(),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},e.prototype.refreshStoreSize=function(){return o(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.storeCommon.setItem(this.product+"_logger",this.storeSize)];case 1:return e.sent(),[2]}}))}))},e.prototype.dropData=function(){return o(this,void 0,void 0,(function(){var e,t,r,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,8,,9]),this.droping=!0,[4,this.store.keys()];case 1:e=i.sent(),t=0,r=0,i.label=2;case 2:return r<e.length?[4,this.store.getItem(e[r])]:[3,7];case 3:return(o=i.sent())?(t+=o.length+1)<this.fileConfig.maxSize*this.fileConfig.dropPer?[4,this.store.removeItem(e[r])]:[3,5]:[3,6];case 4:return i.sent(),this.storeSize-=o.length+1,this.refreshStoreSize(),[3,6];case 5:return this.droping=!1,this.dataDropCallback(),[3,7];case 6:return r++,[3,2];case 7:return[3,9];case 8:return i.sent(),[3,9];case 9:return[2]}}))}))},e.prototype.setUploadState=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this.storeCommon?[4,this.storeCommon.setItem("uploading",e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},e.prototype.getUploadState=function(){if(this.storeCommon)return this.storeCommon.getItem("uploading")},e}();t.ZegoStoreHandler=u},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t,r){"use strict";var o=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoFileHandler=void 0;var n=function(){function e(e,t,r){this.product=e,this.fileConfig=t,this.initCallback=r,this.basePath="",this.filePath="",this.curFile=0,this.inited=!1,this.init()}return e.prototype.init=function(){return o(this,void 0,void 0,(function(){var e,t;return i(this,(function(r){switch(r.label){case 0:this.basePath=wx.env.USER_DATA_PATH+"/logger",this.fileManager=wx.getFileSystemManager(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.accessDir(this.basePath)];case 2:return r.sent(),[3,4];case 3:return r.sent(),[2];case 4:this.fileManager.readdir({dirPath:this.basePath,success:function(e){},fail:function(e){}}),e=0,r.label=5;case 5:if(!(e<this.fileConfig.maxFiles))return[3,10];t=this.basePath+"/"+this.product+e+".txt",r.label=6;case 6:return r.trys.push([6,8,,9]),[4,this.accessFile(t)];case 7:return r.sent()<this.fileConfig.maxSize?(this.filePath=t,this.curFile=e,[3,10]):[3,9];case 8:return r.sent(),[3,9];case 9:return e++,[3,5];case 10:return this.filePath,this.inited=!0,this.initCallback&&this.initCallback(),[2]}}))}))},e.prototype.storeData=function(e){return o(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:try{this.fileManager.appendFileSync(this.filePath,e+"\n")}catch(e){}return[4,this.getFileSize(this.filePath)];case 1:return t.sent()>=this.fileConfig.maxSize?(this.curFile++,this.curFile>=this.fileConfig.maxFiles&&(this.curFile=0),this.filePath=this.basePath+"/"+this.product+this.curFile+".txt",[4,this.accessFile(this.filePath)]):[3,4];case 2:return t.sent()>=this.fileConfig.maxSize?(this.fileManager.unlinkSync(this.filePath),[4,this.accessFile(this.filePath)]):[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},e.prototype.getFileSize=function(e){return new Promise((function(t,r){wx.getFileSystemManager().getFileInfo({filePath:e,success:function(e){t(e.size)},fail:function(e){r(e)}})}))},e.prototype.accessDir=function(e){var t=wx.getFileSystemManager();return new Promise((function(r,o){t.access({path:e,success:function(e){r()},fail:function(i){t.mkdir({dirPath:e,success:function(e){r()},fail:function(e){o(e)}})}})}))},e.prototype.accessFile=function(e){var t=this,r=wx.getFileSystemManager();return new Promise((function(n,a){r.access({path:e,success:function(r){return o(t,void 0,void 0,(function(){var t;return i(this,(function(r){switch(r.label){case 0:return[4,this.getFileSize(e)];case 1:return t=r.sent(),n(t),[2]}}))}))},fail:function(t){r.writeFile({filePath:e,data:"",success:function(e){n(0)},fail:function(e){a(e)}})}})}))},e.prototype.delFile=function(e){var t=this;return new Promise((function(r,o){t.fileManager.unlink({filePath:e,success:function(e){r()},fail:function(e){o(e)}})}))},e}();t.ZegoFileHandler=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postFileWechat=t.postFile=void 0;var o={code:1001,msg:"upload fail"};t.postFile=function(e,t){return new Promise((function(r,i){var n=new XMLHttpRequest;n.open("post",e),n.onreadystatechange=function(){if(4==n.readyState)if(n.status>=200&&n.status<300||304==n.status){var e=JSON.parse(n.responseText),t=e.code,a=e.message;0===t?r({code:t,msg:a}):i({code:t,msg:a})}else i(o)},n.send(t)}))},t.postFileWechat=function(e,t,r){return new Promise((function(i,n){var a=(new Date).getTime();wx.uploadFile({url:e,filePath:t,name:"logs",formData:{id_name:r.userID,appid:r.appID,timestamp:a+"",token:r.token,deviceid:"",product:r.product,req_sdk:"1"},success:function(e){var t=e.data;if(200===e.statusCode&&t)try{var r=JSON.parse(t),o=r.code,a=r.message;0===o?i({code:o,msg:a}):n({code:o,msg:a})}catch(e){n(e)}else n({code:e.statusCode,msg:"upload fail"})},fail:function(e){n(o)}})}))}}]))},function(e,t,r){(function(r){var o;!function(r,i){e.exports=function(r){"use strict";var i,n=(r=r||{}).Base64,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(e){for(var t={},r=0,o=e.length;r<o;r++)t[e.charAt(r)]=r;return t}(a),c=String.fromCharCode,u=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)},l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,d=function(e){return e.replace(l,u)},p=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[a.charAt(r>>>18),a.charAt(r>>>12&63),t>=2?"=":a.charAt(r>>>6&63),t>=1?"=":a.charAt(63&r)].join("")},h=r.btoa&&"function"==typeof r.btoa?function(e){return r.btoa(e)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,p)},f=function(e){return h(d(String(e)))},g=function(e){return e.replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,"")},_=function(e,t){return t?g(f(e)):f(e)};r.Uint8Array&&(i=function(e,t){for(var r="",o=0,i=e.length;o<i;o+=3){var n=e[o],s=e[o+1],c=e[o+2],u=n<<16|s<<8|c;r+=a.charAt(u>>>18)+a.charAt(u>>>12&63)+(void 0!==s?a.charAt(u>>>6&63):"=")+(void 0!==c?a.charAt(63&u):"=")}return t?g(r):r});var m,y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,v=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return c(55296+(t>>>10))+c(56320+(1023&t));case 3:return c((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return c((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},b=function(e){return e.replace(y,v)},w=function(e){var t=e.length,r=t%4,o=(t>0?s[e.charAt(0)]<<18:0)|(t>1?s[e.charAt(1)]<<12:0)|(t>2?s[e.charAt(2)]<<6:0)|(t>3?s[e.charAt(3)]:0),i=[c(o>>>16),c(o>>>8&255),c(255&o)];return i.length-=[0,0,2,1][r],i.join("")},S=r.atob&&"function"==typeof r.atob?function(e){return r.atob(e)}:function(e){return e.replace(/\S{1,4}/g,w)},I=function(e){return S(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},x=function(e){return String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},O=function(e){return function(e){return b(S(e))}(x(e))};r.Uint8Array&&(m=function(e){return Uint8Array.from(I(x(e)),(function(e){return e.charCodeAt(0)}))});var E=function(){var e=r.Base64;return r.Base64=n,e};if(r.Base64={VERSION:"2.6.4",atob:I,btoa:h,fromBase64:O,toBase64:_,utob:d,encode:_,encodeURI:function(e){return _(e,!0)},btou:b,decode:O,noConflict:E,fromUint8Array:i,toUint8Array:m},"function"==typeof Object.defineProperty){var P=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};r.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",P((function(){return O(this)}))),Object.defineProperty(String.prototype,"toBase64",P((function(e){return _(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",P((function(){return _(this,!0)})))}}r.Meteor&&(Base64=r.Base64);e.exports?e.exports.Base64=r.Base64:void 0===(o=function(){return r.Base64}.apply(t,[]))||(e.exports=o);return{Base64:r.Base64}}(r)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:this)}).call(this,r(70))},function(e,t,r){var o;e.exports=(o=r(50),r(237),r(238),o.HmacSHA1)},function(e,t,r){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],o=e[1],i=e[2],n=e[3];o=((o+=((i=((i+=((n=((n+=((r=((r+=(o&i|~o&n)+t[0]-680876936|0)<<7|r>>>25)+o|0)&o|~r&i)+t[1]-389564586|0)<<12|n>>>20)+r|0)&r|~n&o)+t[2]+606105819|0)<<17|i>>>15)+n|0)&n|~i&r)+t[3]-1044525330|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((n=((n+=((r=((r+=(o&i|~o&n)+t[4]-176418897|0)<<7|r>>>25)+o|0)&o|~r&i)+t[5]+1200080426|0)<<12|n>>>20)+r|0)&r|~n&o)+t[6]-1473231341|0)<<17|i>>>15)+n|0)&n|~i&r)+t[7]-45705983|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((n=((n+=((r=((r+=(o&i|~o&n)+t[8]+1770035416|0)<<7|r>>>25)+o|0)&o|~r&i)+t[9]-1958414417|0)<<12|n>>>20)+r|0)&r|~n&o)+t[10]-42063|0)<<17|i>>>15)+n|0)&n|~i&r)+t[11]-1990404162|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((n=((n+=((r=((r+=(o&i|~o&n)+t[12]+1804603682|0)<<7|r>>>25)+o|0)&o|~r&i)+t[13]-40341101|0)<<12|n>>>20)+r|0)&r|~n&o)+t[14]-1502002290|0)<<17|i>>>15)+n|0)&n|~i&r)+t[15]+1236535329|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((n=((n+=((r=((r+=(o&n|i&~n)+t[1]-165796510|0)<<5|r>>>27)+o|0)&i|o&~i)+t[6]-1069501632|0)<<9|n>>>23)+r|0)&o|r&~o)+t[11]+643717713|0)<<14|i>>>18)+n|0)&r|n&~r)+t[0]-373897302|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((n=((n+=((r=((r+=(o&n|i&~n)+t[5]-701558691|0)<<5|r>>>27)+o|0)&i|o&~i)+t[10]+38016083|0)<<9|n>>>23)+r|0)&o|r&~o)+t[15]-660478335|0)<<14|i>>>18)+n|0)&r|n&~r)+t[4]-405537848|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((n=((n+=((r=((r+=(o&n|i&~n)+t[9]+568446438|0)<<5|r>>>27)+o|0)&i|o&~i)+t[14]-1019803690|0)<<9|n>>>23)+r|0)&o|r&~o)+t[3]-187363961|0)<<14|i>>>18)+n|0)&r|n&~r)+t[8]+1163531501|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((n=((n+=((r=((r+=(o&n|i&~n)+t[13]-1444681467|0)<<5|r>>>27)+o|0)&i|o&~i)+t[2]-51403784|0)<<9|n>>>23)+r|0)&o|r&~o)+t[7]+1735328473|0)<<14|i>>>18)+n|0)&r|n&~r)+t[12]-1926607734|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((n=((n+=((r=((r+=(o^i^n)+t[5]-378558|0)<<4|r>>>28)+o|0)^o^i)+t[8]-2022574463|0)<<11|n>>>21)+r|0)^r^o)+t[11]+1839030562|0)<<16|i>>>16)+n|0)^n^r)+t[14]-35309556|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((n=((n+=((r=((r+=(o^i^n)+t[1]-1530992060|0)<<4|r>>>28)+o|0)^o^i)+t[4]+1272893353|0)<<11|n>>>21)+r|0)^r^o)+t[7]-155497632|0)<<16|i>>>16)+n|0)^n^r)+t[10]-1094730640|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((n=((n+=((r=((r+=(o^i^n)+t[13]+681279174|0)<<4|r>>>28)+o|0)^o^i)+t[0]-358537222|0)<<11|n>>>21)+r|0)^r^o)+t[3]-722521979|0)<<16|i>>>16)+n|0)^n^r)+t[6]+76029189|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((n=((n+=((r=((r+=(o^i^n)+t[9]-640364487|0)<<4|r>>>28)+o|0)^o^i)+t[12]-421815835|0)<<11|n>>>21)+r|0)^r^o)+t[15]+530742520|0)<<16|i>>>16)+n|0)^n^r)+t[2]-995338651|0)<<23|o>>>9)+i|0,o=((o+=((n=((n+=(o^((r=((r+=(i^(o|~n))+t[0]-198630844|0)<<6|r>>>26)+o|0)|~i))+t[7]+1126891415|0)<<10|n>>>22)+r|0)^((i=((i+=(r^(n|~o))+t[14]-1416354905|0)<<15|i>>>17)+n|0)|~r))+t[5]-57434055|0)<<21|o>>>11)+i|0,o=((o+=((n=((n+=(o^((r=((r+=(i^(o|~n))+t[12]+1700485571|0)<<6|r>>>26)+o|0)|~i))+t[3]-1894986606|0)<<10|n>>>22)+r|0)^((i=((i+=(r^(n|~o))+t[10]-1051523|0)<<15|i>>>17)+n|0)|~r))+t[1]-2054922799|0)<<21|o>>>11)+i|0,o=((o+=((n=((n+=(o^((r=((r+=(i^(o|~n))+t[8]+1873313359|0)<<6|r>>>26)+o|0)|~i))+t[15]-30611744|0)<<10|n>>>22)+r|0)^((i=((i+=(r^(n|~o))+t[6]-1560198380|0)<<15|i>>>17)+n|0)|~r))+t[13]+1309151649|0)<<21|o>>>11)+i|0,o=((o+=((n=((n+=(o^((r=((r+=(i^(o|~n))+t[4]-145523070|0)<<6|r>>>26)+o|0)|~i))+t[11]-1120210379|0)<<10|n>>>22)+r|0)^((i=((i+=(r^(n|~o))+t[2]+718787259|0)<<15|i>>>17)+n|0)|~r))+t[9]-343485551|0)<<21|o>>>11)+i|0,e[0]=r+e[0]|0,e[1]=o+e[1]|0,e[2]=i+e[2]|0,e[3]=n+e[3]|0}function o(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function i(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function n(e){var t,i,n,a,s,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)r(l,o(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(r(l,n),t=0;t<16;t+=1)n[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,n[14]=s,n[15]=c,r(l,n),l}function a(e){var r,o="";for(r=0;r<4;r+=1)o+=t[e>>8*r+4&15]+t[e>>8*r&15];return o}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e){var t,r=[],o=e.length;for(t=0;t<o-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function l(){this.reset()}return s(n("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,o){var i,n,a,s,c=this.byteLength,u=t(r,c),l=c;return o!==e&&(l=t(o,c)),u>l?new ArrayBuffer(0):(i=l-u,n=new ArrayBuffer(i),a=new Uint8Array(n),s=new Uint8Array(this,u,i),a.set(s),n)}}(),l.prototype.append=function(e){return this.appendBinary(c(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)r(this._hash,o(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,r,o=this._buff,i=o.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)n[t>>2]|=o.charCodeAt(t)<<(t%4<<3);return this._finish(n,i),r=s(this._hash),e&&(r=u(r)),this.reset(),r},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var o,i,n,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(r(this._hash,e),a=0;a<16;a+=1)e[a]=0;o=(o=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),n=parseInt(o[1],16)||0,e[14]=i,e[15]=n,r(this._hash,e)},l.hash=function(e,t){return l.hashBinary(c(e),t)},l.hashBinary=function(e,t){var r=s(n(e));return t?u(r):r},l.ArrayBuffer=function(){this.reset()},l.ArrayBuffer.prototype.append=function(e){var t,o,n,a,s,c=(o=this._buff.buffer,n=e,a=!0,(s=new Uint8Array(o.byteLength+n.byteLength)).set(new Uint8Array(o)),s.set(new Uint8Array(n),o.byteLength),a?s:s.buffer),u=c.length;for(this._length+=e.byteLength,t=64;t<=u;t+=64)r(this._hash,i(c.subarray(t-64,t)));return this._buff=t-64<u?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,r,o=this._buff,i=o.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)n[t>>2]|=o[t]<<(t%4<<3);return this._finish(n,i),r=s(this._hash),e&&(r=u(r)),this.reset(),r},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e,t=l.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var r,o=e.length,i=new ArrayBuffer(o),n=new Uint8Array(i);for(r=0;r<o;r+=1)n[r]=e.charCodeAt(r);return t?n:i}(e.buff,!0),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var o=s(function(e){var t,o,n,a,s,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)r(l,i(e.subarray(t-64,t)));for(e=t-64<u?e.subarray(t-64):new Uint8Array(0),o=e.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)n[t>>2]|=e[t]<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(r(l,n),t=0;t<16;t+=1)n[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,n[14]=s,n[15]=c,r(l,n),l}(new Uint8Array(e)));return t?u(o):o},l}()},function(e,t,r){var o;e.exports=(o=r(50),o.enc.Hex)},function(e,t,r){var o=r(18),i=Math.floor;e.exports=Number.isInteger||function(e){return!o(e)&&isFinite(e)&&i(e)===e}},function(e,t,r){var o=r(4),i=r(195),n=o.TypeError;e.exports=function(e){if(i(e))throw n("The method doesn't accept regular expressions");return e}},function(e,t,r){var o=r(13)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[o]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,r){"use strict";r(38);var o=r(8),i=r(4),n=r(35),a=r(15),s=r(7),c=r(262),u=r(29),l=r(117),d=r(64),p=r(200),h=r(43),f=r(78),g=r(14),_=r(20),m=r(31),y=r(66),v=r(11),b=r(18),w=r(23),S=r(51),I=r(65),x=r(119),O=r(98),E=r(13),P=r(166),k=E("iterator"),D=h.set,T=h.getterFor("URLSearchParams"),A=h.getterFor("URLSearchParamsIterator"),C=n("fetch"),B=n("Request"),N=n("Headers"),M=B&&B.prototype,L=N&&N.prototype,V=i.RegExp,j=i.TypeError,R=i.decodeURIComponent,H=i.encodeURIComponent,q=s("".charAt),z=s([].join),F=s([].push),Z=s("".replace),W=s([].shift),U=s([].splice),G=s("".split),J=s("".slice),Y=/\+/g,X=Array(4),Q=function(e){return X[e-1]||(X[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},K=function(e){try{return R(e)}catch(t){return e}},$=function(e){var t=Z(e,Y," "),r=4;try{return R(t)}catch(e){for(;r;)t=Z(t,Q(r--),K);return t}},ee=/[!'()~]|%20/g,te={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},re=function(e){return te[e]},oe=function(e){return Z(H(e),ee,re)},ie=function(e,t){if(e<t)throw j("Not enough arguments")},ne=p((function(e,t){D(this,{type:"URLSearchParamsIterator",iterator:x(T(e).entries),kind:t})}),"Iterator",(function(){var e=A(this),t=e.kind,r=e.iterator.next(),o=r.value;return r.done||(r.value="keys"===t?o.key:"values"===t?o.value:[o.key,o.value]),r}),!0),ae=function(e){this.entries=[],this.url=null,void 0!==e&&(b(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===q(e,0)?J(e,1):e:w(e)))};ae.prototype={type:"URLSearchParams",bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,o,i,n,s,c,u=O(e);if(u)for(r=(t=x(e,u)).next;!(o=a(r,t)).done;){if(n=(i=x(v(o.value))).next,(s=a(n,i)).done||(c=a(n,i)).done||!a(n,i).done)throw j("Expected sequence with length 2");F(this.entries,{key:w(s.value),value:w(c.value)})}else for(var l in e)_(e,l)&&F(this.entries,{key:l,value:w(e[l])})},parseQuery:function(e){if(e)for(var t,r,o=G(e,"&"),i=0;i<o.length;)(t=o[i++]).length&&(r=G(t,"="),F(this.entries,{key:$(W(r)),value:$(z(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],o=0;o<t.length;)e=t[o++],F(r,oe(e.key)+"="+oe(e.value));return z(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var se=function(){f(this,ce);var e=arguments.length>0?arguments[0]:void 0;D(this,new ae(e))},ce=se.prototype;if(l(ce,{append:function(e,t){ie(arguments.length,2);var r=T(this);F(r.entries,{key:w(e),value:w(t)}),r.updateURL()},delete:function(e){ie(arguments.length,1);for(var t=T(this),r=t.entries,o=w(e),i=0;i<r.length;)r[i].key===o?U(r,i,1):i++;t.updateURL()},get:function(e){ie(arguments.length,1);for(var t=T(this).entries,r=w(e),o=0;o<t.length;o++)if(t[o].key===r)return t[o].value;return null},getAll:function(e){ie(arguments.length,1);for(var t=T(this).entries,r=w(e),o=[],i=0;i<t.length;i++)t[i].key===r&&F(o,t[i].value);return o},has:function(e){ie(arguments.length,1);for(var t=T(this).entries,r=w(e),o=0;o<t.length;)if(t[o++].key===r)return!0;return!1},set:function(e,t){ie(arguments.length,1);for(var r,o=T(this),i=o.entries,n=!1,a=w(e),s=w(t),c=0;c<i.length;c++)(r=i[c]).key===a&&(n?U(i,c--,1):(n=!0,r.value=s));n||F(i,{key:a,value:s}),o.updateURL()},sort:function(){var e=T(this);P(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=T(this).entries,o=m(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)o((t=r[i++]).value,t.key,this)},keys:function(){return new ne(this,"keys")},values:function(){return new ne(this,"values")},entries:function(){return new ne(this,"entries")}},{enumerable:!0}),u(ce,k,ce.entries,{name:"entries"}),u(ce,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),d(se,"URLSearchParams"),o({global:!0,forced:!c},{URLSearchParams:se}),!c&&g(N)){var ue=s(L.has),le=s(L.set),de=function(e){if(b(e)){var t,r=e.body;if("URLSearchParams"===y(r))return t=e.headers?new N(e.headers):new N,ue(t,"content-type")||le(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:I(0,w(r)),headers:I(0,t)})}return e};if(g(C)&&o({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(e,arguments.length>1?de(arguments[1]):{})}}),g(B)){var pe=function(e){return f(this,M),new B(e,arguments.length>1?de(arguments[1]):{})};M.constructor=pe,pe.prototype=M,o({global:!0,forced:!0},{Request:pe})}}e.exports={URLSearchParams:se,getState:T}},function(e,t,r){var o,i,n,a,s,c,u,l;e.exports=(l=r(50),i=(o=l).lib,n=i.WordArray,a=i.Hasher,s=o.algo,c=[],u=s.SHA1=a.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,o=r[0],i=r[1],n=r[2],a=r[3],s=r[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var d=(o<<5|o>>>27)+s+c[u];d+=u<20?1518500249+(i&n|~i&a):u<40?1859775393+(i^n^a):u<60?(i&n|i&a|n&a)-1894007588:(i^n^a)-899497514,s=a,a=n,n=i<<30|i>>>2,i=o,o=d}r[0]=r[0]+o|0,r[1]=r[1]+i|0,r[2]=r[2]+n|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,o=8*e.sigBytes;return t[o>>>5]|=128<<24-o%32,t[14+(o+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(o+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),o.SHA1=a._createHelper(u),o.HmacSHA1=a._createHmacHelper(u),l.SHA1)},function(e,t,r){var o,i,n,a;e.exports=(o=r(50),n=(i=o).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var r=e.blockSize,o=4*r;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),n=this._iKey=t.clone(),s=i.words,c=n.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=n.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))},function(e,t,r){var o=r(9);e.exports=!o((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,r){"use strict";var o=r(4),i=r(41),n=r(23),a=r(44),s=o.RangeError;e.exports=function(e){var t=n(a(this)),r="",o=i(e);if(o<0||o==1/0)throw s("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},function(e,t,r){var o=r(4),i=r(15),n=r(14),a=r(18),s=o.TypeError;e.exports=function(e,t){var r,o;if("string"===t&&n(r=e.toString)&&!a(o=i(r,e)))return o;if(n(r=e.valueOf)&&!a(o=i(r,e)))return o;if("string"!==t&&n(r=e.toString)&&!a(o=i(r,e)))return o;throw s("Can't convert object to primitive value")}},function(e,t,r){var o=r(4),i=r(14),n=r(108),a=o.WeakMap;e.exports=i(a)&&/native code/.test(n(a))},function(e,t,r){var o=r(35),i=r(7),n=r(68),a=r(126),s=r(11),c=i([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=n.f(s(e)),r=a.f;return r?c(t,r(e)):t}},function(e,t,r){var o=r(9),i=r(4).RegExp;e.exports=o((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,r){var o=r(9),i=r(4).RegExp;e.exports=o((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t,r){var o=r(4),i=r(94),n=r(112),a=r(18),s=r(13)("species"),c=o.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(n(t)&&(t===c||i(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?c:t}},function(e,t,r){var o=r(9);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){var o=r(4),i=r(14),n=o.String,a=o.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+n(e)+" as a prototype")}},function(e,t,r){var o=r(4).Array,i=Math.abs,n=Math.pow,a=Math.floor,s=Math.log,c=Math.LN2;e.exports={pack:function(e,t,r){var u,l,d,p=o(r),h=8*r-t-1,f=(1<<h)-1,g=f>>1,_=23===t?n(2,-24)-n(2,-77):0,m=e<0||0===e&&1/e<0?1:0,y=0;for((e=i(e))!=e||e===1/0?(l=e!=e?1:0,u=f):(u=a(s(e)/c),e*(d=n(2,-u))<1&&(u--,d*=2),(e+=u+g>=1?_/d:_*n(2,1-g))*d>=2&&(u++,d/=2),u+g>=f?(l=0,u=f):u+g>=1?(l=(e*d-1)*n(2,t),u+=g):(l=e*n(2,g-1)*n(2,t),u=0));t>=8;)p[y++]=255&l,l/=256,t-=8;for(u=u<<t|l,h+=t;h>0;)p[y++]=255&u,u/=256,h-=8;return p[--y]|=128*m,p},unpack:function(e,t){var r,o=e.length,i=8*o-t-1,a=(1<<i)-1,s=a>>1,c=i-7,u=o-1,l=e[u--],d=127&l;for(l>>=7;c>0;)d=256*d+e[u--],c-=8;for(r=d&(1<<-c)-1,d>>=-c,c+=t;c>0;)r=256*r+e[u--],c-=8;if(0===d)d=1-s;else{if(d===a)return r?NaN:l?-1/0:1/0;r+=n(2,t),d-=s}return(l?-1:1)*r*n(2,d-t)}}},function(e,t,r){"use strict";var o=r(127),i=r(66);e.exports=o?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,r){var o=r(4),i=r(41),n=o.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw n("The argument can't be less than 0");return t}},function(e,t,r){"use strict";var o=r(25),i=r(57),n=r(24),a=Math.min;e.exports=[].copyWithin||function(e,t){var r=o(this),s=n(r),c=i(e,s),u=i(t,s),l=arguments.length>2?arguments[2]:void 0,d=a((void 0===l?s:i(l,s))-u,s-c),p=1;for(u<c&&c<u+d&&(p=-1,u+=d-1,c+=d-1);d-- >0;)u in r?r[c]=r[u]:delete r[c],c+=p,u+=p;return r}},function(e,t,r){var o=r(254),i=r(105);e.exports=function(e,t){return o(i(e),t)}},function(e,t,r){var o=r(24);e.exports=function(e,t){for(var r=0,i=o(t),n=new e(i);i>r;)n[r]=t[r++];return n}},function(e,t,r){var o=r(4);e.exports=o},function(e,t,r){"use strict";var o=r(4),i=r(31),n=r(15),a=r(25),s=r(283),c=r(139),u=r(112),l=r(24),d=r(97),p=r(119),h=r(98),f=o.Array;e.exports=function(e){var t=a(e),r=u(this),o=arguments.length,g=o>1?arguments[1]:void 0,_=void 0!==g;_&&(g=i(g,o>2?arguments[2]:void 0));var m,y,v,b,w,S,I=h(t),x=0;if(!I||this==f&&c(I))for(m=l(t),y=r?new this(m):f(m);m>x;x++)S=_?g(t[x],x):t[x],d(y,x,S);else for(w=(b=p(t,I)).next,y=r?new this:[];!(v=n(w,b)).done;x++)S=_?s(b,g,[v.value,x],!0):v.value,d(y,x,S);return y.length=x,y}},function(e,t,r){var o=r(7),i=r(42),n=r(23),a=r(240),s=r(44),c=o(a),u=o("".slice),l=Math.ceil,d=function(e){return function(t,r,o){var a,d,p=n(s(t)),h=i(r),f=p.length,g=void 0===o?" ":n(o);return h<=f||""==g?p:((d=c(g,l((a=h-f)/g.length))).length>a&&(d=u(d,0,a)),e?p+d:d+p)}};e.exports={start:d(!1),end:d(!0)}},function(e,t,r){var o=r(8),i=r(239),n=r(9),a=r(18),s=r(193).onFreeze,c=Object.freeze;o({target:"Object",stat:!0,forced:n((function(){c(1)})),sham:!i},{freeze:function(e){return c&&a(e)?c(s(e)):e}})},function(e,t,r){var o=r(7),i=r(44),n=r(23),a=r(260),s=o("".replace),c="["+a+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),d=function(e){return function(t){var r=n(i(t));return 1&e&&(r=s(r,u,"")),2&e&&(r=s(r,l,"")),r}};e.exports={start:d(1),end:d(2),trim:d(3)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,r){var o=r(8),i=r(129),n=r(110);o({target:"Array",proto:!0},{fill:i}),n("fill")},function(e,t,r){var o=r(9),i=r(13),n=r(21),a=i("iterator");e.exports=!o((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,o){t.delete("b"),r+=o+e})),n&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},function(e,t,r){var o,i,n,a,s,c,u,l;e.exports=(l=r(50),r(237),r(238),i=(o=l).lib,n=i.Base,a=i.WordArray,s=o.algo,c=s.MD5,u=s.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,o=r.hasher.create(),i=a.create(),n=i.words,s=r.keySize,c=r.iterations;n.length<s;){u&&o.update(u);var u=o.update(e).finalize(t);o.reset();for(var l=1;l<c;l++)u=o.finalize(u),o.reset();i.concat(u)}return i.sigBytes=4*s,i}}),o.EvpKDF=function(e,t,r){return u.create(r).compute(e,t)},l.EvpKDF)},function(e,t,r){var o;e.exports=(o=r(50),r(263),void(o.lib.Cipher||function(e){var t=o,r=t.lib,i=r.Base,n=r.WordArray,a=r.BufferedBlockAlgorithm,s=t.enc,c=(s.Utf8,s.Base64),u=t.algo.EvpKDF,l=r.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:m}return function(t){return{encrypt:function(r,o,i){return e(o).encrypt(t,r,o,i)},decrypt:function(r,o,i){return e(o).decrypt(t,r,o,i)}}}}()}),d=(r.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),p=r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=d.CBC=function(){var e=p.extend();function t(e,t,r){var o=this._iv;if(o){var i=o;this._iv=void 0}else i=this._prevBlock;for(var n=0;n<r;n++)e[t+n]^=i[n]}return e.Encryptor=e.extend({processBlock:function(e,r){var o=this._cipher,i=o.blockSize;t.call(this,e,r,i),o.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var o=this._cipher,i=o.blockSize,n=e.slice(r,r+i);o.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=n}}),e}(),f=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,o=r-e.sigBytes%r,i=o<<24|o<<16|o<<8|o,a=[],s=0;s<o;s+=4)a.push(i);var c=n.create(a,o);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(r.BlockCipher=l.extend({cfg:l.cfg.extend({mode:h,padding:f}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var o=r.createEncryptor;else o=r.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==o?this._mode.init(this,t&&t.words):(this._mode=o.call(r,this,t&&t.words),this._mode.__creator=o)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),_=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var o=n.create([1398893684,1701076831]).concat(r).concat(t);else o=t;return o.toString(c)},parse:function(e){var t=c.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var o=n.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return g.create({ciphertext:t,salt:o})}},m=r.SerializableCipher=i.extend({cfg:i.extend({format:_}),encrypt:function(e,t,r,o){o=this.cfg.extend(o);var i=e.createEncryptor(r,o),n=i.finalize(t),a=i.cfg;return g.create({ciphertext:n,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:o.format})},decrypt:function(e,t,r,o){return o=this.cfg.extend(o),t=this._parse(t,o.format),e.createDecryptor(r,o).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,r,o){o||(o=n.random(8));var i=u.create({keySize:t+r}).compute(e,o),a=n.create(i.words.slice(t),4*r);return i.sigBytes=4*t,g.create({key:i,iv:a,salt:o})}},v=r.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(e,t,r,o){var i=(o=this.cfg.extend(o)).kdf.execute(r,e.keySize,e.ivSize);o.iv=i.iv;var n=m.encrypt.call(this,e,t,i.key,o);return n.mixIn(i),n},decrypt:function(e,t,r,o){o=this.cfg.extend(o),t=this._parse(t,o.format);var i=o.kdf.execute(r,e.keySize,e.ivSize,t.salt);return o.iv=i.iv,m.decrypt.call(this,e,t,i.key,o)}})}()))},function(e,t,r){r(8)({target:"Object",stat:!0},{setPrototypeOf:r(69)})},function(e,t,r){r(8)({target:"Object",stat:!0,sham:!r(19)},{create:r(51)})},function(e,t,r){var o=r(7);e.exports=o(1..valueOf)},function(e,t,r){var o=r(8),i=r(25),n=r(109);o({target:"Object",stat:!0,forced:r(9)((function(){n(1)}))},{keys:function(e){return n(i(e))}})},function(e,t,r){var o;e.exports=(o=r(50),r(121),r(341),r(263),r(264),function(){var e=o,t=e.lib.BlockCipher,r=e.algo,i=[],n=[],a=[],s=[],c=[],u=[],l=[],d=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,o=0;for(t=0;t<256;t++){var f=o^o<<1^o<<2^o<<3^o<<4;f=f>>>8^255&f^99,i[r]=f,n[f]=r;var g=e[r],_=e[g],m=e[_],y=257*e[f]^16843008*f;a[r]=y<<24|y>>>8,s[r]=y<<16|y>>>16,c[r]=y<<8|y>>>24,u[r]=y,y=16843009*m^65537*_^257*g^16843008*r,l[f]=y<<24|y>>>8,d[f]=y<<16|y>>>16,p[f]=y<<8|y>>>24,h[f]=y,r?(r=g^e[e[e[m^g]]],o^=e[e[o]]):r=o=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,o=4*((this._nRounds=r+6)+1),n=this._keySchedule=[],a=0;a<o;a++)if(a<r)n[a]=t[a];else{var s=n[a-1];a%r?r>6&&a%r==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=f[a/r|0]<<24),n[a]=n[a-r]^s}for(var c=this._invKeySchedule=[],u=0;u<o;u++)a=o-u,s=u%4?n[a]:n[a-4],c[u]=u<4||a<=4?s:l[i[s>>>24]]^d[i[s>>>16&255]]^p[i[s>>>8&255]]^h[i[255&s]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,d,p,h,n),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,o,i,n,a,s){for(var c=this._nRounds,u=e[t]^r[0],l=e[t+1]^r[1],d=e[t+2]^r[2],p=e[t+3]^r[3],h=4,f=1;f<c;f++){var g=o[u>>>24]^i[l>>>16&255]^n[d>>>8&255]^a[255&p]^r[h++],_=o[l>>>24]^i[d>>>16&255]^n[p>>>8&255]^a[255&u]^r[h++],m=o[d>>>24]^i[p>>>16&255]^n[u>>>8&255]^a[255&l]^r[h++],y=o[p>>>24]^i[u>>>16&255]^n[l>>>8&255]^a[255&d]^r[h++];u=g,l=_,d=m,p=y}g=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^r[h++],_=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^r[h++],m=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^r[h++],y=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^r[h++],e[t]=g,e[t+1]=_,e[t+2]=m,e[t+3]=y},keySize:8});e.AES=t._createHelper(g)}(),o.AES)},function(e,t,r){var o;e.exports=(o=r(50),r(264),o.pad.NoPadding={pad:function(){},unpad:function(){}},o.pad.NoPadding)},function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));r(45),r(30),r(59),r(82),r(83),r(84),r(38),r(49),r(67),r(111),r(60),r(61),r(79);var o=r(17),i=(r(113),r(46),r(96),r(75),r(52),r(53),r(261),r(192),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(167),r(168),r(169),r(130),r(282),r(236),r(197)),n=r.n(i),a=r(63),s=r(132),c=r(2),u=r(33),l=r(36),d=r(1),p=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},h=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},f=function(){function e(){this.axiosInstance=n.a.create({timeout:u.b}),this.getFileName=function(e){return e.name}}return e.prototype.getMd5=function(e){return Object(s.a)(e)},e.prototype.getFileSize=function(e){return Promise.resolve(e.size)},e.prototype.requestProgress=function(e,t,r,i){return p(this,void 0,void 0,(function(){var n,a,s,u,p,f;return h(this,(function(h){switch(h.label){case 0:n=0,a=e.length,h.label=1;case 1:if(!(n<a))return[3,6];n&&n!==a-1&&(s=l.a.switchOrigin(),d.a.getInstance().info(["DocsView_Service","Request_Retry"],"switchOrigin",JSON.stringify(s))),u=e[n],t.url=u,h.label=2;case 2:return h.trys.push([2,4,,5]),d.a.getInstance().info(["DocsView_Service","Request_Retry"],"requestProgress",JSON.stringify({tryTime:n+1,status:"start",params:t})),[4,this.axiosInstance(t)];case 3:return p=h.sent(),d.a.getInstance().info(["DocsView_Service","Request_Retry"],"requestProgress",JSON.stringify({tryTime:n+1,status:"end",params:t,result:p.data})),r(p),[3,6];case 4:return f=h.sent(),d.a.getInstance().error(["DocsView_Service","Request_Retry"],"requestProgress",JSON.stringify({tryTime:n+1,status:"end",params:t,result:f})),n===a-1&&i(Object(o.b)(c.b.ZegoDocsViewErrorRequestFailure)),[3,5];case 5:return n++,[3,1];case 6:return[2]}}))}))},e.prototype.requestBefore=function(e){var t=l.a.getOriginList(),r=e.url,o=l.a.API_Label+r.split(l.a.API_Label)[1],i=[];return t=t.map((function(e){return e+o})),new Array(l.a.Try_Time).fill("").forEach((function(){i=i.concat.apply(i,t)})),d.a.getInstance().info(["DocsView_Service","Request_Retry"],"requestBefore",JSON.stringify(i)),i},e.prototype.request=function(e){var t=this;return"arraybuffer"===e.responseType?this.axiosInstance(e):new Promise((function(r,o){var i=t.requestBefore(e);t.requestProgress(i,e,r,o)}))},e.prototype.decryptImage=function(e){return this.request({url:e,method:"get",timeout:u.b,responseType:"arraybuffer"}).then((function(e){var t=new Uint8Array(e.data),r=Object(a.a)(t.slice(0,1024));return URL.createObjectURL(new Blob([r,t.slice(1024)],{type:"image/jpg"}))}))},e.prototype.uploadDoc=function(e,t,r){var i=e.fileServerProvider;return"oss"===i?this.uploadDocToOss(e,t):"sfs"===i?this.uploadDocToSfs(e,r):Promise.reject(Object(o.b)(c.b.ZegoDocsViewErrorParamInvalid))},e.prototype.uploadH5File=function(e,t,r,o){var i=e.name,n={app_id:o.app_id,user_id:o.id_name,platform:o.platform,web_token:o.web_token,file_name:i,file_type:c.c.ZegoDocsViewFileTypeCustomH5,width:t.width,height:t.height,page_count:t.pageCount};t.thumbnailList&&t.thumbnailList.length&&(n.thumbnails=t.thumbnailList);var a=new FormData;return a.append("req",new Blob([JSON.stringify(n)],{type:"application/json"})),a.append("document",e),this.axiosInstance({method:"post",url:o.url,data:a,timeout:u.c,onUploadProgress:function(e){if(r){var t=e.total,o=e.loaded;r({fileName:i,uploadPercent:Math.floor(o/t*100),total:t,loaded:o})}}})},e.prototype.uploadDocToOss=function(e,t){var r=e.oss,o=e.file,i=e.onProgress,n=e.fileName,a=e.fileHash,l=Object(s.b)(r),d=new FormData;return d.append("OSSAccessKeyId",l.OSSAccessKeyId),d.append("x-oss-security-token",l.securityToken),d.append("signature",l.signature),d.append("policy",l.policy),d.append("successActionStatus",l.successActionStatus),d.append("key",l.objectName),d.append("file",o),d.append("name",o.name),this.axiosInstance({method:"post",url:l.url,data:d,timeout:u.c,onUploadProgress:function(e){if(i&&!t){var r=e.total,o=e.loaded;i({status:c.e.UPLOADING,fileName:n,fileHash:a,uploadPercent:Math.floor(o/r*100),total:r,loaded:o})}}})},e.prototype.uploadDocToSfs=function(e,t){var r=e.sfs,o=e.fileHash,i=e.file,n=e.onProgress,a=e.fileName,s=r,l=s.token,d=s.expired_timestamp,p=s.api,h=s.object_name,f={app_id:t.app_id,user_id:t.id_name,platform:t.platform,expired_timestamp:d,sfs_token:l,file_name:h,file_hash:o},g=new FormData;return g.append("req",new Blob([JSON.stringify(f)],{type:"application/json"})),g.append("document",i),this.axiosInstance({method:"post",url:p,data:g,timeout:u.c,onUploadProgress:function(e){if(n){var t=e.total,r=e.loaded;n({status:c.e.UPLOADING,fileName:a,fileHash:o,uploadPercent:Math.floor(r/t*100),total:t,loaded:r})}}})},e}(),g=function(){return(g=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},_=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},m=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},y=-1!=="".indexOf("wx")?"wx":"web",v=-1!=="".indexOf("private"),b=function(){function e(e){if(this.commonParams={platform:"wx"===y?16:32,app_id:0,web_token:"",id_name:""},this.stateCenter={env:"",cancelMap:{},preloadPPTH5CDNUsedMap:{}},!e||!e.appID||isNaN(e.appID)||!e.token)throw new Error("constructor parameter error.");this.platformAPI=new f,d.a.getInstance().initInfo({appID:e.appID,version:this.getVersion(),isTestEnv:!!e.isTestEnv,isProd:!0}),d.a.getInstance().initRoomInfo({roomID:"",userID:e.userID,token:e.token}),d.a.getInstance().info(["DocsView_Service"],"new",JSON.stringify({isProd:!0})),this.init(e)}return e.prototype.init=function(e){d.a.getInstance().info(["DocsView_Service"],"init",JSON.stringify({config:e}));var t=e.token,r=e.appID,o=e.userID,i=e.isTestEnv;this.commonParams.app_id=r,this.commonParams.web_token=t,this.commonParams.id_name=o||"",this.config={domain:v?"":this.getDomain("")},this.setTestEnv(!!i)},e.prototype.getDomain=function(e){return d.a.getInstance().info(["DocsView_Service"],"getDomain","https://docservice"+e+".zego.im"),"https://docservice"+e+".zego.im"},e.prototype.isInvalidDomain=function(){var e=!this.stateCenter.env&&!this.config.domain;return d.a.getInstance().info(["DocsView_Service"],"getDomain",JSON.stringify({isInvalid:e})),e},e.prototype.getVersion=function(){return"2.2.0"},e.prototype.setTestEnv=function(e){"boolean"==typeof e&&(this.stateCenter.env=e?"-test":"");var t=l.a.updateOriginList(this.stateCenter.env,v,this.config.domain);d.a.getInstance().info(["DocsView_Service","Request_Retry"],"updateOriginList",JSON.stringify(t))},e.prototype.setConfig=function(e,t){return d.a.getInstance().info(["DocsView_Service"],"API.setConfig",JSON.stringify({key:e,value:t})),!(!e||null==t)&&(["dynamicPPT_HD","dynamicPPT_AutomaticPage",c.a.Domain,c.a.ThumbnailMode].includes(e)?(this.config[e]=t,e===c.a.Domain&&this.setTestEnv()):(this.stateCenter.env="true"===t||!0===t?"-alpha":"-test",this.setTestEnv()),!0)},e.prototype.getConfig=function(e){return d.a.getInstance().info(["DocsView_Service"],"API.getConfig",JSON.stringify({key:e,value:this.config[e]})),this.config[e]},e.prototype.decryptImage=function(e){return d.a.getInstance().info(["DocsView_Service"],"decryptImage",JSON.stringify({url:e})),this.platformAPI.decryptImage(e)},e.prototype.uploadH5File=function(e,t,r){return _(this,void 0,void 0,(function(){var i,n,s,p,h,f,_,y=this;return m(this,(function(m){switch(m.label){case 0:if(d.a.getInstance().info(["DocsView_Service"],"API.uploadH5File",JSON.stringify({file:e,config:t})),!e||!t||!Object(a.f)(t.width)||!Object(a.f)(t.height)||!Object(a.f)(t.pageCount)||t.thumbnailList&&t.thumbnailList.length&&t.thumbnailList.length!==t.pageCount)return[2,Promise.reject(Object(o.b)(c.b.ZegoDocsViewErrorParamInvalid))];m.label=1;case 1:return m.trys.push([1,5,,6]),(i=Object(a.c)(e))!=c.c.ZegoDocsViewFileTypeCustomH5?[2,Promise.reject(Object(o.b)(c.b.ZegoDocsViewErrorZipFileInvalid))]:[4,this.platformAPI.getFileSize(e)];case 2:return n=m.sent(),this.checkSizeHandle(i,n)?[4,this.platformAPI.getMd5(e)]:[2,Promise.reject(Object(o.b)(c.b.ZegoDocsViewErrorFileSizeLimit))];case 3:return s=m.sent(),[4,this.queryStatus({fileHash:s,fileType:i,expectFileType:u.a.H5ZIP})];case 4:return p=m.sent(),h=p.fileID,d.a.getInstance().info(["DocsView_Service"],"uploadH5File",JSON.stringify({fileType:i,fileSize:n,fileHash:s,statusInfo:p,fileID:h})),h?[2,Promise.resolve(h)]:[3,6];case 5:return f=m.sent(),_=Object(o.b)(c.b.ZegoDocsViewErrorUploadFailed),[2,Promise.reject(g(g({},_),{error:f}))];case 6:return[2,this.platformAPI.uploadH5File(e,t,r,g(g({},this.commonParams),{url:l.a.getFullURL().uploadH5Url})).then((function(r){var i,n=r.data;d.a.getInstance().info(["DocsView_Service"],"uploadH5File",JSON.stringify({params:t,file:y.platformAPI.getFileName(e),result:n}));var a=null===(i=n.ret)||void 0===i?void 0:i.code;return 0===a?n.file_id:Promise.reject(Object(o.b)(a))})).catch((function(e){var t;throw 413===(null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.status)?Object(o.b)(c.b.ZegoDocsViewErrorFileSizeLimit):e}))]}}))}))},e.prototype.uploadFile=function(e){return d.a.getInstance().info(["DocsView_Service"],"API.uploadFile",JSON.stringify({uploadParams:e})),!e.file||"number"!=typeof e.renderType||isNaN(e.renderType)?Promise.reject(Object(o.b)(c.b.ZegoDocsViewErrorParamInvalid)):e.file instanceof File&&0===e.file.size?Promise.reject(Object(o.b)(c.b.ZegoDocsViewErrorFileContentEmpty)):this.isInvalidDomain()?Promise.reject(Object(o.b)(c.b.ZegoDocsViewErrorEmptyDomain)):this.uploadProgress(e).then((function(t){return d.a.getInstance().info(["DocsView_Service"],"uploadFile",JSON.stringify({params:e,result:t})),t}))},e.prototype.loadFile=function(e){var t=this;return d.a.getInstance().info(["DocsView_Service"],"API.loadFile",JSON.stringify({fileID:e})),this.isInvalidDomain()?Promise.reject(Object(o.b)(c.b.ZegoDocsViewErrorEmptyDomain)):e?new Promise((function(r,i){return _(t,void 0,void 0,(function(){var t,n,s,c;return m(this,(function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),t=g(g({},this.commonParams),{file_id:e}),[4,this.platformAPI.request({url:l.a.getFullURL().queryUrl,method:"post",timeout:u.b,data:t})];case 1:return n=p.sent(),s=n.data,d.a.getInstance().info(["DocsView_Service"],"loadFile",JSON.stringify({data:s})),0===s.ret.code?(s.file_urls=s.file_urls||[],s.page_count=s.page_count||s.file_urls.length||1,r(Object(a.d)(e,s))):i(Object(o.b)(s.ret.code,s.ret.message)),[3,3];case 2:return c=p.sent(),i(c),[3,3];case 3:return[2]}}))}))})):Promise.reject(Object(o.b)(c.b.ZegoDocsViewErrorParamInvalid))},e.prototype.cacheFile=function(e){var t=this;return d.a.getInstance().info(["DocsView_Service"],"API.cacheFile",JSON.stringify({fileID:e})),this.isInvalidDomain()?Promise.reject(Object(o.b)(c.b.ZegoDocsViewErrorEmptyDomain)):e?new Promise((function(r,i){return _(t,void 0,void 0,(function(){var t,n,s,c,p;return m(this,(function(h){switch(h.label){case 0:return h.trys.push([0,5,,6]),t=g(g({},this.commonParams),{file_id:e}),[4,this.platformAPI.request({url:l.a.getFullURL().queryUrl,method:"post",timeout:u.b,data:t})];case 1:return n=h.sent(),s=n.data,d.a.getInstance().info(["DocsView_Service"],"cacheFile",JSON.stringify({data:s})),0!==s.ret.code?[3,3]:[4,Object(a.g)(s)];case 2:return c=h.sent(),r(c),[3,4];case 3:i(Object(o.b)(s.ret.code,s.ret.message)),h.label=4;case 4:return[3,6];case 5:return p=h.sent(),i(p),[3,6];case 6:return[2]}}))}))})):Promise.reject(Object(o.b)(c.b.ZegoDocsViewErrorParamInvalid))},e.prototype.cancelUploadFile=function(e){var t=this,r=e.fileHash,i=e.taskID;return d.a.getInstance().info(["DocsView_Service"],"API.cancelUploadFile",JSON.stringify({fileHash:r,taskID:i})),new Promise(i?function(n,a){return _(t,void 0,void 0,(function(){var t,s,c,p;return m(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),t=g(g({},this.commonParams),{task_id:i}),[4,this.platformAPI.request({url:l.a.getFullURL().cancelCvtUrl,method:"post",timeout:u.b,data:t})];case 1:return s=h.sent(),0===(c=s.data).ret.code?(this.stateCenter.cancelMap[r]=i,d.a.getInstance().info(["DocsView_Service"],"cancelUploadFile",JSON.stringify({result:e})),n(!0)):a(Object(o.b)(c.ret.code,c.ret.message)),[3,3];case 2:return p=h.sent(),a(p),[3,3];case 3:return[2]}}))}))}:function(e,o){t.stateCenter.cancelMap[r]=!0,e(!0)})},e.prototype.uploadSucceedAfter=function(e){var t=e.result,r=e.onProgress,o=e.resolve;r&&r(t),o&&o(t.fileID)},e.prototype.uploadFailedAfter=function(e,t){e&&e(t)},e.prototype.uploadProgressInit=function(e){return _(this,void 0,void 0,(function(){var t,r,o,i,n,a,s,u,l,p;return m(this,(function(h){switch(h.label){case 0:return t=e.statusInitSub,r=e.file,o=e.fileName,i=e.onProgress,a=(n=t).oss,s=n.fileServerProvider,u=n.fileHash,l=n.sfs,p=this.stateCenter.cancelMap[u],d.a.getInstance().info(["DocsView_Service"],"uploadProgressInit",JSON.stringify({progressCvtParams:e,statusInitSub:t,isCancel:p})),p?(i&&i({status:c.e.CONVERT_CANCEL,fileName:o,fileHash:u}),this.stateCenter.cancelMap[u]=!1,[2,!1]):[4,this.platformAPI.uploadDoc({file:r,fileServerProvider:s,oss:a,sfs:l,fileHash:u,fileName:o,onProgress:i},this.stateCenter.cancelMap[u],this.commonParams)];case 1:return h.sent(),i&&i({status:c.e.UPLOADED,fileName:o,fileHash:u}),[4,this.uploadProgressCvt(e)];case 2:return h.sent(),[2,!0]}}))}))},e.prototype.uploadProgressCvt=function(e){return _(this,void 0,void 0,(function(){var t,r,o,i,n,a,s,u,l,p,h,f,g,_,y;return m(this,(function(m){switch(m.label){case 0:return t=e.file,r=e.onProgress,o=e.fileType,i=e.fileHash,n=e.fileName,a=e.originReslove,s=e.resolve,u=e.expectFileType,l=e.originReject,p=e.reject,h=this.stateCenter.cancelMap[i],r&&r({status:h?c.e.CONVERT_CANCEL:c.e.UPLOADED,fileName:n,fileHash:i}),h?(this.stateCenter.cancelMap[i]=!1,[2,!1]):(g=this.createCvtDoc,_={},[4,this.platformAPI.getFileSize(t)]);case 1:return[4,g.apply(this,[(_.fileSize=m.sent(),_.fileName=this.platformAPI.getFileName(t),_.fileType=o,_.fileHash=i,_.expectFileType=u,_)])];case 2:return f=m.sent(),y={fileName:n,fileHash:i,taskID:f.taskID,onProgress:r},d.a.getInstance().info(["DocsView_Service"],"uploadProgressCvt",JSON.stringify({uploadProgressParams:y})),[4,this.uploadProgress(y,a||s,l||p)];case 3:return m.sent(),[2,!0]}}))}))},e.prototype.checkTypeHandle=function(e){return e!==c.c.ZegoDocsViewFileTypeUnknown},e.prototype.checkRenderTypeHandle=function(e,t){return t!=c.d.ZegoDocsViewRenderTypeVectorAndIMG&&t!=c.d.ZegoDocsViewRenderTypeIMG||e!=c.c.ZegoDocsViewFileTypeCustomH5?t==c.d.ZegoDocsViewRenderTypeDynamicPPTH5&&e!==c.c.ZegoDocsViewFileTypePPT?(d.a.getInstance().info(["DocsView_Service"],"checkRenderTypeHandle","false"),!1):(d.a.getInstance().info(["DocsView_Service"],"checkRenderTypeHandle","true"),!0):(d.a.getInstance().info(["DocsView_Service"],"checkRenderTypeHandle","false"),!1)},e.prototype.checkSizeHandle=function(e,t){var r=l.a.getFileLimit(),o=r[0][1],i=r[1][1],n=r[2][1],a=r[3][1],s=r[4][1],u=r[5][1],p=r[6][1],h=!0;switch(e){case c.c.ZegoDocsViewFileTypePPT:t>o&&(h=!1);break;case c.c.ZegoDocsViewFileTypeDOC:t>i&&(h=!1);break;case c.c.ZegoDocsViewFileTypePDF:t>a&&(h=!1);break;case c.c.ZegoDocsViewFileTypeIMG:t>s&&(h=!1);break;case c.c.ZegoDocsViewFileTypeELS:t>n&&(h=!1);break;case c.c.ZegoDocsViewFileTypeTXT:t>u&&(h=!1);break;case c.c.ZegoDocsViewFileTypeCustomH5:t>p&&(h=!1)}return d.a.getInstance().info(["DocsView_Service"],"checkSizeHandle",JSON.stringify({result:h})),h},e.prototype.uploadProgress=function(e,t,r){var i=this;return d.a.getInstance().info(["DocsView_Service"],"uploadProgress",JSON.stringify({uploadParams:e})),new Promise((function(n,s){return _(i,void 0,void 0,(function(){var i,l,p,h,f,y,v,b,w,S,I,x,O,E,P=this;return m(this,(function(k){switch(k.label){case 0:i="",l="",p=0,h=c.c.ZegoDocsViewFileTypeUnknown,k.label=1;case 1:return k.trys.push([1,19,,20]),y=(f=e).file,v=f.renderType,b=void 0,w=u.a.PDF,y?c.d[v]?(h=Object(a.c)(y),this.checkTypeHandle(h)?this.checkRenderTypeHandle(h,v)?[4,this.platformAPI.getFileSize(y)]:[2,s(Object(o.b)(c.b.ZegoDocsViewErrorUnsupportRenderType))]:[2,s(Object(o.b)(c.b.ZegoDocsViewErrorConvertFileTypeInvalid))]):[2,s(Object(o.b)(c.b.ZegoDocsViewErrorUnsupportRenderType))]:[3,5];case 2:return p=k.sent(),this.checkSizeHandle(h,p)?(l=this.platformAPI.getFileName(y),w=Object(a.b)(v,h),[4,this.platformAPI.getMd5(y)]):[2,s(Object(o.b)(c.b.ZegoDocsViewErrorFileSizeLimit))];case 3:return i=k.sent(),[4,this.queryStatus({fileHash:i,fileType:h,expectFileType:w})];case 4:return b=k.sent(),d.a.getInstance().info(["DocsView_Service"],"uploadProgress_query",JSON.stringify({fileName:l,expectFileType:w,fileHash:i,statusInfo:b})),[3,7];case 5:return l=(S=e).fileName,i=S.fileHash,[4,this.queryStatus({taskID:S.taskID})];case 6:b=k.sent(),d.a.getInstance().info(["DocsView_Service"],"uploadProgress_query",JSON.stringify({params:S,statusInfo:b})),k.label=7;case 7:switch(I=b.status,d.a.getInstance().info(["DocsView_Service"],"uploadProgress_status",JSON.stringify({status:I})),I){case c.e.UPLOADING:return[3,8];case c.e.UPLOADED:return[3,10];case c.e.WAITING:case c.e.CONVERTING:return[3,12];case c.e.CONVERTED:return[3,16]}return[3,17];case 8:return[4,this.uploadProgressInit({file:y,expectFileType:w,fileType:h,fileHash:i,fileName:l,statusInitSub:b,onProgress:e.onProgress,originReslove:t,resolve:n,originReject:r,reject:s})];case 9:return k.sent(),[3,18];case 10:return[4,this.uploadProgressCvt({file:y,expectFileType:w,fileType:h,fileHash:i,fileName:l,onProgress:e.onProgress,originReslove:t,resolve:n,originReject:r,reject:s})];case 11:return k.sent(),[3,18];case 12:return x=this.stateCenter.cancelMap[i],O=b.taskID,e.onProgress&&e.onProgress({status:x?c.e.CONVERT_CANCEL:I,fileName:l,fileHash:i,taskID:O}),x?(this.stateCenter.cancelMap[i]=!1,[4,this.cancelUploadFile({fileHash:i,taskID:O})]):[3,14];case 13:return k.sent(),[3,15];case 14:setTimeout((function(){return _(P,void 0,void 0,(function(){return m(this,(function(o){switch(o.label){case 0:return[4,this.uploadProgress({taskID:O,fileName:l,fileHash:i,onProgress:e.onProgress},t||n,r||s)];case 1:return o.sent(),[2]}}))}))}),2e3),k.label=15;case 15:return[3,18];case 16:return this.uploadSucceedAfter({result:{status:b.status,fileID:b.fileID,fileName:l,fileHash:i},onProgress:e.onProgress,resolve:t||n}),[3,18];case 17:return this.uploadFailedAfter(r||s,g({status:I,taskID:O},Object(o.b)(c.b.ZegoDocsViewErrorConvertFail))),[3,18];case 18:return[3,20];case 19:return E=k.sent(),this.uploadFailedAfter(r||s,g(g({status:c.e.CONVERT_FAIL},Object(o.b)(E&&E.code||c.b.ZegoDocsViewErrorConvertFail)),{error:E})),[3,20];case 20:return[2]}}))}))}))},e.prototype.queryStatus=function(e){var t=this,r=g({},this.commonParams);if(e.taskID)r.task_id=e.taskID;else{var i=e,n=i.fileHash,a=i.fileType,s=i.expectFileType;r.file_hash=n,r.file_type=a,r.expect_file_type=s}return new Promise((function(i,n){return _(t,void 0,void 0,(function(){var t,a,s,p,h,f,g,_,y,v,b,w,S;return m(this,(function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this.platformAPI.request({url:l.a.getFullURL().queryStatusUrl,method:"post",timeout:e.timeout||u.b,data:r})];case 1:if(t=m.sent(),a=t.data,s=a.ret,p=a.file_type,h=a.status,f=a.file_hash,g=a.file_server_provider,_=a.oss,y=a.sfs,v=a.task_id,b=a.query_interval,w=a.file_id,d.a.getInstance().info(["DocsView_Service"],"queryStatus",JSON.stringify({data:a})),0===s.code)switch(h){case 32:case 64:case 128:case 256:case 512:case 1024:case 8192:case 32768:case 32769:case 32773:case 32774:n(Object(o.b)(h));break;case 1:i({fileType:p,status:h,fileHash:f,fileServerProvider:g,oss:_,sfs:y});break;case 2:i({fileType:p,status:h,fileHash:f});break;case 4:i({fileType:p,status:h,taskID:v,queryInterval:b||1e3});break;case 8:i({fileType:p,status:h,taskID:v});break;case 16:i({fileID:w,status:h});break;default:n(Object(o.b)(c.b.ZegoDocsViewErrorConvertFail))}else n(Object(o.b)(a.ret.code,a.ret.message));return[3,3];case 2:return S=m.sent(),n(S),[3,3];case 3:return[2]}}))}))}))},e.prototype.getCvtH5HighQualityMode=function(){return"true"===String(this.config.dynamicPPT_HD)},e.prototype.getCvtThumbnailMode=function(){return+this.config.thumbnailMode||1},e.prototype.getCvtH5AutomaticPageMode=function(){var e=this.config.dynamicPPT_AutomaticPage;return null==e||"true"===String(e)?2:1},e.prototype.createCvtDoc=function(e){var t=this,r=e.timeout,i=e.srcFileUrl,n=e.fileName,a=e.fileHash,s=e.fileSize,c=e.fileType,p=e.expectFileType,h=g(g({},this.commonParams),{file_name:n,file_hash:a,file_size:s,file_type:c,expect_file_type:p}),f=this.getCvtThumbnailMode();1!=f&&(h.thumbnail_height_type=f);var y=this.getCvtH5HighQualityMode();y&&(h.export_high_quality_images=y);var v=this.getCvtH5AutomaticPageMode();return 2!=v&&(h.h5_automatic_page_turning=v),i&&(h.src_file_url=i),d.a.getInstance().info(["DocsView_Service"],"createCvtDoc",JSON.stringify({createCvtDocParams:e,sendData:h})),new Promise((function(e,i){return _(t,void 0,void 0,(function(){var t,n,a;return m(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.platformAPI.request({url:l.a.getFullURL().createCvtUrl,method:"post",timeout:r||u.b,data:h})];case 1:return t=s.sent(),n=t.data,d.a.getInstance().info(["DocsView_Service"],"createCvtDoc",JSON.stringify({data:n})),0===n.ret.code?e({status:n.status,taskID:n.task_id}):i(Object(o.b)(n.ret.code,n.ret.message)),[3,3];case 2:return a=s.sent(),i(a),[3,3];case 3:return[2]}}))}))}))},e}()},function(e,t,r){r(8)({target:"Function",proto:!0},{bind:r(339)})},function(e,t,r){var o=r(4);e.exports=o.Promise},function(e,t,r){var o,i,n,a,s,c,u,l,d=r(4),p=r(31),h=r(73).f,f=r(215).set,g=r(216),_=r(275),m=r(276),y=r(141),v=d.MutationObserver||d.WebKitMutationObserver,b=d.document,w=d.process,S=d.Promise,I=h(d,"queueMicrotask"),x=I&&I.value;x||(o=function(){var e,t;for(y&&(e=w.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():n=void 0,e}}n=void 0,e&&e.enter()},g||y||m||!v||!b?!_&&S&&S.resolve?((u=S.resolve(void 0)).constructor=S,l=p(u.then,u),a=function(){l(o)}):y?a=function(){w.nextTick(o)}:(f=p(f,d),a=function(){f(o)}):(s=!0,c=b.createTextNode(""),new v(o).observe(c,{characterData:!0}),a=function(){c.data=s=!s})),e.exports=x||function(e){var t={fn:e,next:void 0};n&&(n.next=t),i||(i=t,a()),n=t}},function(e,t,r){var o=r(56),i=r(4);e.exports=/ipad|iphone|ipod/i.test(o)&&void 0!==i.Pebble},function(e,t,r){var o=r(56);e.exports=/web0s(?!.*chrome)/i.test(o)},function(e,t,r){var o=r(11),i=r(18),n=r(217);e.exports=function(e,t){if(o(e),i(t)&&t.constructor===e)return t;var r=n.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var o=r(4);e.exports=function(e,t){var r=o.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t){var r=function(){this.head=null,this.tail=null};r.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=r},function(e,t){e.exports="object"==typeof window},function(e,t,r){"use strict";r(49);var o,i=r(8),n=r(19),a=r(262),s=r(4),c=r(31),u=r(7),l=r(133).f,d=r(29),p=r(78),h=r(20),f=r(199),g=r(256),_=r(95),m=r(137).codeAt,y=r(340),v=r(23),b=r(64),w=r(236),S=r(43),I=S.set,x=S.getterFor("URL"),O=w.URLSearchParams,E=w.getState,P=s.URL,k=s.TypeError,D=s.parseInt,T=Math.floor,A=Math.pow,C=u("".charAt),B=u(/./.exec),N=u([].join),M=u(1..toString),L=u([].pop),V=u([].push),j=u("".replace),R=u([].shift),H=u("".split),q=u("".slice),z=u("".toLowerCase),F=u([].unshift),Z=/[a-z]/i,W=/[\d+-.a-z]/i,U=/\d/,G=/^0x/i,J=/^[0-7]+$/,Y=/^\d+$/,X=/^[\da-f]+$/i,Q=/[\0\t\n\r #%/:<>?@[\\\]^|]/,K=/[\0\t\n\r #/:<>?@[\\\]^|]/,$=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ee=/[\t\n\r]/g,te=function(e){var t,r,o,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)F(t,e%256),e=T(e/256);return N(t,".")}if("object"==typeof e){for(t="",o=function(e){for(var t=null,r=1,o=null,i=0,n=0;n<8;n++)0!==e[n]?(i>r&&(t=o,r=i),o=null,i=0):(null===o&&(o=n),++i);return i>r&&(t=o,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),o===r?(t+=r?":":"::",i=!0):(t+=M(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},re={},oe=f({},re,{" ":1,'"':1,"<":1,">":1,"`":1}),ie=f({},oe,{"#":1,"?":1,"{":1,"}":1}),ne=f({},ie,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ae=function(e,t){var r=m(e,0);return r>32&&r<127&&!h(t,e)?e:encodeURIComponent(e)},se={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ce=function(e,t){var r;return 2==e.length&&B(Z,C(e,0))&&(":"==(r=C(e,1))||!t&&"|"==r)},ue=function(e){var t;return e.length>1&&ce(q(e,0,2))&&(2==e.length||"/"===(t=C(e,2))||"\\"===t||"?"===t||"#"===t)},le=function(e){return"."===e||"%2e"===z(e)},de={},pe={},he={},fe={},ge={},_e={},me={},ye={},ve={},be={},we={},Se={},Ie={},xe={},Oe={},Ee={},Pe={},ke={},De={},Te={},Ae={},Ce=function(e,t,r){var o,i,n,a=v(e);if(t){if(i=this.parse(a))throw k(i);this.searchParams=null}else{if(void 0!==r&&(o=new Ce(r,!0)),i=this.parse(a,null,o))throw k(i);(n=E(new O)).bindURL(this),this.searchParams=n}};Ce.prototype={type:"URL",parse:function(e,t,r){var i,n,a,s,c,u=this,l=t||de,d=0,p="",f=!1,m=!1,y=!1;for(e=v(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=j(e,$,"")),e=j(e,ee,""),i=g(e);d<=i.length;){switch(n=i[d],l){case de:if(!n||!B(Z,n)){if(t)return"Invalid scheme";l=he;continue}p+=z(n),l=pe;break;case pe:if(n&&(B(W,n)||"+"==n||"-"==n||"."==n))p+=z(n);else{if(":"!=n){if(t)return"Invalid scheme";p="",l=he,d=0;continue}if(t&&(u.isSpecial()!=h(se,p)||"file"==p&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=p,t)return void(u.isSpecial()&&se[u.scheme]==u.port&&(u.port=null));p="","file"==u.scheme?l=xe:u.isSpecial()&&r&&r.scheme==u.scheme?l=fe:u.isSpecial()?l=ye:"/"==i[d+1]?(l=ge,d++):(u.cannotBeABaseURL=!0,V(u.path,""),l=De)}break;case he:if(!r||r.cannotBeABaseURL&&"#"!=n)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==n){u.scheme=r.scheme,u.path=_(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,l=Ae;break}l="file"==r.scheme?xe:_e;continue;case fe:if("/"!=n||"/"!=i[d+1]){l=_e;continue}l=ve,d++;break;case ge:if("/"==n){l=be;break}l=ke;continue;case _e:if(u.scheme=r.scheme,n==o)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=_(r.path),u.query=r.query;else if("/"==n||"\\"==n&&u.isSpecial())l=me;else if("?"==n)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=_(r.path),u.query="",l=Te;else{if("#"!=n){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=_(r.path),u.path.length--,l=ke;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=_(r.path),u.query=r.query,u.fragment="",l=Ae}break;case me:if(!u.isSpecial()||"/"!=n&&"\\"!=n){if("/"!=n){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,l=ke;continue}l=be}else l=ve;break;case ye:if(l=ve,"/"!=n||"/"!=C(p,d+1))continue;d++;break;case ve:if("/"!=n&&"\\"!=n){l=be;continue}break;case be:if("@"==n){f&&(p="%40"+p),f=!0,a=g(p);for(var b=0;b<a.length;b++){var w=a[b];if(":"!=w||y){var S=ae(w,ne);y?u.password+=S:u.username+=S}else y=!0}p=""}else if(n==o||"/"==n||"?"==n||"#"==n||"\\"==n&&u.isSpecial()){if(f&&""==p)return"Invalid authority";d-=g(p).length+1,p="",l=we}else p+=n;break;case we:case Se:if(t&&"file"==u.scheme){l=Ee;continue}if(":"!=n||m){if(n==o||"/"==n||"?"==n||"#"==n||"\\"==n&&u.isSpecial()){if(u.isSpecial()&&""==p)return"Invalid host";if(t&&""==p&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(p))return s;if(p="",l=Pe,t)return;continue}"["==n?m=!0:"]"==n&&(m=!1),p+=n}else{if(""==p)return"Invalid host";if(s=u.parseHost(p))return s;if(p="",l=Ie,t==Se)return}break;case Ie:if(!B(U,n)){if(n==o||"/"==n||"?"==n||"#"==n||"\\"==n&&u.isSpecial()||t){if(""!=p){var I=D(p,10);if(I>65535)return"Invalid port";u.port=u.isSpecial()&&I===se[u.scheme]?null:I,p=""}if(t)return;l=Pe;continue}return"Invalid port"}p+=n;break;case xe:if(u.scheme="file","/"==n||"\\"==n)l=Oe;else{if(!r||"file"!=r.scheme){l=ke;continue}if(n==o)u.host=r.host,u.path=_(r.path),u.query=r.query;else if("?"==n)u.host=r.host,u.path=_(r.path),u.query="",l=Te;else{if("#"!=n){ue(N(_(i,d),""))||(u.host=r.host,u.path=_(r.path),u.shortenPath()),l=ke;continue}u.host=r.host,u.path=_(r.path),u.query=r.query,u.fragment="",l=Ae}}break;case Oe:if("/"==n||"\\"==n){l=Ee;break}r&&"file"==r.scheme&&!ue(N(_(i,d),""))&&(ce(r.path[0],!0)?V(u.path,r.path[0]):u.host=r.host),l=ke;continue;case Ee:if(n==o||"/"==n||"\\"==n||"?"==n||"#"==n){if(!t&&ce(p))l=ke;else if(""==p){if(u.host="",t)return;l=Pe}else{if(s=u.parseHost(p))return s;if("localhost"==u.host&&(u.host=""),t)return;p="",l=Pe}continue}p+=n;break;case Pe:if(u.isSpecial()){if(l=ke,"/"!=n&&"\\"!=n)continue}else if(t||"?"!=n)if(t||"#"!=n){if(n!=o&&(l=ke,"/"!=n))continue}else u.fragment="",l=Ae;else u.query="",l=Te;break;case ke:if(n==o||"/"==n||"\\"==n&&u.isSpecial()||!t&&("?"==n||"#"==n)){if(".."===(c=z(c=p))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"==n||"\\"==n&&u.isSpecial()||V(u.path,"")):le(p)?"/"==n||"\\"==n&&u.isSpecial()||V(u.path,""):("file"==u.scheme&&!u.path.length&&ce(p)&&(u.host&&(u.host=""),p=C(p,0)+":"),V(u.path,p)),p="","file"==u.scheme&&(n==o||"?"==n||"#"==n))for(;u.path.length>1&&""===u.path[0];)R(u.path);"?"==n?(u.query="",l=Te):"#"==n&&(u.fragment="",l=Ae)}else p+=ae(n,ie);break;case De:"?"==n?(u.query="",l=Te):"#"==n?(u.fragment="",l=Ae):n!=o&&(u.path[0]+=ae(n,re));break;case Te:t||"#"!=n?n!=o&&("'"==n&&u.isSpecial()?u.query+="%27":u.query+="#"==n?"%23":ae(n,re)):(u.fragment="",l=Ae);break;case Ae:n!=o&&(u.fragment+=ae(n,oe))}d++}},parseHost:function(e){var t,r,o;if("["==C(e,0)){if("]"!=C(e,e.length-1))return"Invalid host";if(!(t=function(e){var t,r,o,i,n,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,p=function(){return C(e,d)};if(":"==p()){if(":"!=C(e,1))return;d+=2,l=++u}for(;p();){if(8==u)return;if(":"!=p()){for(t=r=0;r<4&&B(X,p());)t=16*t+D(p(),16),d++,r++;if("."==p()){if(0==r)return;if(d-=r,u>6)return;for(o=0;p();){if(i=null,o>0){if(!("."==p()&&o<4))return;d++}if(!B(U,p()))return;for(;B(U,p());){if(n=D(p(),10),null===i)i=n;else{if(0==i)return;i=10*i+n}if(i>255)return;d++}c[u]=256*c[u]+i,2!=++o&&4!=o||u++}if(4!=o)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c}(q(e,1,-1))))return"Invalid host";this.host=t}else if(this.isSpecial()){if(e=y(e),B(Q,e))return"Invalid host";if(null===(t=function(e){var t,r,o,i,n,a,s,c=H(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(r=[],o=0;o<t;o++){if(""==(i=c[o]))return e;if(n=10,i.length>1&&"0"==C(i,0)&&(n=B(G,i)?16:8,i=q(i,8==n?1:2)),""===i)a=0;else{if(!B(10==n?Y:8==n?J:X,i))return e;a=D(i,n)}V(r,a)}for(o=0;o<t;o++)if(a=r[o],o==t-1){if(a>=A(256,5-t))return null}else if(a>255)return null;for(s=L(r),o=0;o<r.length;o++)s+=r[o]*A(256,3-o);return s}(e)))return"Invalid host";this.host=t}else{if(B(K,e))return"Invalid host";for(t="",r=g(e),o=0;o<r.length;o++)t+=ae(r[o],re);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(se,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&ce(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,o=e.password,i=e.host,n=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=r+(o?":"+o:"")+"@"),u+=te(i),null!==n&&(u+=":"+n)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+N(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw k(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Be(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+te(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(v(e)+":",de)},getUsername:function(){return this.username},setUsername:function(e){var t=g(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=ae(t[r],ne)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(v(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=ae(t[r],ne)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?te(e):te(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,we)},getHostname:function(){var e=this.host;return null===e?"":te(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getPort:function(){var e=this.port;return null===e?"":v(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=v(e))?this.port=null:this.parse(e,Ie))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+N(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Pe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=v(e))?this.query=null:("?"==C(e,0)&&(e=q(e,1)),this.query="",this.parse(e,Te)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=v(e))?("#"==C(e,0)&&(e=q(e,1)),this.fragment="",this.parse(e,Ae)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Be=function(e){var t=p(this,Ne),r=arguments.length>1?arguments[1]:void 0,o=I(t,new Ce(e,!1,r));n||(t.href=o.serialize(),t.origin=o.getOrigin(),t.protocol=o.getProtocol(),t.username=o.getUsername(),t.password=o.getPassword(),t.host=o.getHost(),t.hostname=o.getHostname(),t.port=o.getPort(),t.pathname=o.getPathname(),t.search=o.getSearch(),t.searchParams=o.getSearchParams(),t.hash=o.getHash())},Ne=Be.prototype,Me=function(e,t){return{get:function(){return x(this)[e]()},set:t&&function(e){return x(this)[t](e)},configurable:!0,enumerable:!0}};if(n&&l(Ne,{href:Me("serialize","setHref"),origin:Me("getOrigin"),protocol:Me("getProtocol","setProtocol"),username:Me("getUsername","setUsername"),password:Me("getPassword","setPassword"),host:Me("getHost","setHost"),hostname:Me("getHostname","setHostname"),port:Me("getPort","setPort"),pathname:Me("getPathname","setPathname"),search:Me("getSearch","setSearch"),searchParams:Me("getSearchParams"),hash:Me("getHash","setHash")}),d(Ne,"toJSON",(function(){return x(this).serialize()}),{enumerable:!0}),d(Ne,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),P){var Le=P.createObjectURL,Ve=P.revokeObjectURL;Le&&d(Be,"createObjectURL",c(Le,P)),Ve&&d(Be,"revokeObjectURL",c(Ve,P))}b(Be,"URL"),i({global:!0,forced:!a,sham:!n},{URL:Be})},function(e,t,r){var o=r(11),i=r(214);e.exports=function(e,t,r,n){try{return n?t(o(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},function(e,t,r){"use strict";var o=r(39),i=r(218),n=r(285),a=r(225);function s(e){var t=new n(e),r=i(n.prototype.request,t);return o.extend(r,n.prototype,t),o.extend(r,t),r}var c=s(r(221));c.Axios=n,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=r(226),c.CancelToken=r(298),c.isCancel=r(220),c.all=function(e){return Promise.all(e)},c.spread=r(299),e.exports=c,e.exports.default=c},function(e,t,r){"use strict";var o=r(39),i=r(219),n=r(286),a=r(287),s=r(225);function c(e){this.defaults=e,this.interceptors={request:new n,response:new n}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},c.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,i){return this.request(o.merge(i||{},{method:e,url:t,data:r}))}})),e.exports=c},function(e,t,r){"use strict";var o=r(39);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){o.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,r){"use strict";var o=r(39),i=r(288),n=r(220),a=r(221);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return n(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var o=r(39);e.exports=function(e,t,r){return o.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";var o=r(39);e.exports=function(e,t){o.forEach(e,(function(r,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[o])}))}},function(e,t,r){"use strict";var o=r(224);e.exports=function(e,t,r){var i=r.config.validateStatus;!i||i(r.status)?e(r):t(o("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";e.exports=function(e,t,r,o,i){return e.config=t,r&&(e.code=r),e.request=o,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var o=r(293),i=r(294);e.exports=function(e,t){return e&&!o(t)?i(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var o=r(39),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,n,a={};return e?(o.forEach(e.split("\n"),(function(e){if(n=e.indexOf(":"),t=o.trim(e.substr(0,n)).toLowerCase(),r=o.trim(e.substr(n+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},function(e,t,r){"use strict";var o=r(39);e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var o=e;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=o.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var o=r(39);e.exports=o.isStandardBrowserEnv()?{write:function(e,t,r,i,n,a){var s=[];s.push(e+"="+encodeURIComponent(t)),o.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),o.isString(i)&&s.push("path="+i),o.isString(n)&&s.push("domain="+n),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var o=r(226);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new o(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){var o=r(7),i=r(25),n=Math.floor,a=o("".charAt),s=o("".replace),c=o("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,o,d,p){var h=r+e.length,f=o.length,g=l;return void 0!==d&&(d=i(d),g=u),s(p,g,(function(i,s){var u;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,h);case"<":u=d[c(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>f){var p=n(l/10);return 0===p?i:p<=f?void 0===o[p-1]?a(s,1):o[p-1]+a(s,1):i}u=o[l-1]}return void 0===u?"":u}))}},function(e,t,r){"use strict";r(302)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r(305))},function(e,t,r){"use strict";var o=r(8),i=r(4),n=r(7),a=r(116),s=r(29),c=r(193),u=r(34),l=r(78),d=r(14),p=r(18),h=r(9),f=r(118),g=r(64),_=r(142);e.exports=function(e,t,r){var m=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),v=m?"set":"add",b=i[e],w=b&&b.prototype,S=b,I={},x=function(e){var t=n(w[e]);s(w,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!p(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!p(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!p(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})};if(a(e,!d(b)||!(y||w.forEach&&!h((function(){(new b).entries().next()})))))S=r.getConstructor(t,e,m,v),c.enable();else if(a(e,!0)){var O=new S,E=O[v](y?{}:-0,1)!=O,P=h((function(){O.has(1)})),k=f((function(e){new b(e)})),D=!y&&h((function(){for(var e=new b,t=5;t--;)e[v](t,t);return!e.has(-0)}));k||((S=t((function(e,t){l(e,w);var r=_(new b,e,S);return null!=t&&u(t,r[v],{that:r,AS_ENTRIES:m}),r}))).prototype=w,w.constructor=S),(P||D)&&(x("delete"),x("has"),m&&x("get")),(D||E)&&x(v),y&&w.clear&&delete w.clear}return I[e]=S,o({global:!0,forced:S!=b},I),g(S,e),y||r.setStrong(S,e,m),S}},function(e,t,r){var o=r(9),i=r(18),n=r(55),a=r(304),s=Object.isExtensible,c=o((function(){s(1)}));e.exports=c||a?function(e){return!!i(e)&&((!a||"ArrayBuffer"!=n(e))&&(!s||s(e)))}:s},function(e,t,r){var o=r(9);e.exports=o((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},function(e,t,r){"use strict";var o=r(22).f,i=r(51),n=r(117),a=r(31),s=r(78),c=r(34),u=r(128),l=r(140),d=r(19),p=r(193).fastKey,h=r(43),f=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,r,u){var l=e((function(e,o){s(e,h),f(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=o&&c(o,e[u],{that:e,AS_ENTRIES:r})})),h=l.prototype,_=g(t),m=function(e,t,r){var o,i,n=_(e),a=y(e,t);return a?a.value=r:(n.last=a={index:i=p(t,!0),key:t,value:r,previous:o=n.last,next:void 0,removed:!1},n.first||(n.first=a),o&&(o.next=a),d?n.size++:e.size++,"F"!==i&&(n.index[i]=a)),e},y=function(e,t){var r,o=_(e),i=p(t);if("F"!==i)return o.index[i];for(r=o.first;r;r=r.next)if(r.key==t)return r};return n(h,{clear:function(){for(var e=_(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=_(this),r=y(this,e);if(r){var o=r.next,i=r.previous;delete t.index[r.index],r.removed=!0,i&&(i.next=o),o&&(o.previous=i),t.first==r&&(t.first=o),t.last==r&&(t.last=i),d?t.size--:this.size--}return!!r},forEach:function(e){for(var t,r=_(this),o=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:r.first;)for(o(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),n(h,r?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),d&&o(h,"size",{get:function(){return _(this).size}}),l},setStrong:function(e,t,r){var o=t+" Iterator",i=g(t),n=g(o);u(e,t,(function(e,t){f(this,{type:o,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=n(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(t)}}},function(e,t,r){"use strict";r(8)({target:"Map",proto:!0,real:!0,forced:r(21)},{deleteAll:r(307)})},function(e,t,r){"use strict";var o=r(15),i=r(28),n=r(11);e.exports=function(){for(var e,t=n(this),r=i(t.delete),a=!0,s=0,c=arguments.length;s<c;s++)e=o(r,t,arguments[s]),a=a&&e;return!!a}},function(e,t,r){"use strict";var o=r(8),i=r(21),n=r(11),a=r(31),s=r(54),c=r(34);o({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=n(this),r=s(t),o=a(e,arguments.length>1?arguments[1]:void 0);return!c(r,(function(e,r,i){if(!o(r,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,r){"use strict";var o=r(21),i=r(8),n=r(35),a=r(31),s=r(15),c=r(28),u=r(11),l=r(71),d=r(54),p=r(34);i({target:"Map",proto:!0,real:!0,forced:o},{filter:function(e){var t=u(this),r=d(t),o=a(e,arguments.length>1?arguments[1]:void 0),i=new(l(t,n("Map"))),h=c(i.set);return p(r,(function(e,r){o(r,e,t)&&s(h,i,e,r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},function(e,t,r){"use strict";var o=r(8),i=r(21),n=r(11),a=r(31),s=r(54),c=r(34);o({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=n(this),r=s(t),o=a(e,arguments.length>1?arguments[1]:void 0);return c(r,(function(e,r,i){if(o(r,e,t))return i(r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(e,t,r){"use strict";var o=r(8),i=r(21),n=r(11),a=r(31),s=r(54),c=r(34);o({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=n(this),r=s(t),o=a(e,arguments.length>1?arguments[1]:void 0);return c(r,(function(e,r,i){if(o(r,e,t))return i(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(e,t,r){"use strict";var o=r(21),i=r(8),n=r(11),a=r(54),s=r(313),c=r(34);i({target:"Map",proto:!0,real:!0,forced:o},{includes:function(e){return c(a(n(this)),(function(t,r,o){if(s(r,e))return o()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){"use strict";var o=r(8),i=r(21),n=r(11),a=r(54),s=r(34);o({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return s(a(n(this)),(function(t,r,o){if(r===e)return o(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},function(e,t,r){"use strict";var o=r(21),i=r(8),n=r(35),a=r(31),s=r(15),c=r(28),u=r(11),l=r(71),d=r(54),p=r(34);i({target:"Map",proto:!0,real:!0,forced:o},{mapKeys:function(e){var t=u(this),r=d(t),o=a(e,arguments.length>1?arguments[1]:void 0),i=new(l(t,n("Map"))),h=c(i.set);return p(r,(function(e,r){s(h,i,o(r,e,t),r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},function(e,t,r){"use strict";var o=r(21),i=r(8),n=r(35),a=r(31),s=r(15),c=r(28),u=r(11),l=r(71),d=r(54),p=r(34);i({target:"Map",proto:!0,real:!0,forced:o},{mapValues:function(e){var t=u(this),r=d(t),o=a(e,arguments.length>1?arguments[1]:void 0),i=new(l(t,n("Map"))),h=c(i.set);return p(r,(function(e,r){s(h,i,e,o(r,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},function(e,t,r){"use strict";var o=r(8),i=r(21),n=r(28),a=r(11),s=r(34);o({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){for(var t=a(this),r=n(t.set),o=arguments.length,i=0;i<o;)s(arguments[i++],r,{that:t,AS_ENTRIES:!0});return t}})},function(e,t,r){"use strict";var o=r(8),i=r(4),n=r(21),a=r(11),s=r(28),c=r(54),u=r(34),l=i.TypeError;o({target:"Map",proto:!0,real:!0,forced:n},{reduce:function(e){var t=a(this),r=c(t),o=arguments.length<2,i=o?void 0:arguments[1];if(s(e),u(r,(function(r,n){o?(o=!1,i=n):i=e(i,n,r,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),o)throw l("Reduce of empty map with no initial value");return i}})},function(e,t,r){"use strict";var o=r(8),i=r(21),n=r(11),a=r(31),s=r(54),c=r(34);o({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=n(this),r=s(t),o=a(e,arguments.length>1?arguments[1]:void 0);return c(r,(function(e,r,i){if(o(r,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,r){"use strict";var o=r(21),i=r(8),n=r(4),a=r(15),s=r(11),c=r(28),u=n.TypeError;i({target:"Map",proto:!0,real:!0,forced:o},{update:function(e,t){var r=s(this),o=c(r.get),i=c(r.has),n=c(r.set),l=arguments.length;c(t);var d=a(i,r,e);if(!d&&l<3)throw u("Updating absent value");var p=d?a(o,r,e):c(l>2?arguments[2]:void 0)(e,r);return a(n,r,e,t(p,e,r)),r}})},function(e,t,r){(function(t){e.exports=function e(t,r,o){function i(a,s){if(!r[a]){if(!t[a]){if(n)return n(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};t[a][0].call(u.exports,(function(e){var r=t[a][1][e];return i(r||e)}),u,u.exports,e,t,r,o)}return r[a].exports}for(var n=!1,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,r,o){(function(e){"use strict";var t,o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var n=0,a=new i(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),t=function(){s.data=n=++n%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,t=function(){c.port2.postMessage(0)}}var u=[];function l(){var e,t;o=!0;for(var r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}o=!1}r.exports=function(e){1!==u.push(e)||o||t()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var o=e(1);function i(){}var n={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function l(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function d(e,t,r){o((function(){var o;try{o=t(r)}catch(t){return n.reject(e,t)}o===e?n.reject(e,new TypeError("Cannot resolve promise with itself")):n.resolve(e,o)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var r=!1;function o(t){r||(r=!0,n.reject(e,t))}function i(t){r||(r=!0,n.resolve(e,t))}var a=f((function(){t(i,o)}));"error"===a.status&&o(a.value)}function f(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}t.exports=u,u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(i);return this.state!==c?d(r,this.state===s?e:t,this.outcome):this.queue.push(new l(r,e,t)),r},l.prototype.callFulfilled=function(e){n.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){n.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},n.resolve=function(e,t){var r=f(p,t);if("error"===r.status)return n.reject(e,r.value);var o=r.value;if(o)h(e,o);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},n.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:n.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return n.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,c=-1,u=new this(i);++c<r;)l(e[c],c);return u;function l(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==r||o||(o=!0,n.resolve(u,a))}),(function(e){o||(o=!0,n.reject(u,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var a,s=-1,c=new this(i);++s<r;)a=e[s],t.resolve(a).then((function(e){o||(o=!0,n.resolve(c,e))}),(function(e){o||(o=!0,n.reject(c,e))}));return c}},{1:1}],3:[function(e,r,o){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function n(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function c(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d=void 0,p={},h=Object.prototype.toString;function f(e){return"boolean"==typeof d?a.resolve(d):function(e){return new a((function(t){var r=e.transaction("local-forage-detect-blob-support","readwrite"),o=n([""]);r.objectStore("local-forage-detect-blob-support").put(o,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return d=e}))}function g(e){var t=p[e.name],r={};r.promise=new a((function(e,t){r.resolve=e,r.reject=t})),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then((function(){return r.promise})):t.dbReady=r.promise}function _(e){var t=p[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function m(e,t){var r=p[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function y(e,t){return new a((function(r,o){if(p[e.name]=p[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return r(e.db);g(e),e.db.close()}var n=[e.name];t&&n.push(e.version);var a=i.open.apply(i,n);t&&(a.onupgradeneeded=function(t){var r=a.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore("local-forage-detect-blob-support")}catch(e){if("ConstraintError"!==e.name)throw e}}),a.onerror=function(e){e.preventDefault(),o(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},r(t),_(e)}}))}function v(e){return y(e,!1)}function b(e){return y(e,!0)}function w(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,i=e.version>e.db.version;if(o&&(e.version,e.version=e.db.version),i||r){if(r){var n=e.db.version+1;n>e.version&&(e.version=n)}return!0}return!1}function S(e){return n([function(e){for(var t=e.length,r=new ArrayBuffer(t),o=new Uint8Array(r),i=0;i<t;i++)o[i]=e.charCodeAt(i);return r}(atob(e.data))],{type:e.type})}function I(e){return e&&e.__local_forage_encoded_blob}function x(e){var t=this,r=t._initReady().then((function(){var e=p[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return c(r,e,e),r}function O(e,t,r,o){void 0===o&&(o=1);try{var i=e.db.transaction(e.storeName,t);r(null,i)}catch(i){if(o>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),b(e)})).then((function(){return function(e){g(e);for(var t=p[e.name],r=t.forages,o=0;o<r.length;o++){var i=r[o];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,v(e).then((function(t){return e.db=t,w(e)?b(e):t})).then((function(o){e.db=t.db=o;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=o})).catch((function(t){throw m(e,t),t}))}(e).then((function(){O(e,t,r,o-1)}))})).catch(r);r(i)}}var E={_driver:"asyncStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var o in e)r[o]=e[o];var i=p[r.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},p[r.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=x);var n=[];function s(){return a.resolve()}for(var c=0;c<i.forages.length;c++){var u=i.forages[c];u!==t&&n.push(u._initReady().catch(s))}var l=i.forages.slice(0);return a.all(n).then((function(){return r.db=i.db,v(r)})).then((function(e){return r.db=e,w(r,t._defaultConfig.version)?b(r):e})).then((function(e){r.db=i.db=e,t._dbInfo=r;for(var o=0;o<l.length;o++){var n=l[o];n!==t&&(n._dbInfo.db=r.db,n._dbInfo.version=r.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var r=this,o=new a((function(t,o){r.ready().then((function(){O(r._dbInfo,"readonly",(function(i,n){if(i)return o(i);try{var a=n.objectStore(r._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var r=a.result;if(r){var o=r.value;I(o)&&(o=S(o));var i=e(o,r.key,s++);void 0!==i?t(i):r.continue()}else t()},a.onerror=function(){o(a.error)}}catch(e){o(e)}}))})).catch(o)}));return s(o,t),o},getItem:function(e,t){var r=this;e=u(e);var o=new a((function(t,o){r.ready().then((function(){O(r._dbInfo,"readonly",(function(i,n){if(i)return o(i);try{var a=n.objectStore(r._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),I(e)&&(e=S(e)),t(e)},a.onerror=function(){o(a.error)}}catch(e){o(e)}}))})).catch(o)}));return s(o,t),o},setItem:function(e,t,r){var o=this;e=u(e);var i=new a((function(r,i){var n;o.ready().then((function(){return n=o._dbInfo,"[object Blob]"===h.call(t)?f(n.db).then((function(e){return e?t:(r=t,new a((function(e,t){var o=new FileReader;o.onerror=t,o.onloadend=function(t){var o=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:o,type:r.type})},o.readAsBinaryString(r)})));var r})):t})).then((function(t){O(o._dbInfo,"readwrite",(function(n,a){if(n)return i(n);try{var s=a.objectStore(o._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),r(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return s(i,r),i},removeItem:function(e,t){var r=this;e=u(e);var o=new a((function(t,o){r.ready().then((function(){O(r._dbInfo,"readwrite",(function(i,n){if(i)return o(i);try{var a=n.objectStore(r._dbInfo.storeName).delete(e);n.oncomplete=function(){t()},n.onerror=function(){o(a.error)},n.onabort=function(){var e=a.error?a.error:a.transaction.error;o(e)}}catch(e){o(e)}}))})).catch(o)}));return s(o,t),o},clear:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){O(t._dbInfo,"readwrite",(function(o,i){if(o)return r(o);try{var n=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=n.error?n.error:n.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},length:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){O(t._dbInfo,"readonly",(function(o,i){if(o)return r(o);try{var n=i.objectStore(t._dbInfo.storeName).count();n.onsuccess=function(){e(n.result)},n.onerror=function(){r(n.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},key:function(e,t){var r=this,o=new a((function(t,o){e<0?t(null):r.ready().then((function(){O(r._dbInfo,"readonly",(function(i,n){if(i)return o(i);try{var a=n.objectStore(r._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var r=c.result;r?0===e||s?t(r.key):(s=!0,r.advance(e)):t(null)},c.onerror=function(){o(c.error)}}catch(e){o(e)}}))})).catch(o)}));return s(o,t),o},keys:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){O(t._dbInfo,"readonly",(function(o,i){if(o)return r(o);try{var n=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];n.onsuccess=function(){var t=n.result;t?(a.push(t.key),t.continue()):e(a)},n.onerror=function(){r(n.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},dropInstance:function(e,t){t=l.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var o,n=this;if(e.name){var c=e.name===r.name&&n._dbInfo.db,u=c?a.resolve(n._dbInfo.db):v(e).then((function(t){var r=p[e.name],o=r.forages;r.db=t;for(var i=0;i<o.length;i++)o[i]._dbInfo.db=t;return t}));o=e.storeName?u.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var r=t.version+1;g(e);var o=p[e.name],n=o.forages;t.close();for(var s=0;s<n.length;s++){var c=n[s];c._dbInfo.db=null,c._dbInfo.version=r}return new a((function(t,o){var n=i.open(e.name,r);n.onerror=function(e){n.result.close(),o(e)},n.onupgradeneeded=function(){n.result.deleteObjectStore(e.storeName)},n.onsuccess=function(){var e=n.result;e.close(),t(e)}})).then((function(e){o.db=e;for(var t=0;t<n.length;t++){var r=n[t];r._dbInfo.db=e,_(r._dbInfo)}})).catch((function(t){throw(m(e,t)||a.resolve()).catch((function(){})),t}))}})):u.then((function(t){g(e);var r=p[e.name],o=r.forages;t.close();for(var n=0;n<o.length;n++)o[n]._dbInfo.db=null;return new a((function(t,r){var o=i.deleteDatabase(e.name);o.onerror=function(){var e=o.result;e&&e.close(),r(o.error)},o.onblocked=function(){},o.onsuccess=function(){var e=o.result;e&&e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<o.length;t++)_(o[t]._dbInfo)})).catch((function(t){throw(m(e,t)||a.resolve()).catch((function(){})),t}))}))}else o=a.reject("Invalid arguments");return s(o,t),o}},P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=/^~~local_forage_type~([^~]+)~/,D="__lfsc__:".length,T=D+"arbf".length,A=Object.prototype.toString;function C(e){var t,r,o,i,n,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),l=new Uint8Array(u);for(t=0;t<s;t+=4)r=P.indexOf(e[t]),o=P.indexOf(e[t+1]),i=P.indexOf(e[t+2]),n=P.indexOf(e[t+3]),l[c++]=r<<2|o>>4,l[c++]=(15&o)<<4|i>>2,l[c++]=(3&i)<<6|63&n;return u}function B(e){var t,r=new Uint8Array(e),o="";for(t=0;t<r.length;t+=3)o+=P[r[t]>>2],o+=P[(3&r[t])<<4|r[t+1]>>4],o+=P[(15&r[t+1])<<2|r[t+2]>>6],o+=P[63&r[t+2]];return r.length%3==2?o=o.substring(0,o.length-1)+"=":r.length%3==1&&(o=o.substring(0,o.length-2)+"=="),o}var N={serialize:function(e,t){var r="";if(e&&(r=A.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===A.call(e.buffer))){var o,i="__lfsc__:";e instanceof ArrayBuffer?(o=e,i+="arbf"):(o=e.buffer,"[object Int8Array]"===r?i+="si08":"[object Uint8Array]"===r?i+="ui08":"[object Uint8ClampedArray]"===r?i+="uic8":"[object Int16Array]"===r?i+="si16":"[object Uint16Array]"===r?i+="ur16":"[object Int32Array]"===r?i+="si32":"[object Uint32Array]"===r?i+="ui32":"[object Float32Array]"===r?i+="fl32":"[object Float64Array]"===r?i+="fl64":t(new Error("Failed to get type for BinaryArray"))),t(i+B(o))}else if("[object Blob]"===r){var n=new FileReader;n.onload=function(){var r="~~local_forage_type~"+e.type+"~"+B(this.result);t("__lfsc__:blob"+r)},n.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(e){t(null,e)}},deserialize:function(e){if("__lfsc__:"!==e.substring(0,D))return JSON.parse(e);var t,r=e.substring(T),o=e.substring(D,T);if("blob"===o&&k.test(r)){var i=r.match(k);t=i[1],r=r.substring(i[0].length)}var a=C(r);switch(o){case"arbf":return a;case"blob":return n([a],{type:t});case"si08":return new Int8Array(a);case"ui08":return new Uint8Array(a);case"uic8":return new Uint8ClampedArray(a);case"si16":return new Int16Array(a);case"ur16":return new Uint16Array(a);case"si32":return new Int32Array(a);case"ui32":return new Uint32Array(a);case"fl32":return new Float32Array(a);case"fl64":return new Float64Array(a);default:throw new Error("Unkown type: "+o)}},stringToBuffer:C,bufferToString:B};function M(e,t,r,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,o)}function L(e,t,r,o,i,n){e.executeSql(r,o,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?n(e,a):M(e,t,(function(){e.executeSql(r,o,i,n)}),n)}),n):n(e,a)}),n)}function V(e,t,r,o){var i=this;e=u(e);var n=new a((function(n,a){i.ready().then((function(){void 0===t&&(t=null);var s=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,u){u?a(u):c.db.transaction((function(r){L(r,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){n(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(o>0)return void n(V.apply(i,[e,s,r,o-1]));a(t)}}))}))})).catch(a)}));return s(n,r),n}function j(e){return new a((function(t,r){e.transaction((function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,o){for(var i=[],n=0;n<o.rows.length;n++)i.push(o.rows.item(n).name);t({db:e,storeNames:i})}),(function(e,t){r(t)}))}),(function(e){r(e)}))}))}var R={_driver:"webSQLStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var o in e)r[o]="string"!=typeof e[o]?e[o].toString():e[o];var i=new a((function(e,o){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return o(e)}r.db.transaction((function(i){M(i,r,(function(){t._dbInfo=r,e()}),(function(e,t){o(t)}))}),o)}));return r.serializer=N,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var r=this,o=new a((function(t,o){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){L(r,i,"SELECT * FROM "+i.storeName,[],(function(r,o){for(var n=o.rows,a=n.length,s=0;s<a;s++){var c=n.item(s),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){o(t)}))}))})).catch(o)}));return s(o,t),o},getItem:function(e,t){var r=this;e=u(e);var o=new a((function(t,o){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){L(r,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,r){var o=r.rows.length?r.rows.item(0).value:null;o&&(o=i.serializer.deserialize(o)),t(o)}),(function(e,t){o(t)}))}))})).catch(o)}));return s(o,t),o},setItem:function(e,t,r){return V.apply(this,[e,t,r,1])},removeItem:function(e,t){var r=this;e=u(e);var o=new a((function(t,o){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){L(r,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){o(t)}))}))})).catch(o)}));return s(o,t),o},clear:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){var o=t._dbInfo;o.db.transaction((function(t){L(t,o,"DELETE FROM "+o.storeName,[],(function(){e()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},length:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){var o=t._dbInfo;o.db.transaction((function(t){L(t,o,"SELECT COUNT(key) as c FROM "+o.storeName,[],(function(t,r){var o=r.rows.item(0).c;e(o)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},key:function(e,t){var r=this,o=new a((function(t,o){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){L(r,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,r){var o=r.rows.length?r.rows.item(0).key:null;t(o)}),(function(e,t){o(t)}))}))})).catch(o)}));return s(o,t),o},keys:function(e){var t=this,r=new a((function(e,r){t.ready().then((function(){var o=t._dbInfo;o.db.transaction((function(t){L(t,o,"SELECT key FROM "+o.storeName,[],(function(t,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).key);e(o)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},dropInstance:function(e,t){t=l.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var o,i=this;return s(o=e.name?new a((function(t){var o;o=e.name===r.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:o,storeNames:[e.storeName]}):t(j(o))})).then((function(e){return new a((function(t,r){e.db.transaction((function(o){function i(e){return new a((function(t,r){o.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){r(t)}))}))}for(var n=[],s=0,c=e.storeNames.length;s<c;s++)n.push(i(e.storeNames[s]));a.all(n).then((function(){t()})).catch((function(e){r(e)}))}),(function(e){r(e)}))}))})):a.reject("Invalid arguments"),t),o}};function H(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function q(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}var z={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=H(e,this._defaultConfig),q()?(this._dbInfo=t,t.serializer=N,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var r=this,o=r.ready().then((function(){for(var t=r._dbInfo,o=t.keyPrefix,i=o.length,n=localStorage.length,a=1,s=0;s<n;s++){var c=localStorage.key(s);if(0===c.indexOf(o)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(i),a++)))return u}}}));return s(o,t),o},getItem:function(e,t){var r=this;e=u(e);var o=r.ready().then((function(){var t=r._dbInfo,o=localStorage.getItem(t.keyPrefix+e);return o&&(o=t.serializer.deserialize(o)),o}));return s(o,t),o},setItem:function(e,t,r){var o=this;e=u(e);var i=o.ready().then((function(){void 0===t&&(t=null);var r=t;return new a((function(i,n){var a=o._dbInfo;a.serializer.serialize(t,(function(t,o){if(o)n(o);else try{localStorage.setItem(a.keyPrefix+e,t),i(r)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||n(e),n(e)}}))}))}));return s(i,r),i},removeItem:function(e,t){var r=this;e=u(e);var o=r.ready().then((function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(o,t),o},clear:function(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var o=localStorage.key(r);0===o.indexOf(e)&&localStorage.removeItem(o)}}));return s(r,e),r},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var r=this,o=r.ready().then((function(){var t,o=r._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(o.keyPrefix.length)),t}));return s(o,t),o},keys:function(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo,r=localStorage.length,o=[],i=0;i<r;i++){var n=localStorage.key(i);0===n.indexOf(e.keyPrefix)&&o.push(n.substring(e.keyPrefix.length))}return o}));return s(r,e),r},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var o,i=this;return s(o=e.name?new a((function(t){e.storeName?t(H(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}})):a.reject("Invalid arguments"),t),o}},F=function(e,t){for(var r,o,i=e.length,n=0;n<i;){if((r=e[n])===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;n++}return!1},Z=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},W={},U={},G={INDEXEDDB:E,WEBSQL:R,LOCALSTORAGE:z},J=[G.INDEXEDDB._driver,G.WEBSQL._driver,G.LOCALSTORAGE._driver],Y=["dropInstance"],X=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Y),Q={description:"",driver:J.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function K(e,t){e[t]=function(){var r=arguments;return e.ready().then((function(){return e[t].apply(e,r)}))}}function $(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(Z(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var ee=new(function(){function e(t){for(var r in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),G)if(G.hasOwnProperty(r)){var o=G[r],i=o._driver;this[r]=i,W[i]||this.defineDriver(o)}this._defaultConfig=$({},Q),this._config=$({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":o(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var o=new a((function(t,r){try{var o=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(i);for(var n=X.concat("_initStorage"),c=0,u=n.length;c<u;c++){var l=n[c];if((!F(Y,l)||e[l])&&"function"!=typeof e[l])return void r(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),r=a.reject(t);return s(r,arguments[arguments.length-1]),r}},r=0,o=Y.length;r<o;r++){var i=Y[r];e[i]||(e[i]=t(i))}}();var d=function(r){W[o],W[o]=e,U[o]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,r):d(!!e._support):d(!0)}catch(e){r(e)}}));return c(o,t,r),o},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var o=W[e]?a.resolve(W[e]):a.reject(new Error("Driver not found."));return c(o,t,r),o},e.prototype.getSerializer=function(e){var t=a.resolve(N);return c(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return c(r,e,e),r},e.prototype.setDriver=function(e,t,r){var o=this;Z(e)||(e=[e]);var i=this._getSupportedDrivers(e);function n(){o._config.driver=o.driver()}function s(e){return o._extend(e),n(),o._ready=o._initStorage(o._config),o._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=u.then((function(){var e=i[0];return o._dbInfo=null,o._ready=null,o.getDriver(e).then((function(e){o._driver=e._driver,n(),o._wrapLibraryMethodsWithReady(),o._initDriver=function(e){return function(){var t=0;return function r(){for(;t<e.length;){var i=e[t];return t++,o._dbInfo=null,o._ready=null,o.getDriver(i).then(s).catch(r)}n();var c=new Error("No available storage method found.");return o._driverSet=a.reject(c),o._driverSet}()}}(i)}))})).catch((function(){n();var e=new Error("No available storage method found.");return o._driverSet=a.reject(e),o._driverSet})),c(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!U[e]},e.prototype._extend=function(e){$(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,o=e.length;r<o;r++){var i=e[r];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=X.length;e<t;e++)K(this,X[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=ee},{3:3}]},{},[4])(4)}).call(this,r(70))},function(e,t,r){(function(t,r,o){e.exports=function e(t,r,o){function i(a,s){if(!r[a]){if(!t[a]){if(n)return n(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,r,o)}return r[a].exports}for(var n=!1,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,r){"use strict";var o=e("./utils"),i=e("./support"),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,i,a,s,c,u,l=[],d=0,p=e.length,h=p,f="string"!==o.getTypeOf(e);d<e.length;)h=p-d,i=f?(t=e[d++],r=d<p?e[d++]:0,d<p?e[d++]:0):(t=e.charCodeAt(d++),r=d<p?e.charCodeAt(d++):0,d<p?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|r>>4,c=1<h?(15&r)<<2|i>>6:64,u=2<h?63&i:64,l.push(n.charAt(a)+n.charAt(s)+n.charAt(c)+n.charAt(u));return l.join("")},r.decode=function(e){var t,r,o,a,s,c,u=0,l=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var p,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===n.charAt(64)&&h--,e.charAt(e.length-2)===n.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=i.uint8array?new Uint8Array(0|h):new Array(0|h);u<e.length;)t=n.indexOf(e.charAt(u++))<<2|(a=n.indexOf(e.charAt(u++)))>>4,r=(15&a)<<4|(s=n.indexOf(e.charAt(u++)))>>2,o=(3&s)<<6|(c=n.indexOf(e.charAt(u++))),p[l++]=t,64!==s&&(p[l++]=r),64!==c&&(p[l++]=o);return p}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var o=e("./external"),i=e("./stream/DataWorker"),n=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,r,o,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=o,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new n).pipe(new a("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var o=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(e){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var o=e("./utils"),i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==o.getTypeOf(e)?function(e,t,r,o){var n=i,a=0+r;e^=-1;for(var s=0;s<a;s++)e=e>>>8^n[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,r,o){var n=i,a=0+r;e^=-1;for(var s=0;s<a;s++)e=e>>>8^n[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var o;o="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:o}},{lie:37}],7:[function(e,t,r){"use strict";var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),n=e("./utils"),a=e("./stream/GenericWorker"),s=o?"uint8array":"array";function c(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",n.inherits(c,a),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(n.transformTo(s,e.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new c("Deflate",e)},r.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function o(e,t){var r,o="";for(r=0;r<t;r++)o+=String.fromCharCode(255&e),e>>>=8;return o}function i(e,t,r,i,a,l){var d,p,h=e.file,f=e.compression,g=l!==s.utf8encode,_=n.transformTo("string",l(h.name)),m=n.transformTo("string",s.utf8encode(h.name)),y=h.comment,v=n.transformTo("string",l(y)),b=n.transformTo("string",s.utf8encode(y)),w=m.length!==h.name.length,S=b.length!==y.length,I="",x="",O="",E=h.dir,P=h.date,k={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(k.crc32=e.crc32,k.compressedSize=e.compressedSize,k.uncompressedSize=e.uncompressedSize);var D=0;t&&(D|=8),g||!w&&!S||(D|=2048);var T=0,A=0;E&&(T|=16),"UNIX"===a?(A=798,T|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(h.unixPermissions,E)):(A=20,T|=function(e){return 63&(e||0)}(h.dosPermissions)),d=P.getUTCHours(),d<<=6,d|=P.getUTCMinutes(),d<<=5,d|=P.getUTCSeconds()/2,p=P.getUTCFullYear()-1980,p<<=4,p|=P.getUTCMonth()+1,p<<=5,p|=P.getUTCDate(),w&&(x=o(1,1)+o(c(_),4)+m,I+="up"+o(x.length,2)+x),S&&(O=o(1,1)+o(c(v),4)+b,I+="uc"+o(O.length,2)+O);var C="";return C+="\n\0",C+=o(D,2),C+=f.magic,C+=o(d,2),C+=o(p,2),C+=o(k.crc32,4),C+=o(k.compressedSize,4),C+=o(k.uncompressedSize,4),C+=o(_.length,2),C+=o(I.length,2),{fileRecord:u.LOCAL_FILE_HEADER+C+_+I,dirRecord:u.CENTRAL_FILE_HEADER+o(A,2)+C+o(v.length,2)+"\0\0\0\0"+o(T,4)+o(i,4)+_+I+v}}var n=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),c=e("../crc32"),u=e("../signature");function l(e,t,r,o){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=o,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(l,a),l.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,o=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-o-1))/r:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+o(e.crc32,4)+o(e.compressedSize,4)+o(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,i=function(e,t,r,i,a){var s=n.transformTo("string",a(i));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(e,2)+o(e,2)+o(t,4)+o(r,4)+o(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var o=e("../compressions"),i=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var n=new i(t.streamFiles,r,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,r){a++;var i=function(e,t){var r=e||t,i=o[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(r.options.compression,t.compression),s=r.options.compressionOptions||t.compressionOptions||{},c=r.dir,u=r.date;r._compressWorker(i,s).withStreamInfo("file",{name:e,dir:c,date:u,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(n)})),n.entriesCount=a}catch(e){n.error(e)}return n}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new o;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(o.prototype=e("./object")).loadAsync=e("./load"),o.support=e("./support"),o.defaults=e("./defaults"),o.version="3.7.1",o.loadAsync=function(e,t){return(new o).loadAsync(e,t)},o.external=e("./external"),t.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var o=e("./utils"),i=e("./external"),n=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function u(e){return new i.Promise((function(t,r){var o=e.decompressed.getContentWorker().pipe(new s);o.on("error",(function(e){r(e)})).on("end",(function(){o.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var r=this;return t=o.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n.utf8decode}),c.isNode&&c.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new a(t);return r.load(e),r})).then((function(e){var r=[i.Promise.resolve(e)],o=e.files;if(t.checkCRC32)for(var n=0;n<o.length;n++)r.push(u(o[n]));return i.Promise.all(r)})).then((function(e){for(var o=e.shift(),i=o.files,n=0;n<i.length;n++){var a=i[n];r.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return o.zipComment.length&&(r.comment=o.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var o=e("../utils"),i=e("../stream/GenericWorker");function n(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}o.inherits(n,i),n.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},n.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},n.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=n},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var o=e("readable-stream").Readable;function i(e,t,r){o.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),r&&r(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,o),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,r,o){"use strict";r.exports={isNode:void 0!==t,newBufferFrom:function(e,r){if(t.from&&t.from!==Uint8Array.from)return t.from(e,r);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,r)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var r=new t(e);return r.fill(0),r},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function o(e,t,r){var o,i=n.getTypeOf(t),s=n.extend(r||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(o=f(e))&&_.call(this,o,!0);var d,m="string"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!m),(t instanceof u&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string"),d=t instanceof u||t instanceof a?t:p.isNode&&p.isStream(t)?new h(e,t):n.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new l(e,d,s);this.files[e]=y}var i=e("./utf8"),n=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),c=e("./defaults"),u=e("./compressedObject"),l=e("./zipObject"),d=e("./generate"),p=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},_=function(e,t){return t=void 0!==t?t:c.createFolders,e=g(e),this.files[e]||o.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,o;for(t in this.files)o=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,o)},filter:function(e){var t=[];return this.forEach((function(r,o){e(r,o)&&t.push(o)})),t},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,o.call(this,e,t,r),this;if(m(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var n=this.files[this.root+e];return n&&!n.dir?n:null},folder:function(e){if(!e)return this;if(m(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=_.call(this,t),o=this.clone();return o.root=r.name,o},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),o=0;o<r.length;o++)delete this.files[r[o].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=n.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");n.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var o=r.comment||this.comment||"";t=d.generateWorker(this,r,o)}catch(e){(t=new a("error")).error(e)}return new s(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var o=e("./DataReader");function i(e){o.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,o),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),o=e.charCodeAt(2),i=e.charCodeAt(3),n=this.length-4;0<=n;--n)if(this.data[n]===t&&this.data[n+1]===r&&this.data[n+2]===o&&this.data[n+3]===i)return n-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),o=e.charCodeAt(2),i=e.charCodeAt(3),n=this.readData(4);return t===n[0]&&r===n[1]&&o===n[2]&&i===n[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var o=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return o.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,r){"use strict";var o=e("./Uint8ArrayReader");function i(e){o.call(this,e)}e("../utils").inherits(i,o),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var o=e("./DataReader");function i(e){o.call(this,e)}e("../utils").inherits(i,o),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var o=e("./ArrayReader");function i(e){o.call(this,e)}e("../utils").inherits(i,o),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var o=e("../utils"),i=e("../support"),n=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=o.getTypeOf(e);return o.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new c(o.transformTo("uint8array",e)):new n(o.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){"use strict";var o=e("./GenericWorker"),i=e("../utils");function n(e){o.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(n,o),n.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=n},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var o=e("./GenericWorker"),i=e("../crc32");function n(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(n,o),n.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var o=e("../utils"),i=e("./GenericWorker");function n(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}o.inherits(n,i),n.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=n},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var o=e("../utils"),i=e("./GenericWorker");function n(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=o.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}o.inherits(n,i),n.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function o(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=o},{}],29:[function(e,r,o){"use strict";var i=e("../utils"),n=e("./ConvertWorker"),a=e("./GenericWorker"),s=e("../base64"),c=e("../support"),u=e("../external"),l=null;if(c.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,t,r){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=r,i.checkSupport(o),this._worker=e.pipe(new n(o)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return function(e,r){return new u.Promise((function(o,n){var a=[],c=e._internalType,u=e._outputType,l=e._mimeType;e.on("data",(function(e,t){a.push(e),r&&r(t)})).on("error",(function(e){a=[],n(e)})).on("end",(function(){try{var e=function(e,t,r){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),r);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(u,function(e,r){var o,i=0,n=null,a=0;for(o=0;o<r.length;o++)a+=r[o].length;switch(e){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(n=new Uint8Array(a),o=0;o<r.length;o++)n.set(r[o],i),i+=r[o].length;return n;case"nodebuffer":return t.concat(r);default:throw new Error("concat : unsupported type '"+e+"'")}}(c,a),l);o(e)}catch(e){n(e)}a=[]})).resume()}))}(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,r)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},r.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,o){"use strict";if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,o.nodebuffer=void 0!==t,o.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),o.blob=0===n.getBlob("application/zip").size}catch(e){o.blob=!1}}}try{o.nodestream=!!e("readable-stream").Readable}catch(e){o.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var o=e("./utils"),i=e("./support"),n=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){return i.nodebuffer?n.newBufferFrom(e,"utf-8"):function(e){var t,r,o,n,a,s=e.length,c=0;for(n=0;n<s;n++)55296==(64512&(r=e.charCodeAt(n)))&&n+1<s&&56320==(64512&(o=e.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(o-56320),n++),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=i.uint8array?new Uint8Array(c):new Array(c),n=a=0;a<c;n++)55296==(64512&(r=e.charCodeAt(n)))&&n+1<s&&56320==(64512&(o=e.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(o-56320),n++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t}(e)},r.utf8decode=function(e){return i.nodebuffer?o.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,i,n,a=e.length,c=new Array(2*a);for(t=r=0;t<a;)if((i=e[t++])<128)c[r++]=i;else if(4<(n=s[i]))c[r++]=65533,t+=n-1;else{for(i&=2===n?31:3===n?15:7;1<n&&t<a;)i=i<<6|63&e[t++],n--;1<n?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return c.length!==r&&(c.subarray?c=c.subarray(0,r):c.length=r),o.applyFromCharCode(c)}(e=o.transformTo(i.uint8array?"uint8array":"array",e))},o.inherits(u,a),u.prototype.processChunk=function(e){var t=o.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var n=t;(t=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),t.set(n,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}(t),c=t;a!==t.length&&(i.uint8array?(c=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(c=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:r.utf8decode(c),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=u,o.inherits(l,a),l.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var o=e("./support"),i=e("./base64"),n=e("./nodejsUtils"),a=e("set-immediate-shim"),s=e("./external");function c(e){return e}function u(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}r.newBlob=function(e,t){r.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return o.append(e),o.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,r){var o=[],i=0,n=e.length;if(n<=r)return String.fromCharCode.apply(null,e);for(;i<n;)"array"===t||"nodebuffer"===t?o.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,n)))):o.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,n)))),i+=r;return o.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,n.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var t=65536,o=r.getTypeOf(e),i=!0;if("uint8array"===o?i=l.applyCanBeUsed.uint8array:"nodebuffer"===o&&(i=l.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return l.stringifyByChunk(e,o,t)}catch(e){t=Math.floor(t/2)}return l.stringifyByChar(e)}function p(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=d;var h={};h.string={string:c,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return h.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,n.allocBuffer(e.length))}},h.array={string:d,array:c,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return n.newBufferFrom(e)}},h.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return p(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:c,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return n.newBufferFrom(new Uint8Array(e))}},h.uint8array={string:d,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:c,nodebuffer:function(e){return n.newBufferFrom(e)}},h.nodebuffer={string:d,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return h.nodebuffer.uint8array(e).buffer},uint8array:function(e){return p(e,new Uint8Array(e.length))},nodebuffer:c},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var o=r.getTypeOf(t);return h[o][e](t)},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":o.nodebuffer&&n.isBuffer(e)?"nodebuffer":o.uint8array&&e instanceof Uint8Array?"uint8array":o.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!o[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,o="";for(r=0;r<(e||"").length;r++)o+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return o},r.delay=function(e,t,r){a((function(){e.apply(r||null,t||[])}))},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,n,a,c){return s.Promise.resolve(t).then((function(e){return o.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,r){var o=new FileReader;o.onload=function(e){t(e.target.result)},o.onerror=function(e){r(e.target.error)},o.readAsArrayBuffer(e)})):e})).then((function(t){var l=r.getTypeOf(t);return l?("arraybuffer"===l?t=r.transformTo("uint8array",t):"string"===l&&(c?t=i.decode(t):n&&!0!==a&&(t=function(e){return u(e,o.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,r){"use strict";var o=e("./reader/readerFor"),i=e("./utils"),n=e("./signature"),a=e("./zipEntry"),s=(e("./utf8"),e("./support"));function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var o=this.reader.readString(4)===t;return this.reader.setIndex(r),o},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,o=this.zip64EndOfCentralSize-44;0<o;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(n.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(n.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(n.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,n.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(n.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,n.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(n.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var o=t-r;if(0<o)this.isSignature(t,n.CENTRAL_FILE_HEADER)||(this.reader.zero=o);else if(o<0)throw new Error("Corrupted zip: missing "+Math.abs(o)+" bytes.")},prepareReader:function(e){this.reader=o(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var o=e("./reader/readerFor"),i=e("./utils"),n=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),c=e("./compressions"),u=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=o(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,o,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),o=e.readData(r),this.extraFields[t]={id:t,length:r,value:o};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var o=this.findExtraFieldUnicodeComment();if(null!==o)this.fileCommentStr=o;else{var n=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=o(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=o(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function o(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var i=e("./stream/StreamHelper"),n=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),c=e("./stream/GenericWorker");o.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var o="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var n=!this._dataBinary;n&&!o&&(t=t.pipe(new a.Utf8EncodeWorker)),!n&&o&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new i(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new n(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)o.prototype[u[d]]=l;t.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,o){(function(e){"use strict";var r,o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var n=0,a=new i(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=n=++n%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,r=function(){c.port2.postMessage(0)}}var u=[];function l(){var e,t;o=!0;for(var r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}o=!1}t.exports=function(e){1!==u.push(e)||o||r()}}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var o=e("immediate");function i(){}var n={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function l(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function d(e,t,r){o((function(){var o;try{o=t(r)}catch(o){return n.reject(e,o)}o===e?n.reject(e,new TypeError("Cannot resolve promise with itself")):n.resolve(e,o)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var r=!1;function o(t){r||(r=!0,n.reject(e,t))}function i(t){r||(r=!0,n.resolve(e,t))}var a=f((function(){t(i,o)}));"error"===a.status&&o(a.value)}function f(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(i);return this.state!==c?d(r,this.state===s?e:t,this.outcome):this.queue.push(new l(r,e,t)),r},l.prototype.callFulfilled=function(e){n.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){n.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},n.resolve=function(e,t){var r=f(p,t);if("error"===r.status)return n.reject(e,r.value);var o=r.value;if(o)h(e,o);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},n.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:n.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return n.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,c=-1,u=new this(i);++c<r;)l(e[c],c);return u;function l(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==r||o||(o=!0,n.resolve(u,a))}),(function(e){o||(o=!0,n.reject(u,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var o,a=-1,s=new this(i);++a<t;)o=e[a],this.resolve(o).then((function(e){r||(r=!0,n.resolve(s,e))}),(function(e){r||(r=!0,n.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,r){"use strict";var o={};(0,e("./lib/utils/common").assign)(o,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var o=e("./zlib/deflate"),i=e("./utils/common"),n=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(a[r]);if(t.header&&o.deflateSetHeader(this.strm,t.header),t.dictionary){var l;if(l="string"==typeof t.dictionary?n.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=o.deflateSetDictionary(this.strm,l)))throw new Error(a[r]);this._dict_set=!0}}function l(e,t){var r=new u(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}u.prototype.push=function(e,t){var r,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=n.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(r=o.deflate(s,a))&&0!==r)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(n.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===a?(r=o.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==a||(this.onEnd(0),!(s.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=u,r.deflate=l,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,l(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var o=e("./zlib/inflate"),i=e("./utils/common"),n=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),u=e("./zlib/gzheader"),l=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var r=o.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);this.header=new u,o.inflateGetHeader(this.strm,this.header)}function p(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}d.prototype.push=function(e,t){var r,s,c,u,d,p,h=this.strm,f=this.options.chunkSize,g=this.options.dictionary,_=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=n.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(f),h.next_out=0,h.avail_out=f),(r=o.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(p="string"==typeof g?n.string2buf(g):"[object ArrayBuffer]"===l.call(g)?new Uint8Array(g):g,r=o.inflateSetDictionary(this.strm,p)),r===a.Z_BUF_ERROR&&!0===_&&(r=a.Z_OK,_=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=n.utf8border(h.output,h.next_out),u=h.next_out-c,d=n.buf2string(h.output,c),h.next_out=u,h.avail_out=f-u,u&&i.arraySet(h.output,h.output,c,u,0),this.onData(d)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(_=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=o.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=d,r.inflate=p,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},r.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,o,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+o),i);else for(var n=0;n<o;n++)e[i+n]=t[r+n]},flattenChunks:function(e){var t,r,o,i,n,a;for(t=o=0,r=e.length;t<r;t++)o+=e[t].length;for(a=new Uint8Array(o),t=i=0,r=e.length;t<r;t++)n=e[t],a.set(n,i),i+=n.length;return a}},n={arraySet:function(e,t,r,o,i){for(var n=0;n<o;n++)e[i+n]=t[r+n]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,n))},r.setTyped(o)},{}],42:[function(e,t,r){"use strict";var o=e("./common"),i=!0,n=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){n=!1}for(var a=new o.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&n||!e.subarray&&i))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,r.string2buf=function(e){var t,r,i,n,a,s=e.length,c=0;for(n=0;n<s;n++)55296==(64512&(r=e.charCodeAt(n)))&&n+1<s&&56320==(64512&(i=e.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=new o.Buf8(c),n=a=0;a<c;n++)55296==(64512&(r=e.charCodeAt(n)))&&n+1<s&&56320==(64512&(i=e.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},r.buf2binstring=function(e){return c(e,e.length)},r.binstring2buf=function(e){for(var t=new o.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,o,i,n,s=t||e.length,u=new Array(2*s);for(r=o=0;r<s;)if((i=e[r++])<128)u[o++]=i;else if(4<(n=a[i]))u[o++]=65533,r+=n-1;else{for(i&=2===n?31:3===n?15:7;1<n&&r<s;)i=i<<6|63&e[r++],n--;1<n?u[o++]=65533:i<65536?u[o++]=i:(i-=65536,u[o++]=55296|i>>10&1023,u[o++]=56320|1023&i)}return c(u,o)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,o){for(var i=65535&e|0,n=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;n=n+(i=i+t[o++]|0)|0,--a;);i%=65521,n%=65521}return i|n<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var o=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var n=o,a=i+r;e^=-1;for(var s=i;s<a;s++)e=e>>>8^n[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,r){"use strict";var o,i=e("../utils/common"),n=e("./trees"),a=e("./adler32"),s=e("./crc32"),c=e("./messages"),u=-2,l=258,d=262,p=113;function h(e,t){return e.msg=c[t],t}function f(e){return(e<<1)-(4<e?9:0)}function g(e){for(var t=e.length;0<=--t;)e[t]=0}function _(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function m(e,t){n._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_(e.strm)}function y(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function b(e,t){var r,o,i=e.max_chain_length,n=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-d?e.strstart-(e.w_size-d):0,u=e.window,p=e.w_mask,h=e.prev,f=e.strstart+l,g=u[n+a-1],_=u[n+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(r=t)+a]===_&&u[r+a-1]===g&&u[r]===u[n]&&u[++r]===u[n+1]){n+=2,r++;do{}while(u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&u[++n]===u[++r]&&n<f);if(o=l-(f-n),n=f-l,a<o){if(e.match_start=t,s<=(a=o))break;g=u[n+a-1],_=u[n+a]}}}while((t=h[t&p])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead}function w(e){var t,r,o,n,c,u,l,p,h,f,g=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-d)){for(i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=r=e.hash_size;o=e.head[--t],e.head[t]=g<=o?o-g:0,--r;);for(t=r=g;o=e.prev[--t],e.prev[t]=g<=o?o-g:0,--r;);n+=g}if(0===e.strm.avail_in)break;if(u=e.strm,l=e.window,p=e.strstart+e.lookahead,f=void 0,(h=n)<(f=u.avail_in)&&(f=h),r=0===f?0:(u.avail_in-=f,i.arraySet(l,u.input,u.next_in,f,p),1===u.state.wrap?u.adler=a(u.adler,l,f,p):2===u.state.wrap&&(u.adler=s(u.adler,l,f,p)),u.next_in+=f,u.total_in+=f,f),e.lookahead+=r,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<d&&0!==e.strm.avail_in)}function S(e,t){for(var r,o;;){if(e.lookahead<d){if(w(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-d&&(e.match_length=b(e,r)),e.match_length>=3)if(o=n._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else o=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(o&&(m(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(m(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(m(e,!1),0===e.strm.avail_out)?1:2}function I(e,t){for(var r,o,i;;){if(e.lookahead<d){if(w(e),e.lookahead<d&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-d&&(e.match_length=b(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,o=n._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,o&&(m(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((o=n._tr_tally(e,0,e.window[e.strstart-1]))&&m(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(o=n._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(m(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(m(e,!1),0===e.strm.avail_out)?1:2}function x(e,t,r,o,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=o,this.func=i}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,n._tr_init(t),0):h(e,u)}function P(e){var t=E(e);return 0===t&&function(e){e.window_size=2*e.w_size,g(e.head),e.max_lazy_match=o[e.level].max_lazy,e.good_match=o[e.level].good_length,e.nice_match=o[e.level].nice_length,e.max_chain_length=o[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function k(e,t,r,o,n,a){if(!e)return u;var s=1;if(-1===t&&(t=6),o<0?(s=0,o=-o):15<o&&(s=2,o-=16),n<1||9<n||8!==r||o<8||15<o||t<0||9<t||a<0||4<a)return h(e,u);8===o&&(o=9);var c=new O;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=o,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=n+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<n+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=r,P(e)}o=[new x(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(w(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var o=e.block_start+r;if((0===e.strstart||e.strstart>=o)&&(e.lookahead=e.strstart-o,e.strstart=o,m(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-d&&(m(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(m(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(m(e,!1),e.strm.avail_out),1)})),new x(4,4,8,4,S),new x(4,5,16,8,S),new x(4,6,32,32,S),new x(4,4,16,16,I),new x(8,16,32,32,I),new x(8,16,128,128,I),new x(8,32,128,256,I),new x(32,128,258,1024,I),new x(32,258,258,4096,I)],r.deflateInit=function(e,t){return k(e,t,8,15,8,0)},r.deflateInit2=k,r.deflateReset=P,r.deflateResetKeep=E,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},r.deflate=function(e,t){var r,i,a,c;if(!e||!e.state||5<t||t<0)return e?h(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return h(e,0===e.avail_out?-5:u);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,y(i,31),y(i,139),y(i,8),i.gzhead?(y(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),y(i,255&i.gzhead.time),y(i,i.gzhead.time>>8&255),y(i,i.gzhead.time>>16&255),y(i,i.gzhead.time>>24&255),y(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),y(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(y(i,255&i.gzhead.extra.length),y(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(y(i,0),y(i,0),y(i,0),y(i,0),y(i,0),y(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),y(i,3),i.status=p);else{var d=8+(i.w_bits-8<<4)<<8;d|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=p,v(i,d),0!==i.strstart&&(v(i,e.adler>>>16),v(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),_(e),a=i.pending,i.pending!==i.pending_buf_size));)y(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),_(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,y(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),_(e),a=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,y(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===c&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&_(e),i.pending+2<=i.pending_buf_size&&(y(i,255&e.adler),y(i,e.adler>>8&255),e.adler=0,i.status=p)):i.status=p),0!==i.pending){if(_(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&f(t)<=f(r)&&4!==t)return h(e,-5);if(666===i.status&&0!==e.avail_in)return h(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var b=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(w(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(m(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(m(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(m(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,o,i,a,s=e.window;;){if(e.lookahead<=l){if(w(e),e.lookahead<=l&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(o=s[i=e.strstart-1])===s[++i]&&o===s[++i]&&o===s[++i]){a=e.strstart+l;do{}while(o===s[++i]&&o===s[++i]&&o===s[++i]&&o===s[++i]&&o===s[++i]&&o===s[++i]&&o===s[++i]&&o===s[++i]&&i<a);e.match_length=l-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=n._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=n._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(m(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(m(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(m(e,!1),0===e.strm.avail_out)?1:2}(i,t):o[i.level].func(i,t);if(3!==b&&4!==b||(i.status=666),1===b||3===b)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===b&&(1===t?n._tr_align(i):5!==t&&(n._tr_stored_block(i,0,0,!1),3===t&&(g(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),_(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(y(i,255&e.adler),y(i,e.adler>>8&255),y(i,e.adler>>16&255),y(i,e.adler>>24&255),y(i,255&e.total_in),y(i,e.total_in>>8&255),y(i,e.total_in>>16&255),y(i,e.total_in>>24&255)):(v(i,e.adler>>>16),v(i,65535&e.adler)),_(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==p&&666!==t?h(e,u):(e.state=null,t===p?h(e,-3):0):u},r.deflateSetDictionary=function(e,t){var r,o,n,s,c,l,d,p,h=t.length;if(!e||!e.state)return u;if(2===(s=(r=e.state).wrap)||1===s&&42!==r.status||r.lookahead)return u;for(1===s&&(e.adler=a(e.adler,t,h,0)),r.wrap=0,h>=r.w_size&&(0===s&&(g(r.head),r.strstart=0,r.block_start=0,r.insert=0),p=new i.Buf8(r.w_size),i.arraySet(p,t,h-r.w_size,r.w_size,0),t=p,h=r.w_size),c=e.avail_in,l=e.next_in,d=e.input,e.avail_in=h,e.next_in=0,e.input=t,w(r);r.lookahead>=3;){for(o=r.strstart,n=r.lookahead-2;r.ins_h=(r.ins_h<<r.hash_shift^r.window[o+3-1])&r.hash_mask,r.prev[o&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=o,o++,--n;);r.strstart=o,r.lookahead=2,w(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=l,e.input=d,e.avail_in=c,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,o,i,n,a,s,c,u,l,d,p,h,f,g,_,m,y,v,b,w,S,I,x,O,E;r=e.state,o=e.next_in,O=e.input,i=o+(e.avail_in-5),n=e.next_out,E=e.output,a=n-(t-e.avail_out),s=n+(e.avail_out-257),c=r.dmax,u=r.wsize,l=r.whave,d=r.wnext,p=r.window,h=r.hold,f=r.bits,g=r.lencode,_=r.distcode,m=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;e:do{f<15&&(h+=O[o++]<<f,f+=8,h+=O[o++]<<f,f+=8),v=g[h&m];t:for(;;){if(h>>>=b=v>>>24,f-=b,0==(b=v>>>16&255))E[n++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=g[(65535&v)+(h&(1<<b)-1)];continue t}if(32&b){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&v,(b&=15)&&(f<b&&(h+=O[o++]<<f,f+=8),w+=h&(1<<b)-1,h>>>=b,f-=b),f<15&&(h+=O[o++]<<f,f+=8,h+=O[o++]<<f,f+=8),v=_[h&y];r:for(;;){if(h>>>=b=v>>>24,f-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=_[(65535&v)+(h&(1<<b)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(S=65535&v,f<(b&=15)&&(h+=O[o++]<<f,(f+=8)<b&&(h+=O[o++]<<f,f+=8)),c<(S+=h&(1<<b)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=b,f-=b,(b=n-a)<S){if(l<(b=S-b)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(x=p,(I=0)===d){if(I+=u-b,b<w){for(w-=b;E[n++]=p[I++],--b;);I=n-S,x=E}}else if(d<b){if(I+=u+d-b,(b-=d)<w){for(w-=b;E[n++]=p[I++],--b;);if(I=0,d<w){for(w-=b=d;E[n++]=p[I++],--b;);I=n-S,x=E}}}else if(I+=d-b,b<w){for(w-=b;E[n++]=p[I++],--b;);I=n-S,x=E}for(;2<w;)E[n++]=x[I++],E[n++]=x[I++],E[n++]=x[I++],w-=3;w&&(E[n++]=x[I++],1<w&&(E[n++]=x[I++]))}else{for(I=n-S;E[n++]=E[I++],E[n++]=E[I++],E[n++]=E[I++],2<(w-=3););w&&(E[n++]=E[I++],1<w&&(E[n++]=E[I++]))}break}}break}}while(o<i&&n<s);o-=w=f>>3,h&=(1<<(f-=w<<3))-1,e.next_in=o,e.next_out=n,e.avail_in=o<i?i-o+5:5-(o-i),e.avail_out=n<s?s-n+257:257-(n-s),r.hold=h,r.bits=f}},{}],49:[function(e,t,r){"use strict";var o=e("../utils/common"),i=e("./adler32"),n=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),c=-2;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new o.Buf32(852),t.distcode=t.distdyn=new o.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):c}function h(e,t){var r,o;return e&&e.state?(o=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?c:(null!==o.window&&o.wbits!==t&&(o.window=null),o.wrap=r,o.wbits=t,p(e))):c}function f(e,t){var r,o;return e?(o=new l,(e.state=o).window=null,0!==(r=h(e,t))&&(e.state=null),r):c}var g,_,m=!0;function y(e){if(m){var t;for(g=new o.Buf32(512),_=new o.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,_,0,e.work,{bits:5}),m=!1}e.lencode=g,e.lenbits=9,e.distcode=_,e.distbits=5}function v(e,t,r,i){var n,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new o.Buf8(a.wsize)),i>=a.wsize?(o.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(n=a.wsize-a.wnext)&&(n=i),o.arraySet(a.window,t,r-i,n,a.wnext),(i-=n)?(o.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0}r.inflateReset=p,r.inflateReset2=h,r.inflateResetKeep=d,r.inflateInit=function(e){return f(e,15)},r.inflateInit2=f,r.inflate=function(e,t){var r,l,d,p,h,f,g,_,m,b,w,S,I,x,O,E,P,k,D,T,A,C,B,N,M=0,L=new o.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;12===(r=e.state).mode&&(r.mode=13),h=e.next_out,d=e.output,g=e.avail_out,p=e.next_in,l=e.input,f=e.avail_in,_=r.hold,m=r.bits,b=f,w=g,C=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;m<16;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}if(2&r.wrap&&35615===_){L[r.check=0]=255&_,L[1]=_>>>8&255,r.check=n(r.check,L,2,0),m=_=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&_)<<8)+(_>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&_)){e.msg="unknown compression method",r.mode=30;break}if(m-=4,A=8+(15&(_>>>=4)),0===r.wbits)r.wbits=A;else if(A>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<A,e.adler=r.check=1,r.mode=512&_?10:12,m=_=0;break;case 2:for(;m<16;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}if(r.flags=_,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=_>>8&1),512&r.flags&&(L[0]=255&_,L[1]=_>>>8&255,r.check=n(r.check,L,2,0)),m=_=0,r.mode=3;case 3:for(;m<32;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}r.head&&(r.head.time=_),512&r.flags&&(L[0]=255&_,L[1]=_>>>8&255,L[2]=_>>>16&255,L[3]=_>>>24&255,r.check=n(r.check,L,4,0)),m=_=0,r.mode=4;case 4:for(;m<16;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}r.head&&(r.head.xflags=255&_,r.head.os=_>>8),512&r.flags&&(L[0]=255&_,L[1]=_>>>8&255,r.check=n(r.check,L,2,0)),m=_=0,r.mode=5;case 5:if(1024&r.flags){for(;m<16;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}r.length=_,r.head&&(r.head.extra_len=_),512&r.flags&&(L[0]=255&_,L[1]=_>>>8&255,r.check=n(r.check,L,2,0)),m=_=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(f<(S=r.length)&&(S=f),S&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),o.arraySet(r.head.extra,l,p,S,A)),512&r.flags&&(r.check=n(r.check,l,S,p)),f-=S,p+=S,r.length-=S),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===f)break e;for(S=0;A=l[p+S++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A)),A&&S<f;);if(512&r.flags&&(r.check=n(r.check,l,S,p)),f-=S,p+=S,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===f)break e;for(S=0;A=l[p+S++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A)),A&&S<f;);if(512&r.flags&&(r.check=n(r.check,l,S,p)),f-=S,p+=S,A)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;m<16;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}if(_!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}m=_=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;m<32;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}e.adler=r.check=u(_),m=_=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=h,e.avail_out=g,e.next_in=p,e.avail_in=f,r.hold=_,r.bits=m,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){_>>>=7&m,m-=7&m,r.mode=27;break}for(;m<3;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}switch(r.last=1&_,m-=1,3&(_>>>=1)){case 0:r.mode=14;break;case 1:if(y(r),r.mode=20,6!==t)break;_>>>=2,m-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}_>>>=2,m-=2;break;case 14:for(_>>>=7&m,m-=7&m;m<32;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}if((65535&_)!=(_>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&_,m=_=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(S=r.length){if(f<S&&(S=f),g<S&&(S=g),0===S)break e;o.arraySet(d,l,p,S,h),f-=S,p+=S,g-=S,h+=S,r.length-=S;break}r.mode=12;break;case 17:for(;m<14;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}if(r.nlen=257+(31&_),_>>>=5,m-=5,r.ndist=1+(31&_),_>>>=5,m-=5,r.ncode=4+(15&_),_>>>=4,m-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;m<3;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}r.lens[V[r.have++]]=7&_,_>>>=3,m-=3}for(;r.have<19;)r.lens[V[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,B={bits:r.lenbits},C=s(0,r.lens,0,19,r.lencode,0,r.work,B),r.lenbits=B.bits,C){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;E=(M=r.lencode[_&(1<<r.lenbits)-1])>>>16&255,P=65535&M,!((O=M>>>24)<=m);){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}if(P<16)_>>>=O,m-=O,r.lens[r.have++]=P;else{if(16===P){for(N=O+2;m<N;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}if(_>>>=O,m-=O,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}A=r.lens[r.have-1],S=3+(3&_),_>>>=2,m-=2}else if(17===P){for(N=O+3;m<N;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}m-=O,A=0,S=3+(7&(_>>>=O)),_>>>=3,m-=3}else{for(N=O+7;m<N;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}m-=O,A=0,S=11+(127&(_>>>=O)),_>>>=7,m-=7}if(r.have+S>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;S--;)r.lens[r.have++]=A}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,B={bits:r.lenbits},C=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,B),r.lenbits=B.bits,C){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,B={bits:r.distbits},C=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B),r.distbits=B.bits,C){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=f&&258<=g){e.next_out=h,e.avail_out=g,e.next_in=p,e.avail_in=f,r.hold=_,r.bits=m,a(e,w),h=e.next_out,d=e.output,g=e.avail_out,p=e.next_in,l=e.input,f=e.avail_in,_=r.hold,m=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;E=(M=r.lencode[_&(1<<r.lenbits)-1])>>>16&255,P=65535&M,!((O=M>>>24)<=m);){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}if(E&&0==(240&E)){for(k=O,D=E,T=P;E=(M=r.lencode[T+((_&(1<<k+D)-1)>>k)])>>>16&255,P=65535&M,!(k+(O=M>>>24)<=m);){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}_>>>=k,m-=k,r.back+=k}if(_>>>=O,m-=O,r.back+=O,r.length=P,0===E){r.mode=26;break}if(32&E){r.back=-1,r.mode=12;break}if(64&E){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&E,r.mode=22;case 22:if(r.extra){for(N=r.extra;m<N;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}r.length+=_&(1<<r.extra)-1,_>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;E=(M=r.distcode[_&(1<<r.distbits)-1])>>>16&255,P=65535&M,!((O=M>>>24)<=m);){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}if(0==(240&E)){for(k=O,D=E,T=P;E=(M=r.distcode[T+((_&(1<<k+D)-1)>>k)])>>>16&255,P=65535&M,!(k+(O=M>>>24)<=m);){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}_>>>=k,m-=k,r.back+=k}if(_>>>=O,m-=O,r.back+=O,64&E){e.msg="invalid distance code",r.mode=30;break}r.offset=P,r.extra=15&E,r.mode=24;case 24:if(r.extra){for(N=r.extra;m<N;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}r.offset+=_&(1<<r.extra)-1,_>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===g)break e;if(S=w-g,r.offset>S){if((S=r.offset-S)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}I=S>r.wnext?(S-=r.wnext,r.wsize-S):r.wnext-S,S>r.length&&(S=r.length),x=r.window}else x=d,I=h-r.offset,S=r.length;for(g<S&&(S=g),g-=S,r.length-=S;d[h++]=x[I++],--S;);0===r.length&&(r.mode=21);break;case 26:if(0===g)break e;d[h++]=r.length,g--,r.mode=21;break;case 27:if(r.wrap){for(;m<32;){if(0===f)break e;f--,_|=l[p++]<<m,m+=8}if(w-=g,e.total_out+=w,r.total+=w,w&&(e.adler=r.check=r.flags?n(r.check,d,w,h-w):i(r.check,d,w,h-w)),w=g,(r.flags?_:u(_))!==r.check){e.msg="incorrect data check",r.mode=30;break}m=_=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;m<32;){if(0===f)break e;f--,_+=l[p++]<<m,m+=8}if(_!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}m=_=0}r.mode=29;case 29:C=1;break e;case 30:C=-3;break e;case 31:return-4;case 32:default:return c}return e.next_out=h,e.avail_out=g,e.next_in=p,e.avail_in=f,r.hold=_,r.bits=m,(r.wsize||w!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&v(e,e.output,e.next_out,w-e.avail_out)?(r.mode=31,-4):(b-=e.avail_in,w-=e.avail_out,e.total_in+=b,e.total_out+=w,r.total+=w,r.wrap&&w&&(e.adler=r.check=r.flags?n(r.check,d,w,e.next_out-w):i(r.check,d,w,e.next_out-w)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==b&&0===w||4===t)&&0===C&&(C=-5),C)},r.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?c:((r.head=t).done=!1,0):c},r.inflateSetDictionary=function(e,t){var r,o=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?c:11===r.mode&&i(1,t,o,0)!==r.check?-3:v(e,t,o,o)?(r.mode=31,-4):(r.havedict=1,0):c},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var o=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,c,u,l,d,p){var h,f,g,_,m,y,v,b,w,S=p.bits,I=0,x=0,O=0,E=0,P=0,k=0,D=0,T=0,A=0,C=0,B=null,N=0,M=new o.Buf16(16),L=new o.Buf16(16),V=null,j=0;for(I=0;I<=15;I++)M[I]=0;for(x=0;x<c;x++)M[t[r+x]]++;for(P=S,E=15;1<=E&&0===M[E];E--);if(E<P&&(P=E),0===E)return u[l++]=20971520,u[l++]=20971520,p.bits=1,0;for(O=1;O<E&&0===M[O];O++);for(P<O&&(P=O),I=T=1;I<=15;I++)if(T<<=1,(T-=M[I])<0)return-1;if(0<T&&(0===e||1!==E))return-1;for(L[1]=0,I=1;I<15;I++)L[I+1]=L[I]+M[I];for(x=0;x<c;x++)0!==t[r+x]&&(d[L[t[r+x]]++]=x);if(y=0===e?(B=V=d,19):1===e?(B=i,N-=257,V=n,j-=257,256):(B=a,V=s,-1),I=O,m=l,D=x=C=0,g=-1,_=(A=1<<(k=P))-1,1===e&&852<A||2===e&&592<A)return 1;for(;;){for(v=I-D,w=d[x]<y?(b=0,d[x]):d[x]>y?(b=V[j+d[x]],B[N+d[x]]):(b=96,0),h=1<<I-D,O=f=1<<k;u[m+(C>>D)+(f-=h)]=v<<24|b<<16|w|0,0!==f;);for(h=1<<I-1;C&h;)h>>=1;if(0!==h?(C&=h-1,C+=h):C=0,x++,0==--M[I]){if(I===E)break;I=t[r+d[x]]}if(P<I&&(C&_)!==g){for(0===D&&(D=P),m+=O,T=1<<(k=I-D);k+D<E&&!((T-=M[k+D])<=0);)k++,T<<=1;if(A+=1<<k,1===e&&852<A||2===e&&592<A)return 1;u[g=C&_]=P<<24|k<<16|m-l|0}}return 0!==C&&(u[m+C]=I-D<<24|64<<16|0),p.bits=P,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var o=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var n=256,a=286,s=30,c=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],h=new Array(576);i(h);var f=new Array(60);i(f);var g=new Array(512);i(g);var _=new Array(256);i(_);var m=new Array(29);i(m);var y,v,b,w=new Array(s);function S(e,t,r,o,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=o,this.max_length=i,this.has_stree=e&&e.length}function I(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function x(e){return e<256?g[e]:g[256+(e>>>7)]}function O(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function E(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,O(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function P(e,t,r){E(e,r[2*t],r[2*t+1])}function k(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function D(e,t,r){var o,i,n=new Array(16),a=0;for(o=1;o<=c;o++)n[o]=a=a+r[o-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=k(n[s]++,s))}}function T(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function A(e){8<e.bi_valid?O(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function C(e,t,r,o){var i=2*t,n=2*r;return e[i]<e[n]||e[i]===e[n]&&o[t]<=o[r]}function B(e,t,r){for(var o=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&C(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!C(t,o,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=o}function N(e,t,r){var o,i,a,s,c=0;if(0!==e.last_lit)for(;o=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===o?P(e,i,t):(P(e,(a=_[i])+n+1,t),0!==(s=u[a])&&E(e,i-=m[a],s),P(e,a=x(--o),r),0!==(s=l[a])&&E(e,o-=w[a],s)),c<e.last_lit;);P(e,256,t)}function M(e,t){var r,o,i,n=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<u;r++)0!==n[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):n[2*r+1]=0;for(;e.heap_len<2;)n[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,r=e.heap_len>>1;1<=r;r--)B(e,n,r);for(i=u;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],B(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=o,n[2*i]=n[2*r]+n[2*o],e.depth[i]=(e.depth[r]>=e.depth[o]?e.depth[r]:e.depth[o])+1,n[2*r+1]=n[2*o+1]=i,e.heap[1]=i++,B(e,n,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,o,i,n,a,s,u=t.dyn_tree,l=t.max_code,d=t.stat_desc.static_tree,p=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,g=t.stat_desc.max_length,_=0;for(n=0;n<=c;n++)e.bl_count[n]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)g<(n=u[2*u[2*(o=e.heap[r])+1]+1]+1)&&(n=g,_++),u[2*o+1]=n,l<o||(e.bl_count[n]++,a=0,f<=o&&(a=h[o-f]),s=u[2*o],e.opt_len+=s*(n+a),p&&(e.static_len+=s*(d[2*o+1]+a)));if(0!==_){do{for(n=g-1;0===e.bl_count[n];)n--;e.bl_count[n]--,e.bl_count[n+1]+=2,e.bl_count[g]--,_-=2}while(0<_);for(n=g;0!==n;n--)for(o=e.bl_count[n];0!==o;)l<(i=e.heap[--r])||(u[2*i+1]!==n&&(e.opt_len+=(n-u[2*i+1])*u[2*i],u[2*i+1]=n),o--)}}(e,t),D(n,l,e.bl_count)}function L(e,t,r){var o,i,n=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(r+1)+1]=65535,o=0;o<=r;o++)i=a,a=t[2*(o+1)+1],++s<c&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==n&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,n=i,u=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4))}function V(e,t,r){var o,i,n=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),o=0;o<=r;o++)if(i=a,a=t[2*(o+1)+1],!(++s<c&&i===a)){if(s<u)for(;P(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==n&&(P(e,i,e.bl_tree),s--),P(e,16,e.bl_tree),E(e,s-3,2)):s<=10?(P(e,17,e.bl_tree),E(e,s-3,3)):(P(e,18,e.bl_tree),E(e,s-11,7));n=i,u=(s=0)===a?(c=138,3):i===a?(c=6,3):(c=7,4)}}i(w);var j=!1;function R(e,t,r,i){E(e,0+(i?1:0),3),function(e,t,r,i){A(e),O(e,r),O(e,~r),o.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}r._tr_init=function(e){j||(function(){var e,t,r,o,i,n=new Array(16);for(o=r=0;o<28;o++)for(m[o]=r,e=0;e<1<<u[o];e++)_[r++]=o;for(_[r-1]=o,o=i=0;o<16;o++)for(w[o]=i,e=0;e<1<<l[o];e++)g[i++]=o;for(i>>=7;o<s;o++)for(w[o]=i<<7,e=0;e<1<<l[o]-7;e++)g[256+i++]=o;for(t=0;t<=c;t++)n[t]=0;for(e=0;e<=143;)h[2*e+1]=8,e++,n[8]++;for(;e<=255;)h[2*e+1]=9,e++,n[9]++;for(;e<=279;)h[2*e+1]=7,e++,n[7]++;for(;e<=287;)h[2*e+1]=8,e++,n[8]++;for(D(h,287,n),e=0;e<s;e++)f[2*e+1]=5,f[2*e]=k(e,5);y=new S(h,u,257,a,c),v=new S(f,l,0,s,c),b=new S(new Array(0),d,0,19,7)}(),j=!0),e.l_desc=new I(e.dyn_ltree,y),e.d_desc=new I(e.dyn_dtree,v),e.bl_desc=new I(e.bl_tree,b),e.bi_buf=0,e.bi_valid=0,T(e)},r._tr_stored_block=R,r._tr_flush_block=function(e,t,r,o){var i,a,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<n;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),M(e,e.l_desc),M(e,e.d_desc),s=function(e){var t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),M(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*p[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?R(e,t,r,o):4===e.strategy||a===i?(E(e,2+(o?1:0),3),N(e,h,f)):(E(e,4+(o?1:0),3),function(e,t,r,o){var i;for(E(e,t-257,5),E(e,r-1,5),E(e,o-4,4),i=0;i<o;i++)E(e,e.bl_tree[2*p[i]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),N(e,e.dyn_ltree,e.dyn_dtree)),T(e),o&&A(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(_[r]+n+1)]++,e.dyn_dtree[2*x(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){E(e,2,3),P(e,256,h),function(e){16===e.bi_valid?(O(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){"use strict";t.exports="function"==typeof o?o:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)}).call(this,r(323).Buffer,r(70),r(327).setImmediate)},function(e,t,r){"use strict";(function(e){var o=r(324),i=r(325),n=r(326);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,r)}function u(e,t,r,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,o){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(o||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,r):new Uint8Array(t,r,o);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,r,o):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var o=0|f(t,r),i=(e=s(e,o)).write(t,r);i!==o&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?s(e,0):p(e,t);if("Buffer"===t.type&&n(t.data))return p(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var o=0;o<r;o+=1)e[o]=255&t[o];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(o)return H(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,r){var o=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return k(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function _(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}function m(e,t,r,o,i){if(0===e.length)return-1;if("string"==typeof r?(o=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,o)),c.isBuffer(t))return 0===t.length?-1:y(e,t,r,o,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,o,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,o,i){var n,a=1,s=e.length,c=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(n=r;n<s;n++)if(u(e,n)===u(t,-1===l?0:n-l)){if(-1===l&&(l=n),n-l+1===c)return l*a}else-1!==l&&(n-=n-l),l=-1}else for(r+c>s&&(r=s-c),n=r;n>=0;n--){for(var d=!0,p=0;p<c;p++)if(u(e,n+p)!==u(t,p)){d=!1;break}if(d)return n}return-1}function v(e,t,r,o){r=Number(r)||0;var i=e.length-r;o?(o=Number(o))>i&&(o=i):o=i;var n=t.length;if(n%2!=0)throw new TypeError("Invalid hex string");o>n/2&&(o=n/2);for(var a=0;a<o;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function b(e,t,r,o){return z(H(t,e.length-r),e,r,o)}function w(e,t,r,o){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,o)}function S(e,t,r,o){return w(e,t,r,o)}function I(e,t,r,o){return z(q(t),e,r,o)}function x(e,t,r,o){return z(function(e,t){for(var r,o,i,n=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),o=r>>8,i=r%256,n.push(i),n.push(o);return n}(t,e.length-r),e,r,o)}function O(e,t,r){return 0===t&&r===e.length?o.fromByteArray(e):o.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);for(var o=[],i=t;i<r;){var n,a,s,c,u=e[i],l=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=r)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(n=e[i+1]))&&(c=(31&u)<<6|63&n)>127&&(l=c);break;case 3:n=e[i+1],a=e[i+2],128==(192&n)&&128==(192&a)&&(c=(15&u)<<12|(63&n)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:n=e[i+1],a=e[i+2],s=e[i+3],128==(192&n)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&n)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,o.push(l>>>10&1023|55296),l=56320|1023&l),o.push(l),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",o=0;for(;o<t;)r+=String.fromCharCode.apply(String,e.slice(o,o+=4096));return r}(o)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,o){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof o?s(e,t).fill(r,o):s(e,t).fill(r):s(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,o=t.length,i=0,n=Math.min(r,o);i<n;++i)if(e[i]!==t[i]){r=e[i],o=t[i];break}return r<o?-1:o<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!n(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var o=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,o,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),t<0||r>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&t>=r)return 0;if(o>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var n=(i>>>=0)-(o>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(n,a),u=this.slice(o,i),l=e.slice(t,r),d=0;d<s;++d)if(u[d]!==l[d]){n=u[d],a=l[d];break}return n<a?-1:a<n?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},c.prototype.write=function(e,t,r,o){if(void 0===t)o="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)o=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===o&&(o="utf8")):(o=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var n=!1;;)switch(o){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(n)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),n=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,r){var o="";r=Math.min(e.length,r);for(var i=t;i<r;++i)o+=String.fromCharCode(127&e[i]);return o}function k(e,t,r){var o="";r=Math.min(e.length,r);for(var i=t;i<r;++i)o+=String.fromCharCode(e[i]);return o}function D(e,t,r){var o=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>o)&&(r=o);for(var i="",n=t;n<r;++n)i+=R(e[n]);return i}function T(e,t,r){for(var o=e.slice(t,r),i="",n=0;n<o.length;n+=2)i+=String.fromCharCode(o[n]+256*o[n+1]);return i}function A(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,o,i,n){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<n)throw new RangeError('"value" argument is out of bounds');if(r+o>e.length)throw new RangeError("Index out of range")}function B(e,t,r,o){t<0&&(t=65535+t+1);for(var i=0,n=Math.min(e.length-r,2);i<n;++i)e[r+i]=(t&255<<8*(o?i:1-i))>>>8*(o?i:1-i)}function N(e,t,r,o){t<0&&(t=4294967295+t+1);for(var i=0,n=Math.min(e.length-r,4);i<n;++i)e[r+i]=t>>>8*(o?i:3-i)&255}function M(e,t,r,o,i,n){if(r+o>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,o,n){return n||M(e,0,r,4),i.write(e,t,r,o,23,4),r+4}function V(e,t,r,o,n){return n||M(e,0,r,8),i.write(e,t,r,o,52,8),r+8}c.prototype.slice=function(e,t){var r,o=this.length;if((e=~~e)<0?(e+=o)<0&&(e=0):e>o&&(e=o),(t=void 0===t?o:~~t)<0?(t+=o)<0&&(t=0):t>o&&(t=o),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var n=0;n<i;++n)r[n]=this[n+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var o=this[e],i=1,n=0;++n<t&&(i*=256);)o+=this[e+n]*i;return o},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var o=this[e+--t],i=1;t>0&&(i*=256);)o+=this[e+--t]*i;return o},c.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var o=this[e],i=1,n=0;++n<t&&(i*=256);)o+=this[e+n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||A(e,t,this.length);for(var o=t,i=1,n=this[e+--o];o>0&&(i*=256);)n+=this[e+--o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,o){(e=+e,t|=0,r|=0,o)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,n=0;for(this[t]=255&e;++n<r&&(i*=256);)this[t+n]=e/i&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,o){(e=+e,t|=0,r|=0,o)||C(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,n=1;for(this[t+i]=255&e;--i>=0&&(n*=256);)this[t+i]=e/n&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,o){if(e=+e,t|=0,!o){var i=Math.pow(2,8*r-1);C(this,e,t,r,i-1,-i)}var n=0,a=1,s=0;for(this[t]=255&e;++n<r&&(a*=256);)e<0&&0===s&&0!==this[t+n-1]&&(s=1),this[t+n]=(e/a>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,o){if(e=+e,t|=0,!o){var i=Math.pow(2,8*r-1);C(this,e,t,r,i-1,-i)}var n=r-1,a=1,s=0;for(this[t+n]=255&e;--n>=0&&(a*=256);)e<0&&0===s&&0!==this[t+n+1]&&(s=1),this[t+n]=(e/a>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return V(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return V(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,o){if(r||(r=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<r&&(o=r),o===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-r&&(o=e.length-t+r);var i,n=o-r;if(this===e&&r<t&&t<o)for(i=n-1;i>=0;--i)e[i+t]=this[i+r];else if(n<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<n;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+n),t);return n},c.prototype.fill=function(e,t,r,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,r=this.length):"string"==typeof r&&(o=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var n;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{var a=c.isBuffer(e)?e:H(new c(e,o).toString()),s=a.length;for(n=0;n<r-t;++n)this[n+t]=a[n%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function R(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var r;t=t||1/0;for(var o=e.length,i=null,n=[],a=0;a<o;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&n.push(239,191,189);continue}if(a+1===o){(t-=3)>-1&&n.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&n.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return n}function q(e){return o.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,o){for(var i=0;i<o&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(70))},function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],o=t[1];return 3*(r+o)/4-o},t.toByteArray=function(e){var t,r,o=u(e),a=o[0],s=o[1],c=new n(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,n=[],a=0,s=r-i;a<s;a+=16383)n.push(l(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],n.push(o[t>>2]+o[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],n.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"="));return n.join("")};for(var o=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)o[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,n,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(o[(n=i)>>18&63]+o[n>>12&63]+o[n>>6&63]+o[63&n]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,o,i){var n,a,s=8*i-o-1,c=(1<<s)-1,u=c>>1,l=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,n=h&(1<<-l)-1,h>>=-l,l+=s;l>0;n=256*n+e[t+d],d+=p,l-=8);for(a=n&(1<<-l)-1,n>>=-l,l+=o;l>0;a=256*a+e[t+d],d+=p,l-=8);if(0===n)n=1-u;else{if(n===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,o),n-=u}return(h?-1:1)*a*Math.pow(2,n-o)},t.write=function(e,t,r,o,i,n){var a,s,c,u=8*n-i-1,l=(1<<u)-1,d=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:n-1,f=o?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=255&a,h+=f,a/=256,u-=8);e[r+h-f]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(e){var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function n(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new n(i.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new n(i.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(328),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(70))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var o,i,n,a,s,c=1,u={},l=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick((function(){f(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(e){f(e.data)},o=function(e){n.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,o=function(e){var t=d.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):o=function(e){setTimeout(f,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),o=function(t){e.postMessage(a+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return u[c]=i,o(c),c++},p.clearImmediate=h}function h(e){delete u[e]}function f(e){if(l)setTimeout(f,0,e);else{var t=u[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(70),r(222))},function(e,t,r){var o=r(8),i=r(330);o({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},function(e,t,r){"use strict";var o=r(4),i=r(7),n=r(9),a=r(257).start,s=o.RangeError,c=Math.abs,u=Date.prototype,l=u.toISOString,d=i(u.getTime),p=i(u.getUTCDate),h=i(u.getUTCFullYear),f=i(u.getUTCHours),g=i(u.getUTCMilliseconds),_=i(u.getUTCMinutes),m=i(u.getUTCMonth),y=i(u.getUTCSeconds);e.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!n((function(){l.call(new Date(NaN))}))?function(){if(!isFinite(d(this)))throw s("Invalid time value");var e=h(this),t=g(this),r=e<0?"-":e>9999?"+":"";return r+a(c(e),r?6:4,0)+"-"+a(m(this)+1,2,0)+"-"+a(p(this),2,0)+"T"+a(f(this),2,0)+":"+a(_(this),2,0)+":"+a(y(this),2,0)+"."+a(t,3,0)+"Z"}:l},function(e,t,r){"use strict";var o=r(8),i=r(343);o({target:"String",proto:!0,forced:r(344)("bold")},{bold:function(){return i(this,"b","","")}})},function(e,t,r){"use strict";var o=r(8),i=r(343);o({target:"String",proto:!0,forced:r(344)("italics")},{italics:function(){return i(this,"i","","")}})},function(e,t,r){e.exports=function(e,t){var r,o,i,n,a,s,c,u;for(r=3&e.length,o=e.length-r,i=t,a=3432918353,s=461845907,u=0;u<o;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(n=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(n>>>16)&65535)<<16);switch(c=0,r){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}},function(e,t){e.exports=o;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function o(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function i(e){return!0===(e&&e.__isLong__)}o.prototype.__isLong__,Object.defineProperty(o.prototype,"__isLong__",{value:!0}),o.isLong=i;var n={},a={};function s(e,t){var r,o,i;return t?(i=0<=(e>>>=0)&&e<256)&&(o=a[e])?o:(r=u(e,(0|e)<0?-1:0,!0),i&&(a[e]=r),r):(i=-128<=(e|=0)&&e<128)&&(o=n[e])?o:(r=u(e,e<0?-1:0,!1),i&&(n[e]=r),r)}function c(e,t){if(isNaN(e))return t?y:m;if(t){if(e<0)return y;if(e>=f)return I}else{if(e<=-g)return x;if(e+1>=g)return S}return e<0?c(-e,t).neg():u(e%h|0,e/h|0,t)}function u(e,t,r){return new o(e,t,r)}o.fromInt=s,o.fromNumber=c,o.fromBits=u;var l=Math.pow;function d(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var o;if((o=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return d(e.substring(1),t,r).neg();for(var i=c(l(r,8)),n=m,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+s),r);if(s<8){var p=c(l(r,s));n=n.mul(p).add(c(u))}else n=(n=n.mul(i)).add(c(u))}return n.unsigned=t,n}function p(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?d(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}o.fromString=d,o.fromValue=p;var h=4294967296,f=h*h,g=f/2,_=s(1<<24),m=s(0);o.ZERO=m;var y=s(0,!0);o.UZERO=y;var v=s(1);o.ONE=v;var b=s(1,!0);o.UONE=b;var w=s(-1);o.NEG_ONE=w;var S=u(-1,2147483647,!1);o.MAX_VALUE=S;var I=u(-1,-1,!0);o.MAX_UNSIGNED_VALUE=I;var x=u(0,-2147483648,!1);o.MIN_VALUE=x;var O=o.prototype;O.toInt=function(){return this.unsigned?this.low>>>0:this.low},O.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},O.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=c(e),r=this.div(t),o=r.mul(t).sub(this);return r.toString(e)+o.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=c(l(e,6),this.unsigned),n=this,a="";;){var s=n.div(i),u=(n.sub(s.mul(i)).toInt()>>>0).toString(e);if((n=s).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},O.getHighBits=function(){return this.high},O.getHighBitsUnsigned=function(){return this.high>>>0},O.getLowBits=function(){return this.low},O.getLowBitsUnsigned=function(){return this.low>>>0},O.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},O.isZero=function(){return 0===this.high&&0===this.low},O.eqz=O.isZero,O.isNegative=function(){return!this.unsigned&&this.high<0},O.isPositive=function(){return this.unsigned||this.high>=0},O.isOdd=function(){return 1==(1&this.low)},O.isEven=function(){return 0==(1&this.low)},O.equals=function(e){return i(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},O.eq=O.equals,O.notEquals=function(e){return!this.eq(e)},O.neq=O.notEquals,O.ne=O.notEquals,O.lessThan=function(e){return this.comp(e)<0},O.lt=O.lessThan,O.lessThanOrEqual=function(e){return this.comp(e)<=0},O.lte=O.lessThanOrEqual,O.le=O.lessThanOrEqual,O.greaterThan=function(e){return this.comp(e)>0},O.gt=O.greaterThan,O.greaterThanOrEqual=function(e){return this.comp(e)>=0},O.gte=O.greaterThanOrEqual,O.ge=O.greaterThanOrEqual,O.compare=function(e){if(i(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},O.comp=O.compare,O.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(v)},O.neg=O.negate,O.add=function(e){i(e)||(e=p(e));var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,n=65535&this.low,a=e.high>>>16,s=65535&e.high,c=e.low>>>16,l=0,d=0,h=0,f=0;return h+=(f+=n+(65535&e.low))>>>16,d+=(h+=o+c)>>>16,l+=(d+=r+s)>>>16,l+=t+a,u((h&=65535)<<16|(f&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},O.subtract=function(e){return i(e)||(e=p(e)),this.add(e.neg())},O.sub=O.subtract,O.multiply=function(e){if(this.isZero())return m;if(i(e)||(e=p(e)),r)return u(r.mul(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(x))return e.isOdd()?x:m;if(e.eq(x))return this.isOdd()?x:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(_)&&e.lt(_))return c(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,o=65535&this.high,n=this.low>>>16,a=65535&this.low,s=e.high>>>16,l=65535&e.high,d=e.low>>>16,h=65535&e.low,f=0,g=0,y=0,v=0;return y+=(v+=a*h)>>>16,g+=(y+=n*h)>>>16,y&=65535,g+=(y+=a*d)>>>16,f+=(g+=o*h)>>>16,g&=65535,f+=(g+=n*d)>>>16,g&=65535,f+=(g+=a*l)>>>16,f+=t*h+o*d+n*l+a*s,u((y&=65535)<<16|(v&=65535),(f&=65535)<<16|(g&=65535),this.unsigned)},O.mul=O.multiply,O.divide=function(e){if(i(e)||(e=p(e)),e.isZero())throw Error("division by zero");var t,o,n;if(r)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?r.div_u:r.div_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return b;n=y}else{if(this.eq(x))return e.eq(v)||e.eq(w)?x:e.eq(x)?v:(t=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?v:w:(o=this.sub(e.mul(t)),n=t.add(o.div(e)));if(e.eq(x))return this.unsigned?y:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=m}for(o=this;o.gte(e);){t=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:l(2,a-48),d=c(t),h=d.mul(e);h.isNegative()||h.gt(o);)h=(d=c(t-=s,this.unsigned)).mul(e);d.isZero()&&(d=v),n=n.add(d),o=o.sub(h)}return n},O.div=O.divide,O.modulo=function(e){return i(e)||(e=p(e)),r?u((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},O.mod=O.modulo,O.rem=O.modulo,O.not=function(){return u(~this.low,~this.high,this.unsigned)},O.and=function(e){return i(e)||(e=p(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},O.or=function(e){return i(e)||(e=p(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},O.xor=function(e){return i(e)||(e=p(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},O.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},O.shl=O.shiftLeft,O.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},O.shr=O.shiftRight,O.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},O.shru=O.shiftRightUnsigned,O.shr_u=O.shiftRightUnsigned,O.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},O.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},O.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},O.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},O.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},o.fromBytes=function(e,t,r){return r?o.fromBytesLE(e,t):o.fromBytesBE(e,t)},o.fromBytesLE=function(e,t){return new o(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},o.fromBytesBE=function(e,t){return new o(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){!function(){if(-1!==window.navigator.userAgent.indexOf("Trident")){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}e.prototype=window.Event.prototype,window.CustomEvent=e,document.body.scrollTo||(Element.prototype.scrollTo=function(e,t){this.scrollLeft=e,this.scrollTop=t}),document.body.scrollBy||(Element.prototype.scrollBy=function(e,t){this.scrollLeft+=e,this.scrollTop+=t}),FileReader.prototype.readAsBinaryString||(FileReader.prototype.readAsBinaryString=function(e){var t=this,r=new FileReader;r.onload=function(e){for(var o="",i=new Uint8Array(r.result),n=i.byteLength,a=0;a<n;a++)o+=String.fromCharCode(i[a]);t.content=o,t.result=o,t.onload()},r.readAsArrayBuffer(e)})}}()},function(e,t,r){"use strict";var o,i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},n=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),a=[];function s(e){for(var t=-1,r=0;r<a.length;r++)if(a[r].identifier===e){t=r;break}return t}function c(e,t){for(var r={},o=[],i=0;i<e.length;i++){var n=e[i],c=t.base?n[0]+t.base:n[0],u=r[c]||0,l="".concat(c," ").concat(u);r[c]=u+1;var d=s(l),p={css:n[1],media:n[2],sourceMap:n[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:l,updater:_(p,t),references:1}),o.push(l)}return o}function u(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var i=r.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=n(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function p(e,t,r,o){var i=r?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var n=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(n,a[t]):e.appendChild(n)}}function h(e,t,r){var o=r.css,i=r.media,n=r.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var f=null,g=0;function _(e,t){var r,o,i;if(t.singleton){var n=g++;r=f||(f=u(t)),o=p.bind(null,r,n,!1),i=p.bind(null,r,n,!0)}else r=u(t),o=h.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var r=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<r.length;o++){var i=s(r[o]);a[i].references--}for(var n=c(e,t),u=0;u<r.length;u++){var l=s(r[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}r=n}}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",o=e[3];if(!o)return r;if(t&&"function"==typeof btoa){var i=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),n=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[r].concat(n).concat([i]).join("\n")}var a,s,c;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,o){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(o)for(var n=0;n<this.length;n++){var a=this[n][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&i[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},function(e,t,r){r(8)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){"use strict";var o=r(4),i=r(7),n=r(28),a=r(18),s=r(20),c=r(74),u=o.Function,l=i([].concat),d=i([].join),p={},h=function(e,t,r){if(!s(p,t)){for(var o=[],i=0;i<t;i++)o[i]="a["+i+"]";p[t]=u("C,a","return new C("+d(o,",")+")")}return p[t](e,r)};e.exports=u.bind||function(e){var t=n(this),r=t.prototype,o=c(arguments,1),i=function(){var r=l(o,c(arguments));return this instanceof i?h(t,r.length,r):t.apply(e,r)};return a(r)&&(i.prototype=r),i}},function(e,t,r){"use strict";var o=r(4),i=r(7),n=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",c=o.RangeError,u=i(a.exec),l=Math.floor,d=String.fromCharCode,p=i("".charCodeAt),h=i([].join),f=i([].push),g=i("".replace),_=i("".split),m=i("".toLowerCase),y=function(e){return e+22+75*(e<26)},v=function(e,t,r){var o=0;for(e=r?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),o+=36;return l(o+36*e/(e+38))},b=function(e){var t,r,o=[],i=(e=function(e){for(var t=[],r=0,o=e.length;r<o;){var i=p(e,r++);if(i>=55296&&i<=56319&&r<o){var n=p(e,r++);56320==(64512&n)?f(t,((1023&i)<<10)+(1023&n)+65536):(f(t,i),r--)}else f(t,i)}return t}(e)).length,n=128,a=0,u=72;for(t=0;t<e.length;t++)(r=e[t])<128&&f(o,d(r));var g=o.length,_=g;for(g&&f(o,"-");_<i;){var m=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=n&&r<m&&(m=r);var b=_+1;if(m-n>l((2147483647-a)/b))throw c(s);for(a+=(m-n)*b,n=m,t=0;t<e.length;t++){if((r=e[t])<n&&++a>2147483647)throw c(s);if(r==n){for(var w=a,S=36;;){var I=S<=u?1:S>=u+26?26:S-u;if(w<I)break;var x=w-I,O=36-I;f(o,d(y(I+x%O))),w=l(x/O),S+=36}f(o,d(y(w))),u=v(a,b,_==g),a=0,_++}}a++,n++}return h(o,"")};e.exports=function(e){var t,r,o=[],i=_(g(m(e),a,"."),".");for(t=0;t<i.length;t++)r=i[t],f(o,u(n,r)?"xn--"+b(r):r);return h(o,".")}},function(e,t,r){var o;e.exports=(o=r(50),function(e){var t=o,r=t.lib,i=r.WordArray,n=r.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var o=t+r,i=e[o];e[o]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var n=this._hash.words,a=e[t+0],c=e[t+1],h=e[t+2],f=e[t+3],g=e[t+4],_=e[t+5],m=e[t+6],y=e[t+7],v=e[t+8],b=e[t+9],w=e[t+10],S=e[t+11],I=e[t+12],x=e[t+13],O=e[t+14],E=e[t+15],P=n[0],k=n[1],D=n[2],T=n[3];P=u(P,k,D,T,a,7,s[0]),T=u(T,P,k,D,c,12,s[1]),D=u(D,T,P,k,h,17,s[2]),k=u(k,D,T,P,f,22,s[3]),P=u(P,k,D,T,g,7,s[4]),T=u(T,P,k,D,_,12,s[5]),D=u(D,T,P,k,m,17,s[6]),k=u(k,D,T,P,y,22,s[7]),P=u(P,k,D,T,v,7,s[8]),T=u(T,P,k,D,b,12,s[9]),D=u(D,T,P,k,w,17,s[10]),k=u(k,D,T,P,S,22,s[11]),P=u(P,k,D,T,I,7,s[12]),T=u(T,P,k,D,x,12,s[13]),D=u(D,T,P,k,O,17,s[14]),P=l(P,k=u(k,D,T,P,E,22,s[15]),D,T,c,5,s[16]),T=l(T,P,k,D,m,9,s[17]),D=l(D,T,P,k,S,14,s[18]),k=l(k,D,T,P,a,20,s[19]),P=l(P,k,D,T,_,5,s[20]),T=l(T,P,k,D,w,9,s[21]),D=l(D,T,P,k,E,14,s[22]),k=l(k,D,T,P,g,20,s[23]),P=l(P,k,D,T,b,5,s[24]),T=l(T,P,k,D,O,9,s[25]),D=l(D,T,P,k,f,14,s[26]),k=l(k,D,T,P,v,20,s[27]),P=l(P,k,D,T,x,5,s[28]),T=l(T,P,k,D,h,9,s[29]),D=l(D,T,P,k,y,14,s[30]),P=d(P,k=l(k,D,T,P,I,20,s[31]),D,T,_,4,s[32]),T=d(T,P,k,D,v,11,s[33]),D=d(D,T,P,k,S,16,s[34]),k=d(k,D,T,P,O,23,s[35]),P=d(P,k,D,T,c,4,s[36]),T=d(T,P,k,D,g,11,s[37]),D=d(D,T,P,k,y,16,s[38]),k=d(k,D,T,P,w,23,s[39]),P=d(P,k,D,T,x,4,s[40]),T=d(T,P,k,D,a,11,s[41]),D=d(D,T,P,k,f,16,s[42]),k=d(k,D,T,P,m,23,s[43]),P=d(P,k,D,T,b,4,s[44]),T=d(T,P,k,D,I,11,s[45]),D=d(D,T,P,k,E,16,s[46]),P=p(P,k=d(k,D,T,P,h,23,s[47]),D,T,a,6,s[48]),T=p(T,P,k,D,y,10,s[49]),D=p(D,T,P,k,O,15,s[50]),k=p(k,D,T,P,_,21,s[51]),P=p(P,k,D,T,I,6,s[52]),T=p(T,P,k,D,f,10,s[53]),D=p(D,T,P,k,w,15,s[54]),k=p(k,D,T,P,c,21,s[55]),P=p(P,k,D,T,v,6,s[56]),T=p(T,P,k,D,E,10,s[57]),D=p(D,T,P,k,m,15,s[58]),k=p(k,D,T,P,x,21,s[59]),P=p(P,k,D,T,g,6,s[60]),T=p(T,P,k,D,S,10,s[61]),D=p(D,T,P,k,h,15,s[62]),k=p(k,D,T,P,b,21,s[63]),n[0]=n[0]+P|0,n[1]=n[1]+k|0,n[2]=n[2]+D|0,n[3]=n[3]+T|0},_doFinalize:function(){var t=this._data,r=t.words,o=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var n=e.floor(o/4294967296),a=o;r[15+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,o,i,n,a){var s=e+(t&r|~t&o)+i+a;return(s<<n|s>>>32-n)+t}function l(e,t,r,o,i,n,a){var s=e+(t&o|r&~o)+i+a;return(s<<n|s>>>32-n)+t}function d(e,t,r,o,i,n,a){var s=e+(t^r^o)+i+a;return(s<<n|s>>>32-n)+t}function p(e,t,r,o,i,n,a){var s=e+(r^(t|~o))+i+a;return(s<<n|s>>>32-n)+t}t.MD5=n._createHelper(c),t.HmacMD5=n._createHmacHelper(c)}(Math),o.MD5)},function(e,t,r){var o=r(8),i=r(356).values;o({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,r){var o=r(7),i=r(44),n=r(23),a=/"/g,s=o("".replace);e.exports=function(e,t,r,o){var c=n(i(e)),u="<"+t;return""!==r&&(u+=" "+r+'="'+s(n(o),a,"&quot;")+'"'),u+">"+c+"</"+t+">"}},function(e,t,r){var o=r(9);e.exports=function(e){return o((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,r){var o=r(8),i=r(213);o({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(e,t,r){"use strict";e.exports=d;var o,i=r(172),n=i.LongBits,a=i.base64,s=i.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var p=function(){return i.Buffer?function(){return(d.create=function(){return new o})()}:function(){return new d}};function h(e,t,r){t[r]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function _(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=p(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},f.prototype=Object.create(c.prototype),f.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,n.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=n.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=n.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(_,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=n.from(e);return this._push(_,4,t.lo)._push(_,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var o=0;o<e.length;++o)t[r+o]=e[o]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var r=d.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){o=e,d.create=p(),o._configure()}},function(e,t,r){"use strict";e.exports=c;var o,i=r(172),n=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new o(e):l(e)})(e)}:l};function p(){var e=new n(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new n(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){o=e,c.create=d(),o._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},function(e,t,r){var o;!function(){"use strict";function i(e,t,r){var o=t.x,i=t.y,n=r.x-o,a=r.y-i;if(0!==n||0!==a){var s=((e.x-o)*n+(e.y-i)*a)/(n*n+a*a);s>1?(o=r.x,i=r.y):s>0&&(o+=n*s,i+=a*s)}return(n=e.x-o)*n+(a=e.y-i)*a}function n(e,t){var r=e.length-1,o=[e[0]];return function e(t,r,o,n,a){for(var s,c=n,u=r+1;u<o;u++){var l=i(t[u],t[r],t[o]);l>c&&(s=u,c=l)}c>n&&(s-r>1&&e(t,r,s,n,a),a.push(t[s]),o-s>1&&e(t,s,o,n,a))}(e,0,r,t,o),o.push(e[r]),o}function a(e,t,r){if(e.length<=2)return e;var o=void 0!==t?t*t:1;return e=n(e=r?e:function(e,t){for(var r,o,i,n,a,s=e[0],c=[s],u=1,l=e.length;u<l;u++)r=e[u],i=s,n=void 0,a=void 0,n=(o=r).x-i.x,a=o.y-i.y,n*n+a*a>t&&(c.push(r),s=r);return s!==r&&c.push(r),c}(e,o),o)}void 0===(o=function(){return a}.call(t,r,t,e))||(e.exports=o)}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return z}));r(30),r(59),r(82),r(83),r(84),r(38),r(49),r(67),r(79),r(52),r(53),r(342),r(106),r(113),r(268),r(111),r(208),r(227),r(46),r(80),r(61),r(357),r(335),r(45),r(258),r(99),r(75),r(96),r(206),r(207),r(60),r(170);var o=r(3),i=r(5),n=r(10),a=(r(204),r(209),r(205),r(72),r(130),r(131),r(171),r(120),r(192),r(115),r(261),r(6)),s=r(0),c=r(1),u=function(){return(u=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=function(){function e(e){var t=this;this.bindFlag=!1,this.authFlag=!0,this.laserInfo={hiddenX:-100,hiddenY:-100,initX:0,initY:0,touchLeaveRect:{left:0,top:0,right:0,bottom:0}},this.mousemoveHandle=function(e){if(t.toolInstance.enableDraw){if(!t.toolInstance.getUserAuth().create)return t.authFlag&&Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic),void(t.authFlag=!1);if(window.TouchEvent&&e instanceof TouchEvent&&e.preventDefault(),t.laserInfo.touchLeaveRect.right||(t.laserInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect()),t.toolInstance.isTouchLeaveWhenMove(e,t.laserInfo.touchLeaveRect))t.mouseleaveHandle();else{t.toolInstance.updateOffsetAndScrollHandle();var r=t.getMouseChangedPoint(e),o=t.addLaserHandle(void 0,r);o.x=r.clientX,o.y=r.clientY,o.is_end_draw=!0,o.operate_id=Object(a.d)(),t.drawGraphicsHandle(o,!0),t.toolInstance.updateToRemoteNewHandle([t.calLaserActualPlaceHandle(o)],s.a.Move)}}},this.mouseleaveHandle=function(){t.authFlag=!0,t.laserHiddenHandle(),c.a.getInstance().info(["Whiteboard_View"],"Laser.mouseleaveHandle")},this.wheelHandle=function(e){var r;e.preventDefault();var i=t.toolInstance.whiteboardID,n=o.a.reservedPrefix.whiteboard,a=null===(r=document.querySelector("#"+n+i))||void 0===r?void 0:r.parentNode,s=a.getBoundingClientRect(),c=s.width;s.height!==a.scrollHeight&&(a.scrollTop+=Number(e.deltaY.toFixed(7))),c!==a.scrollWidth&&(a.scrollLeft+=Number(e.deltaX.toFixed(7)))},this.toolInstance=e,this.laserContainerNode=this.addLaserConDomHandle(),this.updateZIndexHandle(-1)}return e.prototype.transLocationHandle=function(e){var t=e.clientX,r=e.clientY,o=this.toolInstance,i=o.offsetData,n=o.scrollData,a=i.offsetLeft,s=i.offsetTop,c=n.scrollTop,u=n.scrollLeft,l=this.toolInstance.conNode,d=l.scrollLeft,p=l.scrollTop;return{clientX:Math.round(t-a+u-d),clientY:Math.round(r-s+c-p)}},e.prototype.getMouseChangedPoint=function(e){var t;if(e instanceof MouseEvent){var r=e,o=r.clientX,i=r.clientY;t=this.transLocationHandle({clientX:o,clientY:i})}else{var n=e.changedTouches[0];o=n.clientX,i=n.clientY;t=this.transLocationHandle({clientX:o,clientY:i})}return t},e.prototype.laserHiddenHandle=function(e){var t=this.findLaserHandle(e);if(t){var r=this.laserInfo,o=r.hiddenX,i=r.hiddenY;Object.assign(t,{x:o,y:i,px:0,py:0}),this.toolInstance.moveGraphicsHandle(t.graphic_id,o,i),e||(t.is_end_draw=!0,t.operate_id=Object(a.d)(),this.toolInstance.updateToRemoteNewHandle([t],s.a.Move)),c.a.getInstance().info(["Whiteboard_View"],"Laser.laserHiddenHandle",e)}},e.prototype.addLaserHandle=function(e,t){var r=this.toolInstance.graphicList;if(!e){var i=this.findLaserHandle();if(i)return i;var n=this.laserInfo,c=n.initX,l=n.initY,d=n.hiddenX,p=n.hiddenY;e=u(u({graphic_id:Object(a.d)(),creator_id:this.toolInstance.getUserID()},o.a.basicState),{type:s.f.Laser,x:d,y:p,px:0,py:0,data:[c,l],zorder:this.toolInstance.serviceHandle.createZorder()})}return(e=e).operate_id=Object(a.d)(),e.is_end_draw=!0,r.push(e),this.drawGraphicsHandle(e,!0),this.toolInstance.updateToRemoteNewHandle([this.calLaserActualPlaceHandle(e)],s.a.Create),e},e.prototype.findLaserHandle=function(e){var t=this.toolInstance.getUserID();return this.toolInstance.graphicList.find((function(r){return e?r.graphic_id===e:r.type===s.f.Laser&&r.creator_id===t}))},e.prototype.addLaserConDomHandle=function(){var e=this.toolInstance.whiteboardID,t=""+o.a.reservedPrefix.laserContainer+e,r=this.toolInstance.userNode.querySelector("#"+t);return r||((r=document.createElement("div")).id=t,this.toolInstance.zoomNode.appendChild(r),this.updateLaserConSize(r),r)},e.prototype.updateZIndexHandle=function(e){this.laserContainerNode.style.zIndex=""+e,this.laserContainerNode.style.visibility=-1===e?"hidden":"visible"},e.prototype.drawGraphicsHandle=function(e,t){var r=this.toolInstance.getUserID(),i=e.graphic_id,n=e.data,a=e.creator_id,u=e.x,l=e.y;if(a===r&&!t){t=!0;var d=this.calLaserPlaceHandle(u,l),p=d.x,h=d.y;e.x=p,e.y=h,u=p,l=h}var f=o.a.reservedPrefix,g=""+f.graphics+i,_=""+f.laserCon+i,m=this.toolInstance.userNode.querySelector("#"+g);if(!m){m=document.createElement("div");var y=document.createElement("div");m.id=g,y.id=_,y.appendChild(m),t?this.laserContainerNode.appendChild(y):this.toolInstance.appendGraphicsDomHandle(y,s.f.Laser)}var v="transform:translate("+(u||0)+"px, "+(l||0)+"px)"+(t?";":"scale("+1/this.toolInstance.viewInfo.zoom+");")+"left:"+n[0]+"px;top:"+n[1]+"px;";m.parentNode.style.cssText=v,c.a.getInstance().info(["Whiteboard_View"],"Laser.drawGraphicsHandle",JSON.stringify({protoGraphic:e,local:t,x:u,y:l}))},e.prototype.bindEventsHandle=function(){if(this.updateZIndexHandle("initial"),!this.bindFlag){this.bindFlag=!0;var e=o.a.mouseEvents;this.toolInstance.toolAddEL(this.laserContainerNode,e.move,this.mousemoveHandle),this.toolInstance.toolAddEL(this.laserContainerNode,e.leave,this.mouseleaveHandle),this.toolInstance.viewInfo.isScroll&&this.laserContainerNode.addEventListener("wheel",this.wheelHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1,this.updateZIndexHandle(-1);var e=o.a.mouseEvents;this.toolInstance.toolRmEl(this.laserContainerNode,e.move,this.mousemoveHandle),this.toolInstance.toolRmEl(this.laserContainerNode,e.leave,this.mouseleaveHandle),this.laserContainerNode.removeEventListener("wheel",this.wheelHandle)}},e.prototype.calLaserActualPlaceHandle=function(e){var t=(e=JSON.parse(JSON.stringify(e))).x,r=e.y,o=this.toolInstance.viewInfo,i=o.zoom,n=o.zoomTX,a=o.zoomTY,s=o.offsetPageX,c=o.offsetPageY,u=this.toolInstance.conNode,l=u.scrollLeft,d=u.scrollTop;return e.x=Math.round((t+8+l-n)/i+s),e.y=Math.round((r+8+d-a)/i+c),e},e.prototype.calLaserPlaceHandle=function(e,t){var r=this.toolInstance.viewInfo,o=r.zoom,i=r.zoomTX,n=r.zoomTY,a=r.offsetPageX,s=r.offsetPageY,c=this.toolInstance.conNode,u=c.scrollLeft,l=c.scrollTop;return{x:e=Math.round((e-a)*o+i-u),y:t=Math.round((t-s)*o+n-l)}},e.prototype.pushActualPlaceHandle=function(){var e=this.findLaserHandle();e&&(this.toolInstance.updateOffsetAndScrollHandle(),e.is_end_draw=!0,e.operate_id=Object(a.d)(),c.a.getInstance().info(["Whiteboard_View"],"Laser.pushActualPlaceHandle",JSON.stringify({laserData:[this.calLaserActualPlaceHandle(e)],Action:"Move"})),this.toolInstance.updateToRemoteNewHandle([this.calLaserActualPlaceHandle(e)],s.a.Move))},e.prototype.clearLaserHandle=function(e){var t;(t=e?this.toolInstance.graphicList.filter((function(t){return t.creator_id===e}))[0]:this.findLaserHandle())&&(t.is_end_draw=!0,t.operate_id=Object(a.d)(),this.toolInstance.deleteHandle(t.graphic_id),this.toolInstance.updateToRemoteNewHandle([t],s.a.Delete))},e.prototype.updateLaserConSize=function(e){var t,r="z-index:"+((e=e||this.laserContainerNode).style.zIndex||"initial")+";",i=this.toolInstance.whiteboardID,n=o.a.reservedPrefix.whiteboard,a=null===(t=document.querySelector("#"+n+i))||void 0===t?void 0:t.parentNode;if(this.toolInstance.viewInfo.isScroll){var s=a.getBoundingClientRect(),c=s.width;(u=s.height)!==a.scrollHeight&&(r+="width:"+(c-18)+"px;"),c!==a.scrollWidth&&(r+="height:"+(u-18)+"px;")}else{var u,l=a.getBoundingClientRect();r+="width:"+(c=l.width)+"px;",r+="height:"+(u=l.height)+"px;",r+="top:"+a.style.top+";left:"+a.style.left}e.style.cssText=r},e}(),d=function(){return(d=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},p=function(){function e(e){var t=this;this.bindFlag=!1,this.tolerance=1,this.isIos11=navigator.userAgent.includes("iPhone")&&navigator.userAgent.includes("11_4_1"),this.upSwitch=!1,this.mouseInfo={moveCount:0,moveTaskId:0,touchLeaveRect:{left:0,top:0,right:0,bottom:0},isHandWriting:!1,handWritingTimer:0,handWritingLastPoint:null,handWritingLastSize:null},this.mousedownHandle=function(e){if(t.toolInstance.enableDraw)if(t.toolInstance.getUserAuth().create){if(t.toolInstance.downCommonHandle(e)){t.upSwitch=!0,o.a.svgPath.tops.length=0,o.a.svgPath.bottoms.length=0,t.mouseInfo.isHandWriting=JSON.parse(o.a.basicState.attributes).stroke;var r=t.mouseInfo.isHandWriting&&o.a.basicState.type==s.k.ZegoWhiteboardViewToolPen,i=t.toolInstance.getMouseStartPoint(e,r),c=i.clientX,u=i.clientY,l=t.toolInstance.whiteboardNode;t.mouseInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect();var p=o.a.basicExtraState.customImage.url,h=o.a.basicState.type===s.k.ZegoWhitebaordViewToolCustomImage&&p?s.f.Image:o.a.basicState.type,f=h===s.f.Image?{x:c,y:u,ex:0,ey:0,url:p,hash:""}:[c,u],g=Object(a.d)();t.toolInstance.updateMousePointsHandle(c,u),t.toolInstance.updateProtoGraphic(d(d({creator_id:t.toolInstance.getUserID(),graphic_id:g,operate_id:g,is_end_draw:!1},o.a.basicState),{type:h,x:0,y:0,px:0,py:0,data:f,zorder:t.toolInstance.serviceHandle.createZorder()})),h===s.k.ZegoWhiteboardViewToolPen&&(t.toolInstance.protoGraphic.oldData=[c,u]),t.realTimeStartHandle(),t.mouseInfo.moveCount=0,t.mouseInfo.moveTaskId=0,t.toolInstance.toolAddEL(l,o.a.mouseEvents.move,t.mousemoveHandle)}}else Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic)},this.mousemoveHandle=function(e){if(!(window.TouchEvent&&e instanceof TouchEvent)||t.toolInstance.downCommonHandle(e))if(t.toolInstance.isTouchLeaveWhenMove(e,t.mouseInfo.touchLeaveRect))t.mouseupHandle();else{var r=t.toolInstance.protoGraphic;t.mouseInfo.isHandWriting?t.drawGraphicsHandWritingHandle(r,e):t.drawGraphicsPathHandle(r,e)}},this.mouseupHandle=function(){t.mouseInfo.handWritingTimer&&(clearTimeout(t.mouseInfo.handWritingTimer),t.mouseInfo.handWritingTimer=0);var e=t.toolInstance,r=e.protoGraphic,i=e.graphicList,c=e.whiteboardNode;if(r&&r.graphic_id&&t.upSwitch){t.toolInstance.toolRmEl(c,o.a.mouseEvents.move,t.mousemoveHandle),t.upSwitch=!1,t.mouseInfo.moveCount=0,t.mouseInfo.moveTaskId=0,t.drawGraphicsExceptionHandle(r);var u=r.graphic_id,l=r.type;if(t.toolInstance.updateBoxHandle(r)){if(l===s.f.Pencil){var p=t.toolInstance.getGraphicsHandle(u);if(!p)return;var h=r.oldData;if(r.data=h.slice(),t.mouseInfo.isHandWriting)t.drawGraphicsPencilSegment(r,s.e.Local);else Object(a.h)(p)[0].setAttribute("d",Object(a.n)(s.f.Pencil,r.data))}else if(l===s.f.Image){var f=(h=r.data).x,g=h.y,_=h.ex,m=h.ey,y=t.toolInstance.getUserAuth().create;if(f===_||g===m||!y){t.toolInstance.deleteHandle(r.graphic_id),t.toolInstance.initDrawHandle();var v=s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic;return void(!y&&Object(n.a)(v))}t.checkImageRect(h),r.initX=h.x,r.initY=h.y,r.oldData=d({},h)}r.is_end_draw=!0;var b=JSON.parse(JSON.stringify(r)),w=r.data;if(t.mouseInfo.isHandWriting&&4===w.length&&l===s.f.Pencil&&r.is_end_draw)return t.toolInstance.deleteHandle(r.graphic_id),void t.toolInstance.updateToRemoteNewHandle([r],s.a.Delete);if(l===s.f.Pencil&&2===w.length||4===w.length&&w[0]==w[2]&&w[1]==w[3])return t.toolInstance.deleteHandle(r.graphic_id),void t.toolInstance.updateToRemoteNewHandle([r],s.a.Delete);t.toolInstance.setGraphicsDomZorder(b),i.push(b),t.realTimeEndHandle()}else l!==s.f.Image&&(r.is_end_draw=!0,t.realTimeEndHandle());t.toolInstance.initDrawHandle()}},this.toolInstance=e,this.tolerance=this.toolInstance.serviceHandle.isElectron?.3:1}return e.prototype.drawGraphicsExceptionHandle=function(e){var t=e.type,r=e.data;t!==s.f.Image&&r.length<4&&(r[2]=r[0]+1,r[3]=r[1]+1,this.drawGraphicsHandle(e,s.e.Local))},e.prototype.isMouseMoveWithNoKeydown=function(e,t){return t instanceof MouseEvent&&!t.buttons&&(this.toolInstance.toolRmEl(this.toolInstance.whiteboardNode,o.a.mouseEvents.move,this.mousemoveHandle),this.toolInstance.deleteHandle(e),this.toolInstance.initDrawHandle(),!0)},e.prototype.catchMouseMoveException=function(){var e=this;this.mouseInfo.moveTaskId||(this.mouseInfo.moveTaskId=window.setTimeout((function(){if(e.mouseInfo.moveCount<5){var t=e.toolInstance.userNode.querySelector("#zego-whiteboard-input");t||((t=document.createElement("input")).id="zego-whiteboard-input",t.tabIndex=-1,e.toolInstance.userNode.insertBefore(t,e.toolInstance.userNode.firstChild)),t.focus()}}),200)),this.mouseInfo.moveCount++},e.prototype.realTimeStartHandle=function(){var e=this.toolInstance.protoGraphic;e.type!==s.f.Image&&this.toolInstance.updateToRemoteNewHandle([e],s.a.Create)},e.prototype.realTimeDrawHandle=function(){var e=this.toolInstance.protoGraphic;e.type!==s.f.Image&&(e.type===s.f.Pencil?this.mouseInfo.isHandWriting?this.realTimeHandWrittingSend(e):this.readlTimeNormalSend(e):this.toolInstance.updateToRemoteNewHandle([e],s.a.Update))},e.prototype.realTimeEndHandle=function(){var e=this.toolInstance.protoGraphic,t=e.type===s.f.Image?s.a.Create:s.a.Update;this.toolInstance.updateToRemoteNewHandle([e],t)},e.prototype.appendPath=function(e,t){var r,o=this;if(t.length){var i=JSON.parse(JSON.stringify(e));i.data=t,(r=e.oldData).push.apply(r,t),this.toolInstance.serviceHandle.isAppendPathLimit(this.toolInstance.whiteboardID,e).then((function(r){r?(e.oldData.splice(i.oldData.length,t.length),o.mouseupHandle()):o.upSwitch&&o.toolInstance.updateToRemoteNewHandle([i],s.a.Append)}))}},e.prototype.readlTimeNormalSend=function(e){var t=o.a.realTimeState.localDrawCount,r=e.data;if(r.length%t==2){var i=Object(a.r)(r.slice(r.length-t),this.tolerance);this.appendPath(e,i)}},e.prototype.realTimeHandWrittingSend=function(e){var t=e.data,r=t.slice(e.oldData.length,t.length);this.appendPath(e,r)},e.prototype.drawGraphicsHandWritingHandle=function(e,t){var r=this;this.mouseInfo.handWritingTimer||(this.mouseInfo.handWritingTimer=window.setTimeout((function(){r.drawGraphicsPathHandle(e,t),clearTimeout(r.mouseInfo.handWritingTimer),r.mouseInfo.handWritingTimer=0}),o.a.handWritingFactor.step))},e.prototype.drawGraphicsPathHandle=function(e,t){var r=this.mouseInfo.isHandWriting&&e.type==s.f.Pencil,o=this.toolInstance.getMouseChangedPoint(t,r);this.toolInstance.updateGraphicsDataHandle(o);var i=e.type===s.f.Image?s.o.ZegoWhiteboardViewImageCustom:void 0;this.realTimeDrawHandle(),this.drawGraphicsHandle(e,s.e.Local,i)},e.prototype.isHandWriting=function(e,t){return t==s.e.Local?this.mouseInfo.isHandWriting:e.attributes.length>0&&JSON.parse(Object(a.g)(e.attributes)).stroke},e.prototype.bindEventsHandle=function(){var e=this;if(!this.bindFlag){this.bindFlag=!0;var t=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(t,o.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolAddEL(t,o.a.mouseEvents.up,(function(){o.a.basicState.type!=s.k.ZegoWhiteboardViewToolSelector&&(o.a.basicState.type==s.k.ZegoWhiteboardViewToolPen?window.setTimeout((function(){e.mouseupHandle()}),20):e.mouseupHandle())})),this.toolInstance.toolAddEL(t,o.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,o.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolRmEl(e,o.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolRmEl(e,o.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.drawGraphicsHandle=function(e,t,r){switch(e.type){case s.f.Pencil:case s.f.RealTime:this.isHandWriting(e,t)?this.drawGraphicsPencilSegment(e,t):this.drawGraphicsPath(e,t);break;case s.f.Line:this.drawGraphicsLine(e,t);break;case s.f.Ellipse:this.drawGraphicsEllipse(e,t);break;case s.f.Rect:this.drawGraphicsRect(e,t);break;case s.f.Image:r===s.o.ZegoWhiteboardViewImageCustom?this.drawLocalCustomImage(e):this.drawReomteGraphicImage(e)}},e.prototype.updateGraphicsHandle=function(e){switch(e.type){case s.f.Pencil:this.isHandWriting(e,s.e.Remote)?this.drawGraphicsPencilSegment(e,s.e.Remote):this.drawGraphicsPath(e,s.e.Remote);break;case s.f.Line:this.drawGraphicsLine(e,s.e.Remote);break;case s.f.Ellipse:this.drawGraphicsEllipse(e,s.e.Remote);break;case s.f.Rect:this.drawGraphicsRect(e,s.e.Remote);break;case s.f.Image:this.updateGraphicsImage(e)}},e.prototype.drawGraphicsLine=function(e,t,r,i,n,c){void 0===r&&(r="none"),void 0===i&&(i=1),void 0===n&&(n="round"),void 0===c&&(c="round");var u=e.data,l=e.graphic_id,d=e.color,p=e.x,h=e.y,f=Object(a.n)(s.f.Line,u),g=f.x1,_=f.y1,m=f.x2,y=f.y2,v=""+o.a.reservedPrefix.graphicsSvg+l,b=""+o.a.reservedPrefix.graphics+l,w=Object(a.e)(v,b,"line",e.zorder);w[1]&&this.toolInstance.appendGraphicsDomHandle(w[1],s.f.Line),this.toolInstance.triggerAnimateHandle(w[0],t),Object(a.q)(w[0],[{attr:"fill",value:r},{attr:"opacity",value:i},{attr:"stroke",value:d},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:n},{attr:"stroke-linecap",value:c},{attr:"x1",value:g},{attr:"y1",value:_},{attr:"x2",value:m},{attr:"y2",value:y},{attr:"transform",value:"translate("+(p||0)+", "+(h||0)+")"}])},e.prototype.drawGraphicsRect=function(e,t,r,i,n,c){void 0===r&&(r="none"),void 0===i&&(i=1),void 0===n&&(n="round"),void 0===c&&(c="round");var u=e.data,l=e.graphic_id,d=e.color,p=e.x,h=e.y,f=Object(a.n)(s.f.Rect,u),g=f.width,_=f.height,m=f.x,y=f.y,v=""+o.a.reservedPrefix.graphicsSvg+l,b=""+o.a.reservedPrefix.graphics+l,w=Object(a.e)(v,b,"rect",e.zorder);w[1]&&this.toolInstance.appendGraphicsDomHandle(w[1],s.f.Rect),this.toolInstance.triggerAnimateHandle(w[0],t),Object(a.q)(w[0],[{attr:"fill",value:r},{attr:"opacity",value:i},{attr:"stroke",value:d},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:n},{attr:"stroke-linecap",value:c},{attr:"width",value:g},{attr:"height",value:_},{attr:"x",value:m},{attr:"y",value:y},{attr:"transform",value:"translate("+(p||0)+", "+(h||0)+")"}])},e.prototype.drawGraphicsPath=function(e,t,r,i,n){void 0===r&&(r="none"),void 0===i&&(i="round"),void 0===n&&(n="round");var c=t===s.e.Local?e.oldData:e.data;if(c&&c.length){var u=e.color,l=e.graphic_id,d=e.x,p=e.y,h=(e.is_end_draw,Object(a.n)(s.f.Pencil,c)),f=""+o.a.reservedPrefix.graphicsSvg+l,g=""+o.a.reservedPrefix.graphics+l,_=Object(a.e)(f,g,"path",e.zorder);_[1]&&this.toolInstance.appendGraphicsDomHandle(_[1],s.f.Pencil),this.toolInstance.triggerAnimateHandle(_[0],t),Object(a.q)(_[0],[{attr:"fill",value:r},{attr:"d",value:h},{attr:"stroke",value:u},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:i},{attr:"stroke-linecap",value:n},{attr:"transform",value:"translate("+(d||0)+", "+(p||0)+")"}])}},e.prototype.drawGraphicsPencilSegment=function(e,t){var r=e.color,i=e.graphic_id,n=e.x,c=e.y,u=e.is_end_draw,l=this.toolInstance.viewInfo.viewWidth,d=Object(a.o)(e,this.getSize(e,t),l),p=""+o.a.reservedPrefix.graphicsSvg+i,h=""+o.a.reservedPrefix.graphics+i,f=Object(a.e)(p,h,"path",e.zorder);f[1]&&this.toolInstance.appendGraphicsDomHandle(f[1],s.f.Pencil),this.toolInstance.triggerAnimateHandle(f[0],t),(null==d?void 0:d.includes("M"))&&Object(a.q)(f[0],[{attr:"fill",value:r},{attr:"d",value:d},{attr:"stroke-width",value:0},{attr:"transform",value:"translate("+(n||0)+", "+(c||0)+")"}]),u&&(o.a.svgPath.tops.length=0,o.a.svgPath.bottoms.length=0)},e.prototype.drawGraphicsEllipse=function(e,t,r,i,n,c){void 0===r&&(r="none"),void 0===i&&(i=1),void 0===n&&(n="round"),void 0===c&&(c="round");var u=e.color,l=e.data,d=e.graphic_id,p=e.x,h=e.y,f=Object(a.n)(s.f.Ellipse,l),g=f.cx,_=f.cy,m=f.rx,y=f.ry,v=""+o.a.reservedPrefix.graphicsSvg+d,b=""+o.a.reservedPrefix.graphics+d,w=Object(a.e)(v,b,"ellipse",e.zorder);w[1]&&this.toolInstance.appendGraphicsDomHandle(w[1],s.f.Ellipse),this.toolInstance.triggerAnimateHandle(w[0],t),Object(a.q)(w[0],[{attr:"fill",value:r},{attr:"opacity",value:i},{attr:"stroke",value:u},{attr:"stroke-width",value:this.getSize(e,t)},{attr:"stroke-linejoin",value:n},{attr:"stroke-linecap",value:c},{attr:"cx",value:g},{attr:"cy",value:_},{attr:"rx",value:m},{attr:"ry",value:y},{attr:"transform",value:"translate("+(p||0)+", "+(h||0)+")"}])},e.prototype.drawLocalGraphicImage=function(e,t,r){var i=this;return new Promise((function(c,u){if(!i.toolInstance.getUserAuth().create)return u(Object(n.b)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic));var l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=function(){var n=i.toolInstance.graphicList,u=i.getScaleRect(l.width,l.height),p=u.width,h=u.height,f={x:t,y:r,ex:t+p,ey:r+h,url:e,hash:""},g=Object(a.d)(),_=i.toolInstance.serviceHandle.createZorder(),m=""+o.a.reservedPrefix.graphicsSvg+g,y=""+o.a.reservedPrefix.graphics+g,v=Object(a.e)(m,y,"image",_);if(v[1]&&i.toolInstance.appendGraphicsDomHandle(v[1],s.f.Image),Object(a.q)(v[0],[{attr:"width",value:p},{attr:"height",value:h},{attr:"crossorigin",value:"anonymous"},{attr:"href",value:e},{attr:"transform",value:"translate("+t+", "+r+")"}]),i.isIos11&&v[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),i.toolInstance.updateProtoGraphic(d(d({creator_id:i.toolInstance.getUserID(),graphic_id:g,operate_id:g,is_end_draw:!0},o.a.basicState),{type:s.f.Image,x:0,y:0,px:0,py:0,initX:t,initY:r,data:f,oldData:d({},f),zorder:_})),i.toolInstance.updateOffsetAndScrollHandle(),i.toolInstance.updateBoxHandle(i.toolInstance.protoGraphic)){var b=JSON.parse(JSON.stringify(i.toolInstance.protoGraphic));b.is_end_draw=!0,n.push(b),i.toolInstance.updateToRemoteNewHandle([b],s.a.Create)}i.toolInstance.initDrawHandle(),c(e)},l.onerror=u,l.src=e}))},e.prototype.drawLocalCustomImage=function(e){var t=e.graphic_id,r=o.a.basicExtraState.customImage,i=r.w,n=r.h,c=e.data,u=c.x,l=c.y,d=c.ex,p=c.ey,h=c.url,f=""+o.a.reservedPrefix.graphicsSvg+t,g=""+o.a.reservedPrefix.graphics+t,_=Object(a.e)(f,g,"image",e.zorder);_[1]&&this.toolInstance.appendGraphicsDomHandle(_[1],s.f.Image);var m=Number((Math.abs(d-u)/i).toFixed(7)),y=Number((Math.abs(p-l)/n).toFixed(7));Object(a.q)(_[0],[{attr:"width",value:i},{attr:"height",value:n},{attr:"crossorigin",value:"anonymous"},{attr:"href",value:h},{attr:"transform",value:"translate("+Math.min(u,d)+", "+Math.min(l,p)+") scale("+m+", "+y+")"}]),this.isIos11&&_[0].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h)},e.prototype.drawReomteGraphicImage=function(e){var t=this,r=e.graphic_id,o=e.zorder,i=e.data;this.checkImageRect(i);var n=i.x,s=i.y,c=i.ex,u=i.ey,l=i.url;this.toolInstance.appendImageDomHandle(r,o);var d=new Image;d.setAttribute("crossOrigin","anonymous"),d.onload=function(){var o=t.toolInstance.getImageDomHandle(r),i=o[0],p=o[1];if(i&&p){var h=t.getScaleRect(d.width,d.height),f=h.width,g=h.height,_=Number(((c-n)/f).toFixed(7)),m=Number(((u-s)/g).toFixed(7));Object(a.q)(i,[{attr:"width",value:f},{attr:"height",value:g},{attr:"crossorigin",value:"anonymous"},{attr:"href",value:l},{attr:"transform",value:"translate("+n+", "+s+") scale("+_+", "+m+")"}]),t.isIos11&&i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);var y=t.toolInstance.getBoxInfoByGraphic(e);if(y){var v=y.x,b=y.y,w=y.width,S=y.height;p.style.cssText+="width:"+w+"px;height:"+S+"px;left:"+v+"px;top:"+b+"px;"}}},d.src=l},e.prototype.updateGraphicsImage=function(e){var t=e.graphic_id,r=e.data;this.checkImageRect(r);var i=r.x,n=r.y,s=r.ex,c=r.ey,u=""+o.a.reservedPrefix.graphicsSvg+t,l=""+o.a.reservedPrefix.graphics+t,d=Object(a.e)(u,l,"image",e.zorder)[0];if(d){var p=+d.getAttribute("width"),h=+d.getAttribute("height"),f=Number(((s-i)/p).toFixed(7)),g=Number(((c-n)/h).toFixed(7));d.setAttribute("transform","translate("+i+", "+n+") scale("+f+", "+g+")")}},e.prototype.checkImageRect=function(e){var t=e.x,r=e.y,o=e.ex,i=e.ey;t>o&&(e.x=o,e.ex=t),r>i&&(e.y=i,e.ey=r)},e.prototype.getScaleRect=function(e,t){var r=this.toolInstance.viewInfo,o=r.viewWidth,i=r.viewHeight;if(e>o||t>i){var n=Math.min(o/e,i/t);e=e*n|0,t=t*n|0}return{width:e,height:t}},e.prototype.getSize=function(e,t){return t===s.e.Local?o.a.basicExtraState.drawSize:Object(a.c)(e.size,e.type,this.toolInstance.viewInfo.viewWidth,!1)},e}(),h=(r(331),r(332),function(){return(h=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}),f=function(){function e(e){var t=this;this.bindFlag=!1,this.canCreate=!0,this.chInput=!1,this.allowTouchEnd=!0,this.mouseupHandle=function(e){e instanceof MouseEvent?t.upEventHandle(e):t.allowTouchEnd&&(t.upEventHandle(e),t.allowTouchEnd=!1)},this.upEventHandle=function(e){if(t.toolInstance.enableDraw)if(t.toolInstance.getUserAuth().create){if(t.toolInstance.downCommonHandle(e))if(t.canCreate){var r=t.toolInstance.getMouseChangedPoint(e),o=r.clientX,i=r.clientY;if(!t.checkAddHandle(o,i))return;t.addTextGraphics("",o,i)}else t.canCreate=!0}else Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic)},this.toolInstance=e}return e.prototype.updateContentHandle=function(e){var t=o.a.textareaHPadding,r=e.value,i=e.previousSibling,n=Number(i.style.maxWidth.split("px")[0])-2*t,a=i.parentNode,s=document.createElement("span");s.style.cssText="position: absolute; z-index: -100; font-size: inherit; font-family: inherit; visibility: hidden; display: inline-block;line-height: 1;",a.appendChild(s);for(var c="",u=0,l=0,d=r;l<d.length;l++){var p=d[l];if("\n"===p)c+="\n",u=0;else{var h=this.textSizeHandle(s,p).width;(u+=h)>n?(c+="\n"+p,u=h):c+=p}}a.removeChild(s),i.innerHTML=c,e.value=c},e.prototype.addTextareaDomHandle=function(e){var t=e.graphic_id,r=e.data,i=document.createElement("textarea"),n=""+o.a.reservedPrefix.graphics+t;i.setAttribute("id",n),i.setAttribute("tabindex","-1"),i.setAttribute("spellcheck","false"),i.setAttribute("maxlength",""+o.a.maxlength),navigator.userAgent.includes("iPhone")&&navigator.userAgent.includes("11_4_1")&&(i.style.padding="0 "+Math.max(o.a.textareaHPadding-3,0)+"px");var s=Object(a.s)(r).text;return i.value=s,i},e.prototype.addPreDomHandle=function(e){var t=e.size,r=e.data,i=e.type,n=Object(a.s)(r).text,s=document.createElement("pre");s.innerHTML=n;var c=Object(a.c)(t,i,this.toolInstance.viewInfo.viewWidth,!1),u=o.a.textareaHPadding,l=o.a.textareaVPadding;return u*=2,l*=2,s.style.cssText="min-height:"+(c*o.a.lineHeight+l)+"px;min-width:"+(c+u)+"px;",s},e.prototype.addTextareaConDomHandle=function(e){var t=e.size,r=e.color,i=e.data,n=e.graphic_id,s=e.type,c=e.attributes,u=e.zorder,l=JSON.parse(Object(a.g)(c)||o.a.basicState.attributes),d=l.bold,p=l.italic,h=Object(a.c)(t,s,this.toolInstance.viewInfo.viewWidth,!1),f=Object(a.s)(i),g=f.beginX,_=f.beginY,m=document.createElement("div"),y=""+o.a.reservedPrefix.textareaCon+n;return m.setAttribute("id",y),u&&m.setAttribute("data-z",u+""),m.style.cssText="font-size:"+h+"px;font-style:"+(p?"italic":"normal")+";font-weight:"+(d?"bold":"normal")+";left:"+g+"px;top:"+_+"px;color:"+r+";caret-color:"+r+";",m},e.prototype.textSizeHandle=function(e,t){return" "===t&&(t=t.replace(/ /g,"&nbsp")),e.innerHTML=t,{width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height}},e.prototype.checkValueHandle=function(e){var t=o.a.maxlength;return e.length>t&&(e=e.slice(0,t)),e},e.prototype.initHeightHandle=function(e){var t=e.previousSibling;e.scrollTop=0,e.style.height="initial",t.style.height="initial",t.style.maxHeight="initial"},e.prototype.updateHeightHandle=function(e){var t=o.a.textareaHPadding,r=o.a.lineHeight,i=this.toolInstance.viewInfo.zoom,n=e.previousSibling,a=n.style.height,s=Number(n.style.maxHeight.split("px")[0]),c=(Number(n.style.maxWidth.split("px")[0])+2*t)/i,u=e.parentNode.style.fontSize,l=Number(u.split("px")[0]);e.style.maxWidth=c+"px",e.style.height=l*r+"px";var d=e.scrollHeight+"px";e.scrollHeight*i>s&&(d=a),n.style.height=d,e.style.height=d},e.prototype.inputCallbackHandle=function(e){var t=e.target,r=t.previousSibling,o=this.checkValueHandle(t.value);t.value=o,r.innerHTML=o,this.updateHeightHandle(t),!this.chInput&&this.updateToRemoteHandle(e)},e.prototype.chInputCallbackHandle=function(e){this.chInput=!1,this.updateToRemoteHandle(e)},e.prototype.updateToRemoteHandle=function(e){var t=e.target,r=t.parentNode,i=this.toolInstance.graphicList,n=t.id.split(o.a.reservedPrefix.graphics)[1],u=t.value,l=this.toolInstance.getDataFromGraphicList(n,"data").data,d=Object(a.s)(l),p=d.beginX,h=d.beginY,f=i.findIndex((function(e){return e.graphic_id===n})),g=i[f];g&&("blur"===e.type?(g.is_end_draw=!0,u?(this.updateContentHandle(t),this.toolInstance.updateBoxHandle(g,"blur"),g.data=Object(a.a)(t.value,p,h),c.a.getInstance().info(["Whiteboard_View"],"TextArea.updateToRemoteHandle",JSON.stringify({protoGraphic:[g],type:e.type,Action:"Update"})),this.toolInstance.updateToRemoteNewHandle([g],s.a.Update)):(Object(a.p)(r),Object(a.p)(this.toolInstance.getBoxHandle(n)),i.splice(f,1),c.a.getInstance().info(["Whiteboard_View"],"TextArea.updateToRemoteHandle",JSON.stringify({protoGraphic:[g],type:e.type,Action:"Delete"})),this.toolInstance.updateToRemoteNewHandle([g],s.a.Delete)),this.toolInstance.initDrawHandle()):this.toolInstance.getUserAuth().update||g.creator_id===this.toolInstance.getUserID()?(this.updateContentHandle(t),g.data=Object(a.a)(t.value,p,h),g.is_end_draw=!1,g.data=Object(a.a)(t.value,p,h),c.a.getInstance().info(["Whiteboard_View"],"TextArea.updateToRemoteHandle",JSON.stringify({protoGraphic:[g],type:e.type,Action:"Update"})),this.toolInstance.updateToRemoteNewHandle([g],s.a.Update)):t.blur())},e.prototype.bindTextareaInputEventHandle=function(e){var t=this;e.addEventListener("input",(function(e){t.inputCallbackHandle(e)})),e.addEventListener("compositionstart",(function(e){t.chInput=!0})),e.addEventListener("compositionend",(function(e){t.chInputCallbackHandle(e)})),e.addEventListener("keydown",(function(e){9===e.keyCode&&e.preventDefault()}))},e.prototype.bindTextareaFocusEvent=function(e,t){var r=this,i=t.data,n=Object(a.s)(i),s=n.beginX,c=n.beginY;e.addEventListener("focus",(function(e){var t=e.target;t.parentNode.style.borderColor="red";var i=t.id.split(o.a.reservedPrefix.graphics)[1];r.toolInstance.setDataToGraphicList(i,{oldData:Object(a.a)(t.value,s,c)})}))},e.prototype.bindTextareaBlurEvents=function(e){var t=this;e.addEventListener("blur",(function(e){var r=t.toolInstance.graphicsBoxConNode,i=e.target,n=i.parentNode,a=i.id.split(o.a.reservedPrefix.graphics)[1];t.initHeightHandle(i),t.updatePointerEvents(2,r.querySelector(t.toolInstance.getBoxSelHandle(a))),n.style.borderColor="transparent",t.canCreate=!1,t.updateToRemoteHandle(e),t.allowTouchEnd||(t.allowTouchEnd=!0)}))},e.prototype.updatePointerEvents=function(e,t){var r=this,i=this.toolInstance.graphicsBoxConNode;1===e?(Array.prototype.slice.call(Object(a.h)(i),0).forEach((function(e){var t=r.toolInstance.getGraphicsHandle(e.id.split(o.a.reservedPrefix.graphicsBox)[1]);t&&"DIV"===t.nodeName&&(e.style.pointerEvents="initial")})),i.style.pointerEvents="none",t&&(t.style.pointerEvents="none")):(i.style.pointerEvents="initial",t&&(t.style.pointerEvents="initial"))},e.prototype.checkAddHandle=function(e,t){var r=this.calMaxSizeHandle(e,t),i=r.maxWidth,n=r.maxHeight,c=this.toolInstance.viewInfo.viewWidth,u=o.a.textareaHPadding,l=o.a.basicState,d=o.a.lineHeight,p=o.a.textareaVPadding,h=Object(a.c)(l.fontSize,s.f.Text,c,!1);return 2*u+h+12<i&&2*p+h*d+12<n},e.prototype.bindEventsHandle=function(){if(!this.bindFlag){this.bindFlag=!0;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(e,o.a.mouseEvents.up,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,o.a.mouseEvents.up,this.mouseupHandle)}},e.prototype.addTextGraphics=function(e,t,r){var i=this.toolInstance,n=i.protoGraphic,u=i.graphicList,l=Object(a.d)();this.toolInstance.updateProtoGraphic(h(h({creator_id:this.toolInstance.getUserID(),graphic_id:l,operate_id:l,is_end_draw:!!e,x:0,y:0,px:0,py:0,zorder:this.toolInstance.serviceHandle.createZorder(),data:Object(a.a)(e,t+"",r+"")},o.a.basicState),{size:o.a.basicState.fontSize}));var d=h({},n);u.push(d),this.drawGraphicsHandle(d,!e),this.toolInstance.setGraphicsDomZorder(d);var p=this.toolInstance.updateBoxHandle(d);!e&&this.updatePointerEvents(1,p),c.a.getInstance().info(["Whiteboard_View"],"TextArea.addTextGraphics",JSON.stringify({text:[d],action:"Create"})),this.toolInstance.updateToRemoteNewHandle([d],s.a.Create)},e.prototype.drawGraphicsHandle=function(e,t){var r=e.x,i=e.y,n=this.addTextareaDomHandle(e),c=this.addPreDomHandle(e),u=this.addTextareaConDomHandle(e);u.appendChild(c),u.appendChild(n),u.style.transform="translate("+(r||0)+"px, "+(i||0)+"px)",this.toolInstance.appendGraphicsDomHandle(u,s.f.Text),this.bindTextareaInputEventHandle(n),this.bindTextareaFocusEvent(n,e);var l=o.a.mouseEvents;Object(a.b)(n,[l.down,l.move,l.up]),t&&(this.initMaxSizeHandle(n),n.focus(),this.updatePointerEvents(1,null)),this.bindTextareaBlurEvents(n)},e.prototype.updateGraphicsHandle=function(e){var t=e.graphic_id,r=e.data,i=e.size,n=e.color,s=e.x,c=e.y,u=e.type,l=e.attributes,d=JSON.parse(Object(a.g)(l)||o.a.basicState.attributes),p=d.bold,h=d.italic,f=Object(a.c)(i,u,this.toolInstance.viewInfo.viewWidth,!1),g=Object(a.s)(r),_=g.beginX,m=g.beginY,y=g.text,v=this.toolInstance.getGraphicsHandle(t);if(v){var b=Object(a.h)(v),w=b[0],S=b[1];S.value=y,v.style.cssText="font-size: "+f+"px;font-style:"+(h?"italic":"normal")+";font-weight:"+(p?"bold":"normal")+";left: "+_+"px;top: "+m+"px;color: "+n+";transform: translate("+s+"px, "+c+"px);caret-color:"+n+";";var I=y.split("\n").length*f*o.a.lineHeight+2*o.a.textareaVPadding;w.innerHTML=y,w.style.height=I+"px",w.style.maxWidth="initial",w.style.maxHeight="initial",S.value=y,S.style.height=I+"px"}},e.prototype.focusHandle=function(e){this.toolInstance.setDataToGraphicList(e,{selected:!1});var t=this.toolInstance.getBoxHandle(e);t&&(t.style.borderColor="transparent"),this.updatePointerEvents(1,t);var r=this.toolInstance.getGraphicsHandle(e);if(r){var o=Object(a.h)(r)[1];this.initMaxSizeHandle(o),r.style.borderColor="red",o.style.height="100%",o.focus();var i=this.toolInstance.graphicList.filter((function(t){return t.graphic_id===e}))[0];i.operate_id=Object(a.d)(),i.is_end_draw=!1,c.a.getInstance().info(["Whiteboard_View"],"TextArea.focusHandle",JSON.stringify({graphic:[i],action:"Update"})),this.toolInstance.updateToRemoteNewHandle([i],s.a.Update)}},e.prototype.backUpdateGraphicsHandle=function(e){var t=e.graphic_id,r=e.data,o=Object(a.s)(r).text,i=this.toolInstance.getGraphicsHandle(t);if(i){var n=Object(a.h)(i),s=n[0];n[1].value=o,s.innerHTML=o;var u=i.getBoundingClientRect(),l=u.width,d=u.height,p=this.toolInstance.getBoxHandle(t);p&&(p.style.cssText+="width:"+l+"px;height:"+d+"px;"),c.a.getInstance().info(["Whiteboard_View"],"TextArea.backUpdateGraphicsHandle",JSON.stringify({graphic_id:t,data:r})),this.toolInstance.setDataToGraphicList(t,{data:r})}},e.prototype.initMaxSizeHandle=function(e){var t=e.getBoundingClientRect(),r=t.left,o=t.top,i=this.toolInstance.transLocationHandle({clientX:r,clientY:o}),n=i.clientX,a=i.clientY,s=this.calMaxSizeHandle(n,a),c=s.maxWidth,u=s.maxHeight,l=e.previousSibling;l.style.maxHeight=u+"px",l.style.maxWidth=c+"px"},e.prototype.calMaxSizeHandle=function(e,t){var r,i=this.toolInstance.viewInfo,n=i.isScroll,a=i.isOriginScroll,s=i.width,c=i.height,u=i.viewWidth,l=i.viewHeight,d=i.zoom,p=i.zoomTX,h=i.zoomTY,f=i.offsetPageX,g=i.offsetPageY,_=0;return n?(r=Math.floor(s-e),_=Math.floor(c-t),a&&(r-=o.a.scrollbarSize,_-=o.a.scrollbarSize)):(r=Math.floor(u-e*d+f*d-p),_=Math.floor(l-t*d+g*d-h)),{maxWidth:r-=2*o.a.boxBorderWidth*d,maxHeight:_-=2*o.a.boxBorderWidth*d}},e}(),g=function(){function e(e){var t=this;this.bindFlag=!1,this.mouseInfo={touchLeaveRect:{left:0,top:0,right:0,bottom:0}},this.boxRectMap={},this.mousedownHandle=function(e){if(t.toolInstance.enableDraw){var r=t.toolInstance,i=r.whiteboardNode,n=r.graphicList;t.mouseInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect(),n.forEach((function(e){if(e.type!==s.f.Laser){var r=t.toolInstance.getBoxHandle(e.graphic_id);r&&(t.boxRectMap[e.graphic_id]=r.getBoundingClientRect())}})),t.mousemoveHandle(e),t.toolInstance.toolAddEL(i,o.a.mouseEvents.move,t.mousemoveHandle)}},this.mousemoveHandle=function(e){if(t.toolInstance.enableDraw){var r=e instanceof MouseEvent?e:e.changedTouches[0],o=r.clientX,i=r.clientY;if(t.toolInstance.isTouchLeaveWhenMove(e,t.mouseInfo.touchLeaveRect))t.mouseupHandle();else{var n=0,a="";t.toolInstance.graphicList.forEach((function(e){var r=t.boxRectMap[e.graphic_id];if(r){var s=r.left,c=r.right,u=r.top,l=r.bottom;if(o>=s&&o<=c&&i>=u&&i<=l){var d=e.zorder||1;(!n||d>n)&&(n=d,a=e.graphic_id)}}})),t.toolInstance.graphicList.forEach((function(e){e.selected=!!a&&(e.graphic_id===a&&t.toolInstance.getGraphicIsEndDraw(e.graphic_id)),t.toolInstance.updateBoxBorder(e)}))}}},this.mouseupHandle=function(){t.boxRectMap={};var e=t.toolInstance.whiteboardNode;t.toolInstance.toolRmEl(e,o.a.mouseEvents.move,t.mousemoveHandle),t.toolInstance.deleteSelectedGraphics(s.c.EraserTool)},this.toolInstance=e}return e.prototype.bindEventsHandle=function(){if(!this.bindFlag){this.bindFlag=!0;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(e,o.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolAddEL(e,o.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolAddEL(e,o.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,o.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolRmEl(e,o.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolRmEl(e,o.a.mouseEvents.leave,this.mouseupHandle)}},e}(),_=(r(338),r(345),function(){function e(e){this.editBoxMap={w:0,h:0,tx:0,ty:0,x:0,y:0,mx:0,my:0,tx1:0,ty1:0,w0:0,h0:0,board:8,wdiff:9,tdiff:4,interrupt:!1,target:null,graphic:null,parent:document.createElement("div"),box:document.createElement("div"),img:document.createElementNS("http://www.w3.org/2000/svg","image")},this.toolInstance=e,this.setEditorBox()}return e.prototype.startEditTarget=function(e,t){this.endEditTarget();var r=e.target,i=r.className;if(i.includes("operation-point-desktop")){var n=this.editBoxMap.graphic;n&&((this.toolInstance.getUserAuth().update||n.creator_id===this.toolInstance.getUserID())&&(n.operate_id=Object(a.d)(),n.is_end_draw=!1,this.toolInstance.updateToRemoteNewHandle([n],s.a.Update)),Object.assign(n.oldData,n.data)),this.editBoxMap.target=r;var c=window.getComputedStyle(this.editBoxMap.parent),u=c.transform.match(/(-?\d+),\s?(-?\d+)\)$/)||[],l=this.toolInstance.getMouseChangedPoint(e),d=l.clientX,p=l.clientY;this.editBoxMap.w=+c.width.replace("px",""),this.editBoxMap.h=+c.height.replace("px",""),this.editBoxMap.tx=+u[1]||0,this.editBoxMap.ty=+u[2]||0,this.editBoxMap.x=d,this.editBoxMap.y=p;var h=i.substr(i.lastIndexOf(" ")+1);"L"==h?this.editBoxMap.mx=d+this.editBoxMap.w:"R"==h?this.editBoxMap.mx=d-this.editBoxMap.w:"T"==h?this.editBoxMap.my=p+this.editBoxMap.h:"B"==h?this.editBoxMap.my=p-this.editBoxMap.h:"LT"==h?(this.editBoxMap.mx=d+this.editBoxMap.w,this.editBoxMap.my=p+this.editBoxMap.h):"RB"==h?(this.editBoxMap.mx=d-this.editBoxMap.w,this.editBoxMap.my=p-this.editBoxMap.h):"LB"==h?(this.editBoxMap.mx=d+this.editBoxMap.w,this.editBoxMap.my=p-this.editBoxMap.h):"RT"==h&&(this.editBoxMap.mx=d-this.editBoxMap.w,this.editBoxMap.my=p+this.editBoxMap.h);var f=this.toolInstance,g=f.whiteboardNode,_=f.conNode;return this.toolInstance.toolAddEL(g,o.a.mouseEvents.move,t),_.style.cursor=i.replace(/.+cursor-(\w+).+/,"$1")+"-resize",!1}return!0},e.prototype.moveEditTarget=function(e){var t=this.editBoxMap,r=t.target,o=t.interrupt;if(!r)return!o;var i=r.className.substr(r.className.lastIndexOf(" ")+1),n=this.toolInstance.getMouseChangedPoint(e),a=n.clientX,s=n.clientY;return this["moveEditTarget"+i](a,s),!1},e.prototype.endEditTarget=function(){var e=this.editBoxMap,t=e.target,r=e.graphic;if(t&&r)if(this.toolInstance.getUserAuth().update||r.creator_id===this.toolInstance.getUserID()){var o=r.data,i=o.x,a=o.y;r.initX=i-r.x,r.initY=a-r.y,r.is_end_draw=!0,this.toolInstance.updateToRemoteNewHandle([r],s.a.Update)}else{Object.assign(r.data,r.oldData),this.initEditBox(r);var c=this.editBoxMap,u=c.w,l=c.h,d=c.tx1,p=c.ty1;this.updateSVGImageAttr(u,l,d,p,!0),Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthUpdateGraphic)}this.editBoxMap.target=null,this.toolInstance.conNode.style.cursor="auto"},e.prototype.setEditorBox=function(){this.editBoxMap.parent=this.toolInstance.whiteboardNode.querySelector(".img-editor-box")},e.prototype.initEditBox=function(e){var t,r=e.graphic_id,o=null===(t=this.toolInstance.getGraphicsHandle(r))||void 0===t?void 0:t.children[0];if(o){var i=this.editBoxMap,n=i.parent,a=i.board,s=i.wdiff,c=i.tdiff,u=e.data,l=u.x,d=u.y,p=u.ex-l+s,h=u.ey-d+s;l-=c,d-=c,l|=0,d|=0,this.editBoxMap.tx1=l,this.editBoxMap.ty1=d,this.editBoxMap.graphic=e,this.editBoxMap.w0=+o.getAttribute("width"),this.editBoxMap.h0=+o.getAttribute("height"),this.editBoxMap.img=o,this.editBoxMap.box=this.toolInstance.getBoxHandle(r),n.style.cssText+="display:block;width:"+p+"px;height:"+h+"px;transform:translate("+l+"px,"+d+"px);",n.children[4].style.cssText+="left:"+(p/2-a)+"px;",n.children[6].style.cssText+="left:"+(p/2-a)+"px;",n.children[5].style.cssText+="top:"+(h/2-a)+"px;",n.children[7].style.cssText+="top:"+(h/2-a)+"px;"}},e.prototype.hideEditBox=function(e){this.editBoxMap.target=null,this.editBoxMap.graphic=null,this.editBoxMap.interrupt=!!e;var t=this.editBoxMap.parent;t&&(t.style.display="none")},e.prototype.hideEditBoxByList=function(e){var t,r=null===(t=this.editBoxMap.graphic)||void 0===t?void 0:t.graphic_id;e.some((function(e){return e.graphic_id===r}))&&this.hideEditBox()},e.prototype.hideEditBoxByIds=function(e){var t,r=null===(t=this.editBoxMap.graphic)||void 0===t?void 0:t.graphic_id;e.some((function(e){return e===r}))&&this.hideEditBox()},e.prototype.moveEditTargetL=function(e,t,r){var o=this.editBoxMap,i=o.x,n=o.mx,a=o.w,s=o.h,c=o.tx,u=o.ty,l=o.parent,d=o.board;if(e<=n){e=i-e;var p=0|(r?e-a:e+a),h=0|(r?c-e+a:c-e);l.style.cssText+="width:"+p+"px;transform:translate("+h+"px,"+u+"px);",l.children[4].style.cssText+="left:"+(p/2-d)+"px;",l.children[6].style.cssText+="left:"+(p/2-d)+"px;",this.editBoxMap.tx1=h,this.editBoxMap.ty1=u,this.updateSVGImageAttr(p,s,h,u)}else this.moveEditTargetR(e,0,!0)},e.prototype.moveEditTargetR=function(e,t,r){var o=this.editBoxMap,i=o.x,n=o.mx,a=o.w,s=o.h,c=o.tx1,u=o.ty1,l=o.parent,d=o.board;e>n?(e=0|(r?e-i-a:e-i+a),l.style.cssText+="width:"+e+"px;",l.children[4].style.cssText+="left:"+(e/2-d)+"px;",l.children[6].style.cssText+="left:"+(e/2-d)+"px;",this.updateSVGImageAttr(e,s,c,u)):this.moveEditTargetL(e,0,!0)},e.prototype.moveEditTargetT=function(e,t,r){var o=this.editBoxMap,i=o.y,n=o.my,a=o.w,s=o.h,c=o.tx,u=o.ty,l=o.parent,d=o.board;if(t<=n){t=i-t;var p=0|(r?t-s:t+s),h=0|(r?u-t+s:u-t);l.style.cssText+="height:"+p+"px;transform:translate("+c+"px,"+h+"px);",l.children[5].style.cssText+="top:"+(p/2-d)+"px;",l.children[7].style.cssText+="top:"+(p/2-d)+"px;",this.editBoxMap.tx1=c,this.editBoxMap.ty1=h,this.updateSVGImageAttr(a,p,c,h)}else this.moveEditTargetB(0,t,!0)},e.prototype.moveEditTargetB=function(e,t,r){var o=this.editBoxMap,i=o.y,n=o.my,a=o.w,s=o.h,c=o.tx1,u=o.ty1,l=o.parent,d=o.board;t>n?(t=0|(r?t-i-s:t-i+s),l.style.cssText+="height:"+t+"px;",l.children[5].style.cssText+="top:"+(t/2-d)+"px;",l.children[7].style.cssText+="top:"+(t/2-d)+"px;",this.updateSVGImageAttr(a,t,c,u)):this.moveEditTargetT(0,t,!0)},e.prototype.moveEditTargetLT=function(e,t,r){var o=this.editBoxMap,i=o.x,n=o.y,a=o.mx,s=o.my,c=o.w,u=o.h,l=o.tx,d=o.ty,p=o.parent,h=o.board;if(e>i-4&&t>n-4||e<i-4&&t<n-4)if(c<=u&&e<=a||u<c&&t<=s){var f=0,g=0,_=0,m=0;if(r?(e=Math.min(i-e-c,n-t-u),u<c?(g=e,f=Math.round(c*g/u),m=d-e,_=Math.round(l-c*e/u)):(f=e,g=Math.round(f*u/c),_=l-e,m=Math.round(d-u*e/c))):(t-=n,e=(e-=i)<0||t<0?Math.max(e,t):Math.min(e,t),u<c?(g=u-e,f=Math.round(c*g/u),m=d+e,_=Math.round(l+c*e/u)):(f=c-e,g=Math.round(f*u/c),_=l+e,m=Math.round(d+u*e/c))),f<0||g<0)return;f|=0,g|=0,_|=0,m|=0,p.style.cssText+="width:"+f+"px;height:"+g+"px;transform:translate("+_+"px,"+m+"px);",p.children[4].style.cssText+="left:"+(f/2-h)+"px;",p.children[6].style.cssText+="left:"+(f/2-h)+"px;",p.children[5].style.cssText+="top:"+(g/2-h)+"px;",p.children[7].style.cssText+="top:"+(g/2-h)+"px;",this.editBoxMap.tx1=_,this.editBoxMap.ty1=m,this.updateSVGImageAttr(f,g,_,m)}else this.moveEditTargetRB(e,t,!0)},e.prototype.moveEditTargetRB=function(e,t,r){var o=this.editBoxMap,i=o.x,n=o.y,a=o.mx,s=o.my,c=o.w,u=o.h,l=o.tx1,d=o.ty1,p=o.parent,h=o.board;if(e>i-4&&t>n-4||e<i-4&&t<n-4)if(c<=u&&e>=a||u<c&&t>=s){e-=i,t-=n;var f=0,g=0;if(r?u<c?(g=Math.min(e,t)-u,f=Math.round(c*g/u)):(f=Math.min(e,t)-c,g=Math.round(f*u/c)):(e=e<0||t<0?Math.max(e,t):Math.min(e,t),u<c?(g=e+u,f=Math.round(c*g/u)):(f=e+c,g=Math.round(f*u/c))),f<0||g<0)return;f|=0,g|=0,p.style.cssText+="width:"+f+"px;height:"+g+"px;",p.children[4].style.cssText+="left:"+(f/2-h)+"px;",p.children[6].style.cssText+="left:"+(f/2-h)+"px;",p.children[5].style.cssText+="top:"+(g/2-h)+"px;",p.children[7].style.cssText+="top:"+(g/2-h)+"px;",this.updateSVGImageAttr(f,g,l,d)}else this.moveEditTargetLT(e,t,!0)},e.prototype.moveEditTargetLB=function(e,t,r){var o=this.editBoxMap,i=o.x,n=o.y,a=o.mx,s=o.my,c=o.w,u=o.h,l=o.tx,d=o.ty,p=o.parent,h=o.board;if(e<i-4&&t>n-4||e>i-4&&t<n-4)if(c<=u&&e<a||u<c&&t>s){var f=0,g=0,_=0,m=d;r?(e=Math.min(i-e-c,t-n-u),e=Math.abs(e),u<c?(g=e,f=Math.round(c*g/u)):(f=e,g=Math.round(f*u/c)),_=l-f,m=d+u):(t-=n,e=(e-=i)<0||t>0?Math.min(-e,t):-Math.min(e,-t),u<c?(g=u+e,_=l+c-(f=Math.round(c*g/u))):(f=c+e,g=Math.round(f*u/c),_=l-e)),f|=0,g|=0,_|=0,m|=0,p.style.cssText+="width:"+f+"px;height:"+g+"px;transform:translate("+_+"px,"+m+"px);",p.children[4].style.cssText+="left:"+(f/2-h)+"px;",p.children[6].style.cssText+="left:"+(f/2-h)+"px;",p.children[5].style.cssText+="top:"+(g/2-h)+"px;",p.children[7].style.cssText+="top:"+(g/2-h)+"px;",this.editBoxMap.tx1=_,this.editBoxMap.ty1=m,this.updateSVGImageAttr(f,g,_,m)}else this.moveEditTargetRT(e,t,!0)},e.prototype.moveEditTargetRT=function(e,t,r){var o=this.editBoxMap,i=o.x,n=o.y,a=o.mx,s=o.my,c=o.w,u=o.h,l=o.tx,d=o.ty,p=o.parent,h=o.board;if(e>i-4&&t<n-4||e<i-4&&t>n-4)if(c<=u&&e>a||u<c&&t<s){var f=0,g=0,_=l,m=0;r?(e=Math.min(e-i-c,n-t-u),e=Math.abs(e),u<c?(g=e,f=Math.round(c*g/u)):(f=e,g=Math.round(f*u/c)),_=l+c,m=d-g):(t-=n,e=(e-=i)<0||t>0?-Math.min(-e,t):Math.min(e,-t),u<c?(g=u+e,f=Math.round(c*g/u),m=d-e):(f=c+e,m=d+u-(g=Math.round(f*u/c)))),f|=0,g|=0,_|=0,m|=0,p.style.cssText+="width:"+f+"px;height:"+g+"px;transform:translate("+_+"px,"+m+"px);",p.children[4].style.cssText+="left:"+(f/2-h)+"px;",p.children[6].style.cssText+="left:"+(f/2-h)+"px;",p.children[5].style.cssText+="top:"+(g/2-h)+"px;",p.children[7].style.cssText+="top:"+(g/2-h)+"px;",this.editBoxMap.tx1=_,this.editBoxMap.ty1=m,this.updateSVGImageAttr(f,g,_,m)}else this.moveEditTargetLB(e,t,!0)},e.prototype.updateSVGImageAttr=function(e,t,r,o,i){var n=this.editBoxMap,a=n.w0,s=n.h0,c=n.wdiff,u=n.tdiff,l=n.img,d=n.box,p=n.graphic;if(l&&d){e|=0,t|=0,r|=0,o|=0,d.style.cssText+="width:"+e+"px;height:"+t+"px;left:"+r+"px;top:"+o+"px;",e-=c,t-=c,r+=u,o+=u;var h=Number((e/a).toFixed(7)),f=Number((t/s).toFixed(7));if(l.setAttribute("transform","translate("+r+", "+o+") scale("+h+", "+f+")"),!i){var g=null==p?void 0:p.data;g.x=r,g.y=o,g.ex=r+e,g.ey=o+t}}},e}()),m=function(){return(m=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},y=function(){function e(e){var t=this;this.bindFlag=!1,this.authFlag=!0,this.noMoveUp=!0,this.isWillMove=!1,this.mouseInfo={moveCount:0,touchLeaveRect:{left:0,top:0,right:0,bottom:0}},this.moveSelectedGraphicIds="",this.userId="",this.selectBoxMap={l:0,t:0,r:0,b:0,box:document.createElement("div")},this.mousedownHandle=function(e){if(t.toolInstance.enableDraw&&t.toolInstance.downCommonHandle(e)&&t.imageTool.startEditTarget(e,t.mousemoveHandle)){t.setGraphicsBox(),t.authFlag=!0,t.imageTool.editBoxMap.interrupt=!1;var r=t.selectBoxMap,i=r.l,u=r.t,l=r.r,d=r.b,p=t.toolInstance.getMouseStartPoint(e),h=p.clientX,f=p.clientY,g=t.toolInstance.getUserAuth(),_=t.toolInstance,y=_.graphicList,v=_.whiteboardNode;t.mouseInfo.touchLeaveRect=t.toolInstance.getWhiteboardNodeRect();var b=t.getCoveredMaxZorderGraphic(e);if(b){var w=b.rect,S=w.left,I=w.top,x=w.right,O=w.bottom,E=t.toolInstance.transLocationHandle({clientX:S,clientY:I}),P=t.toolInstance.transLocationHandle({clientX:x,clientY:O});S=E.clientX,I=E.clientY,x=P.clientX,O=P.clientY;var k=b.graphic,D=k.graphic_id,T=k.selected,A=k.type,C=k.creator_id,B=g.update||C===t.userId;T||(c.a.getInstance().info(["Whiteboard_View"],"Selector.mousedownHandle",JSON.stringify({GraphicType:A,update:!0})),y.forEach((function(e){e.selected=e.graphic_id===D})),A===s.f.Image?B?(t.imageTool.initEditBox(b.graphic),t.hideSelectBox(D)):(t.initSelectBox(S,I,x,O),Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthUpdateGraphic)):(t.hideImageEditBox(),c.a.getInstance().info(["Whiteboard_View"],"Selector.mousedownHandle","鼠标落在图元上"),t.initSelectBox(S,I,x,O))),T&&A===s.f.Text&&1==y.filter((function(e){return e.selected})).length&&(B?(t.noMoveUp=D,setTimeout((function(){return t.hideSelectBox(D)}),50)):Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthUpdateGraphic)),t.isWillMove=!0}else{l>i&&i<=h&&h<=l&&u<=f&&f<=d?(t.isWillMove=!0,c.a.getInstance().info(["Whiteboard_View"],"Selector.mousedownHandle","落在选择框中的空白处，表示将要执行移动操作")):(t.hideSelectBox(),c.a.getInstance().info(["Whiteboard_View"],"Selector.mousedownHandle","落在非选择框中的空白处，清除所有选中"))}t.mouseInfo.moveCount=0,t.moveSelectedGraphicIds="",t.toolInstance.updateMousePointsHandle(h,f),t.isWillMove?y.forEach((function(e){e.selected&&(g.move||e.creator_id===t.userId)&&(e.px=e.x,e.py=e.y,e.is_end_draw=!1,e.operate_id=Object(a.d)())})):(t.toolInstance.updateProtoGraphic(m(m({graphic_id:Object(a.d)()},o.a.basicState),{x:0,y:0,px:0,py:0,data:[h,f]})),t.hideImageEditBox(),t.hideSelectBox()),t.toolInstance.toolAddEL(v,o.a.mouseEvents.move,t.mousemoveHandle)}},this.mousemoveHandle=function(e){if(t.toolInstance.enableDraw){if(e instanceof MouseEvent&&!e.buttons)return t.resetMouse();if(t.imageTool.moveEditTarget(e))if(t.toolInstance.isTouchLeaveWhenMove(e,t.mouseInfo.touchLeaveRect))t.mouseupHandle();else{t.mouseInfo.moveCount++,t.noMoveUp=!1;var r=t.toolInstance.getMouseChangedPoint(e);if(t.isWillMove)t.updateGraphicsOnMoving(r);else{t.toolInstance.updateGraphicsDataHandle(r);var o=t.toolInstance.protoGraphic;t.svgTool.drawGraphicsRect(o,s.e.Local,o.color,.3),t.mouseInfo.moveCount%10==0&&t.updateBoxBorderOnSelector()}}}},this.mouseupHandle=function(){if(!t.toolInstance.enableDraw||!0===t.noMoveUp)return t.imageTool.endEditTarget(),void t.resetMouse();if(t.isWillMove){var e=t.selectBoxMap,r=e.l,o=e.t,i=e.r,n=e.b;if(t.selectBoxMap.l=+t.selectBoxMap.box.style.left.replace("px",""),t.selectBoxMap.t=+t.selectBoxMap.box.style.top.replace("px",""),t.selectBoxMap.r=t.selectBoxMap.l+i-r,t.selectBoxMap.b=t.selectBoxMap.t+n-o,!t.noMoveUp){var a=t.toolInstance.graphicList.filter((function(e){return!!t.moveSelectedGraphicIds.includes(e.graphic_id)&&(e.is_end_draw=!0,!0)}));c.a.getInstance().info(["Whiteboard_View"],"Selector.mouseupHandle",JSON.stringify({list:a,Action:"Move"})),t.toolInstance.updateToRemoteNewHandle(a,s.a.Move)}}else t.setSelectBox(!0);!t.imageTool.editBoxMap.interrupt&&t.noMoveUp&&t.toolInstance.getGraphicIsEndDraw(t.noMoveUp)&&t.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolText).focusHandle(t.noMoveUp);t.resetMouse()},this.toolInstance=e,this.userId=e.getUserID(),this.svgTool=e.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine),this.imageTool=new _(e),this.setGraphicsBox()}return e.prototype.setGraphicsBox=function(){this.selectBoxMap.box=this.toolInstance.whiteboardNode.querySelector(".graphics-box"),this.imageTool.setEditorBox()},e.prototype.initSelectBox=function(e,t,r,o){var i=this;this.selectBoxMap.l=e,this.selectBoxMap.t=t,this.selectBoxMap.r=r,this.selectBoxMap.b=o,r-=e,o-=t,this.toolInstance.graphicList.forEach((function(e){return i.toolInstance.updateBoxBorder(e)}));var n="left:"+e+"px;top:"+t+"px;width:"+r+"px;height:"+o+"px;display:block;";this.setSelectBoxStyle(n),c.a.getInstance().info(["Whiteboard_View"],"Selector.initSelectBox",JSON.stringify({l:e,t:t,r:r,b:o}))},e.prototype.hideSelectBox=function(e){var t=this;this.selectBoxMap.l=0,this.selectBoxMap.t=0,this.selectBoxMap.r=0,this.selectBoxMap.b=0,this.selectBoxMap.box.style.display="none",e?this.toolInstance.graphicList.forEach((function(e){!e.selected||e.type!==s.f.Image&&e.type!==s.f.Text?t.toolInstance.updateBoxBorder(e):t.toolInstance.updateBoxBorder(e,!0)})):this.toolInstance.graphicList.forEach((function(e){e.selected=!1,t.toolInstance.updateBoxBorder(e)}))},e.prototype.setSelectBox=function(e){var t,r=this;if("none"===(null===(t=this.imageTool.editBoxMap.parent)||void 0===t?void 0:t.style.display)){var o=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,n=0,a=0,c=0,u=0;if(this.toolInstance.graphicList.forEach((function(e){if(e.selected){var t=r.toolInstance.getBoxInfoByGraphic(e);if(t){u++,e.type===s.f.Image&&c++;var l=t.x,d=t.y,p=t.width,h=t.height;o=Math.min(o,l),i=Math.min(i,d),n=Math.max(n,l+p),a=Math.max(a,d+h)}}r.toolInstance.updateBoxBorder(e)})),n>0&&a>0){this.selectBoxMap.l=o,this.selectBoxMap.t=i,this.selectBoxMap.r=n,this.selectBoxMap.b=a;var l="left:"+o+"px;top:"+i+"px;width:"+(n-=o)+"px;height:"+(a-=i)+"px;display:block;";if(e&&1==c&&1==u){var d=this.toolInstance.graphicList.find((function(e){return e.selected&&e.type==s.f.Image}));d&&(d.creator_id==this.userId||this.toolInstance.getUserAuth().update)&&(l=l.replace("block","none"),this.toolInstance.updateBoxBorder(d,!0),this.imageTool.initEditBox(d))}this.setSelectBoxStyle(l)}else this.selectBoxMap.l=0,this.selectBoxMap.t=0,this.selectBoxMap.r=0,this.selectBoxMap.b=0,this.selectBoxMap.box.style.display="none"}},e.prototype.setSelectBoxStyle=function(e){this.selectBoxMap.box.style.cssText+=e},e.prototype.resetMouse=function(){var e=this.toolInstance,t=e.protoGraphic,r=e.whiteboardNode;this.toolInstance.toolRmEl(r,o.a.mouseEvents.move,this.mousemoveHandle);var i=this.toolInstance.getGraphicsHandle(t.graphic_id);Object(a.p)(null==i?void 0:i.parentElement),this.toolInstance.initDrawHandle(),this.isWillMove=!1,this.noMoveUp=!0},e.prototype.getCanMovedGraphicList=function(){var e=this,t=0,r=0,o=[],i=!this.moveSelectedGraphicIds,a=this.toolInstance.getUserAuth().move,c=this.toolInstance.graphicList.filter((function(n){if(n.selected){if(t++,!i&&e.moveSelectedGraphicIds.includes(n.graphic_id))return r++,!0;if(i&&(a||n.creator_id===e.userId))return r++,o.push(n.graphic_id),!0}return e.authFlag&&e.toolInstance.updateBoxBorder(n,!0),!1}));return i&&(this.moveSelectedGraphicIds=o.join(",")),t!==r&&(Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthMoveGraphic),this.authFlag=!1),c},e.prototype.updateGraphicsOnMoving=function(e){var t=this,r=e.clientX,o=e.clientY,i=this.getCanMovedGraphicList();if(i.length){this.toolInstance.updateMousePointsHandle(r,o);var n=this.toolInstance.calMoveHandle(),a=n[0],c=n[1],u=this.imageTool.editBoxMap,l=u.tdiff,d=u.parent,p=u.graphic,h=null==p?void 0:p.graphic_id,f=1==i.length&&(i[0].creator_id==this.userId||!!this.toolInstance.getUserAuth().update);i.forEach((function(e){t.toolInstance.updateGraphicsOffsetHandle(e,a,c);var r=e.graphic_id,o=e.type;if(o===s.f.Image){var i=(e.initX||0)+e.x|0,n=(e.initY||0)+e.y|0,u=e.data,p=e.oldData;p.x=u.x,p.y=u.y,p.ex=u.ex,p.ey=u.ey,u.ex=i+u.ex-u.x,u.ey=n+u.ey-u.y,u.x=i,u.y=n,t.toolInstance.moveGraphicsHandle(r,i,n),h===r&&(i-=l,n-=l,t.imageTool.editBoxMap.tx1=i,t.imageTool.editBoxMap.ty1=n,d.style.cssText+="transform:translate("+i+"px,"+n+"px)"),t.toolInstance.updateBoxHandle(e,f)}else o!==s.f.Laser&&(t.toolInstance.moveGraphicsHandle(r,e.x,e.y),t.toolInstance.updateBoxHandle(e))}));var g=this.selectBoxMap,_=g.l,m=g.t,y=this.toolInstance.mousePoints,v="left:"+(_+y.boxX)+"px;top:"+(m+y.boxY)+"px;";this.setSelectBoxStyle(v),this.mouseInfo.moveCount%10==0&&this.toolInstance.updateToRemoteNewHandle(i,s.a.Move)}},e.prototype.updateBoxBorderOnSelector=function(){var e=this,t=this.toolInstance.graphicList,r=this.toolInstance.getGraphicsHandle(this.toolInstance.protoGraphic.graphic_id);if(r){var o=r.getBoundingClientRect(),i=o.left,n=o.right,a=o.top,c=o.bottom;t.forEach((function(t){if(t.type!==s.f.Laser){var r=e.toolInstance.getGraphicsHandle(t.graphic_id);if(r){var o=r.getBoundingClientRect(),u=o.left,l=o.top,d=o.right,p=o.bottom;u===d&&d++,l===p&&p++,t.selected=Math.max(i,u)<Math.min(n,d)&&Math.max(a,l)<Math.min(c,p)&&e.toolInstance.getGraphicIsEndDraw(t.graphic_id)}}})),this.setSelectBox()}},e.prototype.getCoveredMaxZorderGraphic=function(e){var t=this,r=e instanceof MouseEvent?e:e.changedTouches[0],o=r.clientX,i=r.clientY,n=0,a=null,c=null;return this.toolInstance.graphicList.forEach((function(e){if(e.type!==s.f.Laser&&t.toolInstance.getGraphicIsEndDraw(e.graphic_id)){var r=t.toolInstance.getBoxHandle(e.graphic_id);if(r){var u=r.getBoundingClientRect(),l=u.left,d=u.top,p=u.right,h=u.bottom;if(o>=l&&o<=p&&i>=d&&i<=h){var f=e.zorder||1;(!n||f>n)&&(n=f,a=e,c=u)}}}})),a&&c?{graphic:a,rect:c}:null},e.prototype.bindEventsHandle=function(){if(!this.bindFlag){this.bindFlag=!0;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolAddEL(e,o.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolAddEL(e,o.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolAddEL(e,o.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.removeEventsHandle=function(){if(this.bindFlag){this.bindFlag=!1;var e=this.toolInstance.whiteboardNode;this.toolInstance.toolRmEl(e,o.a.mouseEvents.down,this.mousedownHandle),this.toolInstance.toolRmEl(e,o.a.mouseEvents.up,this.mouseupHandle),this.toolInstance.toolRmEl(e,o.a.mouseEvents.leave,this.mouseupHandle)}},e.prototype.hideImageEditBox=function(){this.imageTool.hideEditBox()},e.prototype.hideImageEditBoxByList=function(e){this.imageTool.hideEditBoxByList(e)},e.prototype.hideImageEditBoxByIds=function(e){this.imageTool.hideEditBoxByIds(e)},e.prototype.updateSelectorBoxHandle=function(e,t){if(this.hideImageEditBoxByIds(t),this.hideImageEditBoxByList(e),"none"!=this.selectBoxMap.box.style.display){var r=e.map((function(e){return e.graphic_id}));r.push.apply(r,t),this.toolInstance.graphicList.forEach((function(e){r.includes(e.graphic_id)&&(e.selected=!1)})),this.toolInstance.graphicList.some((function(e){return e.selected}))||this.setSelectBox(!0)}},e}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(){return(b=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},w=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},S=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},I=function(){function e(e,t){this.isRemote=!1,this.backgroundInfo={image:"",pos:"",mode:0},this.toolInstance=e,this.createContainer(t)}return e.prototype.createContainer=function(e){var t;this.graphicsBgConNode&&(this.graphicsBgConNode.innerHTML="");var r=this.toolInstance,i=r.whiteboardID,n=r.viewInfo,a=o.a.reservedPrefix,c=a.graphicsBgContainer,u=a.graphicsBgImageContainer,l=document.createElement("div");l.id=""+c+i;for(var d=0,p=n.pageCount||1;d<p;d++){var h=document.createElement("div");h.id=u+d+i,l.appendChild(h)}this.graphicsBgConNode=l,this.toolInstance.viewInfo.direction===s.p.Vertical&&(this.graphicsBgConNode.style.flexDirection="column"),null===(t=e.firstChild)||void 0===t||t.before(l)},e.prototype.drawBackgroundImage=function(e,t){var r=this,o="";switch(t){case s.n.ZegoWhiteboardViewImageFitModeLeft:o="left";break;case s.n.ZegoWhiteboardViewImageFitModeRight:o="right";break;case s.n.ZegoWhiteboardViewImageFitModeBottom:o="bottom";break;case s.n.ZegoWhiteboardViewImageFitModeTop:o="top";break;case s.n.ZegoWhiteboardViewImageFitModeCenter:o="center"}var i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=function(){for(var i=r.graphicsBgConNode.childNodes,n=0,a=i.length;n<a;n++){var s=i[n];s.style.backgroundImage="url("+e+")",s.style.backgroundPosition=o,s.style.backgroundRepeat="no-repeat",s.style.backgroundSize="contain"}r.backgroundInfo.image=e,r.backgroundInfo.pos=o,r.backgroundInfo.mode=t},i.src=e},e.prototype.clearBackgroundImageLocal=function(){var e=this,t=this.toolInstance.graphicList.filter((function(e){return e.type===s.f.BgImage}));this.backgroundInfo.image="",this.backgroundInfo.pos="",this.backgroundInfo.mode=0,t.map((function(t){e.toolInstance.deleteHandle(t.graphic_id)}));for(var r=this.graphicsBgConNode.childNodes,o=0,i=r.length;o<i;o++){r[o].style.backgroundImage="none"}},e.prototype.backgroundImageUpdateToRemote=function(e,t){if(this.isRemote)this.isRemote=!1;else{var r=t?s.a.Update:s.a.Create;this.toolInstance.updateToRemoteNewHandle([e],r)}},e.prototype.updateToLocal=function(e){return this.isRemote=e,this},e.prototype.setBackgroundColor=function(e){this.graphicsBgConNode.style.backgroundColor=e},e.prototype.setBackgroundImage=function(e,t,r){var o=this;if(!e||t>4){var i=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid);return Promise.reject(i)}if(!this.toolInstance.enableDraw)return Promise.reject({});if(!this.toolInstance.getUserAuth().create){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic);return Promise.reject(i)}var a=!!this.backgroundInfo.image,u=this.toolInstance.graphicList.find((function(e){return e.type==s.f.BgImage}));if(a&&u&&!this.toolInstance.getUserAuth().update&&u.creator_id!==this.toolInstance.getUserID()){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorNoAuthUpdateGraphic);return Promise.reject(i)}if("string"==typeof e){var l=e;if(!l.startsWith("https://")){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl);return Promise.reject(i)}return new Promise((function(r,i){var a=!0,u=new XMLHttpRequest;u.open("HEAD",l,!0),u.onreadystatechange=function(){if(4==u.readyState){if(200!=u.status){a=!1;var r=404===u.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;return i(Object(n.b)(r))}var d=(u.getResponseHeader("Content-Type")||"").replace("image/",""),p=+u.getResponseHeader("Content-Length");if(!"jpg,jpeg,png".includes(d)){var h=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return i(h)}if(p>10485760){h=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return i(h)}c.a.getInstance().info(["WhiteBoard_View"],"mod.setBackgroundImage",JSON.stringify({params:{address:e}})),o.addBackgroundImageGraphic(l,t)}},u.onerror=function(){if(a){var e=404===u.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;i(Object(n.b)(e))}},u.send(null)}))}if(this.toolInstance.serviceHandle.isElectron&&"object"==v(e)){if(!/(\.jpg|\.jpeg|\.png)$/.test((e=e).path)){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(i)}return c.a.getInstance().info(["WhiteBoard_View"],"mod.setBackgroundImage",JSON.stringify({params:{address:e.path}})),this.toolInstance.serviceHandle.uploadImage(e.path,r).then((function(e){return o.addBackgroundImageGraphic(e,t)}))}var d=(e=e).type.replace("image/","");if(!"jpg,jpeg,png".includes(d)){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(i)}if(e.size>10485760){i=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return Promise.reject(i)}return c.a.getInstance().info(["WhiteBoard_View"],"mod.setBackgroundImage",JSON.stringify({params:{address:e.name}})),this.toolInstance.serviceHandle.uploadImage(e,r).then((function(e){return o.addBackgroundImageGraphic(e,t)}))},e.prototype.remoteAddBackgroundImageGraphic=function(e){var t=this.toolInstance.graphicList,r=t.find((function(e){return e.type===s.f.BgImage}));r?(r=Object.assign(r,e),this.toolInstance.setDataToGraphicList(r.graphic_id,{data:r.data})):t.push(e);var o=e.data,i=o.url,n=o.fit_mode;this.drawBackgroundImage(i,n)},e.prototype.addBackgroundImageGraphic=function(e,t){var r=this.toolInstance.graphicList,i={x:0,y:0,ex:0,ey:0,url:e,fit_mode:t,hash:""},n=Object(a.d)(),c=r.find((function(e){return e.type===s.f.BgImage})),u=!!c;if(c){var l=c.data;c=b(b({},c),{data:i,oldData:l,operate_id:Object(a.d)()}),this.toolInstance.setDataToGraphicList(c.graphic_id,{data:i})}else{c=b(b({graphic_id:n,operate_id:n,creator_id:this.toolInstance.getUserID()},o.a.basicState),{type:s.f.BgImage,x:0,y:0,initX:0,initY:0,data:i,oldData:{},zorder:0,layer:1,is_end_draw:!0});var d=JSON.parse(JSON.stringify(c));r.push(d)}return this.drawBackgroundImage(e,t),this.backgroundImageUpdateToRemote(c,u),Promise.resolve(e)},e.prototype.clearBackgroundImage=function(){return w(this,void 0,void 0,(function(){var e;return S(this,(function(t){return this.isRemote?(this.clearBackgroundImageLocal(),this.isRemote=!1,[2]):this.toolInstance.enableDraw?(e=this.toolInstance.graphicList.find((function(e){return e.type==s.f.BgImage})),this.backgroundInfo.image&&e&&!this.toolInstance.getUserAuth().delete&&e.creator_id!==this.toolInstance.getUserID()?(Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthDeleteGraphic),[2]):(e&&(e.operate_id=Object(a.d)(),this.clearBackgroundImageLocal(),this.toolInstance.updateToRemoteNewHandle([e],s.a.Delete)),[2])):[2]}))}))},e}(),x=function(){return(x=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},O=function(){function e(e){var t,r=this;this.defaultCursorMap=((t={})[s.k.ZegoWhiteboardViewToolPen]={url:"https://storage.zego.im/goclass/wbCursor/defaultCursor.png",offsetX:0,offsetY:18},t),this.defaultCursorPen=this.defaultCursorMap[o.a.basicState.type],this.authFlag=!0,this.roomFlag=!0,this.mousemoveHandle=function(e){if(r.cursorInied){if("DISCONNECTED"===r.toolInstance.serviceHandle.getRoomState())return r.toolInstance.whiteboardNode.style.cursor="initial",r.roomFlag&&(Object(n.a)(s.j.ZegoWhiteboardViewErrorNoLoginRoom),c.a.getInstance().warn(["Whiteboard_View"],"cursor.mousemoveHandle","room state is DISCONNECTED")),void(r.roomFlag=!1);if(!r.toolInstance.getUserAuth().create)return r.authFlag&&Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic),void(r.authFlag=!1);var t=o.a.customCursor,i=JSON.parse(t.attributes);if(t.enable&&i.url&&o.a.basicState.type===s.k.ZegoWhiteboardViewToolPen){!Object(a.l)()&&r.show(),r.toolInstance.updateOffsetAndScrollHandle();var u=r.getMouseChangedPoint(e),l=r.addCursorHandle(void 0,u);l.data=[u.clientX,u.clientY];var d=JSON.parse(l.attributes);d.cursor=x({type:o.a.customCursor.type},i),d.hidden=!1,l.attributes=JSON.stringify(d),l.is_end_draw=!1,r.drawGraphicsHandle(l,!0),r.sendTimer||(r.sendTimer=window.setTimeout((function(){r.toolInstance.updateToRemoteNewHandle([r.calCursorPlaceHandle(l)],s.a.Update,!0,{isUndoAndRedo:!0},void 0,(function(e){})),clearTimeout(r.sendTimer),r.sendTimer=null}),100)),r.hideTimer&&(clearTimeout(r.hideTimer),r.hideTimer=null),r.hideTimer=window.setTimeout((function(){r.hide()}),3e3)}else r.hide()}else r.cursorInied=!0},this.mouseleaveHandle=function(){r.toolInstance.getUserAuth().create&&r.hide()},this.toolInstance=e,this.init(),this.bindEventsHandle()}return e.prototype.init=function(){var e=this;this.cursorInied=!1;var t=this.defaultCursorMap[o.a.basicState.type],r=o.a.customCursor,n=JSON.parse(r.attributes);n.url||(n.url=t.url,n.pox_x=t.offsetX,n.pox_y=t.offsetY,r.attributes=JSON.stringify(n)),i.e.on(i.c.RoomDisConnected,(function(){o.a.basicState.type=s.k.ZegoWhiteboardViewToolPen,o.a.customCursor={enable:!1,remoteVisible:!0,type:s.i.pen,attributes:'{"url": "", "pox_x": 0, "pox_y": 0 }'},e.toolInstance.whiteboardNode.style.cursor="initial",clearTimeout(e.sendTimer),e.sendTimer=null,clearTimeout(e.hideTimer),e.hideTimer=null})),i.e.on(i.c.RemoteDelMod,(function(){clearTimeout(e.sendTimer),e.sendTimer=null,clearTimeout(e.hideTimer),e.hideTimer=null}))},e.prototype.bindEventsHandle=function(){var e=o.a.mouseEvents;this.toolInstance.toolAddEL(this.toolInstance.whiteboardNode,e.move,this.mousemoveHandle),this.toolInstance.toolAddEL(this.toolInstance.whiteboardNode,e.leave,this.mouseleaveHandle)},e.prototype.removeEventsHandle=function(){var e=this.toolInstance.getUserID();this.toolInstance.graphicList.splice(this.toolInstance.graphicList.findIndex((function(t){return t.type===s.f.Cursor&&t.creator_id===e})),1)},e.prototype.transLocationHandle=function(e){var t=e.clientX,r=e.clientY,o=this.toolInstance,i=o.offsetData,n=o.scrollData,a=i.offsetLeft,s=i.offsetTop,c=n.scrollTop,u=n.scrollLeft,l=this.toolInstance.conNode,d=l.scrollLeft,p=l.scrollTop;return{clientX:Math.round(t-a+u-d),clientY:Math.round(r-s+c-p)}},e.prototype.getMouseChangedPoint=function(e){var t;if(e instanceof MouseEvent){var r=e,o=r.clientX,i=r.clientY;t=this.transLocationHandle({clientX:o,clientY:i})}else{var n=e.changedTouches[0];o=n.clientX,i=n.clientY;t=this.transLocationHandle({clientX:o,clientY:i})}return t},e.prototype.toggleOtherCursorHandle=function(e){var t=""+o.a.reservedPrefix.cursorCon+e.graphic_id,r=this.toolInstance.whiteboardNode.querySelector("#"+t);if(r){var i=o.a.customCursor.remoteVisible;return r.style.display=i?"block":"none",!i}return!1},e.prototype.addCursorHandle=function(e,t){var r=this,i=this.toolInstance.graphicList;if(!e){var n=this.findSelfCursorHandle();if(n)return n;e=x(x({graphic_id:Object(a.d)(),creator_id:this.toolInstance.getUserID(),operate_id:Object(a.d)()},o.a.basicState),{type:s.f.Cursor,x:0,y:0,px:0,py:0,data:[],layer:2,size:0,zorder:this.toolInstance.serviceHandle.createZorder(),is_end_draw:!1})}(e=e).data=[(null==t?void 0:t.clientX)||0,(null==t?void 0:t.clientY)||0];var c=JSON.parse(e.attributes),u=JSON.parse(o.a.customCursor.attributes);return c.cursor=x({type:o.a.customCursor.type},u),e.attributes=JSON.stringify(c),i.push(e),this.drawGraphicsHandle(e,!0),this.toolInstance.updateToRemoteNewHandle([e],s.a.Create,!0,{isUndoAndRedo:!0},void 0,(function(e){r.removeEventsHandle()})),e},e.prototype.findSelfCursorHandle=function(e){var t=this.toolInstance.getUserID();return this.toolInstance.graphicList.find((function(r){return e?r.graphic_id===e:r.type===s.f.Cursor&&r.creator_id===t}))},e.prototype.drawGraphicsHandle=function(e,t){if(Object(a.l)()||!t){var r=this.toolInstance.getUserID(),i=e.graphic_id,n=e.creator_id;if(n!==r){var s=JSON.parse(Object(a.g)(e.attributes));if(s){var u=s.cursor;if(n!==r){if(this.toggleOtherCursorHandle(e))return void c.a.getInstance().info(["Whiteboard_View"],"cursor.drawGraphicsHandle","对端隐藏的光标")}else if(!this.toolInstance.getUserAuth().create)return c.a.getInstance().info(["Whiteboard_View"],"cursor.drawGraphicsHandle","无创建图元权限"),void this.hide();var l=this.toolInstance.whiteboardNode,d=o.a.reservedPrefix.cursorCon,p=l.querySelector("#"+d+i);if(p){var h=p.childNodes[0];h&&h.src!==u.url&&(h.parentNode.removeChild(h),(h=new Image).setAttribute("crossOrigin","anonymous"),h.onload=function(){h.width=h.width,h.height=h.height,p.appendChild(h)},h.src=u.url)}else{var f=""+d+i;(p=p=document.createElement("div")).id=f;var g=new Image;if(g.setAttribute("crossOrigin","anonymous"),g.onload=function(){g.width=g.width,g.height=g.height,p.appendChild(g)},g.src=u.url,l&&l.appendChild(p),r==n)(v=o.a.customCursor).enable=!0,v.attributes=JSON.stringify(u)}var _=e.data,m=_[0],y=_[1];if(s.hidden&&(m=-1024,y=-1024),n===r&&(this.cursorConNode=p,!t)){var v=o.a.customCursor,b=JSON.parse(Object(a.g)(v.attributes));u&&(b.url=u.url,b.pox_x=u.pox_x,b.pox_y=u.pox_y,v.attributes=JSON.stringify(b))}p.style.cssText="transform:translate("+(m||0)+"px, "+(y||0)+"px) scale("+1/this.toolInstance.viewInfo.zoom+");transform-origin:0 0;left:"+-u.pox_x/this.toolInstance.viewInfo.zoom+"px;top: "+-u.pox_y/this.toolInstance.viewInfo.zoom+"px;"}else c.a.getInstance().info(["Whiteboard_View"],"cursor.drawGraphicsHandle","no attr")}}},e.prototype.show=function(){var e;if(this.findSelfCursorHandle()){this.toolInstance.whiteboardNode.style.cursor="initial";var t=o.a.customCursor,r=JSON.parse(t.attributes),i=r.pox_x?Number(r.pox_x)-1:0,n=r.pox_y?Number(r.pox_y)-1:0;(null===(e=this.defaultCursorPen)||void 0===e?void 0:e.url)&&(this.toolInstance.whiteboardNode.style.cursor="url("+this.defaultCursorPen.url+") "+this.defaultCursorPen.offsetX+" "+this.defaultCursorPen.offsetY+", auto"),this.toolInstance.whiteboardNode.style.cursor="url("+r.url+") "+i+" "+n+", auto"}},e.prototype.hide=function(){var e=this.findSelfCursorHandle();if(e){var t=o.a.basicState.type===s.k.ZegoWhiteboardViewToolPen;this.cursorConNode&&(this.cursorConNode.style.display="none"),this.toolInstance.whiteboardNode.style.cursor=t?"none":"initial";var r=JSON.parse(e.attributes);r.hidden=!0,e.attributes=JSON.stringify(r),e.data=[-1024,-1024],this.toolInstance.updateToRemoteNewHandle([e],s.a.Update,!0,{isUndoAndRedo:!0},void 0,(function(e){}))}},e.prototype.deleteCursorElement=function(e){var t,r,i=this.toolInstance.whiteboardNode,n=o.a.reservedPrefix.cursorCon,a=i.querySelector("#"+n+e);a&&(a.id==(null===(t=this.cursorConNode)||void 0===t?void 0:t.id)&&(this.cursorConNode=null),null===(r=null==a?void 0:a.parentNode)||void 0===r||r.removeChild(a))},e.prototype.updateCursorAttr=function(e){void 0===e&&(e=!1);var t=o.a.customCursor,r=JSON.parse(t.attributes),i=this.findSelfCursorHandle();if(i){var n=JSON.parse(i.attributes);n.cursor=x({type:o.a.customCursor.type},r),n.hidden=!1,i.attributes=JSON.stringify(n),this.drawGraphicsHandle(i,!0),e&&this.toolInstance.updateToRemoteNewHandle([i],s.a.Update,!0,{isUndoAndRedo:!0})}},e.prototype.updateOtherCursor=function(){var e=this,t=o.a.reservedPrefix.cursorCon,r=this.toolInstance,i=r.whiteboardNode,n=r.graphicList,s=this.toolInstance.getUserID();n.filter((function(e){return 1024===e.type&&e.creator_id!==s})).forEach((function(r){var o=JSON.parse(Object(a.g)(r.attributes)).cursor,n=r.data,s=n[0],c=n[1],u=i.querySelector("#"+t+r.graphic_id);u&&(u.style.cssText="transform:translate("+(s||0)+"px, "+(c||0)+"px) scale("+1/e.toolInstance.viewInfo.zoom+");transform-origin:0 0;left:"+-o.pox_x/e.toolInstance.viewInfo.zoom+"px;top: "+-o.pox_y/e.toolInstance.viewInfo.zoom+"px;")}))},e.prototype.pushActualPlaceHandle=function(){var e=this.findSelfCursorHandle();if(e){var t=e.data,r=t[0],o=t[1];if(r<0&&o<0)return;this.toolInstance.updateOffsetAndScrollHandle(),this.toolInstance.updateToRemoteNewHandle([this.calCursorPlaceHandle(e)],s.a.Update,!0,{isUndoAndRedo:!0})}},e.prototype.calCursorPlaceHandle=function(e){e=JSON.parse(JSON.stringify(e));var t=this.toolInstance.viewInfo,r=t.zoom,o=t.zoomTX,i=t.zoomTY,n=t.offsetPageX,a=t.offsetPageY,s=e.data,c=s[0],u=s[1],l=this.toolInstance.conNode,d=l.scrollLeft,p=l.scrollTop,h=Math.round((c+d-o)/r+n),f=Math.round((u+p-i)/r+a);return e.data=[h,f],e},e}(),E=function(){return(E=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},P=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<r;t++)for(var n=arguments[t],a=0,s=n.length;a<s;a++,i++)o[i]=n[a];return o},k=function(){function e(e){this.mousePoints={sx:-1,sy:-1,ex:-1,ey:-1,boxX:0,boxY:0},this.graphicList=[],this.enableDraw=!0,this.graphicTaskList=[],this.undoList=[],this.clearUndoData=null,this.redoList=[],this.doTaskSeq=0,this.canDo=!0,this.isReloading=!1,this.graphicExtraMap={},this.customCursor=null,this.instancesMap={};var t=e.whiteboardID,r=e.zoomNode,o=e.conNode,i=e.serviceHandle,n=e.graphicsConNode,a=e.graphicsBoxConNode,s=e.viewInfo,c=e.whiteboardNode;this.whiteboardID=t,this.conNode=o,this.zoomNode=r,this.userNode=r.parentNode,this.graphicsConNode=n,this.whiteboardNode=c,this.graphicsBoxConNode=a,this.serviceHandle=i,this.viewInfo=s,this.updateOffsetAndScrollHandle(),this.initDrawHandle()}return e.prototype.getTranslateXY=function(e){if(!e)return{x:0,y:0};var t=e.match(/translate\((-?\d*.?\d*)px(\,\s*(-?\d*.?\d*)px)?\)/);return{x:+t[1]||0,y:+t[3]||0}},e.prototype.clearRealTimeInterval=function(e){clearInterval(this.graphicExtraMap[e].realTimeId),delete this.graphicExtraMap[e]},e.prototype.realTimeHandle=function(e,t){var r,i,n=this,u=t.graphic_id,l=t.is_end_draw,d=t.operate_id,p=this.graphicList.find((function(e){return e.graphic_id==u&&Object(a.g)(e.operate_id)==Object(a.g)(d)}));if(p){var h=o.a.realTimeState,f=h.remoteDrawDelay,g=h.remoteDrawCount,_=h.remoteDrawEndDelay;l?l&&(null===(i=this.graphicExtraMap[u])||void 0===i?void 0:i.realTimeId)&&(this.clearRealTimeInterval(u),c.a.getInstance().info(["Whiteboard_View"],"gra.remote_draw_realtime_end",u)):this.graphicExtraMap[u]&&this.graphicExtraMap[u].realTimeId?(r=p.data).push.apply(r,t.data):(this.graphicExtraMap[u]=this.graphicExtraMap[u]||{},this.graphicExtraMap[u].realTimeIndex=0,this.graphicExtraMap[u].realTimeId=setInterval((function(t){var r,o=n.graphicList.find((function(e){return e.graphic_id===t}));if(o&&n.graphicExtraMap[t]){var i=o.data,a=n.graphicExtraMap[t].realTimeIndex>=i.length;if(a)a&&Date.now()-n.graphicExtraMap[t].realTimeLast>_&&(o.is_end_draw=!0,n.clearRealTimeInterval(t),c.a.getInstance().info(["Whiteboard_View"],"gra.remote_draw_realtime_timeout",t));else{n.graphicExtraMap[t].realTimeLast=Date.now();var u=o.attributes;(o=JSON.parse(JSON.stringify(o))).data=i.slice(0,n.graphicExtraMap[t].realTimeIndex+=g),o.attributes=u,e.drawGraphicsHandle(o,s.e.Remote)}}else!o&&(null===(r=n.graphicExtraMap[t])||void 0===r?void 0:r.realTimeId)&&(n.clearRealTimeInterval(t),c.a.getInstance().info(["Whiteboard_View"],"gra.remote_draw_realtime_deleted",t))}),f,u))}},e.prototype.createHandle=function(e,t,r){var o=e.graphic_id;if(!this.graphicList.some((function(e){return e.graphic_id===o})))switch(this.graphicList.push(e),e.type){case s.f.Text:t.drawGraphicsHandle(e,!1);break;default:r.drawGraphicsHandle(e,s.e.UnReDo)}},e.prototype.moveHandle=function(e,t){var r=e.graphic_id,o=e.x,i=e.y,n=e.type;if(n===s.f.Image)this.assingImageGraphicData(e,s.a.Move),t.updateGraphicsImage(e);else{this.setDataToGraphicList(r,{x:o,y:i});var a=n===s.f.Laser?""+1/this.viewInfo.zoom:void 0;this.moveGraphicsHandle(r,o,i,a)}},e.prototype.updateHandle=function(e,t,r){switch(e.type){case s.f.Text:t.backUpdateGraphicsHandle(e);break;case s.f.Image:this.assingImageGraphicData(e,s.a.Update),r.updateGraphicsImage(e);break;case s.f.BgImage:this.background.remoteAddBackgroundImageGraphic(e)}},e.prototype.assingImageGraphicData=function(e,t){var r=e.graphic_id;this.graphicList.some((function(o){if(o.graphic_id===r){if(Object.assign(o.data,e.data),Object.assign(o.oldData,e.oldData),t===s.a.Move)o.x=e.x,o.y=e.y,o.px=e.px,o.py=e.py;else if(t===s.a.Update){var i=o.data,n=i.x,a=i.y;o.initX=n-o.x,o.initY=a-o.y}return!0}return!1}))},e.prototype.reverseGraphicByMove=function(e){if(e.x=[e.px||0,e.px=e.x][0],e.y=[e.py||0,e.py=e.y][0],e.type===s.f.Image){var t=e.data,r=t.ex-t.x,o=t.ey-t.y;t.x=e.x+(e.initX||0),t.y=e.y+(e.initY||0),t.ex=t.x+r,t.ey=t.y+o}},e.prototype.resetImageGraphicOrigin=function(e){var t=e.data,r=t.x,o=t.y;e.initX=r-e.x,e.initY=o-e.y},e.prototype.createUndoData=function(e){var t=this;if(!(e=e.filter((function(e){return e.type!==s.f.Cursor}))).length)return[];var r=JSON.parse(JSON.stringify(e)),o=r[0],i=o.action,n=o.type,c=o.oldData,u=o.data;if(i===s.a.Create||i===s.a.Append||i===s.a.Update)switch(n){case s.f.Text:var l=Object(a.s)(c).text,d=Object(a.s)(u).text;if(!l&&!d)return[];l?(o.action=d?s.a.Update:s.a.Create,o.data=c,o.oldData=u):o.action=s.a.Delete;break;case s.f.Pencil:case s.f.Line:case s.f.Rect:case s.f.Ellipse:o.action=s.a.Delete;break;case s.f.Image:i===s.a.Create?o.action=s.a.Delete:(o.data=c,o.oldData=u,this.resetImageGraphicOrigin(o));case s.f.BgImage:i===s.a.Create?o.action=s.a.Delete:(o.data=c,o.oldData=u)}else i===s.a.Delete?r.forEach((function(e){e.action=s.a.Create,e.type===s.f.Image&&t.resetImageGraphicOrigin(e)})):i===s.a.Move&&r.forEach((function(e){return t.reverseGraphicByMove(e)}));return r.forEach((function(e){e.operate_id=Object(a.d)(),e.is_end_draw=!0})),r},e.prototype.reverseData=function(e){var t=this;e.length&&e.forEach((function(e){var r=e.action,o=e.data,i=e.oldData;switch(r){case s.a.Create:e.action=s.a.Delete;break;case s.a.Delete:e.action=s.a.Create;break;case s.a.Move:t.reverseGraphicByMove(e);break;case s.a.Update:e.data=i,e.oldData=o}e.operate_id=Object(a.d)(),e.is_end_draw=!0}))},e.prototype.createBackground=function(e,t){this.background||(this.background=new I(this,e)),t&&this.background.createContainer(e)},e.prototype.setCustomCursor=function(e){void 0===e&&(e=!1),this.customCursor?this.customCursor.updateCursorAttr():this.customCursor=new O(this)},e.prototype.triggerAnimateHandle=function(e,t){t===s.e.Remote?e.classList.add("transition"):e.classList.remove("transition")},e.prototype.transLocationHandle=function(e,t){var r=e.clientX,o=e.clientY,i=this.offsetData,n=i.offsetLeft,a=i.offsetTop,s=this.scrollData,c=s.scrollLeft,u=s.scrollTop,l=this.viewInfo,d=l.zoom,p=l.zoomTX,h=l.zoomTY,f={clientX:(r-n+c-p)/d+l.offsetPageX,clientY:(o-a+u-h)/d+l.offsetPageY};return t||(f.clientX=Math.round(f.clientX),f.clientY=Math.round(f.clientY)),f},e.prototype.transLocationOrigin=function(e){var t=e.clientX,r=e.clientY,o=this.viewInfo,i=o.offsetPageX,n=o.offsetPageY,a=o.zoom,s=this.whiteboardNode.parentNode,c=s.scrollLeft,u=s.scrollTop;return{clientX:Math.round(t+c/a+i),clientY:Math.round(r+u/a+n)}},e.prototype.bindEventsHandle=function(e){this.initDrawHandle();var t=this.instancesMap[e];t&&t.bindEventsHandle(),c.a.getInstance().info(["WhiteBoard_View"],"Tool.bindEventsHandle",JSON.stringify({type:e}))},e.prototype.bindCursorEventsHandle=function(){var e;null===(e=this.customCursor)||void 0===e||e.bindEventsHandle()},e.prototype.removeEventsHandle=function(e){var t=this.instancesMap[e];t&&t.removeEventsHandle()},e.prototype.moveGraphicsHandle=function(e,t,r,o){var i=this.getGraphicsHandle(e);if(i)if("g"===i.tagName){var n=Object(a.h)(i)[0];o=(o=n.getAttribute("transform")||"")&&o.includes("scale(")?o.replace(/.*(scale\(\d+(.\d+)?,(\s*)?\d+(.\d+)?\)).*/," $1"):"",n.setAttribute("transform","translate("+(t||0)+", "+(r||0)+")"+o)}else{var s="translate("+(t||0)+"px, "+(r||0)+"px)",c=i.style.transform.match(/scale\((\d*.?\d*)\)/),u=c?c[1]:"";!o&&u?s=s+" scale("+u+")":o&&(s=s+" scale("+o+")"),i.style.transform=s}},e.prototype.getGraphicsHandle=function(e,t){void 0===t&&(t=this.userNode);var r=t.querySelector("#"+o.a.reservedPrefix.graphics+e);return r&&(r=r.parentNode),r},e.prototype.batchGetGraphicsHandle=function(e,t){return void 0===e&&(e=this.userNode),e.querySelectorAll("[id^="+t+"]")},e.prototype.getBoxSelHandle=function(e){return"#"+o.a.reservedPrefix.graphicsBox+e},e.prototype.updateOffsetAndScrollHandle=function(){this.offsetData=Object(a.i)(this.conNode),this.scrollData=Object(a.j)(this.conNode)},e.prototype.updateGraphicsOffsetHandle=function(e,t,r){var o=e.x,i=e.y;e.x=o+t,e.y=i+r},e.prototype.calMoveHandle=function(){var e=this.mousePoints,t=e.sx,r=e.sy,o=e.ex,i=e.ey;return-1!==t&&-1!==r?(this.mousePoints.boxX+=o-t,this.mousePoints.boxY+=i-r,[o-t,i-r]):[0,0]},e.prototype.updateMousePointsHandle=function(e,t){null==e||null==t?this.mousePoints={sx:-1,sy:-1,ex:-1,ey:-1,boxX:0,boxY:0}:(-1!==this.mousePoints.ex&&-1!==this.mousePoints.ey&&(this.mousePoints.sx=this.mousePoints.ex,this.mousePoints.sy=this.mousePoints.ey),this.mousePoints.ex=e,this.mousePoints.ey=t)},e.prototype.updateToRemoteNewHandle=function(e,t,r,o,i,n){if(void 0===r&&(r=!0),e.length){var c=Object(a.v)(e,t);if((!o||!o.isUndoAndRedo)&&(this.redoList.length=0),r){var u=this.graphicTaskList.length,l={taskStatus:u?s.h.Pending:s.h.InProgress,graphicList:c};!u&&this.graphicTaskList.push(l),this.syncUpdateToRemoteQueue(l,n)}else this.unSyncUpdateToRemoteQueue(c,o,i,n)}},e.prototype.unSyncUpdateToRemoteQueue=function(e,t,r,o){var n=this;this.serviceHandle.updateToRemoteHandle(this.whiteboardID,e,(function(){if(!t||!t.isUndoAndRedo){var o=n.createUndoData(e);n.undoList.push(o)}r&&r()}),(function(e){i.e.emit(i.b.Error,e),o&&o(e)}))},e.prototype.syncUpdateToRemoteQueue=function(e,t){var r=this;e.taskStatus===s.h.Pending?-1===this.graphicTaskList.findIndex((function(e){return e.taskStatus===s.h.Pending}))?this.graphicTaskList.push(e):this.mergegGraphicTaskList(e):this.serviceHandle.updateToRemoteHandle(this.whiteboardID,e.graphicList,(function(){r.graphicTaskCallbackHandle(s.g.success)}),(function(e){r.graphicTaskCallbackHandle(s.g.error,t,e)}))},e.prototype.filterUndoAndRedo=function(e){var t=this;return e.filter((function(e){var r=e.action,o=e.graphic_id,i=t.graphicList.some((function(e){return e.graphic_id===o}));return!i&&r===s.a.Create||i&&(r===s.a.Delete||r===s.a.Move||r===s.a.Update||r===s.a.Append)}))},e.prototype.undoClearPage=function(){this.clearUndoData&&this.updatePushLocalHandle(this.clearUndoData,[])},e.prototype.undoNewHandle=function(){var e=this;if((!this.graphicTaskList[0]||this.graphicTaskList[0].taskStatus!==s.h.InProgress)&&this.canDo){var t=this.undoList.length;if(t){var r=this.filterUndoAndRedo(this.undoList[t-1]);r.length?(this.canDo=!1,this.updateToRemoteNewHandle(r,void 0,!1,{isUndoAndRedo:!0},(function(){e.undoList.pop();var t=JSON.parse(JSON.stringify(r));e.updateLocalHandle(t),e.reverseData(t),e.redoList.push(t),e.canDo=!0}),(function(t){e.canDo=!0}))):this.undoList.pop()}}},e.prototype.redoNewHandle=function(){var e=this;if((!this.graphicTaskList[0]||this.graphicTaskList[0].taskStatus!==s.h.InProgress)&&this.canDo){var t=this.redoList.length;if(t){var r=this.filterUndoAndRedo(this.redoList[t-1]);r.length?(this.canDo=!1,this.updateToRemoteNewHandle(r,void 0,!1,{isUndoAndRedo:!0},(function(){e.redoList.pop();var t=JSON.parse(JSON.stringify(r));e.updateLocalHandle(t),e.reverseData(t),e.undoList.push(t),e.canDo=!0}),(function(t){e.canDo=!0}))):this.redoList.pop()}}},e.prototype.findLastTaskIndex=function(e,t){var r=this.graphicTaskList.slice(1);r.reverse();var o=r.findIndex((function(r){return r.graphicList[0][e]===t}));return-1!==o?r.length-o:-1},e.prototype.mergeMoveActionTaskList=function(e){var t=e.graphicList[0].operate_id,r=this.findLastTaskIndex("operate_id",t);-1===r?this.graphicTaskList.push(e):this.graphicTaskList.splice(r+1,1,e)},e.prototype.mergeOtherActionTaskList=function(e){switch(e.graphicList[0].type){case s.f.Text:this.mergeTextTaskList(e);break;case s.f.Pencil:this.mergePathTaskList(e);break;case s.f.Ellipse:case s.f.Rect:case s.f.Line:case s.f.Image:case s.f.BgImage:this.mergeOtherTaskList(e)}},e.prototype.mergeLaserTaskList=function(e){var t=e.graphicList[0],r=t.action,o=t.graphic_id;if(r===s.a.Move){var i=this.findLastTaskIndex("graphic_id",o);-1===i?this.graphicTaskList.push(e):this.graphicTaskList.splice(i,1,e)}else this.graphicTaskList.push(e)},e.prototype.mergeTextTaskList=function(e){var t=e.graphicList[0].operate_id;this.findLastTaskIndex("operate_id",t);this.graphicTaskList.push(e)},e.prototype.mergePathTaskList=function(e){var t=e.graphicList[0],r=t.operate_id,o=t.action,i=this.findLastTaskIndex("operate_id",r);if(-1===i)this.graphicTaskList.push(e);else{var n=this.graphicTaskList[i];n.graphicList[0].action===s.a.Create||o===s.a.Update?this.graphicTaskList.push(e):n.graphicList.forEach((function(t,r){t.data=t.data.concat(e.graphicList[r].data)}))}},e.prototype.mergeOtherTaskList=function(e){var t=e.graphicList[0].operate_id,r=this.findLastTaskIndex("operate_id",t);-1===r?this.graphicTaskList.push(e):this.graphicTaskList[r].graphicList[0].action===s.a.Create?this.graphicTaskList.push(e):this.graphicTaskList.splice(r,1,e)},e.prototype.mergegGraphicTaskList=function(e){var t=e.graphicList[0],r=t.action;t.type===s.f.Laser?this.mergeLaserTaskList(e):r===s.a.Move?this.mergeMoveActionTaskList(e):this.mergeOtherActionTaskList(e)},e.prototype.graphicTaskCallbackHandle=function(e,t,r){var o=this.graphicTaskList[0];if(o)if(o.taskStatus===s.h.InProgress){var n=o.graphicList[0],a=n.is_end_draw,c=n.type;n.action,n.graphic_id;if(a)if(e===s.g.success){if(c!==s.f.Laser&&c!==s.f.BgImage){var u=this.createUndoData(o.graphicList);this.undoList.push(u)}}else{if(c!==s.f.Laser){u=this.createUndoData(o.graphicList);this.updateLocalHandle(u)}t?t&&t(r):i.e.emit(i.b.Error,r)}else e===s.g.error&&(t?t&&t(r):i.e.emit(i.b.Error,r));this.graphicTaskList.shift();var l=this.graphicTaskList[0];l&&(l.taskStatus=s.h.InProgress)&&this.syncUpdateToRemoteQueue(l)}else o.taskStatus=s.h.InProgress,this.syncUpdateToRemoteQueue(o)},e.prototype.updateLocalHandle=function(e){var t=this;c.a.getInstance().info(["Whiteboard_View"],"gra.draw_local",JSON.stringify(e)),this.updateOffsetAndScrollHandle();var r=this.getInstanceHandle(s.k.ZegoWhiteboardViewToolText),o=this.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine),i=this.getInstanceHandle(s.k.ZegoWhiteboardViewToolSelector);i.hideImageEditBox(),i.hideSelectBox(),e.forEach((function(e){switch(e.action){case s.a.Delete:t.deleteHandle(e.graphic_id,e.type);break;case s.a.Create:e.type==s.f.BgImage||(t.createHandle(e,r,o),t.updateBoxHandle(e));break;case s.a.Move:t.moveHandle(e,o),t.updateBoxHandle(e);break;case s.a.Update:e.type==s.f.BgImage?t.updateHandle(e,r,o):(t.updateHandle(e,r,o),t.updateBoxHandle(e))}}))},e.prototype.updatePushLocalHandle=function(e,t){var r=this;c.a.getInstance().info(["Whiteboard_View"],"gra.remote_draw",JSON.stringify({graphicList:e,delGraphicList:t,actionMsg:"transValue"})),this.updateOffsetAndScrollHandle(),e.sort((function(e,t){return(e.zorder||0)-(t.zorder||0)})),t.forEach((function(e){return r.deleteHandle(e)}));var i=this.instancesMap[s.k.ZegoWhiteboardViewToolLaser],n=this.instancesMap[s.k.ZegoWhiteboardViewToolText],a=this.instancesMap[s.k.ZegoWhiteboardViewToolLine],u=this.instancesMap[s.k.ZegoWhiteboardViewToolSelector];u&&u.updateSelectorBoxHandle(e,t),e.forEach((function(e){var t,u=e.graphic_id,l=e.type,d=r.graphicList.some((function(t){return u===t.graphic_id&&(e.type!==s.f.RealTime&&(Object.assign(t,e),l===s.f.Image&&Object.assign(t.data,e.data)),!0)}));d||(l===s.f.Image&&(e.oldData=E({},e.data)),r.graphicList.push(e));var p="#"+o.a.reservedPrefix.graphicsBox+u;switch(d=d&&!!r.whiteboardNode.querySelector(p),l){case s.f.Cursor:null===(t=r.customCursor)||void 0===t||t.drawGraphicsHandle(e,!1);break;case s.f.Laser:i.drawGraphicsHandle(e,!1);break;case s.f.Text:d?n.updateGraphicsHandle(e):n.drawGraphicsHandle(e,!1),r.updateBoxHandle(e);break;default:l===s.f.RealTime?r.realTimeHandle(a,e):(d?(l===s.f.Pencil&&e.is_end_draw&&r.graphicExtraMap[u]&&(r.clearRealTimeInterval(u),c.a.getInstance().info(["Whiteboard_View"],"gra.remote_draw_realtime_end",u)),a.updateGraphicsHandle(e)):a.drawGraphicsHandle(e,s.e.Remote),r.updateBoxHandle(e))}}))},e.prototype.deleteHandle=function(e,t){var r,o,i=this.graphicList.find((function(t){return t.graphic_id==e}));if((null==i?void 0:i.type)==s.f.Cursor&&(null===(r=this.customCursor)||void 0===r||r.deleteCursorElement(e)),t==s.f.BgImage)this.background.updateToLocal(!0).clearBackgroundImage();else{Object(a.p)(this.getBoxHandle(e));var n=this.getGraphicsHandle(e);Object(a.p)("g"===(null==n?void 0:n.tagName)?n.parentNode:n);var c=this.graphicList.findIndex((function(t){return t.graphic_id===e}));if(-1!==c){var u=null===(o=this.graphicExtraMap[e])||void 0===o?void 0:o.realTimeId;u&&clearInterval(u),this.graphicList.splice(c,1)}}},e.prototype.updateBoxHandle=function(e,t){if(e.type===s.f.Laser)return null;var r=this.getBoxInfoByGraphic(e);if(!r)return null;var i=r.x,n=r.y,a=r.width,c=r.height,u=e.type,l=e.graphic_id,d=e.selected,p=e.zorder,h=this.getBoxHandle(l);if(!h){(h=document.createElement("div")).setAttribute("id",""+o.a.reservedPrefix.graphicsBox+l),u===s.f.Text&&(h.style.pointerEvents="initial");var f=null;if(p)for(var g=this.graphicsBoxConNode.querySelectorAll("[data-z]"),_=0;_<g.length;_++)if(+(g[_].getAttribute("data-z")||"")>p){f=g[_];break}this.graphicsBoxConNode.insertBefore(h,f),p&&this.updateGraphicsDomIndex(p)}var m="width:"+a+"px;height:"+c+"px;border:"+(d&&!0!==t?o.a.selectedBorderCss:o.a.unSelectedBorderCss)+";";return"blur"!==t&&(m+="left:"+i+"px;top:"+n+"px;"),h.style.cssText+=m,p&&h.setAttribute("data-z",p+""),h},e.prototype.updateBoxBorder=function(e,t){if(e.type!==s.f.Laser){var r=this.getBoxHandle(e.graphic_id);r&&(r.style.border=e.selected&&!t?o.a.selectedBorderCss:o.a.unSelectedBorderCss)}},e.prototype.updateGraphicsDomIndex=function(e){var t=this,r=Array.from(this.graphicsBoxConNode.querySelectorAll('[data-z="'+e+'"]')).map((function(e){return e.id.replace(/\D/g,"")}));if(r.length>1){var o=Array.from(this.graphicsConNode.querySelectorAll('[data-z="'+e+'"]')),i=o.map((function(e){return e.id.replace(/\D/g,"")}));if(r.join()!==i.join()){var n=o[o.length-1].nextSibling;r.forEach((function(e){t.graphicsConNode.insertBefore(o[i.findIndex((function(t){return t===e}))],n)}))}}},e.prototype.getInstanceHandle=function(e){var t=this.instancesMap[e];if(!t){switch(e){case s.k.ZegoWhiteboardViewToolLaser:t=new l(this);break;case s.k.ZegoWhiteboardViewToolLine:t=new p(this);break;case s.k.ZegoWhiteboardViewToolText:t=new f(this);break;case s.k.ZegoWhiteboardViewToolEraser:t=new g(this);break;case s.k.ZegoWhiteboardViewToolSelector:t=new y(this)}this.instancesMap[e]=t}return t},e.prototype.getUserID=function(){return this.serviceHandle.getUserID()},e.prototype.getUserAuth=function(){return this.serviceHandle.getUserAuth()},e.prototype.getRoomState=function(){return this.serviceHandle.getRoomState()},e.prototype.getBoxHandle=function(e){var t=this.getBoxSelHandle(e);return this.userNode.querySelector(t)},e.prototype.setGraphicsDomZorder=function(e){var t=e.graphic_id,r=e.type,i=e.zorder,n=o.a.reservedPrefix,a=n.textareaCon,c=n.graphicsSvg,u=n.graphicsBox,l=r===s.f.Text?"#"+a+t:"#"+c+t,d=this.whiteboardNode.querySelector(l);d&&i&&d.setAttribute("data-z",i+""),l="#"+u+t,(d=this.whiteboardNode.querySelector(l))&&i&&d.setAttribute("data-z",i+"")},e.prototype.appendGraphicsDomHandle=function(e,t){if(s.f.Laser===t)this.graphicsConNode.appendChild(e);else{var r=+(e.getAttribute("data-z")||"");if(r)for(var i=this.graphicsConNode.querySelectorAll("[data-z]"),n=0;n<i.length;n++)if(+(i[n].getAttribute("data-z")||"")>r)return void this.graphicsConNode.insertBefore(e,i[n]);var a=this.graphicsConNode.querySelector("[id^="+o.a.reservedPrefix.laserCon+"]");this.graphicsConNode.insertBefore(e,a)}},e.prototype.getImageDomHandle=function(e){var t=o.a.reservedPrefix,r=t.graphics,i=t.graphicsBox;return[this.userNode.querySelector("#"+r+e),this.userNode.querySelector("#"+i+e)]},e.prototype.appendImageDomHandle=function(e,t){var r=o.a.reservedPrefix,i=r.graphicsSvg,n=r.graphics,a=r.laserCon,s=r.graphicsBox,c=document.createElementNS("http://www.w3.org/2000/svg","g"),u=document.createElementNS("http://www.w3.org/2000/svg","image");u.id=""+n+e,c.appendChild(u);var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.id=""+i+e,l.setAttribute("xmlns","http://www.w3.org/2000/svg"),l.setAttribute("version","1.1"),l.appendChild(c);var d=document.createElement("div");if(d.id=""+s+e,t){l.setAttribute("data-z",t+""),d.setAttribute("data-z",t+"");for(var p=this.graphicsConNode.querySelectorAll("[data-z]"),h=0;h<p.length;h++)if(+(p[h].getAttribute("data-z")||"")>t){this.graphicsConNode.insertBefore(l,p[h]);var f=this.graphicsBoxConNode.querySelectorAll("[data-z]")[h];return void this.graphicsBoxConNode.insertBefore(d,f)}}var g=this.graphicsConNode.querySelector("[id ^= "+a+"]");this.graphicsConNode.insertBefore(l,g),this.graphicsBoxConNode.appendChild(d)},e.prototype.resetImageBox=function(){var e=this;this.graphicList.forEach((function(t){if(t.type===s.f.Image){var r=e.getBoxHandle(t.graphic_id),o=t.y+(t.initY||0);r&&Math.abs(Number(r.style.top.replace("px",""))-o)>3&&e.updateBoxHandle(t)}}))},e.prototype.checkMultipointHandle=function(e){return e.touches.length>1},e.prototype.downCommonHandle=function(e){if(window.TouchEvent&&e instanceof TouchEvent){if(this.checkMultipointHandle(e))return!1;"touchstart"!==e.type&&e.preventDefault()}else if(e instanceof MouseEvent&&(e.button||"mouseup"!==e.type&&!e.buttons))return!1;return this.updateOffsetAndScrollHandle(),!0},e.prototype.updateProtoGraphic=function(e){if(e)Object.assign(this.protoGraphic,e);else{var t=o.a.basicState.type;this.protoGraphic=E(E({zorder:0,graphic_id:"",data:[],oldData:"",selected:!1,x:0,y:0,px:0,py:0},o.a.basicState),{type:t,operate_id:"",is_end_draw:!0})}},e.prototype.updateGraphicsDataHandle=function(e){var t=null;switch(this.protoGraphic.type){case s.f.Pencil:(t=this.protoGraphic.data)[t.length-2]===e.clientX&&t[t.length-1]===e.clientY||(t.push(e.clientX),t.push(e.clientY));break;case s.f.Image:(t=this.protoGraphic.data).ex=e.clientX,t.ey=e.clientY;break;default:(t=this.protoGraphic.data).splice(2,2,e.clientX,e.clientY)}},e.prototype.initDrawHandle=function(){this.updateProtoGraphic(),this.updateMousePointsHandle()},e.prototype.getBoxInfoByGraphic=function(e){var t=e.type,r=e.graphic_id,i=this.getGraphicsHandle(r);if(!i)return null;var n=Object(a.k)(e),c=t===s.f.Text||t===s.f.Image?0:e.size||o.a.basicState.size,u=this.viewInfo,l=u.zoom,d=u.offsetPageY,p=u.isScroll,h=o.a.boxBorderWidth,f=i.getBoundingClientRect(),g=f.left,_=f.top,m=f.width,y=f.height;!p&&_>d&&this.isReloading&&(_-=d);var v=this.transLocationHandle({clientX:g,clientY:_},n),b=v.clientX,w=v.clientY;return{x:g=Math.floor(b-h-c/2),y:_=Math.floor(w-h-c/2),width:m=Math.ceil(m/l+c+h),height:y=Math.ceil(y/l+c+h)}},e.prototype.getMouseStartPoint=function(e,t){var r;if(e instanceof MouseEvent){var o=e,i=o.clientX,n=o.clientY;r=this.transLocationHandle({clientX:i,clientY:n},t)}else{var a=e.touches[0];i=a.clientX,n=a.clientY;r=this.transLocationHandle({clientX:i,clientY:n},t)}return r},e.prototype.getMouseChangedPoint=function(e,t){var r;if(e instanceof MouseEvent){var o=e,i=o.clientX,n=o.clientY;r=this.transLocationHandle({clientX:i,clientY:n},t)}else{var a=e.changedTouches[0];i=a.clientX,n=a.clientY;r=this.transLocationHandle({clientX:i,clientY:n},t)}return r},e.prototype.getWhiteboardNodeRect=function(){var e=this.offsetData,t=e.offsetLeft,r=e.offsetTop,o=this.viewInfo,i=o.zoom,n=o.viewWidth,a=o.viewHeight;return i>1?{left:t,top:r,right:t+n,bottom:r+a}:this.whiteboardNode.getBoundingClientRect()},e.prototype.isTouchLeaveWhenMove=function(e,t){if(o.a.isTouch&&window.TouchEvent&&e instanceof TouchEvent){var r=e.changedTouches[0],i=r.clientX,n=r.clientY,a=t.left,s=t.right,c=t.top,u=t.bottom;return i<=a||i>=s||n<=c||n>=u}return!1},e.prototype.setDataToGraphicList=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var o=0,i=this.graphicList.length;o<i;o++){var n=this.graphicList[o];if(e===n.graphic_id){Object.assign.apply(Object,P([n],t));break}}},e.prototype.getDataFromGraphicList=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var o={},i=function(r,i){var a=n.graphicList[r];if(e===a.graphic_id)return t.forEach((function(e){o[e]=a[e]})),"break"},n=this,a=0,s=this.graphicList.length;a<s;a++){var c=i(a,s);if("break"===c)break}return o},e.prototype.filterExistingHandle=function(e){var t=this;return e.filter((function(e){var r=e.graphic_id;return e.action===s.a.Create||t.graphicList.some((function(e){return e.graphic_id===r}))}))},e.prototype.clearLocalHandle=function(){var e;this.graphicTaskList.length=0;var t=o.a.basicState.type;if(t!==s.k.ZegoWhiteboardViewToolClick&&!t){var r=this.getInstanceHandle(t===s.k.ZegoWhiteboardViewToolPen||t===s.k.ZegoWhiteboardViewToolRect||t===s.k.ZegoWhiteboardViewToolEllipse||t===s.k.ZegoWhitebaordViewToolCustomImage?s.k.ZegoWhiteboardViewToolLine:t);r.removeEventsHandle(),r.bindEventsHandle()}this.clearUndoData=JSON.parse(JSON.stringify(this.graphicList)),this.undoList.length=0,this.redoList.length=0,this.pushClear=!0;var i=this.getInstanceHandle(s.k.ZegoWhiteboardViewToolLaser),n=i.findLaserHandle(),a=this.graphicList.find((function(e){return e.type===s.f.BgImage})),c=this.graphicList.filter((function(e){return e.type===s.f.Cursor}));this.graphicList.length=0,a&&this.graphicList.push(a),(e=this.graphicList).push.apply(e,c),this.graphicsConNode.innerHTML="",n&&i.addLaserHandle(n)},e.prototype.reverseZoomHandle=function(e){var t=this;if(e===s.k.ZegoWhiteboardViewToolLaser){var r=this.viewInfo.zoom;this.batchGetGraphicsHandle(this.graphicsConNode,o.a.reservedPrefix.laserCon).forEach((function(e){var o=e.style.transform,i=t.getTranslateXY(o),n=i.x,a=i.y;e.style.transform="translate("+n+"px, "+a+"px) scale("+1/r+")"}))}},e.prototype.getGraphicIsEndDraw=function(e){return this.serviceHandle.getGraphicIsEndDraw(e)},e.prototype.clearPage=function(e){this.enableDraw&&(this.updateGraphicPage(),this.graphicList.forEach((function(t){var r;t.selected=null===(r=t.page)||void 0===r?void 0:r.includes(e)})),this.deleteSelectedGraphics(s.c.ClearPage))},e.prototype.deleteSelectedGraphics=function(e){var t=this;if(this.enableDraw){var r=this.getUserID(),o=this.getUserAuth().delete,i=0,u=0,l=this.graphicList.filter((function(e){var n=!!e.selected&&e.type!==s.f.BgImage&&t.getGraphicIsEndDraw(e.graphic_id),a=o||r===e.creator_id;return n&&i++,n&&a&&u++,n&&a}));if(i!==u&&Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthDeleteGraphic),l.length){var d=this.getInstanceHandle(s.k.ZegoWhiteboardViewToolSelector);d.hideImageEditBox(),d.hideSelectBox(),l.forEach((function(e){e.is_end_draw=!0,e.operate_id=Object(a.d)(),t.deleteHandle(e.graphic_id)})),c.a.getInstance().info(["Whiteboard_View"],"gra.deleteSelectedGraphics",JSON.stringify({action:e,page:this.viewInfo.page,params:l.map((function(e){return e.graphic_id+","+e.page}))})),this.updateToRemoteNewHandle(l,s.a.Delete)}}},e.prototype.updateGraphicPage=function(){var e=this,t=this.graphicList.filter((function(t){return e.graphicsBoxConNode.querySelector(e.getBoxSelHandle(t.graphic_id))}));this.viewInfo.vpageAspecCache?t.forEach((function(t){var r=e.graphicsBoxConNode.querySelector(e.getBoxSelHandle(t.graphic_id)),o=r||{offsetTop:0,offsetHeight:0},i=o.offsetTop,n=o.offsetHeight,a=e.getPageByAspec(i,i+n);t.page=a||[e.viewInfo.page||1]})):!this.serviceHandle.getFileInfo(this.whiteboardID)&&this.conNode?t.forEach((function(t){var r=e.graphicsBoxConNode.querySelector(e.getBoxSelHandle(t.graphic_id)),o=[];if(1===e.viewInfo.direction){var i=r||{offsetLeft:0,offsetWidth:0},n=i.offsetLeft,a=i.offsetWidth;o=e.getPageByViewInfo(n,n+a,e.viewInfo.viewWidth)}else{var s=r||{offsetTop:0,offsetHeight:0},c=s.offsetTop,u=s.offsetHeight;o=e.getPageByViewInfo(c,c+u,e.viewInfo.viewHeight)}t.page=o||[e.viewInfo.page||1]})):this.graphicList.forEach((function(t){t.page=[e.viewInfo.page||1]}))},e.prototype.getPageByAspec=function(e,t){var r=this.viewInfo.vpageAspecCache;if(!r.hasOwnProperty("2"))return[1];for(var o=r.vs,i=r[o].h;i<=e&&r[o+1];)i+=r[o+1].h,o++;for(var n=o;i<=t&&r[n+1];)i+=r[n+1].h,n++;if(n===o)return[r[o].p];if(n-o>1){var a=new Array(n-o-1).fill(null);return a=a.map((function(e,t){return r[o+t+1].p})),P([r[o].p],a,[r[n].p])}return[r[o].p,r[n].p]},e.prototype.getPageByViewInfo=function(e,t,r){var o=Math.floor(e/r)+1,i=Math.floor(t/r)+1;if(i===o)return[o];if(i-o>1){var n=new Array(i-o-1).fill(null).map((function(e,t){return o+t+1}));return P([o],n,[i])}return[o,i]},e.prototype.toolAddEL=function(e,t,r){e.addEventListener(t,r);var i=o.a.mouseEvents[t];i&&e.addEventListener(i,r)},e.prototype.toolRmEl=function(e,t,r){e.removeEventListener(t,r);var i=o.a.mouseEvents[t];i&&e.removeEventListener(i,r)},e.prototype.updateOffsetPage=function(){var e=this.viewInfo,t=e.page,r=e.viewWidth,o=e.viewHeight,i=e.direction;e.isScroll||(i===s.p.Horizontal?this.viewInfo.offsetPageX=(t-1)*r:this.viewInfo.offsetPageY=(t-1)*o)},e}(),D=r(26),T=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},A=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},C=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<r;t++)for(var n=arguments[t],a=0,s=n.length;a<s;a++,i++)o[i]=n[a];return o},B=function(){function e(e,t){this.snapshotResult={image:""},this.canvasRatio=window.devicePixelRatio||1,this.toolInstance=e,this.backgroundInstance=t,this.file=this.toolInstance.serviceHandle.getFileInfo(this.toolInstance.whiteboardID),this.snapshotId=String(Date.now())}return e.prototype.snapshot=function(e){var t=this;return new Promise((function(r,o){return T(t,void 0,void 0,(function(){var t=this;return A(this,(function(o){return e&&(this.snapshotResult.userData=e),this.createCtx(),this.setWbBgColor(),this.setWbBgImage().then((function(){var e;if(t.file){var o={action:D.b.Snapshot,ctx:t.docsCtx,snapshotId:t.snapshotId};t.toolInstance.conNode.dispatchEvent(new CustomEvent(D.a.Whiteboard,{detail:o}))}t.wbSnapshot();var i=null===(e=t.file)||void 0===e?void 0:e.fileType;i===s.d.PPTH5||i===s.d.CUSTOM_H5?t.snapshotResolve=r:(t.snapshotResult.image=t.mergeCanvas(),r(t.snapshotResult))})),[2]}))}))}))},e.prototype.getH5Snapshot=function(e){var t=this,r=this.toolInstance.viewInfo,o=r.viewWidth,i=r.viewHeight,n=new Image;n.src=e,n.onload=function(){t.docsCtx.drawImage(n,0,0,o,i),t.snapshotResult.image=t.mergeCanvas(),t.snapshotResolve(t.snapshotResult)}},e.prototype.mergeCanvas=function(){var e=this.toolInstance.viewInfo,t=e.viewWidth,r=e.viewHeight,o=document.createElement("canvas");o.width=t*this.canvasRatio,o.height=r*this.canvasRatio;var i=o.getContext("2d");return i.scale(this.canvasRatio,this.canvasRatio),i.drawImage(this.docsCanvas,0,0,t,r),i.drawImage(this.wbCanvas,0,0,t,r),o.toDataURL("image/png",1)},e.prototype.createCtx=function(){var e=this.toolInstance.viewInfo,t=e.viewWidth,r=e.viewHeight;this.wbCanvas=document.createElement("canvas"),this.wbCanvas.width=t*this.canvasRatio,this.wbCanvas.height=r*this.canvasRatio,this.wbCtx=this.wbCanvas.getContext("2d"),this.wbCtx.scale(this.canvasRatio,this.canvasRatio),this.docsCanvas=document.createElement("canvas"),this.docsCanvas.width=t*this.canvasRatio,this.docsCanvas.height=r*this.canvasRatio,this.docsCtx=this.docsCanvas.getContext("2d"),this.docsCtx.scale(this.canvasRatio,this.canvasRatio)},e.containImg=function(e,t,r,o,i,n,a){var s=e,c=t,u=r,l=o;return i>n?(l=n/i*u,i/n<=r/o&&(u=i/n*o)):i<=n&&(u=i/n*l),"top"==a?(c=0,s=e+(r-u)/2):"bottom"==a?(c=t+(o-l),s=e+(r-u)/2):"left"==a?(s=0,c=t+(o-l)/2):"right"==a?(s=e+(r-u),c=t+(o-l)/2):"center"==a&&(s=e+(r-u)/2,c=t+(o-l)/2),{dx:s,dy:c,dWidth:u,dHeight:l}},e.prototype.setWbBgColor=function(){var e=this.file?o.a.basicExtraState.defaultFileBgColor:o.a.basicState.bgColor;this.setBgColor(this.wbCtx,e)},e.prototype.setWbBgImage=function(){var t=this;return new Promise((function(r){var o=t.backgroundInstance.backgroundInfo,i=o.image,n=o.pos,a=t.toolInstance.viewInfo,s=a.viewWidth,c=a.height;if(i){var u=new Image;u.setAttribute("crossOrigin","Anonymous"),u.onload=function(){var o=e.containImg(0,0,s,c,u.width,u.height,n);t.wbCtx.drawImage(u,o.dx,o.dy,o.dWidth,o.dHeight),r()},u.src=i}else r()}))},e.prototype.setBgColor=function(e,t){var r=this.toolInstance.viewInfo,o=r.viewWidth,i=r.viewHeight;e.fillStyle=t,e.fillRect(0,0,o,i)},e.prototype.wbSnapshot=function(){var e=this.sortGraphics();if(e)for(var t=0,r=e;t<r.length;t++){var o=r[t],i=this.getCorrectData(o);switch(o.type){case s.f.Pencil:case s.f.Line:this.renderPencil(o,this.wbCtx,i);break;case s.f.Rect:this.renderRect(o,this.wbCtx,i);break;case s.f.Ellipse:this.renderEllipse(o,this.wbCtx,i);break;case s.f.Text:this.renderText(o,this.wbCtx,i);break;case s.f.Image:this.renderImage(o,this.wbCtx,i)}}},e.prototype.renderPencil=function(e,t,r){var o=Object(a.t)(r);this.setCtxStyle(e,t),t.beginPath(),t.moveTo(o.moveTo[0],o.moveTo[1]),o.path.forEach((function(e){t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])})),t.stroke()},e.prototype.renderRect=function(e,t,r){var o=r[0],i=r[1],n=r[2]-o,a=r[3]-i;this.setCtxStyle(e,t),t.beginPath(),t.strokeRect(o,i,n,a)},e.prototype.renderEllipse=function(e,t,r){var o=r[0],i=r[1],n=(r[2]-o)/2,a=(r[3]-i)/2,s=o+n,c=i+a,u=n>a?Math.abs(n):Math.abs(a);this.setCtxStyle(e,t),t.beginPath(),t.save(),t.translate(s,c),t.scale(n/u,a/u),t.arc(0,0,u,0,2*Math.PI),t.restore(),t.stroke()},e.prototype.renderText=function(e,t,r){this.setCtxStyle(e,t);var i=r.split(","),n=i[0],a=i[1],s=i[2],c=this.toolInstance.getGraphicsHandle(e.graphic_id),u=this.getComputedFs(c.querySelector("pre")||c,"fontSize"),l=this.getComputedLh(c.querySelector("pre")||c,"lineHeight",u),d=(l-1)/2,p=s.split("\n"),h=o.a.textareaHPadding,f=o.a.textareaConBorderWidth;p.forEach((function(e,r){var o=+n+h+f,i=+a+u*l*r+u*d*1+f;t.fillText(""+e,o,i)}))},e.prototype.getComputedStyle=function(e,t,r){var o=window.getComputedStyle(e)[t];return r?r(o):o},e.prototype.getComputedLh=function(e,t,r){return this.getComputedStyle(e,t,(function(e){var t=1.2;return e.includes("px")&&(t=+e.replace(/px/,"")/r),t}))},e.prototype.getComputedFs=function(e,t){return this.getComputedStyle(e,t,(function(e){var t=12;return e.includes("px")&&(t=+e.replace(/px/,"")),t}))},e.prototype.renderImage=function(e,t,r){var i=r[0],n=r[1],a=r[2]-i,s=r[3]-n,c=this.toolInstance.graphicsConNode.querySelector("#"+o.a.reservedPrefix.graphics+e.graphic_id);"image"===(null==c?void 0:c.nodeName)&&t.drawImage(c,i,n,a,s)},e.prototype.setCtxStyle=function(e,t){var r=this.toolInstance.viewInfo.viewWidth,o=Object(a.c)(e.size,s.f.Pencil,r,!1);if(t.strokeStyle=e.color,t.fillStyle=e.color,e.type!==s.f.Text)t.lineWidth=o,t.lineJoin="round",t.lineCap="round";else{var i=this.toolInstance.getGraphicsHandle(e.graphic_id),n=this.getComputedFs(i.querySelector("pre")||i,"fontSize")+"px",c="string"==typeof e.attributes?JSON.parse(e.attributes):{},u=c.bold?"bold":"",l=c.italic?"italic":"",d=window.getComputedStyle(i.querySelector("pre")||i).fontFamily.replace(/"/g,"");t.textBaseline="hanging",t.font=l+" "+u+" "+n+" "+d+" "}},e.prototype.sortGraphics=function(){var e=this;return JSON.parse(JSON.stringify(this.toolInstance.graphicList)).filter((function(t){return e.toolInstance.getGraphicsHandle(t.graphic_id)})).sort((function(e,t){return(e.zorder||0)-(t.zorder||0)}))},e.prototype.getCorrectData=function(e){var t=e.type,r=e.data;switch(t){case s.f.Image:var o=e.data;r=this.correctData([o.x,o.y,o.ex,o.ey]);break;case s.f.Pencil:case s.f.Line:case s.f.Rect:case s.f.Ellipse:var i=this.correctData(e.data);r=this.getTransData(e,i);break;case s.f.Text:var n=e.data.split(","),a=n[2],c=this.correctData([+n[0],+n[1]]),u=this.getTransData(e,C(c));r=C(u,[a]).join(",")}return r},e.prototype.correctData=function(e){var t,r=this.toolInstance.viewInfo,o=r.direction,i=r.page,n=r.viewWidth,a=r.viewHeight,c=r.isScroll,u=r.zoom;if(o===s.p.Center)return e;if(o===s.p.Horizontal&&i)t=e.map((function(e,t){return t%2==0&&(e-=(i-1)*n),e}));else if(o===s.p.Vertical&&i){var l=this.toolInstance.whiteboardNode.parentNode.scrollTop;t=e.map((function(e,t){return t%2==1&&(e-=c?l/u:(i-1)*a),e}))}return t},e.prototype.getTransData=function(e,t){var r=e.x,o=e.y;return t.map((function(e,t){return e+=t%2==0?r:o}))},e}(),N=r(47);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var L=function(){return(L=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},V=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},j=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},R=function(){function e(e,t){var r=this;this.operationModes=Object.freeze({none:!1,scroll:!0,draw:!0,scale:!0}),this.canDraw=!0,this.activited=!1,this.viewInfo={},this.scaleInfo={x:-1,y:-1,syncTimer:0},this.snapshotInstances={},this.handleDragStart=function(e){if(r.operationModes.scale&&r.toolInstance.getUserAuth().scale&&(r.viewInfo.zoomX=r.viewInfo.zoomY=0,r.viewInfo.zoom>1&&!r.canDraw&&r.parentDom)){var t=e instanceof MouseEvent?e:e.changedTouches[0],o=t.clientX,i=t.clientY;r.viewInfo.zoomX=o,r.viewInfo.zoomY=i,c.a.getInstance().info(["WhiteBoard_View"],"handleDragStart",JSON.stringify({clientX:o,clientY:i}))}},this.handleDragEnd=function(e){r.handleDragMove(e,!0)},this.handleDragMove=function(e,t){if(r.operationModes.scale&&r.toolInstance.getUserAuth().scale&&r.viewInfo.zoom>1&&r.viewInfo.zoomX&&!r.canDraw){if(e instanceof MouseEvent&&!t&&e.buttons<1)return;"touchmove"===e.type&&e.preventDefault(),r.dragPage(e,!!t)}},this.preventDefaultDragEvent=function(e){e.preventDefault()},this.docsviewEventCallback=function(e){var t=e.detail,i=t.action;if(i!==D.b.H5Snapshot&&i!==D.b.DocsAspect&&c.a.getInstance().info(["WhiteBoard_View"],D.a.Docs,JSON.stringify({data:t})),i===D.b.Page)r.handleDocsPageEvent(t);else if(i===D.b.Animation)r.serviceHandle.appendH5Extra(r.whiteboardID,t.data);else if(i===D.b.DocsAspect)r.viewInfo.vpageAspecCache=t.data;else if(i===D.b.H5Snapshot)r.getH5SnapshotResult(t);else if(i===D.b.ReloadView)r.reinitView();else if(i===D.b.WbError){if(!r.serviceHandle.isPlayback&&(1e3==t.data||1001==t.data))return;Object(n.a)(t.data)}else if(i===D.b.Step)o.a.basicState.type===s.k.ZegoWhiteboardViewToolSelector&&r.hideSelectBox();else if(i===D.b.SyncDrag){var a=t,u=a.x,l=a.y,d=a.notify;r.viewInfo.isScroll||(r.viewInfo.zoomTX=u,r.viewInfo.zoomTY=l),d&&r.emitScaleFactor(u,l)}},this.whiteboardID=e,this.serviceHandle=t,this.bindEventUpdate()}return e.prototype.bindEventUpdate=function(){var e=this;i.e.on(i.c.SuperDocsLogoutRoom,(function(){e.clearEvent()}))},e.prototype.setWhiteboardTransform=function(e,t,r){r||(this.viewInfo.zoomTX=e,this.viewInfo.zoomTY=t);var o=this.viewInfo,i=o.viewWidth,n=o.viewHeight,a=o.zoom,c=o.direction,u=this.viewInfo.page||1;c===s.p.Horizontal?e-=(u-1)*i*a:t-=(u-1)*n*a,this.whiteboardNode.style.cssText+="transform:translate("+e+"px,"+t+"px) scale("+a+");"},e.prototype.dragPage=function(e,t){var r=this.viewInfo,o=r.zoom,i=r.zoomTX,n=r.zoomTY,a=r.zoomX,s=r.zoomY,u=r.viewWidth,l=r.viewHeight,d=e instanceof MouseEvent?e:e.changedTouches[0],p=i+d.clientX-a,h=n+d.clientY-s,f=u*(1-o);p>0?p=0:p<f&&(p=f),f=l*(1-o),h>0?h=0:h<f&&(h=f),t&&(this.viewInfo.zoomX=0,this.viewInfo.zoomY=0,this.emitScaleFactor(p,h)),this.setWhiteboardTransform(p,h,!t),c.a.getInstance().info(["WhiteBoard_View"],"dragPage",JSON.stringify({x:p,y:h,end:!t}))},e.prototype.initDragEvents=function(){this.viewInfo.hasOwnProperty("offsetPageX")||(this.viewInfo.offsetPageX=0,this.viewInfo.offsetPageY=0,this.viewInfo.zoom=1,this.viewInfo.zoomX=0,this.viewInfo.zoomY=0,this.viewInfo.zoomTX=0,this.viewInfo.zoomTY=0),this.parentDom&&!this.getFileInfo()&&(this.parentDom.addEventListener("mousedown",this.handleDragStart),this.parentDom.addEventListener("mousemove",this.handleDragMove),this.parentDom.addEventListener("mouseup",this.handleDragEnd),this.parentDom.addEventListener("mouseleave",this.handleDragEnd),this.parentDom.addEventListener("touchstart",this.handleDragStart),this.parentDom.addEventListener("touchmove",this.handleDragMove),this.parentDom.addEventListener("touchend",this.handleDragEnd),this.parentDom.addEventListener("touchcancel",this.handleDragEnd))},e.prototype.updateBindEvents=function(){this.toolInstance.removeEventsHandle(s.k.ZegoWhiteboardViewToolLaser),this.toolInstance.removeEventsHandle(s.k.ZegoWhiteboardViewToolLine),this.toolInstance.removeEventsHandle(s.k.ZegoWhiteboardViewToolText),this.toolInstance.removeEventsHandle(s.k.ZegoWhiteboardViewToolSelector),this.toolInstance.removeEventsHandle(s.k.ZegoWhiteboardViewToolEraser),this.toolInstance.bindCursorEventsHandle();var e=o.a.basicState.type;switch(e){case s.k.ZegoWhiteboardViewToolPen:case s.k.ZegoWhiteboardViewToolLine:case s.k.ZegoWhiteboardViewToolEllipse:case s.k.ZegoWhiteboardViewToolRect:case s.k.ZegoWhitebaordViewToolCustomImage:this.toolInstance.bindEventsHandle(s.k.ZegoWhiteboardViewToolLine);break;case s.k.ZegoWhiteboardViewToolLaser:case s.k.ZegoWhiteboardViewToolText:this.toolInstance.bindEventsHandle(e);break;case s.k.ZegoWhiteboardViewToolSelector:case s.k.ZegoWhiteboardViewToolEraser:this.toolInstance.getInstanceHandle(e),this.toolInstance.bindEventsHandle(e)}},e.prototype.initToolHandle=function(){this.toolInstance?(this.toolInstance.zoomNode=this.zoomNode,this.toolInstance.conNode=this.parentDom,this.toolInstance.graphicsConNode=this.graphicsConNode,this.toolInstance.whiteboardNode=this.whiteboardNode,this.toolInstance.graphicsBoxConNode=this.graphicsBoxConNode,this.penetrateEventHandle(o.a.basicState.type),this.getUniqueID()?this.setToolType(o.a.basicState.type):this.updateBindEvents()):(this.toolInstance=new k({whiteboardID:this.whiteboardID,zoomNode:this.zoomNode,conNode:this.parentDom,graphicsConNode:this.graphicsConNode,whiteboardNode:this.whiteboardNode,graphicsBoxConNode:this.graphicsBoxConNode,serviceHandle:this.serviceHandle,viewInfo:this.viewInfo}),this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLaser),this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine),this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolText),this.setToolType(o.a.basicState.type))},e.prototype.updateStateSizeHandle=function(){var e=this.viewInfo.viewWidth,t=o.a.basicState,r=t.size,i=t.fontSize;o.a.basicExtraState.drawSize=Object(a.c)(r,s.f.Line,e,!1),o.a.basicExtraState.drawFontSize=Object(a.c)(i,s.f.Text,e,!1)},e.prototype.getDocsViewAspect=function(e,t,r,o){var i=e.firstChild;if(i){var n=t.fileType,a="0"==e.getAttribute("data-mode"),c=Number(e.getAttribute("data-page")),u=i.clientWidth,l=i.clientHeight;if(u&&l||(u=+i.style.width.replace("px",""),l=+i.style.height.replace("px","")),n===s.d.PPTH5||n===s.d.CUSTOM_H5){var d=e.previousElementSibling;d&&(d.style.zIndex="0")}var p=document.getElementById(this.viewInfo.root),h=p.clientWidth,f=p.clientHeight,g=a&&l>o;this.updateViewInfo({isScroll:a,isOriginScroll:g,direction:s.p.Vertical,pageCount:c,width:u,height:l,viewWidth:r,viewHeight:o,page:this.viewInfo.page||1,zoom:this.viewInfo.zoom||1,parentWidth:h,parentHeight:f})}return{x:0,y:0,width:this.viewInfo.viewWidth,height:this.viewInfo.viewHeight}},e.prototype.getWhiteboardAspect=function(e,t,r){var o=this.getAspectRatio().split(":").map((function(e){return+e})),i=o[0],n=o[1];if(r){var a=this.viewInfo.pageCount,c=this.getWhiteboardLayout(e,t,i/a,n),u={parentWidth:e,parentHeight:t,width:c.width*a,height:c.height,viewWidth:c.width,viewHeight:c.height};return this.updateViewInfo(u),c}var l=this.serviceHandle.getPageCount(this.whiteboardID),d={zoom:1,page:1,pageCount:l,direction:l>1?s.p.Horizontal:s.p.Center,parentWidth:e,parentHeight:t},p=this.getWhiteboardLayout(e,t,i/l,n);return d.width=p.width*l,d.height=p.height,d.viewWidth=p.width,d.viewHeight=p.height,this.updateViewInfo(d),p},e.prototype.getWhiteboardLayout=function(e,t,r,o){var i=e,n=o*i/r;return(n>t||Math.abs(n-t)<=1)&&(i=t*e/n|0,n=t),{x:(e-i)/2,y:(t-(n|=0))/2,width:i,height:n}},e.prototype.checkParentSize=function(e,t){if(e<=0||t<=0){var r=Object(n.b)(s.j.ZegoWhiteboardViewErrorViewParentNotExist);throw i.e.emit(i.b.Error,r),new Error("无法获取容器宽高")}},e.prototype.createModule=function(e){var t=this;e&&this.toolInstance&&this.stopLocalDrawHandle(this.serviceHandle.getScrollPercent(this.whiteboardID).verticalPercent);var r=this.getFileInfo(),i=document.getElementById(this.viewInfo.parent);r?this.viewInfo.root=i.parentNode.parentNode.id:(this.viewInfo.root=this.viewInfo.parent,i.style.cssText+="position:relative;display:inherit!important;");var n=i.clientWidth,c=i.clientHeight;n&&c||(n=+i.style.width.replace("px",""),c=+i.style.height.replace("px","")),this.checkParentSize(n,c);var u=e&&!r?{x:this.viewInfo.zoomTX/this.viewInfo.viewWidth,y:this.viewInfo.zoomTY/this.viewInfo.viewHeight}:{x:0,y:0},l=r?this.getDocsViewAspect(i,r,n,c):this.getWhiteboardAspect(n,c,e),d=l.x,p=l.y,h=o.a.reservedPrefix,f=h.whiteboardZoom,g=h.whiteboardCon,_=h.whiteboard,m=h.boxContainer,y=h.graphicsContainer,v=document.createDocumentFragment();[y,m].forEach((function(e){var r=document.createElement("div");r.id=""+e+t.whiteboardID,v.appendChild(r)}));var b=Object(a.h)(v);this.graphicsConNode=b[0],this.graphicsBoxConNode=b[1],this.createGraphicsBox();var w=this.viewInfo,S=w.width,I=w.height,x=w.viewWidth,O=w.viewHeight;if(this.whiteboardNode=document.createElement("div"),this.whiteboardNode.id=""+_+this.whiteboardID,this.whiteboardNode.style.cssText+="width:"+S+"px;height:"+I+"px;",this.whiteboardNode.appendChild(v),r)this.parentDom=i,this.zoomNode=i.parentNode,i.innerHTML="",i.appendChild(this.whiteboardNode),this.handleDocsviewEvent(i);else{var E="left:"+d+"px;top:"+p+"px;width:"+x+"px;height:"+O+"px;overflow:hidden;";if(this.parentDom=i.querySelector("#"+g+this.whiteboardID),e&&this.parentDom)this.parentDom.innerHTML="",this.parentDom.style.cssText+=E,this.parentDom.appendChild(this.whiteboardNode),this.setWhiteboardTransform(u.x*x|0,u.y*O|0);else{var P=document.createElement("div");P.id=""+f+this.whiteboardID,this.zoomNode=P;var k=document.createElement("div");k.id=""+g+this.whiteboardID,k.style.cssText=E,k.appendChild(this.whiteboardNode),P.appendChild(k),i.appendChild(P),this.parentDom=k}}o.a.basicState.type!==s.k.ZegoWhiteboardViewToolText&&(this.parentDom.style.userSelect="none"),this.parentDom.addEventListener("dragenter",this.preventDefaultDragEvent),this.serviceHandle.setViewSize(this.whiteboardID,x,O),this.serviceHandle.setSize(this.whiteboardID,S,I)},e.prototype.activitView=function(){var e;if(this.zoomNode){var t=(null===(e=this.getFileInfo())||void 0===e?void 0:e.fileID)||"",r=document.getElementById(this.viewInfo.root);if(r){var i=this.zoomNode.id;Array.from(Object(a.h)(r)).forEach((function(e){e.style.display=e.id===i?"block":"none"}))}var n=t?o.a.basicExtraState.defaultFileBgColor:o.a.basicState.bgColor;this.toolInstance.background.setBackgroundColor(n),this.setDragStyle(this.getToolType()||0)}},e.prototype.updateViewInfo=function(e){Object.assign(this.viewInfo,e)},e.prototype.isChangeStepInnerPage=function(e){var t,r=null===(t=this.getFileInfo())||void 0===t?void 0:t.fileType;if(r===s.d.PPTH5||r===s.d.CUSTOM_H5){var o=this.viewInfo,i=o.page,n=o.pageCount;return i===Math.min(Math.round(e*n)+1,n)}return!1},e.prototype.stopLocalDrawHandle=function(e){var t;try{var r=o.a.basicState.type,i=s.k.ZegoWhiteboardViewToolLaser,n=s.k.ZegoWhiteboardViewToolSelector,a=s.k.ZegoWhiteboardViewToolText,c=this.isChangeStepInnerPage(e);switch(r){case i:var u=this.toolInstance.getInstanceHandle(i);!c&&u&&u.pushActualPlaceHandle();break;case n:var l=this.toolInstance.getInstanceHandle(n);if(!c&&l){var d=document.activeElement;d&&d.id&&this.whiteboardNode.querySelector("#"+d.id)&&"TEXTAREA"===d.tagName?d.blur():(this.toolInstance.updateOffsetAndScrollHandle(),l.mouseupHandle(),l.hideImageEditBox(),l.hideSelectBox())}break;case a:var p=document.activeElement;!c&&p&&p.id&&this.whiteboardNode.querySelector("#"+p.id)&&"TEXTAREA"===p.tagName&&p.blur();break;case s.k.ZegoWhiteboardViewToolPen:var h=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine);!c&&h&&(this.toolInstance.updateOffsetAndScrollHandle(),h.mouseupHandle(),null===(t=this.toolInstance.customCursor)||void 0===t||t.pushActualPlaceHandle());break;case s.k.ZegoWhiteboardViewToolRect:case s.k.ZegoWhiteboardViewToolLine:case s.k.ZegoWhiteboardViewToolEllipse:case s.k.ZegoWhitebaordViewToolCustomImage:var f=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine);!c&&f&&(this.toolInstance.updateOffsetAndScrollHandle(),f.mouseupHandle())}this.toolInstance.resetImageBox()}catch(e){}},e.prototype.setClassNameHandle=function(e){var t,r=o.a.reservedPrefix,i=r.whiteboard,n=r.whiteboardCon,a=r.whiteboardZoom;null===(t=this.zoomNode.parentNode)||void 0===t||t.querySelectorAll("[id^="+i+"]").forEach((function(t){-1===t.id.indexOf(""+n)&&-1===t.id.indexOf(""+a)&&(t.className=s.k[e]||"")}))},e.prototype.penetrateEventHandle=function(e){var t,r=null===(t=this.getFileInfo())||void 0===t?void 0:t.fileType;if((r===s.d.PPTH5||r===s.d.CUSTOM_H5)&&this.parentDom){var o=this.operationModes.none||e!==s.k.ZegoWhiteboardViewToolClick?"initial":"none";this.parentDom.style.pointerEvents=o,this.graphicsBoxConNode.style.pointerEvents=o}},e.prototype.jumpPage=function(e,t){var r,o=this.viewInfo,i=o.viewWidth,n=o.viewHeight,a=o.pageCount,c=o.direction;a>=1&&(c===s.p.Horizontal?(r=Math.min(Math.round(e*a)+1,a))<=a&&(this.updateViewInfo({offsetPageX:(r-1)*i,page:r}),this.setWhiteboardTransform(this.viewInfo.zoomTX,this.viewInfo.zoomTY)):(r=Math.min(Math.round(t*a)+1,a))<=a&&(this.updateViewInfo({offsetPageY:(r-1)*n,page:r}),this.setWhiteboardTransform(this.viewInfo.zoomTX,this.viewInfo.zoomTY)));this.notifyScrollEvent(this.viewInfo.page,1,e,t)},e.prototype.handleDocsviewEvent=function(e){var t={action:D.b.WbInit,data:this.whiteboardID};e.dispatchEvent(new CustomEvent(D.a.Whiteboard,{detail:t})),e.addEventListener(D.a.Docs,this.docsviewEventCallback)},e.prototype.handleDocsPageEvent=function(e){var t,r=e.page,i=e.pageCount,n=e.step,a=e.percent,s=e.notify,c=e.ofsX,u=this.viewInfo,l=u.isScroll,d=u.viewHeight,p=u.zoom;this.viewInfo.page=r,this.viewInfo.pageCount=i,l||(this.viewInfo.offsetPageY=(r-1)*d),s&&l&&"number"==typeof c&&(t={scaleFactor:p,scaleOffsetX:c,scaleOffsetY:+o.a.scaleModes.sync},this.scaleInfo.y=0),this.emitScroll(0,a,n,s,t),this.notifyScrollEvent(r,n,0,a)},e.prototype.getH5SnapshotResult=function(e){var t=e.dataUrl,r=e.snapshotId;this.snapshotInstances[r].getH5Snapshot(t)},e.prototype.hideSelectBox=function(){var e=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolSelector);e.hideImageEditBox(),e.hideSelectBox()},e.prototype.setDragStyle=function(e){if(this.parentDom){var t=this.toolInstance.getUserAuth(),r=t.scale,o=t.scroll,i=this.operationModes.scale&&!!r&&!e;this.parentDom.style.cursor=i?"move":"auto",this.parentDom.style.touchAction=i?"auto":"none";var n={action:D.b.WbDragTool,enable:this.operationModes.scroll&&!!o,remoteScroll:!!o,isDrag:i};this.parentDom.dispatchEvent(new CustomEvent(D.a.Whiteboard,{detail:n}))}},e.prototype.addImageGraphic=function(e,t,r){var o=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLine),i=this.toolInstance.transLocationOrigin({clientX:t,clientY:r});return o.drawLocalGraphicImage(e,i.clientX,i.clientY)},e.prototype.initBackground=function(e){this.toolInstance.createBackground(this.whiteboardNode,e)},e.prototype.canReloadView=function(){var e=document.getElementById(this.viewInfo.parent);e.style.cssText+="position:relative;display:block!important;";var t=e.clientWidth,r=e.clientHeight;this.checkParentSize(t,r);var o=this.viewInfo,i=o.viewWidth,n=o.viewHeight,a=this.getWhiteboardAspect(t,r,!0),s=a.x,u=a.y,l=a.width,d=a.height;return!(Math.abs(i-l)<5&&Math.abs(n-d)<5)||(this.parentDom.style.cssText+="left:"+s+"px;top:"+u+"px;",c.a.getInstance().info(["WhiteBoard_View"],"reloadViewLayou",JSON.stringify({w0:i,h0:n,w:l,h:d})),!1)},e.prototype.reinitView=function(){this.toolInstance.isReloading=!0,this.parentDom=null,this.init(this.viewInfo.parent,!0),this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLaser).updateLaserConSize(),this.toolInstance.isReloading=!1},e.prototype.updateLaser=function(){this.toolInstance.reverseZoomHandle(s.k.ZegoWhiteboardViewToolLaser);var e=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLaser);e.updateLaserConSize(),e.pushActualPlaceHandle()},e.prototype.remoteUpdateBackgroundImage=function(e){this.toolInstance.background.remoteAddBackgroundImageGraphic(e)},e.prototype.remoteClearBackgroundImage=function(){this.toolInstance.background.updateToLocal(!0).clearBackgroundImage()},e.prototype.createGraphicsBox=function(){this.graphicsBoxConNode.innerHTML='\n        <div class="img-editor-box">\n            <div class="operation-point-desktop left-top cursor-nwse LT"></div>\n            <div class="operation-point-desktop right-top cursor-nesw RT"></div>\n            <div class="operation-point-desktop left-bottom cursor-nesw LB"></div>\n            <div class="operation-point-desktop right-bottom cursor-nwse RB"></div>\n            <div class="operation-point-desktop top cursor-ns T"></div>\n            <div class="operation-point-desktop right cursor-ew R"></div>\n            <div class="operation-point-desktop bottom cursor-ns B"></div>\n            <div class="operation-point-desktop left cursor-ew L"></div>\n        </div>\n        <div class="graphics-box"></div>'},e.prototype.emitScroll=function(e,t,r,o,i){this.serviceHandle.loadCurrentGraphics(this.whiteboardID,e,t),o&&this.serviceHandle.scroll(this.whiteboardID,e,t,r,i)},e.prototype.notifyScrollEvent=function(e,t,r,o){i.e.emit(i.b.ViewScroll,{id:this.whiteboardID,horizontalPercent:r,verticalPercent:o,page:e,step:t});var n=this.getUniqueID();i.e.emit(i.d.SubViewScrollChanged,n,e,t)},e.prototype.emitScaleFactor=function(e,t,r){if(!r){e=0|Math.abs(e),t=0|Math.abs(t);var i=this.viewInfo,n=i.zoom,a=i.width,s=i.height;e=e&&Number((e/a/n).toFixed(7)),t=t&&Number((t/s/n).toFixed(7)),this.scaleInfo.x=e,this.scaleInfo.y=t}o.a.scaleModes.sync&&this.serviceHandle.scale(this.whiteboardID,this.viewInfo.zoom,e,t)},e.prototype.setViewCursorHandle=function(e){var t;null===(t=this.toolInstance)||void 0===t||t.setCustomCursor(e)},e.prototype.hideViewCursorHandle=function(){var e;null===(e=this.toolInstance.customCursor)||void 0===e||e.hide()},e.prototype.scaleToHandle=function(e,t,r,o){var n,a,s,c=this;if(this.activited){if(this.scaleInfo.x=t,this.scaleInfo.y=r,this.viewInfo.zoom=e||1,null===(n=this.toolInstance.customCursor)||void 0===n||n.updateCursorAttr(!0),null===(a=this.toolInstance.customCursor)||void 0===a||a.updateOtherCursor(),this.getFileInfo()){this.scaleInfo.syncTimer&&clearTimeout(this.scaleInfo.syncTimer);var u=o?50:100;this.scaleInfo.syncTimer=window.setTimeout((function(){var i,n={action:D.b.WbScale,scale:e,x:t,y:r,notify:o};c.parentDom&&c.parentDom.dispatchEvent(new CustomEvent(D.a.Whiteboard,{detail:n})),c.updateLaser(),null===(i=c.toolInstance.customCursor)||void 0===i||i.pushActualPlaceHandle()}),u)}else{var l=this.viewInfo,d=l.viewWidth,p=l.viewHeight,h=l.width,f=l.height,g=l.zoom,_=-t*h*g,m=-r*f*g;o&&(_=d*(1-e)*.5|0,m=p*(1-e)*.5|0,this.emitScaleFactor(_,m)),this.setWhiteboardTransform(_,m),this.updateLaser(),null===(s=this.toolInstance.customCursor)||void 0===s||s.pushActualPlaceHandle()}i.e.emit(i.b.ViewScale,this.whiteboardID,this.viewInfo.zoom);var y=this.getUniqueID();i.e.emit(i.d.SubViewScaleChanged,y,this.viewInfo.zoom)}},e.prototype.init=function(e,t){this.viewInfo.parent=e;var r=document.getElementById(""+o.a.reservedPrefix.whiteboard+this.whiteboardID);this.parentDom&&r||this.createModule(!!t),this.initToolHandle(),this.initBackground(!!t||!r),this.updateStateSizeHandle(),this.initDragEvents(),this.activitView();var i=this.serviceHandle.getScrollPercent(this.whiteboardID),n=i.horizontalPercent,a=i.verticalPercent,s=i.pptStep;if(t){this.toolInstance.updateOffsetAndScrollHandle(),this.toolInstance.updateOffsetPage(),this.serviceHandle.isElectron?this.emitScroll(n,a,s,!1):(this.serviceHandle.reloadViewGraphics(this.whiteboardID,this.toolInstance.graphicList),this.updateRemoteToLocal(this.toolInstance.graphicList,[]));var u=this.scaleInfo,l=u.x,d=u.y;-1!==l&&-1!==d&&this.scaleToHandle(this.viewInfo.zoom,l,d,!1)}else{if(this.scrollToHandle(n,a,s,!1),o.a.scaleModes.response){var p=this.serviceHandle.getScale(this.whiteboardID),h=p.scaleFactor,f=p.scaleOffsetX,g=p.scaleOffsetY;this.scaleToHandle(h,f,g,!1)}this.playAnimation(this.serviceHandle.getH5Extra(this.whiteboardID),!1)}c.a.getInstance().info(["WhiteBoard_View","Inner"],"init",JSON.stringify({horizontalPercent:n,verticalPercent:a,step:s}));var _=this.zoomNode.parentNode,m=_.clientWidth,y=_.clientHeight;!t&&(Math.abs(m-this.viewInfo.parentWidth)>5||Math.abs(y-this.viewInfo.parentHeight)>5)&&this.reloadView(),this.setViewCursorHandle(t)},e.prototype.getContentSize=function(){return{width:this.viewInfo.width,height:this.viewInfo.height}},e.prototype.getRootDomID=function(){return this.viewInfo.root},e.prototype.setActivited=function(e,t){e?this.activited=!0:this.viewInfo.root&&this.viewInfo.root!=t||(this.activited=!1)},e.prototype.getActivited=function(){return this.activited},e.prototype.scrollToHandle=function(e,t,r,o){if(this.activited)if(this.stopLocalDrawHandle(t),this.getFileInfo()){var i=this.serviceHandle.getScale(this.whiteboardID),n=i.scaleOffsetX,a=i.scaleOffsetY,s={action:D.b.Page,percent:t,step:r||1,ofsX:n,ofsY:a,notify:o};this.parentDom&&this.parentDom.dispatchEvent(new CustomEvent(D.a.Whiteboard,{detail:s}))}else this.emitScroll(e,t,1,o),this.jumpPage(e,t)},e.prototype.syncScaleToHandle=function(){var e=this.scaleInfo,t=e.x,r=e.y;-1!==t&&-1!==r&&this.emitScaleFactor(t,r,!0)},e.prototype.clearLaserHandle=function(e){this.toolInstance&&this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolLaser).clearLaserHandle(e)},e.prototype.clearLocalHandle=function(e){e&&e.includes(1)?this.remoteClearBackgroundImage():(this.toolInstance.clearLocalHandle(),this.createGraphicsBox())},e.prototype.updateRemoteToLocal=function(e,t){var r=this.toolInstance.graphicList.some((function(e){return t.length&&t.includes(e.graphic_id)&&e.type==s.f.BgImage})),o=e.filter((function(e){return e.type==s.f.BgImage}));if(o.length){var i=o.pop();this.remoteUpdateBackgroundImage(i)}r&&this.remoteClearBackgroundImage(),e=e.filter((function(e){return e.type!==s.f.BgImage})),this.toolInstance.updatePushLocalHandle(e,t)},e.prototype.destroyDomHandle=function(){if(this.parentDom){c.a.getInstance().info(["WhiteBoard_View"],"destroy_dom",JSON.stringify({domID:this.parentDom.id}));var e={action:D.b.WbDestroy,data:this.whiteboardID};this.parentDom.dispatchEvent(new CustomEvent(D.a.Whiteboard,{detail:e})),Object(a.p)(this.parentDom.parentElement),this.parentDom=null}},e.prototype.clearCanvasCache=function(){if(this.parentDom){c.a.getInstance().info(["WhiteBoard_View"],"mod_clear_canvas",JSON.stringify({domID:this.parentDom.id}));var e={action:D.b.WbSwitch,data:this.whiteboardID};this.parentDom.dispatchEvent(new CustomEvent(D.a.Whiteboard,{detail:e}))}},e.prototype.clearEvent=function(){if(this.parentDom){c.a.getInstance().info(["WhiteBoard_View"],"clearEvent");var e={action:D.b.ClearEvent};this.parentDom.dispatchEvent(new CustomEvent(D.a.Whiteboard,{detail:e}))}},e.prototype.playAnimation=function(e,t){var r;if(this.activited){var o={action:D.b.Animation,data:e,notify:!t};null===(r=this.parentDom)||void 0===r||r.dispatchEvent(new CustomEvent(D.a.Whiteboard,{detail:o}))}},e.prototype.onAuthChange=function(){this.activited&&this.setDragStyle(this.getToolType()||0)},e.prototype.clear=function(){var e=this;if(!this.operationModes.draw)return Promise.resolve(!1);if(!this.toolInstance.getUserAuth().clear)return Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthClearGraphic),Promise.resolve(!1);c.a.getInstance().info(["WhiteBoard_View"],"API.clear",JSON.stringify({whiteboardID:this.whiteboardID}));var t=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolSelector);return t.hideImageEditBox(),t.hideSelectBox(),this.serviceHandle.clearView(this.whiteboardID,[0]).then((function(){return e.clearLocalHandle(),c.a.getInstance().info(["WhiteBoard_View"],"mod.clear_cb","success"),Promise.resolve(!0)})).catch((function(e){var t=Object(n.a)(s.j.ZegoWhiteboardViewErrorClearFail);return c.a.getInstance().error(["WhiteBoard_View"],"mod.clear_cb",JSON.stringify(t)),Promise.resolve(!1)}))},e.prototype.scroll=function(e,t){return isNaN(+e)||isNaN(+t)?(Object(n.a)(s.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误: horizontalPercent、verticalPercent取值为0~1",!0),!1):!!this.operationModes.scroll&&(this.toolInstance.getUserAuth().scroll?(c.a.getInstance().info(["WhiteBoard_View"],"mod.scroll",JSON.stringify({params:{horizontalPercent:e,verticalPercent:t}})),e<0&&(e=0),e>1&&(e=1),t<0&&(t=0),t>1&&(t=1),e=Number(e.toFixed(7)),t=Number(t.toFixed(7)),c.a.getInstance().info(["WhiteBoard_View"],"mod.scroll",JSON.stringify({params:{horizontalPercent:e,verticalPercent:t}})),this.viewInfo.pageCount>1&&this.viewInfo.page>0&&(this.scrollToHandle(e,t,1,!0),c.a.getInstance().info(["WhiteBoard_View"],"mod.scroll",JSON.stringify({transParams:{horizontalPercent:e,verticalPercent:t},status:!0})),!0)):(Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthScroll),!1))},e.prototype.getCurrentScrollPercent=function(){var e=L(L({},this.serviceHandle.getScrollPercent(this.whiteboardID)),{direction:this.viewInfo.direction});return c.a.getInstance().info(["WhiteBoard_View"],"API.getCurrentScrollPercent",JSON.stringify({percent:e})),e},e.prototype.getHorizontalPercent=function(){return c.a.getInstance().info(["WhiteBoard_View"],"API.getHorizontalPercent",JSON.stringify({horizontalPercent:this.getCurrentScrollPercent().horizontalPercent})),this.getCurrentScrollPercent().horizontalPercent},e.prototype.getVerticalPercent=function(){return c.a.getInstance().info(["WhiteBoard_View"],"API.getVerticalPercent",JSON.stringify({verticalPercent:this.getCurrentScrollPercent().verticalPercent})),this.getCurrentScrollPercent().verticalPercent},e.prototype.undo=function(){this.operationModes.draw&&(this.serviceHandle.isElectron?this.serviceHandle.undo(this.whiteboardID):this.toolInstance.undoNewHandle(),c.a.getInstance().info(["WhiteBoard_View"],"API.undo"))},e.prototype.redo=function(){this.operationModes.draw&&(this.serviceHandle.isElectron?this.serviceHandle.redo(this.whiteboardID):this.toolInstance.redoNewHandle(),c.a.getInstance().info(["WhiteBoard_View"],"API.redo"))},e.prototype._undoClear=function(){this.toolInstance.undoClearPage()},e.prototype.getAspectRatio=function(){var e=this.serviceHandle.getAspectRatio(this.whiteboardID);return c.a.getInstance().info(["WhiteBoard_View"],"API.getAspectRatio",JSON.stringify({aspectRatio:e})),e},e.prototype.getFileInfo=function(){var e=this.serviceHandle.getFileInfo(this.whiteboardID);return c.a.getInstance().info(["WhiteBoard_View"],"API.getFileInfo",JSON.stringify({fileInfo:e})),e},e.prototype.getID=function(){return this.whiteboardID},e.prototype.getName=function(){return this.serviceHandle.getModName(this.whiteboardID)},e.prototype.getCreateTime=function(){return this.serviceHandle.getCreateTime(this.whiteboardID)},e.prototype.getRoomID=function(){return this.serviceHandle.getRoomID(this.whiteboardID)},e.prototype.getUniqueID=function(){return this.serviceHandle.getUniqueID(this.whiteboardID)},e.prototype.getCurrentPage=function(){var e=this.viewInfo.page||1;return c.a.getInstance().info(["WhiteBoard_View"],"API.getCurrentPage",JSON.stringify({cp:e})),e},e.prototype.getPageCount=function(){var e=this.viewInfo.pageCount||1;return c.a.getInstance().info(["WhiteBoard_View"],"API.getPageCount",JSON.stringify({pageCount:e})),e},e.prototype.setBackgroundImage=function(e,t,r){var o=e instanceof File?{name:e.name,size:e.size,type:e.type}:e;return c.a.getInstance().info(["WhiteBoard_View"],"API.setBackgroundImage",JSON.stringify({address:o,mode:t})),this.toolInstance.background.setBackgroundImage(e,t,r)},e.prototype.clearBackgroundImage=function(){this.toolInstance.background.clearBackgroundImage(),c.a.getInstance().info(["WhiteBoard_View"],"API.clearBackgroundImage")},e.prototype.setToolType=function(e){var t,r;if(c.a.getInstance().info(["WhiteBoard_View"],"API.setToolType",JSON.stringify({type:e})),e=e||0,!Object(N.o)(e)||this.operationModes.none)return!1;if(e===s.k.ZegoWhiteboardViewToolClick){var i=null===(t=this.getFileInfo())||void 0===t?void 0:t.fileType;if(i!==s.d.PPTH5&&i!==s.d.CUSTOM_H5)return!1}return o.a.basicState.type=e,!this.toolInstance||(e!==s.k.ZegoWhiteboardViewToolPen&&(null===(r=this.toolInstance.customCursor)||void 0===r||r.hide()),this.parentDom.style.userSelect=e!==s.k.ZegoWhiteboardViewToolText?"none":"auto",this.canDraw=this.operationModes.draw&&!!e&&e!==s.k.ZegoWhiteboardViewToolClick,this.setClassNameHandle(e),this.setDragStyle(e),this.penetrateEventHandle(e),this.updateBindEvents(),this.hideSelectBox(),c.a.getInstance().info(["WhiteBoard_View"],"API.setToolType","true"),!0)},e.prototype.getToolType=function(){var e=Object(N.e)();return c.a.getInstance().info(["WhiteBoard_View"],"API.getToolType",JSON.stringify({toolType:e})),e},e.prototype.setBrushColor=function(e){var t=Object(N.j)(e);return c.a.getInstance().info(["WhiteBoard_View"],"API.setBrushColor",JSON.stringify({color:e,res:t})),t},e.prototype.getBrushColor=function(){var e=Object(N.b)();return c.a.getInstance().info(["WhiteBoard_View"],"API.getBrushColor",JSON.stringify({color:e})),e},e.prototype.setBrushSize=function(e){var t=Object(N.k)(e);return t&&this.updateStateSizeHandle(),c.a.getInstance().info(["WhiteBoard_View"],"API.setBrushSize",JSON.stringify({thin:e,res:t})),t},e.prototype.getBrushSize=function(){var e=Object(N.c)();return c.a.getInstance().info(["WhiteBoard_View"],"API.getBrushSize",JSON.stringify({size:e})),e},e.prototype.setFontSize=function(e){var t=Object(N.n)(e);return t&&this.updateStateSizeHandle(),c.a.getInstance().info(["WhiteBoard_View"],"API.setFontSize",JSON.stringify({thin:e,res:t})),t},e.prototype.getFontSize=function(){var e=Object(N.d)();return c.a.getInstance().info(["WhiteBoard_View"],"API.getFontSize",JSON.stringify({size:e})),e},e.prototype.setTextSize=function(e){var t=this.setFontSize(e);return c.a.getInstance().info(["WhiteBoard_View"],"API.setTextSize",JSON.stringify({thin:e,res:t})),t},e.prototype.getTextSize=function(){var e=this.getFontSize();return c.a.getInstance().info(["WhiteBoard_View"],"API.getFontSize",JSON.stringify({size:e})),this.getFontSize()},e.prototype.setFontBold=function(e){var t=Object(N.l)(e);return c.a.getInstance().info(["WhiteBoard_View"],"API.setFontBold",JSON.stringify({bold:e,res:t})),t},e.prototype.isFontBold=function(){var e=Object(N.f)();return c.a.getInstance().info(["WhiteBoard_View"],"API.isFontBold",JSON.stringify({res:e})),e},e.prototype.setFontItalic=function(e){var t=Object(N.m)(e);return c.a.getInstance().info(["WhiteBoard_View"],"API.setFontItalic",JSON.stringify({italic:e,res:t})),t},e.prototype.isFontItalic=function(){var e=Object(N.g)();return c.a.getInstance().info(["WhiteBoard_View"],"API.setFontItalic",JSON.stringify({res:e})),e},e.prototype.setBackgroundColor=function(e){return!(!Object(N.i)(e)||!this.toolInstance.enableDraw)&&(this.toolInstance.background.setBackgroundColor(e),c.a.getInstance().info(["WhiteBoard_View"],"API.setBackgroundColor",JSON.stringify({color:e})),!0)},e.prototype.getBackgroundColor=function(){var e=Object(N.a)();return c.a.getInstance().info(["WhiteBoard_View"],"API.getBackgroundColor",JSON.stringify({res:e})),e},e.prototype.setScaleFactor=function(e,t,r){var o=+e;(!o||o<1)&&(o=1),this.viewInfo.zoom!==o&&this.operationModes.scale&&this.getToolType()!==s.k.ZegoWhiteboardViewToolClick&&(this.toolInstance.getUserAuth().scale?(this.scaleToHandle(o,t||0,r||0,!0),c.a.getInstance().info(["WhiteBoard_View"],"API.setScaleFactor",JSON.stringify({params:{zoom:o,x:t,y:r}}))):Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthScale))},e.prototype.getScaleFactor=function(){var e={scaleFactor:this.viewInfo.zoom,scaleOffsetX:0,scaleOffsetY:0};return c.a.getInstance().info(["WhiteBoard_View"],"API.getScaleFactor",JSON.stringify({scaleFactor:e})),e},e.prototype.getScaleOffsetX=function(){var e=this.getScaleFactor().scaleOffsetX;return c.a.getInstance().info(["WhiteBoard_View"],"API.getScaleFactor",JSON.stringify({scaleOffsetX:e})),e},e.prototype.getScaleOffsetY=function(){var e=this.getScaleFactor().scaleOffsetY;return c.a.getInstance().info(["WhiteBoard_View"],"API.getScaleFactor",JSON.stringify({scaleOffsetY:e})),e},e.prototype.clearCurrentPage=function(){this.toolInstance.clearPage(this.viewInfo.page||1),c.a.getInstance().info(["WhiteBoard_View"],"API.clearCurrentPage",JSON.stringify({page:this.viewInfo.page||1}))},e.prototype.deleteSelectedGraphics=function(){this.toolInstance.deleteSelectedGraphics(s.c.BatchSelete),c.a.getInstance().info(["WhiteBoard_View"],"API.deleteSelectedGraphics")},e.prototype.addText=function(e,t,r){if(this.operationModes.draw&&this.getToolType()===s.k.ZegoWhiteboardViewToolText)if(!e||!Object(a.m)(t)||!Object(a.m)(r)||t<0||r<0||t>this.viewInfo.viewWidth||r>this.viewInfo.viewHeight)Object(n.a)(s.j.ZegoWhiteboardViewErrorParamInvalid);else if(this.toolInstance.getUserAuth().create){var o=this.toolInstance.getInstanceHandle(s.k.ZegoWhiteboardViewToolText);this.toolInstance.updateOffsetAndScrollHandle();var i=this.toolInstance.transLocationOrigin({clientX:t,clientY:r});t=i.clientX,r=i.clientY,o.addTextGraphics(e,t,r),c.a.getInstance().info(["WhiteBoard_View"],"API.addText",JSON.stringify({params:{text:e,positionX:t,positionY:r}}))}else Object(n.a)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic)},e.prototype.addImage=function(e,t,r,i,u){var l=this,d=this.viewInfo.viewWidth,p=this.viewInfo.viewHeight,h=s.o.ZegoWhiteboardViewImageGraphic,f=s.o.ZegoWhiteboardViewImageCustom;if(!i||e!==h&&e!==f||!Object(a.m)(t)||!Object(a.m)(r)||e===h&&(t<0||r<0||t>d||r>p)||e===f&&"string"!=typeof i){var g=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid);return Promise.reject(g)}if(!this.operationModes.draw)return Promise.reject({});if(!this.toolInstance.getUserAuth().create){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorNoAuthCreateGraphic);return Promise.reject(g)}var _=e===h?10485760:512e3;if("string"==typeof i){var m=i;if(!m.startsWith("https://")){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl);return Promise.reject(g)}return new Promise((function(a,u){var d=!0,p=new XMLHttpRequest;p.open("HEAD",m,!0),p.onreadystatechange=function(){if(4==p.readyState){if(200!=p.status){d=!1;var h=404===p.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;return u(Object(n.b)(h))}var g=(p.getResponseHeader("Content-Type")||"").replace("image/",""),y=+p.getResponseHeader("Content-Length");if(!"jpg,jpeg,png,svg+xml".includes(g)){var v=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return u(v)}if(y>_){v=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return u(v)}if(c.a.getInstance().info(["WhiteBoard_View"],"API.addImage",JSON.stringify({params:{type:e,positionX:t,positionY:r,address:i}})),e===f){o.a.basicExtraState.customImage.url=m;var b=new Image;b.setAttribute("crossOrigin","anonymous"),b.onload=function(){o.a.basicExtraState.customImage.w=b.width,o.a.basicExtraState.customImage.h=b.height},b.src=m,a(m)}else l.addImageGraphic(m,t,r).then(a)}},p.onerror=function(){if(d){var e=404===p.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;u(Object(n.b)(e))}},p.send(null)}))}if(this.serviceHandle.isElectron&&e===h&&"object"===M(i)){if(!/(\.jpg|\.jpeg|\.png|\.svg)$/.test((i=i).path)){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(g)}return c.a.getInstance().info(["WhiteBoard_View"],"API.addImage",JSON.stringify({params:{type:e,positionX:t,positionY:r,address:i.path}})),this.serviceHandle.uploadImage(i.path,u).then((function(e){return l.addImageGraphic(e,t,r)}))}var y=(i=i).type.replace("image/","");if(!"jpg,jpeg,png,svg+xml".includes(y)){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(g)}if(i.size>_){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return Promise.reject(g)}return c.a.getInstance().info(["WhiteBoard_View"],"API.addImage",JSON.stringify({params:{type:e,positionX:t,positionY:r,address:i.name}})),this.serviceHandle.uploadImage(i,u).then((function(e){return l.addImageGraphic(e,t,r)}))},e.prototype.setWhiteboardOperationMode=function(e){if(e&&Object(a.m)(e)){var t=!!(e%2),r=!t&&[2,6,10,14].includes(e),i=!t&&[4,6,12,14].includes(e),u=!t&&[8,10,12,14].includes(e);this.operationModes=Object.freeze({none:t,scroll:r,draw:i,scale:u});var l=o.a.basicState.type;this.toolInstance&&(this.toolInstance.enableDraw=i),this.canDraw=i&&!!l&&l!==s.k.ZegoWhiteboardViewToolClick,this.setDragStyle(l),this.penetrateEventHandle(l),c.a.getInstance().info(["WhiteBoard_View"],"API.setWhiteboardOperationMode",JSON.stringify({params:e,result:this.operationModes}))}else Object(n.a)(s.j.ZegoWhiteboardViewErrorParamInvalid)},e.prototype.snapshot=function(e){return V(this,void 0,void 0,(function(){var t,r,o;return j(this,(function(i){switch(i.label){case 0:return t=null==e?void 0:e.userData,r=new B(this.toolInstance,this.toolInstance.background),this.snapshotInstances[r.snapshotId]=r,[4,r.snapshot(t)];case 1:return o=i.sent(),delete this.snapshotInstances[r.snapshotId],c.a.getInstance().info(["WhiteBoard_View"],"API.snapshot",JSON.stringify({snapshotResult:o})),[2,o]}}))}))},e.prototype.reloadView=function(){if(this.getFileInfo()){var e={action:D.b.ReloadView,data:""};this.parentDom&&this.parentDom.dispatchEvent(new CustomEvent(D.a.Whiteboard,{detail:e}))}else this.canReloadView()&&this.reinitView();c.a.getInstance().info(["WhiteBoard_View"],"API.reloadView")},e.prototype.getVisibleSize=function(){var e={width:this.viewInfo.viewWidth,height:this.viewInfo.viewHeight};return c.a.getInstance().info(["WhiteBoard_View"],"API.reloadView",JSON.stringify({size:e})),e},e}(),H=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},q=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},z=function(){function e(e){this.modIdMapInstance={},this.fileInfoMap={},this.signallingDelay=0,this.serviceHandle=e,this.registerLoadfileListener(),this.registerPushCallbackHandle(),this.registerPullCallbackHandle()}return e.prototype.registerLoadfileListener=function(){var e=this;document.body.addEventListener("loadfile",(function(t){var r=t.detail.fileID;e.fileInfoMap[r]=t.detail,c.a.getInstance().info(["Whiteboard_Manager","Inner"],"update_file_info",JSON.stringify({fileID:r,detail:t.detail}))}))},e.prototype.registerPushCallbackHandle=function(){var e=this;i.e.on(i.c.PushClearPageGraphics,(function(t,r){e.signallingDelay?setTimeout((function(){e.clearGraphicsPushCallback(t,r)}),e.signallingDelay):e.clearGraphicsPushCallback(t,r)})),i.e.on(i.c.PushDrawPageGraphics,(function(t,r,o){e.signallingDelay?setTimeout((function(){e.drawGraphicsPushCallback(t,r,o)}),e.signallingDelay):e.drawGraphicsPushCallback(t,r,o)})),i.e.on(i.c.PushAddMod,(function(t,r){e.signallingDelay?setTimeout((function(){e.addModPushCallback(t,r)}),e.signallingDelay):e.addModPushCallback(t,r)})),i.e.on(i.c.PushRemovedMod,(function(t,r){e.signallingDelay?setTimeout((function(){e.removedModPushCallback(t,r)}),e.signallingDelay):e.removedModPushCallback(t,r)})),i.e.on(i.c.PushScroll,(function(t,r,o,i){e.signallingDelay?setTimeout((function(){e.scrollPushCallback(t,r,o,i)}),e.signallingDelay):e.scrollPushCallback(t,r,o,i)})),i.e.on(i.c.PushScale,(function(t,r,o,i){e.signallingDelay?setTimeout((function(){e.scalePushCallback(t,r,o,i)}),e.signallingDelay):e.scalePushCallback(t,r,o,i)})),i.e.on(i.c.PushH5ExtraAppended,(function(t,r){e.signallingDelay?setTimeout((function(){e.h5ExtraAppendedPushCallback(t,r)}),e.signallingDelay):e.h5ExtraAppendedPushCallback(t,r)})),i.e.on(i.c.PushAuthChange,(function(t,r){e.onPushAuthChange(t,r)}))},e.prototype.registerPullCallbackHandle=function(){var e=this;i.e.on(i.c.GetPageGraphicsList,(function(t,r,o){var i=e.getMapInstance(t);i&&i.updateRemoteToLocal(r,o)})),i.e.on(i.c.AppendH5Extra,(function(t){var r=t.whiteboardID,o=t.code,n=t.msg,a=t.modExtra,c=t.isH5;0!==o&&(o===s.j.ZegoWhiteboardViewErrorAnimationInfoLimit?i.e.emit(i.b.Error,{code:o,msg:n}):c?e.h5ExtraAppendedPushCallback(r,a):i.e.emit(i.b.Error,{code:o,msg:n}))})),i.e.on(i.c.Scroll,(function(t){var r=t.whiteboardID,o=t.code,i=t.horizontalPercent,n=t.verticalPercent,a=t.step;0!==o&&e.scrollPushCallback(r,i,n,a)})),i.e.on(i.c.Scale,(function(t){var r=t.whiteboardID,o=t.code,i=t.mod_scale;0!==o&&e.scalePushCallback(r,i.scale,i.ofs_x,i.ofs_y)}))},e.prototype.addModPushCallback=function(e,t){var r=this.getMapInstance(e);r||(c.a.getInstance().info(["Whiteboard_Manager","Inner"],"remote_add",JSON.stringify({whiteboardID:e})),r=new R(e,this.serviceHandle),this.setMapInstance(r)),i.e.emit(i.d.RemoteModAdd,r),i.e.emit(i.b.ViewAdd,r)},e.prototype.removedModPushCallback=function(e,t){var r=this.getMapInstance(e);r&&(c.a.getInstance().info(["Whiteboard_Manager","Inner"],"remote_removed",JSON.stringify({whiteboardID:e})),r.destroyDomHandle(),r=null,this.deleteMapInstance(e),i.e.emit(i.d.RemoteModRemoved,t,e),i.e.emit(i.b.ViewRemoved,e))},e.prototype.scrollPushCallback=function(e,t,r,o){var i=this.getMapInstance(e);i&&(c.a.getInstance().warn(["Whiteboard_Manager","Inner"],"remote_scroll","whiteboardID="+e+",hPercent="+t+",vPercent="+r+",step="+o),i.scrollToHandle(t,r,o,!1))},e.prototype.scalePushCallback=function(e,t,r,i){var n=this.getMapInstance(e);n&&(c.a.getInstance().warn(["Whiteboard_Manager","Inner"],"remote_scale","whiteboardID="+e+",scale="+t+",ofsX="+r+",ofsY="+i),o.a.scaleModes.response&&n.scaleToHandle(t,r,i,!1))},e.prototype.h5ExtraAppendedPushCallback=function(e,t){var r=this.getMapInstance(e);r&&(c.a.getInstance().warn(["Whiteboard_Manager","Inner"],"remote_extra","whiteboardID="+e+",modExtra="+t),r.playAnimation(t,!0))},e.prototype.clearGraphicsPushCallback=function(e,t){var r=this.getMapInstance(e);r&&(r.clearLocalHandle(t),r.stopLocalDrawHandle(this.serviceHandle.getScrollPercent(e).verticalPercent))},e.prototype.drawGraphicsPushCallback=function(e,t,r){var o=this.getMapInstance(e);o&&(0!==t.length||r)&&o.updateRemoteToLocal(t,r)},e.prototype.onPushAuthChange=function(e,t){t&&(i.e.emit(i.b.WhiteboardGraphicAuthChange,t),i.e.emit(i.d.RemoteGraphicAuthChange,t)),e&&(i.e.emit(i.b.WhiteboardAuthChange,e),i.e.emit(i.d.RemoteAuthChange,e),e&&Object.values(this.modIdMapInstance).forEach((function(e){return e&&e.onAuthChange()})))},e.prototype.setFileInfo=function(e){var t;if(e.fileInfo){var r=e.fileInfo,o=r.fileID,i=r.fileName,n=this.fileInfoMap[o];(n=n&&n[i])&&(e.aspectWidth=n.width,e.aspectHeight=n.height,e.pageCount=n.pageCount,c.a.getInstance().info(["Whiteboard_Manager","Inner"],"update_file_info",JSON.stringify({fileID:o,detail:(t={fileID:o},t[i]=n,t)})))}},e.prototype.deleteMapInstance=function(e){delete this.modIdMapInstance[e]},e.prototype.getMapInstance=function(e){return this.modIdMapInstance[e]},e.prototype.setMapInstance=function(e){this.modIdMapInstance[e.getID()]=e},e.prototype.setActivitedView=function(e,t){this.serviceHandle.isPlayback?i.e.emit(i.c.AttachedView,[]):Object.values(this.modIdMapInstance).forEach((function(r){r.setActivited(r.getID()==e,t)}))},e.prototype.getActivitedViews=function(){return Object.values(this.modIdMapInstance).filter((function(e){return e.getActivited()}))},e.prototype.checkAttachingParent=function(e){return!!document.getElementById(e)},e.prototype.checkCreatingView=function(e){return!(!e||!e.name||isNaN(+e.aspectWidth)||!+e.aspectWidth||isNaN(+e.aspectHeight)||!+e.aspectHeight||isNaN(+e.pageCount)||!+e.pageCount)},e.prototype.setViewSize=function(e){var t=this.getMapInstance(e);if(t){var r=t.getContentSize(),o=r.width,i=r.height;this.serviceHandle.setSize(e,o,i)}},e.prototype.createErrorStr=function(e){return void 0!==e.code?JSON.stringify(e):""+e},e.prototype.loginRoom=function(e,t,r,o){return this.serviceHandle.loginRoom(e,t,r,o)},e.prototype.logoutRoom=function(e){return this.serviceHandle.logoutRoom(e)},e.prototype.login=function(e,t,r,o,i){return this.serviceHandle.login(e,t,r,o,i)},e.prototype.config=function(e){return this.serviceHandle.config(e)},e.prototype.getCurrentActivitedView=function(){return this.serviceHandle.getCurrentActivitedView()},e.prototype.setDeferredRenderingTime=function(e){this.signallingDelay=e||0},e.prototype.clear=function(e){Object.values(this.modIdMapInstance).forEach((function(t){t&&t.clearLaserHandle(e)})),c.a.getInstance().info(["Whiteboard_Manager","API"],"clear",JSON.stringify({userID:e}))},e.prototype.getViewList=function(){return H(this,void 0,void 0,(function(){var e,t,r=this;return q(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.serviceHandle.getModList()];case 1:return e=o.sent(),Object.keys(this.modIdMapInstance).forEach((function(t){-1===e.indexOf(t)&&r.deleteMapInstance(t)})),e.forEach((function(e){r.modIdMapInstance[e]||r.setMapInstance(new R(e,r.serviceHandle)),r.setViewSize(e)})),c.a.getInstance().info(["Whiteboard_Manager","API"],"getViewList",JSON.stringify(Object.keys(this.modIdMapInstance))),[2,Object.values(this.modIdMapInstance).sort((function(e,t){return r.serviceHandle.getCreateTime(t.getID())-r.serviceHandle.getCreateTime(e.getID())}))];case 2:return t=o.sent(),c.a.getInstance().error(["Whiteboard_Manager","API"],"getViewList",this.createErrorStr(t)),[2,Promise.reject(void 0!==t.code?t:Object(n.b)(s.j.ZegoWhiteboardViewErrorGetListFail))];case 3:return[2]}}))}))},e.prototype.createView=function(e,t){var r=this;return new Promise((function(o,i){return H(r,void 0,void 0,(function(){var r,a,u,l;return q(this,(function(d){switch(d.label){case 0:if(!this.checkCreatingView(e))return r=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误：roomID、name为字符串，aspectWidth、aspectHeight、pageCount为正整数",!0),c.a.getInstance().error(["Whiteboard_Manager","API"],"createView",this.createErrorStr(r)),i(r),[2];this.setFileInfo(e),c.a.getInstance().info(["Whiteboard_Manager","API"],"createView",JSON.stringify({whiteboardModel:e})),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.serviceHandle.createMod(e,t)];case 2:return a=d.sent(),(u=this.getMapInstance(a))||(u=new R(a,this.serviceHandle),this.setMapInstance(u),c.a.getInstance().info(["Whiteboard_Manager","API"],"createView","success")),o(u),[3,4];case 3:return l=d.sent(),c.a.getInstance().error(["Whiteboard_Manager","API"],"createView",this.createErrorStr(l)),i(void 0!==l.code?l:Object(n.b)(s.j.ZegoWhiteboardViewErrorViewCreateFail)),[3,4];case 4:return[2]}}))}))}))},e.prototype.destroyView=function(e){var t=this;return new Promise((function(r,o){return H(t,void 0,void 0,(function(){var t,i,a;return q(this,(function(u){switch(u.label){case 0:if(!e||!e.getID)return t=Object(n.b)(s.j.ZegoWhiteboardViewErrorViewNotExist),c.a.getInstance().error(["Whiteboard_Manager","API"],"destroyView",JSON.stringify({whiteboardView:e,errorData:t})),o(t),[2];u.label=1;case 1:return u.trys.push([1,3,,4]),i=e.getID(),[4,this.serviceHandle.destroyMod(i)];case 2:return u.sent(),this.deleteMapInstance(i),e.destroyDomHandle(),e=null,c.a.getInstance().info(["Whiteboard_Manager","API"],"destroyView","success"),r(),[3,4];case 3:return a=u.sent(),c.a.getInstance().error(["Whiteboard_Manager","API"],"destroyView",this.createErrorStr(a)),o(void 0!==a.code?a:Object(n.b)(s.j.ZegoWhiteboardViewErrorDestroyFail)),[3,4];case 4:return[2]}}))}))}))},e.prototype.attachView=function(e,t){var r=this;return new Promise((function(o,i){if(!r.checkAttachingParent(t)){var a=Object(n.b)(s.j.ZegoWhiteboardViewErrorViewParentNotExist);return c.a.getInstance().error(["Whiteboard_Manager","API"],"attachView",JSON.stringify({parent:t,errorData:a})),void i(a)}if(!e||!e.getID){a=Object(n.b)(s.j.ZegoWhiteboardViewErrorViewNotExist);return c.a.getInstance().error(["Whiteboard_Manager","API"],"attachView",JSON.stringify({whiteboardView:e,errorData:a})),void i(a)}c.a.getInstance().info(["Whiteboard_Manager","API"],"attachView",JSON.stringify({whiteboardID:e.getID(),parent:t}));try{var u=e,l=u.getFileInfo();(null==l?void 0:l.fileID)?r.serviceHandle.setFileInfo(r.fileInfoMap[l.fileID].data):r.serviceHandle.setFileInfo({});var d=u.getID();u.init(t),r.setMapInstance(u),r.setActivitedView(d,u.getRootDomID()),u.clearCanvasCache();var p=r.serviceHandle.getScrollPercent(d),h=p.horizontalPercent,f=p.verticalPercent,g=p.pptStep;u.scrollToHandle(h,f,g,!1),u.clearCanvasCache(),c.a.getInstance().info(["Whiteboard_Manager","API"],"attachView","success"),o()}catch(e){c.a.getInstance().error(["Whiteboard_Manager","API"],"attachView",r.createErrorStr(e)),i(Object(n.b)(s.j.ZegoWhiteboardViewErrorAttachFail))}}))},e.prototype.enableSyncScale=function(e){o.a.scaleModes.sync=!!e,e&&this.getActivitedViews().forEach((function(e){return e.syncScaleToHandle()}))},e.prototype.enableResponseScale=function(e){var t=this;o.a.scaleModes.response=!!e,e&&this.getActivitedViews().forEach((function(e){var r=t.serviceHandle.getScale(e.getID()),o=r.scaleFactor,i=r.scaleOffsetX,n=r.scaleOffsetY;e.scaleToHandle(o,i,n,!1)}))},e.prototype.enableHandwriting=function(e){if("boolean"==typeof e){var t=o.a.basicState.attributes,r=JSON.parse(t);r.stroke=!!e,o.a.basicState.attributes=JSON.stringify(r),this.serviceHandle.enableHandwriting(r.stroke),c.a.getInstance().info(["Whiteboard_Manager","API"],"enableHandwriting","success")}else{var i=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误",!0);c.a.getInstance().error(["Whiteboard_Manager","API"],"enableHandwriting",this.createErrorStr(i))}},e.prototype.enableCustomCursor=function(e){if("boolean"==typeof e){o.a.customCursor.enable=e,Object.values(this.modIdMapInstance).forEach((function(t){t.setViewCursorHandle(),e||t.hideViewCursorHandle()}))}else{var t=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误",!0);c.a.getInstance().error(["Whiteboard_Manager","API"],"enableCustomCursor",this.createErrorStr(t))}},e.prototype.enableRemoteCursorVisible=function(e){if("boolean"==typeof e){o.a.customCursor.remoteVisible=e}else{var t=Object(n.b)(s.j.ZegoWhiteboardViewErrorParamInvalid,"参数错误",!0);c.a.getInstance().error(["Whiteboard_Manager","API"],"enableCustomCursor",this.createErrorStr(t))}},e.prototype.setCustomCursorAttribute=function(e,t){var r=this,i=t.iconPath;if("string"==typeof i){var a=i;if(!a.startsWith("https://")){var u=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl);return Promise.reject(u)}return new Promise((function(u,l){var d=!0,p=new XMLHttpRequest;p.open("HEAD",a,!0),p.onreadystatechange=function(){if(4==p.readyState){if(200!=p.status){d=!1;var a=404===p.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;return l(Object(n.b)(a))}var h=(p.getResponseHeader("Content-Type")||"").replace("image/",""),f=+p.getResponseHeader("Content-Length");if(!"png".includes(h)){var g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return l(g)}if(f>51200){g=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return l(g)}c.a.getInstance().info(["WhiteBoard_View"],"mod.setCursorImage",JSON.stringify({params:{address:i}}));var _=new Image;_.onload=function(){if(Math.abs(t.offsetX)>_.width||Math.abs(t.offsetY)>_.height){var a=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit);return l(a)}var c=o.a.customCursor,d=JSON.parse(c.attributes);c.type=e,d.url=i,d.pox_x=t.offsetX,d.pox_y=t.offsetY,c.attributes=JSON.stringify(d),Object.values(r.modIdMapInstance).forEach((function(e){e.setViewCursorHandle()})),u(),_=null},_.src=i}},p.onerror=function(){if(d){var e=404===p.status?s.j.ZegoWhiteboardViewErrorGraphicIllegalUrl:s.j.ZegoWhiteboardViewErrorInvalidRsp;l(Object(n.b)(e))}},p.send(null)}))}var l=(i=i).type.replace("image/","");if(!"png".includes(l)){u=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport);return Promise.reject(u)}if(i.size>51200){u=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicImageSizeLimit);return Promise.reject(u)}return new Promise((function(a,c){r.serviceHandle.uploadImage(i,(function(){})).then((function(i){var u=new Image;u.onload=function(){if(Math.abs(t.offsetX)>u.width||Math.abs(t.offsetY)>u.height){var l=Object(n.b)(s.j.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit);return c(l)}var d=o.a.customCursor,p=JSON.parse(d.attributes);d.type=e,p.url=i,p.pox_x=t.offsetX,p.pox_y=t.offsetY,d.attributes=JSON.stringify(p),Object.values(r.modIdMapInstance).forEach((function(e){e.setViewCursorHandle()})),a(),u=null},u.src=i}))}))},e.prototype.undoClearAction=function(){this.getActivitedViews().forEach((function(e){return e._undoClear()}))},e.prototype.switchView=function(e){return c.a.getInstance().info(["Whiteboard_Manager","API"],"switchView",JSON.stringify({whiteboardID:e})),this.serviceHandle.switchView(e)},e.prototype.on=function(e,t){return i.e.on(e,t)},e.prototype.off=function(e,t){return i.e.off(e,t)},e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return ce}));r(265),r(266),r(45),r(30),r(59),r(82),r(83),r(84),r(38),r(49),r(67),r(52),r(53),r(99),r(60),r(192),r(72),r(113),r(345),r(79);var o,i,n,a,s,c,u=r(197),l=r.n(u),d=r(36),p=r(132),h=function(){return(h=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},f=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},g=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},_=function(){function e(){this.axiosInstance=l.a.create(),this.config=null,this.domains={},this.fileDomain=""}return e.prototype.setConfig=function(e){if(!this.config){var t=e.isTestEnv?"https://docservice-test.zego.im":"https://docservice.zego.im";this.fileDomain=e.isTestEnv?"https://docservice-storage-test.zego.im/":"https://docservice-storage.zego.im/",this.domains={cvt:t+"/doc/cvt_doc",query:t+"/doc/query_status",access:t+"/doc/access"},this.config={platform:32,app_id:e.appID,web_token:e.token,id_name:e.userID}}},e.prototype.isConfiged=function(){return!!this.config},e.prototype.uploadImage=function(e,t){return f(this,void 0,void 0,(function(){var r=this;return g(this,(function(o){return[2,new Promise((function(o,i){return f(r,void 0,void 0,(function(){var r,n,a,s,c,u,l,d,h,f;return g(this,(function(g){switch(g.label){case 0:return g.trys.push([0,9,,10]),r=e.name,n=e.size,a=r.substr(r.lastIndexOf(".")+1).toLowerCase(),[4,Object(p.a)(e)];case 1:return s=g.sent(),[4,this.queryStatus(s)];case 2:return c=g.sent(),u=c.status,l=c.oss,d=c.file_id,1!==u?[3,4]:[4,this.upload(l,e,r,s,a,t,o)];case 3:return g.sent(),[3,8];case 4:return 16!==u?[3,6]:(h=o,[4,this.load(d)]);case 5:return h.apply(void 0,[g.sent()]),[3,8];case 6:return[4,this.repeatQuery(r,s,n,"",o)];case 7:g.sent(),g.label=8;case 8:return[3,10];case 9:return!(f=g.sent())||2010001!=f.code&&2020006!=f.code||(f.code=3030010,f.msg=f.message),i(f),[3,10];case 10:return[2]}}))}))}))]}))}))},e.prototype.repeatQuery=function(e,t,r,o,i){return f(this,void 0,void 0,(function(){var n,a,s,c,u=this;return g(this,(function(l){switch(l.label){case 0:return[4,this.queryStatus(t,o)];case 1:return n=l.sent(),a=n.status,s=n.file_id,16===a&&i?(c=i,[4,this.load(s)]):[3,3];case 2:return c.apply(void 0,[l.sent()]),[3,6];case 3:return 2!==a?[3,5]:[4,this.cvt(e,t,r,i)];case 4:return l.sent(),[3,6];case 5:4!==a&&8!==a||setTimeout((function(){return f(u,void 0,void 0,(function(){return g(this,(function(n){switch(n.label){case 0:return[4,this.repeatQuery(e,t,r,o,i)];case 1:return n.sent(),[2]}}))}))}),2e3),l.label=6;case 6:return[2]}}))}))},e.prototype.queryStatus=function(e,t){return f(this,void 0,void 0,(function(){var r,o,i,n,a,s;return g(this,(function(c){switch(c.label){case 0:return r=h(h({},this.config),t?{task_id:t}:{file_hash:e,file_type:16,expect_file_type:16}),[4,this.axiosInstance({method:"post",url:d.a.getFullURL().queryStatusUrl,timeout:3e4,data:r})];case 1:return o=c.sent().data,i=o.ret,n=o.status,a=o.file_id,s=o.oss,0===i.code?[2,{status:n,file_id:a,oss:s}]:[2]}}))}))},e.prototype.upload=function(e,t,r,o,i,n,a){return f(this,void 0,void 0,(function(){var s,c,u;return g(this,(function(l){switch(l.label){case 0:return s=e.host?e.host+"/"+e.object_name+"?."+i:this.fileDomain+"/"+e.object_name+"?."+i,c=Object(p.b)(e),(u=new FormData).append("OSSAccessKeyId",c.OSSAccessKeyId),u.append("x-oss-security-token",c.securityToken),u.append("signature",c.signature),u.append("policy",c.policy),u.append("successActionStatus",c.successActionStatus),u.append("key",c.objectName),u.append("file",t),u.append("name",r),[4,this.axiosInstance({method:"post",url:c.url,data:u,timeout:6e5,onUploadProgress:function(e){if(n){var t=e.total,i=e.loaded;n({fileName:r,fileHash:o,uploadPercent:Math.floor(i/t*100)})}}})];case 1:return l.sent(),this.cvt(r,o,t.size,void 0),a(s),[2]}}))}))},e.prototype.cvt=function(e,t,r,o){return f(this,void 0,void 0,(function(){var i;return g(this,(function(n){switch(n.label){case 0:return[4,this.axiosInstance({method:"post",url:this.domains.cvt,timeout:3e4,data:h(h({},this.config),{file_name:e,file_hash:t,file_size:r,file_type:16,expect_file_type:16,export_high_quality_images:!1})})];case 1:return 0===(i=n.sent().data).ret.code&&o?[4,this.repeatQuery(e,t,r,i.task_id,o)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.load=function(e){return f(this,void 0,void 0,(function(){var t,r;return g(this,(function(o){switch(o.label){case 0:return[4,this.axiosInstance({method:"post",url:d.a.getFullURL().queryUrl,timeout:3e4,data:h(h({},this.config),{file_id:e})})];case 1:if(0===(t=o.sent().data).ret.code)return r=t.file_name.substr(t.file_name.lastIndexOf(".")+1).toLowerCase(),[2,t.original_file_urls[0]+"?."+r];throw{code:t.ret.code,msg:t.ret.message,message:t.ret.message}}}))}))},e}(),m={ModifyMod:"/edu/modify_mod",DestroyMod:"/edu/destroy_mod",CreateMod:"/edu/create_mod",GetMod:"/edu/get_mod",GetModList:"/edu/get_mod_list",GetPageGraphics:"/edu/get_page_graphics",ClearPageGraphics:"/edu/clear_page_graphics",DrawPageGraphics:"/edu/draw_page_graphics",Sync:"/edu/sync",GetRoomAuth:"/edu/get_room_auth",GetUserAuth:"/edu/get_user_auth"},y=(r(75),r(46),r(96),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(155),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(167),r(168),r(169),r(206),r(365),r(366),r(115),r(130),r(3)),v=r(6),b=r(0),w=y.a.calStandard.placeWidth,S=function(e,t,r){var o=e[t];e[t]=e[r],e[r]=o},I=function(e,t,r,o){var i=o.charCodeAt(t);e[t]=o.charCodeAt(r),e[r]=i},x=function(e){return btoa(String.fromCharCode.apply(null,e))},O=function(e){var t=unescape(encodeURIComponent(e)).split("").map((function(e){return e.charCodeAt(0)}));return new Uint8Array(t)},E=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(String,Array.from(e))))},P=function(e){for(var t=e.split(","),r=new Uint8Array(Int32Array.from([+t[0],+t[1]]).buffer),o=0;o<r.length;o+=4)S(r,o,o+3),S(r,o+1,o+2);var i=O(t.slice(2).join(",")),n=new Uint8Array(r.length+i.length);return n.set(r),n.set(i,r.length),n},k=function(e,t){var r=e.type,o=e.action,i=e.is_end_draw,n=e.data;if("[object Uint8Array]"==Object.prototype.toString.call(n)&&(n=btoa(Array.prototype.map.call(n,(function(e){return String.fromCharCode(e)})).join(""))),r===b.f.Text)e.data=t?function(e){for(var t=atob(e),r=new Uint8Array(t.length),o=0;o<8;o+=4)I(r,o,o+3,t),I(r,o+1,o+2,t);for(;o<t.length;o++)r[o]=t.charCodeAt(o);var i=new Int32Array(r.slice(0,8).buffer);return i[0]+","+i[1]+","+E(r.slice(8))}(n):x(P(n));else if(r===b.f.Image||r===b.f.BgImage)e.data=t?JSON.parse(function(e){for(var t=atob(e),r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return E(r)}(n)):x(O(JSON.stringify(n)));else if(t)if("[object Array]"==Object.prototype.toString.call(n))e.data=n;else{for(var a=atob(n||""),s=new Uint8Array(a.length),c=0;c<a.length;c+=4)I(s,c,c+3,a),I(s,c+1,c+2,a);e.data=Array.from(new Int32Array(s.buffer)),e.data=e.data.slice(r!==b.f.RealTime&&e.data.length%2?1:0)}else{var u=n.slice();(r!==b.f.Pencil||i||o!==b.a.Create&&o!==b.a.Append)&&u.unshift(u.length/2);for(s=new Uint8Array(Int32Array.from(u).buffer),c=0;c<s.length;c+=4)S(s,c,c+3),S(s,c+1,c+2);e.data=x(s)}},D=function(e,t){var r=e.type,o=e.data,i=e.action,n=e.is_end_draw,a=e.attributes;if(r===b.f.Text)e.data=t?function(e){for(var t=0;t<8;t+=4)S(e,t,t+3),S(e,t+1,t+2);var r=new Int32Array(e.slice(0,8).buffer);return r[0]+","+r[1]+","+E(e.slice(8))}(o):P(o);else if(r===b.f.Image||r===b.f.BgImage)e.data=t?JSON.parse(E(o)):O(JSON.stringify(o));else if(t){for(var s=o,c=0;c<s.length;c+=4)S(s,c,c+3),S(s,c+1,c+2);e.data=Array.from(new Int32Array(s.slice().buffer)),e.data=e.data.slice(r!==b.f.RealTime&&e.data.length%2?1:0),a&&(e.attributes=N(a))}else{var u=o.slice();(r!==b.f.Pencil||n||i!==b.a.Create&&i!==b.a.Append)&&u.unshift(u.length/2);for(s=new Uint8Array(Int32Array.from(u).buffer),c=0;c<s.length;c+=4)S(s,c,c+3),S(s,c+1,c+2);e.data=s}},T=function(e,t,r,o,i,n,a){void 0===n&&(n=0),void 0===a&&(a=1);var s=0;return s=o?e*t/r+e*t/r*n/a:(e+(n=e*n/a))*r/t,o&&i?s:Math.round(s)},A=function(e,t,r,o,i){void 0===o&&(o=0),void 0===i&&(i=1);var n=e.type,a=e.px,s=e.py,c=e.x,u=e.y,l=Object(v.k)(e);if(a&&(e.px=T(a,t,w,r,!1)),s&&(e.py=T(s,t,w,r,!1,o,i)),e.x=T(c||0,t,w,r,!1),e.y=T(u||0,t,w,r,!1,o,i),n!==b.f.BgImage)if(n===b.f.Text){var d=e.data.split(",");d[0]=T(+d[0],t,w,r,l)+"",d[1]=T(+d[1],t,w,r,l,o,i)+"",e.data=d.join(",")}else if(n===b.f.Image){var p=e.data;p.x=T(p.x,t,w,r,l),p.y=T(p.y,t,w,r,l,o,i),p.ex=T(p.ex,t,w,r,l),p.ey=T(p.ey,t,w,r,l,o,i),r?(e.initX=p.x,e.initY=p.y,p.x+=e.x,p.y+=e.y,p.ex+=e.x,p.ey+=e.y):e.data=p}else b.f.Cursor,e.data=e.data.map((function(e,n){return n%2==0?T(e,t,w,r,l,0):T(e,t,w,r,l,o,i)}))},C=function(e,t,r,o){var i=o.filePageSize,n=o.pageCount,a=(null==i?void 0:i.fillPPT)?t:r*n;return i&&a-i.height*e*n/i.width||0},B=function(e){return Uint8Array.from(Array.from(unescape(encodeURIComponent(e))).map((function(e){return e.charCodeAt(0)})))},N=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(String,Array.from(e))))},M=r(10),L=r(1),V=function(){return(V=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},j=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},R=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},H=function(){function e(e,t){this.socket=e,this.module=t,this.docsService=new _}return e.prototype.updateRemoteImageGraphicData=function(e,t){return(e=JSON.parse(JSON.stringify(e))).forEach((function(e){var r=e.type,o=e.action,i=e.x,n=e.y;if(r==b.f.Image&&(!t&&(o==b.a.Update||o==b.a.Create)||t&&o==b.a.Move)){var a=e.data;a.x-=i,a.y-=n,a.ex-=i,a.ey-=n}})),e},e.prototype.posToPageNum=function(e,t,r,o,i,n,a){var s=r.cx,c=r.cy,u=0;return s&&c&&(o+=n,i+=a,u=(u=(u=e===b.p.Horizontal?o<=0?0:Math.floor(o/s):i<=0?0:Math.floor(i/c))>t-1?t-1:u)>99?99:u),u},e.prototype.mapPageNumList=function(e){for(var t=[],r=Math.min.apply(Math,e),o=Math.max.apply(Math,e),i=r;i<=o;i++)t.push(i);return t},e.prototype.judgeGraphicPage=function(e,t){var r=this,o=this.module.getMap(e),i=o.innerDirection,n=o.innerPageSize,a=o.innerPageCount,s=t.type,c=t.x,u=t.y,l=[];switch(s){case b.f.Text:var d=Object(v.s)(t.data),p=d.beginX,h=d.beginY,f=this.posToPageNum(i,a,n,Number(p),Number(h),c,u);l=this.mapPageNumList([f]);break;case b.f.Pencil:case b.f.Line:case b.f.Rect:case b.f.Ellipse:case b.f.Laser:case b.f.Cursor:var g=[];t.data.forEach((function(e,t,o){t%2||g.push(r.posToPageNum(i,a,n,o[t],o[t+1],c,u))})),l=this.mapPageNumList(g);break;case b.f.Image:var _=t.data,m=_.x,y=_.y,w=_.ex,S=_.ey,I=this.posToPageNum(i,a,n,m,y,0,0),x=this.posToPageNum(i,a,n,w,S,0,0);l=this.mapPageNumList([I,x]);break;case b.f.BgImage:l.push(0)}return l},e.prototype.checkProtoGraphic=function(e){var t=e.action,r=e.action_type,o=e.graphic_id,i=e.type,n=e.data,a=e.color,s=e.size,c=e.x,u=e.y,l=e.zorder,d=e.attributes,p=e.operate_id,h=e.is_end_draw,f={graphic_id:o,action:t,action_type:r,type:i,is_end_draw:!!h,layer:e.layer||0,zorder:l,creator_id:e.creator_id,operate_id:p};return t===b.a.Create||t===b.a.Append?(f.x=c,f.y=u,f.data=n,f.color=a,f.size=s,i!==b.f.Text&&i!==b.f.Pencil&&i!==b.f.Cursor||(f.attributes=B(d))):t===b.a.Update?(f.x=c,f.y=u,f.data=n,i===b.f.Image&&i===b.f.Cursor||(f.color=a,f.size=s),i!==b.f.Text&&i!==b.f.Pencil&&i!==b.f.Cursor||(f.attributes=B(d))):t===b.a.Move&&(f.x=c,f.y=u),i!==b.f.Pencil||h||t!==b.a.Create&&t!==b.a.Append||(f.type=b.f.RealTime),f},e.prototype.mapDrawPages=function(e,t){var r=this,o=this.module.getMap(e);if(!o)return[];var i=this.socket.isSendPB,n=o.width,a=o.height,s=o.viewHeight,c=[],u=[];null==t||t.forEach((function(t){var l=r.judgeGraphicPage(e,t);t.color=Object(v.u)(t.color,!1);var d=C(n,a,s,r.module.fileInfo);A(t,n,!1,-d,a),i?D(t,!1):k(t,!1);var p=!1,h=r.checkProtoGraphic(t);l.forEach((function(e){u.includes(e)||u.push(e);var r=o.graphicListSeqs[e],i=V({},h);p&&t.type===b.f.RealTime&&t.action===b.a.Append&&(i.data=""),c.push({page:e,graphic_list_seq:r,draw_list:[i]}),p=!0}))}));var l=[];return u.forEach((function(e){var t={page:e,draw_list:[]};c.forEach((function(r){r.page===e&&(t.draw_list=t.draw_list.concat(r.draw_list),t.graphic_list_seq=r.graphic_list_seq)})),l.push(t)})),l},e.prototype.handleClearRsp=function(e,t,r,o,i){var n=r.rsp_head,a=n.code,s=n.message;if(0===a){var c=r.pages,u=r.graphic_list_seqs,l={};c&&c.forEach((function(e,t){return l[e]=u[t]})),L.a.getInstance().info(["WhiteBoard_Service"],"graph_update_seq",JSON.stringify({whiteboardID:e,graphicListSeqs:l,resData:r,actionMsg:"clear cb success"})),this.module.updateMapByGraphicListSeqs(r.mod_id,l),this.module.updateMap({whiteboardID:e,operateTimes:0}),this.module.clearGraphicMap(),o(e)}else{var d=this.module.getMap(e);if(d&&++d.operateTimes<5)this.clearViewHandle(e,t,o,i);else{var p=Object(M.b)(a,s);L.a.getInstance().error(["WhiteBoard_Service"],"mod_clear_cb",JSON.stringify({errorData:p})),i(p)}}},e.prototype.handleUpdateToRemoteRsp=function(e,t,r,o,i){var n=r.rsp_head,a=n.code,s=n.message;if(0===a){var c=r.pages,u=r.graphic_list_seqs,l={};c&&c.forEach((function(e,t){return l[e]=u[t]})),L.a.getInstance().info(["WhiteBoard_Service"],"graph_update_seq",JSON.stringify({whiteboardID:e,graphicListSeqs:l,actionMsg:"draw cb success"})),this.module.updateMapByGraphicListSeqs(r.mod_id,l),this.module.updateGraphicMap(e,t),o()}else{var d=Object(M.b)(a,s);L.a.getInstance().error(["WhiteBoard_Service"],"graph_draw_cb",JSON.stringify({errorData:d})),i(d)}},e.prototype.clearViewHandle=function(e,t,r,o){return j(this,void 0,void 0,(function(){var i;return R(this,(function(n){switch(n.label){case 0:return[4,this.socket.queueWSCmdHandler(m.ClearPageGraphics,{mod_id:e,layers:t})];case 1:return i=n.sent(),this.handleClearRsp(e,t,i,r,o),[2]}}))}))},e.prototype.updateToRemoteHandle=function(e,t,r,o){return j(this,void 0,void 0,(function(){var i,n,a,s,c,u,l;return R(this,(function(d){switch(d.label){case 0:return t=this.updateRemoteImageGraphicData(t),i=this.updateRemoteImageGraphicData(t,!0),(n={mod_id:e,draw_pages:this.mapDrawPages(e,JSON.parse(JSON.stringify(t)))}).draw_pages.length?[4,this.socket.checkSendLength(n,t[0].action)]:(o(Object(M.b)(b.j.ZegoWhiteboardViewErrorGraphicModifyFail)),[2]);case 1:return a=d.sent(),t.length>1&&a?(s=b.j.ZegoWhiteboardViewErrorGraphicNumLimit,c=Object(M.b)(s),o(c),L.a.getInstance().error(["WhiteBoard_Service"],"graph_draw_cb",JSON.stringify({errorData:c,size:a})),[2]):(u={mod_id:e,draw_pages:this.mapDrawPages(e,t)},[4,this.socket.queueWSCmdHandler(m.DrawPageGraphics,u)]);case 2:return l=d.sent(),this.handleUpdateToRemoteRsp(e,i,l,r,o),[2]}}))}))},e.prototype.clearView=function(e,t){var r=this;return new Promise((function(o,i){r.clearViewHandle(e,t,o,i)}))},e.prototype.uploadImage=function(e,t){if(!this.docsService.isConfiged()){var r=L.a.getInstance().getConfig(),o=r.appID,i=r.userID,n=r.token,a=r.isTestEnv;this.docsService.setConfig({appID:o,userID:i,token:n,isTestEnv:a})}return this.docsService.uploadImage(e,t)},e.prototype.getGraphicIsEndDraw=function(e){try{var t=this.module.getGraphicItem(e),r=t.is_end_draw,o=1e3*t.server_timestamp-this.socket.getServerTimeOffset();return!!(r||(new Date).getTime()<o)}catch(e){return!0}},e.prototype.isAppendPathLimit=function(e,t){(t=JSON.parse(JSON.stringify(t))).action=b.a.Update,t.action_type=b.b.Single,t.is_end_draw=!0,t.data=t.oldData;var r=t.data.length;return this.socket.checkSendLength({mod_id:e,draw_pages:this.mapDrawPages(e,[t])},t.action).then((function(e){return e&&L.a.getInstance().warn(["WhiteBoard_Service"],"graph_draw_limit",JSON.stringify({size:e,length:r})),!!e}))},e}(),q=(r(258),r(120),r(171),r(131),r(268),r(61),r(106),r(170),r(342),r(205),r(111),r(208),r(5)),z=r(32);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){e[e.Initiative=1]="Initiative",e[e.Inner=2]="Inner"}(o||(o={})),function(e){e[e.InProgress=1]="InProgress",e[e.Pending=2]="Pending",e[e.Resolve=3]="Resolve",e[e.Reject=4]="Reject"}(i||(i={})),function(e){e[e.success=0]="success",e[e.error=1]="error"}(n||(n={})),function(e){e[e.SetMod=1]="SetMod",e[e.ClearPageGraphics=2]="ClearPageGraphics",e[e.DrawPageGraphics=3]="DrawPageGraphics",e[e.SetRoomAuth=4]="SetRoomAuth",e[e.SetUserAuth=5]="SetUserAuth"}(a||(a={})),function(e){e[e.Add=1]="Add",e[e.Removed=2]="Removed",e[e.Modify=3]="Modify"}(s||(s={})),function(e){e[e.Scroll=1]="Scroll",e[e.AppendH5Extra=2]="AppendH5Extra",e[e.Scale=3]="Scale",e[e.Other=4]="Other"}(c||(c={}));var Z=function(){return(Z=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},W=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},U=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},G=function(){function e(e){this.modListSeq=0,this.modIdMapData={},this.zorderSeq=1,this.zorderStep=Object(v.f)(),this.modLimit=50,this.defaultModListSeq=0,this.marker="",this.defaultModType=1,this.defaultModSubtype=1,this.defaultModDeleteFlag=0,this.defaultHPercent=0,this.defaultVPercent=0,this.defaultModReserve=1,this.graphicLimit=30,this.graphicMap={},this.fileInfo={},this.userAuthMap={roomSeq:0,userSeq:0,syncTaskId:0,model:Object.freeze({scale:1,scroll:1,update:1,delete:1,move:1,clear:1,create:1})},this.socket=e}return e.prototype.updateModifyModTaskList=function(e){var t=e.status,r=e.push,o=e.setModAction,n=e.data,a=this.getMap(n.mod_id);if(t===i.InProgress)a.modifyModTaskList.splice(0,a.modifyModTaskList.length,e);else if(t===i.Pending)if(r)a.modifyModTaskList.push(e);else{a.modifyModTaskList.reverse();var s=a.modifyModTaskList.findIndex((function(e){return!e.push&&e.status===i.Pending}));if(-1!==s&&(s=a.modifyModTaskList.length-s-1,a.modifyModTaskList.reverse()),-1===s)a.modifyModTaskList.push(e);else{var u=a.modifyModTaskList[s];u.setModAction===c.AppendH5Extra?(c.Other,Object.assign(u.data,e.data)):u.setModAction===c.Scroll?o===c.Other||o===c.Scroll?Object.assign(u.data,e.data):a.modifyModTaskList.splice(s+1,0,e):u.setModAction===c.Scale?o===c.Scale?Object.assign(u.data,e.data):a.modifyModTaskList.splice(s+1,0,e):(Object.assign(u.data,e.data),u.setModAction=e.setModAction)}}L.a.getInstance().info(["DocsView_Service"],"module_update_task_list",JSON.stringify(a.modifyModTaskList))},e.prototype.getOldModInfoByModifyModOption=function(e){var t=this.getMap(e.mod_id),r={};return Object.keys(e).forEach((function(e){"mod_title"===e?r[e]=t.name:"mod_extra"===e?r[e]=t.modExtra:"mod_reserve"===e?r[e]=t.pptStep:"mod_horizontal_percent"===e?r[e]=t.horizontalPercent:"mod_vertical_percent"===e?r[e]=t.verticalPercent:"mod_scale"===e&&(r[e]=t.modScale)})),r},e.prototype.setModBefore=function(e,t){var r=t.mod_id,o=this.getModSendSwitch(r),n={setModAction:e,data:t,push:!1,status:o?i.InProgress:i.Pending};return this.updateModifyModTaskList(n),o},e.prototype.cachePushModifyModTaskHandle=function(e){var t,r=this;return e.forEach((function(e){var o=e.pushModSeq,i=e.data,n=i.mod_id;o>r.getMap(n).modSeq&&r.updateMap({modSeq:o,whiteboardID:n});var a=r.updateMapByModifyModOption(i,o,!0);a&&(t=t||{},Object.assign(t,a))})),t},e.prototype.setModRspAfter=function(e){var t=e.setModOption,r=e.sendResultType,o=e.setModAction,a=t.mod_id,s=this.getMap(a),u=e.errorData;if(r===n.success)L.a.getInstance().info(["WhiteBoard_Service"],"module_set_mod_cb","success");else{var l=this.getOldModInfoByModifyModOption(t);if(o===c.Scroll){var d=Z(Z({},u),{whiteboardID:a,horizontalPercent:l.mod_horizontal_percent,verticalPercent:l.mod_vertical_percent,step:l.mod_reserve});q.e.emit(q.c.Scroll,d),L.a.getInstance().info(["WhiteBoard_Service"],"module_set_mod_cb",JSON.stringify(d))}else if(o===c.AppendH5Extra){3===(null==u?void 0:u.code)&&(u=Object(M.b)(z.b.ZegoWhiteboardViewErrorAnimationInfoLimit));var p=l.mod_extra.includes("H5_record");p&&(l.mod_extra=JSON.parse(l.mod_extra),l.mod_extra.H5_record.t=102,l.mod_extra=JSON.stringify(l.mod_extra));d=Z(Z({},u),{modExtra:l.mod_extra,whiteboardID:a,isH5:p});q.e.emit(q.c.AppendH5Extra,d),L.a.getInstance().info(["WhiteBoard_Service"],"module_set_mod_cb",JSON.stringify(d))}else if(o===c.Scale){d=Z(Z({},u),{whiteboardID:a,mod_scale:l.mod_scale});q.e.emit(q.c.Scale,d),L.a.getInstance().warn(["WhiteBoard_Service"],"module_set_mod_cb",JSON.stringify(d))}}L.a.getInstance().info(["WhiteBoard_Service"],"module_set_mod_cb_tasks",JSON.stringify(s.modifyModTaskList)),s.modifyModTaskList.splice(0,1);var h=s.modifyModTaskList.filter((function(e){return e.push})),f=this.cachePushModifyModTaskHandle(h);L.a.getInstance().info(["WhiteBoard_Service"],"module_set_mod_cb_push_map",f?JSON.stringify(f):""),s.modifyModTaskList=s.modifyModTaskList.filter((function(e){return!e.push}));var g=s.modifyModTaskList[0];g&&(f?this.cacheCallback(f):(g.status=i.InProgress,this.setModHandle(g.setModAction,g.data)))},e.prototype.cacheCallback=function(e){var t=e.is_modify_mod_scale,r=e.is_modify_mod_extra,o=e.is_modify_mod_horizontal_percent,n=e.is_modify_mod_vertical_percent,a=e.is_modify_mod_reserve,s=e.mod_extra,u=e.mod_id,l=this.getMap(u),d=l.modifyModTaskList[0];if(d){var p=d.setModAction,h=!1;if(p===c.Scroll)if(o||n||a)h=!0;else{var f={code:1112,msg:"",whiteboardID:u,horizontalPercent:l.horizontalPercent,verticalPercent:l.verticalPercent,step:l.pptStep};q.e.emit(q.c.Scroll,f),L.a.getInstance().info(["WhiteBoard_Service"],"module_set_mod_cb_cache",JSON.stringify(f)),l.modifyModTaskList.splice(0,1),this.cacheCallback(e)}else if(p===c.AppendH5Extra)if(r&&s){var g=l.modExtra.includes("H5_record");f={code:1112,msg:"",modExtra:l.modExtra,whiteboardID:u,isH5:g};q.e.emit(q.c.AppendH5Extra,f),L.a.getInstance().info(["WhiteBoard_Service"],"module_set_mod_cb_cache",JSON.stringify(f)),l.modifyModTaskList.splice(0,1),this.cacheCallback(e)}else h=!0;else if(p===c.Scale)if(t){f={code:1112,msg:"",whiteboardID:u,mod_scale:l.modScale};q.e.emit(q.c.Scale,f),L.a.getInstance().info(["WhiteBoard_Service"],"module_set_mod_cb_cache",JSON.stringify(f)),l.modifyModTaskList.splice(0,1),this.cacheCallback(e)}else h=!0;else h=!0;h&&(L.a.getInstance().info(["WhiteBoard_Service"],"module_set_mod_cb_cache","next set mod"),d.status=i.InProgress,this.setModHandle(d.setModAction,d.data))}},e.prototype.getModSendSwitch=function(e){var t=this.modIdMapData[e];return!t||!t.modifyModTaskList.some((function(e){return!e.push}))},e.prototype.transModInfo=function(e,t,r,o){var i={room_id:"",zorder:0},n={x:0,y:0,z:0,w:0,h:0,ar_w:1,ar_h:1},a={scale:1,ofs_x:0,ofs_y:0};if(e)try{var s=e.buffer?JSON.parse(E(e)):JSON.parse(e),c=s.file_info;c&&(s.file_info={fileID:c.file_id,fileName:c.file_name,fileType:+c.file_type}),s.unique_id||(s.unique_id=4===(null==c?void 0:c.file_type)?c.file_id:o),i=s}catch(t){L.a.getInstance().error(["WhiteBoard_Service"],"module_trans",JSON.stringify({error:t.message,modContentStr:e}))}if(t)try{n=t.buffer?JSON.parse(E(t)):JSON.parse(t)}catch(e){L.a.getInstance().error(["WhiteBoard_Service"],"module_trans",JSON.stringify({error:e.message,modPosStr:t}))}if(r)try{(a=r.buffer?JSON.parse(E(r)):JSON.parse(r)).scale=Math.max(a.scale,1)}catch(e){L.a.getInstance().error(["WhiteBoard_Service"],"module_trans",JSON.stringify({error:e.message,modScaleStr:r}))}return{modContent:i,modPos:n,modScale:a}},e.prototype.checkModInfo=function(e){var t=this.getMap(e);return!!(t&&t.width&&t.height)&&t},e.prototype.deleteMap=function(e){delete this.modIdMapData[e]},e.prototype.getModPropSeq=function(e){return this.modIdMapData[e].modPropSeq},e.prototype.decodeH5Extra=function(e){return(null==(e=e||"")?void 0:e.buffer)&&(e=N(e)),e},e.prototype.checkH5Extra=function(e,t,r){try{var o="",i=this.getH5Extra(e,!0);if(i){var n=JSON.parse(i);if(n.H5_target)if(t){var a=JSON.parse(t),s=n.H5_target,c=s.s,u=s.p,l=s.e,d=a.H5_target,p=d.s,h=d.p,f=d.e;if(p===c&&h===u)if(r)if(f.length<l.length)o=t;else if(f.length>l.length)a.H5_target.e=f.slice(l.length),o=JSON.stringify(a);else{var g=[];f.forEach((function(e,t){l.findIndex((function(t){return e.id===t.id}))!==t&&g.push(e)}));var _=f[f.length-1];o=g.length?(a.H5_target.e=g,JSON.stringify(a)):_.s?(a.H5_target.e=[_],JSON.stringify(a)):""}else{var m=l.findIndex((function(e){return e.s&&f[0].id===e.id}));-1!==m&&l.splice(m,1),n.H5_target.e=l.concat(f),o=JSON.stringify(n)}else o=t}else o="";else o=t}else o=t;return o}catch(e){return""}},e.prototype.updateMapByModifyModOption=function(e,t,r){var o,i=e.mod_id,n=e.mod_title,a=e.mod_horizontal_percent,s=e.mod_vertical_percent,c=e.mod_reserve,u=e.mod_scale,l=e.mod_content,d=e.is_modify_mod_horizontal_percent,p=e.is_modify_mod_vertical_percent,h=e.is_modify_mod_reserve,f=e.is_modify_mod_title,g=e.is_modify_mod_extra,_=e.is_modify_mod_scale,m=e.is_modify_mod_content,y=this.decodeH5Extra(e.mod_extra),v=this.getModPropSeq(i),b=v.mod_horizontal_percent,w=v.mod_vertical_percent,S=v.mod_reserve,I=v.mod_title,x=v.mod_extra,O=v.mod_scale,E=v.mod_content,P=this.getMap(i),k={isPushScroll:!1,horizontalPercent:P.horizontalPercent,verticalPercent:P.verticalPercent,pptStep:P.pptStep};if(d&&t>b){k.isPushScroll=!0,k.horizontalPercent=+a||0;var D={whiteboardID:i,horizontalPercent:k.horizontalPercent,modPropSeq:{mod_horizontal_percent:t}};L.a.getInstance().info(["WhiteBoard_Service"],"module_update_h_percent",JSON.stringify({temp1:D})),this.updateMap(D)}if(p&&t>w){k.isPushScroll=!0,k.verticalPercent=+s||0,k.pptStep=+c||1;var T={whiteboardID:i,verticalPercent:k.verticalPercent,pptStep:k.pptStep,modPropSeq:{mod_vertical_percent:t}};L.a.getInstance().info(["WhiteBoard_Service"],"module_update_v_percent",JSON.stringify({temp2:T})),this.updateMap(T)}if(h&&t>S){k.isPushScroll=!0,k.pptStep=+c||1;var A={whiteboardID:i,pptStep:k.pptStep,modPropSeq:{mod_reserve:t}};L.a.getInstance().info(["WhiteBoard_Service"],"module_update_step",JSON.stringify({temp3:A})),this.updateMap(A)}if(k.isPushScroll&&r&&(this.pushScrollHandle(i,k.horizontalPercent,k.verticalPercent,k.pptStep),this.updateMap({whiteboardID:i,modExtra:""}),o=e),f&&t>I){var C={whiteboardID:i,name:n,modPropSeq:{mod_title:t}};L.a.getInstance().info(["WhiteBoard_Service"],"module_update_name",JSON.stringify({temp4:C})),this.updateMap(C)}if(g&&t>x){var B={whiteboardID:i,modExtra:y,modPropSeq:{mod_extra:t}};if(r){var M=this.checkH5Extra(i,y,!0);M&&(this.pushExtraHandle(i,M),o=e)}L.a.getInstance().info(["WhiteBoard_Service"],"module_update_h5extra",JSON.stringify({temp5:B})),this.updateMap(B)}if(_&&t>O){var V=(null==u?void 0:u.buffer)?JSON.parse(N(u)):JSON.parse(u);B={whiteboardID:i,modScale:V,modPropSeq:{mod_scale:t}};r&&this.pushScaleHandle(i,V.scale,V.ofs_x,V.ofs_y),L.a.getInstance().info(["WhiteBoard_Service"],"module_update_scale",JSON.stringify({temp5:B})),this.updateMap(B)}if(m&&t>E){B={whiteboardID:i,zorder:((null==l?void 0:l.buffer)?JSON.parse(N(l)):JSON.parse(l)).zorder,modPropSeq:{mod_content:t}};L.a.getInstance().info(["WhiteBoard_Service"],"module_update_content",JSON.stringify({temp5:B})),this.updateMap(B),r&&this.pushSwitchViewHandle()}return o},e.prototype.updateMapByMod=function(e){var t=this.transModInfo(e.mod_content,e.mod_pos,e.mod_scale,e.mod_id),r=t.modContent,o=t.modPos,i=t.modScale;this.updateMap({whiteboardID:e.mod_id,name:e.mod_title.buffer?N(e.mod_title):e.mod_title,aspectWidth:o.ar_w,aspectHeight:o.ar_h,roomID:r.room_id,uniqueID:r.unique_id,zorder:r.zorder,fileInfo:Object.freeze(r.file_info),createTime:e.mod_create_time?+e.mod_create_time:0,horizontalPercent:e.mod_horizontal_percent||0,verticalPercent:e.mod_vertical_percent||0,pptStep:e.mod_reserve||1,modScale:i,modType:e.mod_type,modSubtype:e.mod_subtype,modSeq:e.mod_seq,modExtra:this.decodeH5Extra(e.mod_extra),outPageCount:r.whiteboard_page_count,outZorder:r.zorder,modPropSeq:{mod_title:e.mod_seq,mod_type:e.mod_seq,mod_subtype:e.mod_seq,mod_pos:e.mod_seq,mod_status:e.mod_seq,mod_content:e.mod_seq,mod_extra:e.mod_seq,mod_reserve:e.mod_seq,mod_delete_flag:e.mod_seq,mod_horizontal_percent:e.mod_seq,mod_vertical_percent:e.mod_seq,mod_scale:e.mod_seq}})},e.prototype.updateModListSeq=function(e){e&&(this.modListSeq=e)},e.prototype.splitPage=function(e,t,r){var o=this.getMap(e);if(o&&t&&r){var i=1,n=0,a=0;t>=r?(n=a=r,(i=Math.ceil(t/r))>100&&(n=Math.ceil(t/99),i=100),o.innerDirection=z.f.Horizontal):(a=n=t,(i=Math.ceil(r/t))>100&&(a=Math.ceil(r/99),i=100),o.innerDirection=z.f.Vertical),o.innerPageCount=i;for(var s=0;s<i;s++)o.graphicListSeqs[s]||(o.graphicListSeqs[s]=0),o.pullMarks[s]=!1;o.innerPageSize.cx=n,o.innerPageSize.cy=a,L.a.getInstance().info(["WhiteBoard_Service"],"module_split_page",JSON.stringify({whiteboardID:e,width:t,height:r,innerPageCx:n,innerPageCy:a,innerPageCount:i}))}},e.prototype.setFileInfo=function(e){this.fileInfo=e},e.prototype.transGraphicList=function(e,t,r,o,i){var n=this;if(t&&t.length){var a=this.socket.isSendPB,s=C(r,o,i,this.fileInfo);t.forEach((function(t){e.some((function(e){return e.graphic_id===t.graphic_id}))||(t.zorder>n.zorderSeq&&(n.zorderSeq=t.zorder),a?D(t,!0):k(t,!0),n.setGraphicItem(t),A(t,r,!0,s,o),t.color=Object(v.u)(t.color,!0),e.push(t))}))}},e.prototype.pushScrollHandle=function(e,t,r,o){q.e.emit(q.c.PushScroll,e,t,r,o)},e.prototype.pushScaleHandle=function(e,t,r,o){q.e.emit(q.c.PushScale,e,t,r,o)},e.prototype.pushExtraHandle=function(e,t){q.e.emit(q.c.PushH5ExtraAppended,e,t)},e.prototype.pushSwitchViewHandle=function(){var e=this.getCurrentActivitedView(),t=e[0],r=e[1];q.e.emit(q.d.RemoteSwitchMod,t,r)},e.prototype.pushSetModHandle=function(e){var t=e.mod_list_seq,r=e.action_list[0],o=r.action;o===s.Removed?this.pushRemovedMod(r.mod_id):o===s.Add&&this.pushAddMod(r),t>=this.modListSeq?(this.updateModListSeq(t),o===s.Modify&&this.pushModifyMod(r)):L.a.getInstance().warn(["WhiteBoard_Service"],"module_remote",JSON.stringify({localModListSeq:this.modListSeq,remoteModListSeq:t,msg:"throw away"}))},e.prototype.pushClearPageGraphicsHandle=function(e){var t=e.action_seqs,r=e.pages,o=e.layers,i=e.mod_id;if(this.checkModInfo(i)){var n={};r&&r.forEach((function(e,r){return n[e]=t[r]})),L.a.getInstance().info(["WhiteBoard_Service"],"module_update_seq",JSON.stringify({whiteboardID:i,graphicListSeqs:n,layers:o,actionMsg:"remote clear"})),q.e.emit(q.c.PushClearPageGraphics,i,o),this.updateMapByGraphicListSeqs(i,n),this.updateMap({whiteboardID:i,operateTimes:0})}},e.prototype.pushClearUserGraphicListHandle=function(e){var t=e.id_name,r=e.mods;t!=this.socket.getUserID()&&(r.forEach((function(e){var t=e.mod_id,r=e.graphic_ids;q.e.emit(q.c.PushDrawPageGraphics,t,[],r)})),L.a.getInstance().info(["WhiteBoard_Service"],"module_delete_graphic",JSON.stringify({id_name:t,mods:r,actionMsg:"remote delete graphic"})))},e.prototype.pushDrawPageGraphicsHandle=function(e){var t=this,r=e.page_graphics,o=e.mod_id,i=this.checkModInfo(o);if(i){L.a.getInstance().info(["WhiteBoard_Service"],"module_remote_draw",JSON.stringify({drawPages:r}));var n=i.width,a=i.height,s=i.viewHeight,c={},u=[],l=[];r.forEach((function(e){var r=e.del_graphic_id_list,o=e.graphic_list,d=e.action_seq,p=e.page;(!i.graphicListSeqs[p]||d>i.graphicListSeqs[p])&&(t.transGraphicList(u,o,n,a,s),r&&l.push.apply(l,r),c[p]=d)})),L.a.getInstance().info(["WhiteBoard_Service"],"module_update_seq",JSON.stringify({whiteboardID:o,graphicListSeqs:c,actionMsg:"remote_draw"})),this.updateMapByGraphicListSeqs(o,c),q.e.emit(q.c.PushDrawPageGraphics,o,u,l)}},e.prototype.pushAddMod=function(e){var t=e.mod_id;L.a.getInstance().info(["WhiteBoard_Service"],"module_remote_add",JSON.stringify({whiteboardID:t})),this.updateMapByMod(e),q.e.emit(q.c.PushAddMod,t,this.getMap(t).uniqueID)},e.prototype.pushRemovedMod=function(e){var t=this.getMap(e).uniqueID;this.deleteMap(e),q.e.emit(q.c.PushRemovedMod,e,t),q.e.emit(q.c.RemoteDelMod)},e.prototype.pushModifyMod=function(e){e.mod_horizontal_percent||(e.mod_horizontal_percent=0),e.mod_vertical_percent||(e.mod_vertical_percent=0);var t=e.mod_id,r=e.mod_seq,o=e.mod_title,n=e.mod_horizontal_percent,a=e.mod_vertical_percent,s=e.mod_reserve,c=e.mod_extra,u=e.mod_scale,l=e.mod_content,d=e.is_modify_mod_vertical_percent,p=e.is_modify_mod_horizontal_percent,h=e.is_modify_mod_reserve,f=e.is_modify_mod_title,g=e.is_modify_mod_extra,_=e.is_modify_mod_scale,m=e.is_modify_mod_content,y=this.getMap(t);if(y)if(this.getModSendSwitch(t)){if(L.a.getInstance().info(["WhiteBoard_Service"],"module_remote_modify","immediate update"),r>y.modSeq){var v={whiteboardID:t,modSeq:r};this.updateMap(v)}this.updateMapByModifyModOption(e,r,!0)}else{L.a.getInstance().info(["WhiteBoard_Service"],"module_remote_modify","cache");var b={mod_id:t};f&&Object.assign(b,{mod_title:o,is_modify_mod_title:f}),g&&Object.assign(b,{mod_extra:c,is_modify_mod_extra:g}),p&&Object.assign(b,{mod_horizontal_percent:n,is_modify_mod_horizontal_percent:p}),d&&Object.assign(b,{mod_vertical_percent:a,is_modify_mod_vertical_percent:d,mod_reserve:s,is_modify_mod_reserve:h}),h&&Object.assign(b,{mod_reserve:s,is_modify_mod_reserve:h}),_&&Object.assign(b,{mod_scale:u,is_modify_mod_scale:_}),m&&Object.assign(b,{mod_content:l,is_modify_mod_content:m}),this.updateModifyModTaskList({status:i.Pending,data:b,push:!0,pushModSeq:r})}},e.prototype.clearPullMarks=function(e){var t=this;L.a.getInstance().info(["WhiteBoard_Service"],"module_clear_pull_mark","init pull mark");var r=e?[e]:Object.keys(this.modIdMapData);Object.values(r).forEach((function(e){var r=t.modIdMapData[e];r&&Object.keys(r.pullMarks).forEach((function(e){r.pullMarks[+e]=!1}))}))},e.prototype.createModInfo=function(e){var t={};if(e.fileInfo){var r=e.fileInfo,o=r.fileID,i=r.fileName,n=r.fileType;t.file_info={file_id:o,file_name:i,file_type:n}}e.pageCount&&(t.whiteboard_page_count=e.pageCount);var a=e.uniqueID;a&&(t.unique_id=a,t.zorder=Date.now()+this.socket.getServerTimeOffset());return{modContent:t,modPos:{x:0,y:0,z:0,w:0,h:0,ar_w:e.aspectWidth,ar_h:e.aspectHeight},modScale:{scale:1,ofs_x:0,ofs_y:0}}},e.prototype.compareHandle=function(e,t){var r=this;L.a.getInstance().info(["WhiteBoard_Service"],"module_compare","compare local with server");var i=Object.keys(this.modIdMapData);t.forEach((function(t){var n=t.mod_id,a=t.mod_horizontal_percent,s=t.mod_vertical_percent,c=t.mod_reserve;if(n+="",a=a||0,s=s||0,c=c||1,Object.assign(t,{mod_horizontal_percent:a,mod_vertical_percent:s,mod_reserve:c}),-1===i.indexOf(n))e===o.Inner?r.pushAddMod(t):r.updateMapByMod(t);else{var u=r.getMap(n),l=u.horizontalPercent,d=u.verticalPercent,p=u.pptStep;r.updateMapByMod(t),l===a&&d===s&&c===p||r.pushScrollHandle(n,a,s,c)}})),i.forEach((function(i){-1===t.findIndex((function(e){return e.mod_id===i}))&&(e===o.Inner?r.pushRemovedMod(i):r.deleteMap(i))}))},e.prototype.handleGetModListDetailsRsp=function(e,t){var r=e.rsp_head,o=r.code,i=r.message;if(0===o){var n=e.mod_list_seq,a=e.mod_list;return n&&this.updateModListSeq(n),L.a.getInstance().info(["WhiteBoard_Service"],"module_update_seq",JSON.stringify({modListSeq:n,actionMsg:"get list cb success"})),(a=a||[]).sort((function(e,t){return+t.mod_create_time-+e.mod_create_time})),this.compareHandle(t,a),Promise.resolve(a)}var s=Object(M.b)(o,i);return L.a.getInstance().error(["WhiteBoard_Service"],"module_get_list_cb",JSON.stringify({errorData:s})),Promise.reject(s)},e.prototype.handleDestroyModRsp=function(e){var t=e.rsp_head,r=t.code,o=t.message;if(0===r){var i=e.mod_list_seq,n=e.mod_id;return this.updateModListSeq(i),L.a.getInstance().info(["WhiteBoard_Service"],"module_update_seq",JSON.stringify({modListSeq:i,actionMsg:"destroy cb success"})),this.deleteMap(n),Promise.resolve()}var a=Object(M.b)(r,o);return L.a.getInstance().error(["WhiteBoard_Service"],"module_destroy_cb",JSON.stringify({errorData:a})),Promise.reject(a)},e.prototype.handleCreateModRsp=function(e){return W(this,void 0,void 0,(function(){var t,r,o,i,n,a,s,c,u,l;return U(this,(function(d){switch(d.label){case 0:if(t=e.rsp_head,r=t.code,o=t.message,0!==r)return[3,5];i=e.mod_list_seq,n=e.mod_id,this.updateModListSeq(i),L.a.getInstance().info(["WhiteBoard_Service"],"module_update_seq",JSON.stringify({modListSeq:i,actionMsg:"create cb success"})),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.getModInfo([n])];case 2:return a=d.sent(),s=a[0],this.updateMapByMod(s),[2,s.mod_id];case 3:return c=d.sent(),[2,Promise.reject(c)];case 4:return[3,6];case 5:return u=3===r?z.b.ZegoWhiteboardViewErrorViewNameLimit:r,l=Object(M.b)(u,o),L.a.getInstance().error(["WhiteBoard_Service"],"module_create_cb",JSON.stringify({errorData:l})),[2,Promise.reject(l)];case 6:return[2]}}))}))},e.prototype.handleGetModInfoRsp=function(e){var t=e.rsp_head,r=t.code,o=t.message;if(0===r){var i=e.mod_list;return L.a.getInstance().info(["WhiteBoard_Service"],"module_get_info_cb",JSON.stringify(i||[])),Promise.resolve(i||[])}var n=Object(M.b)(r,o);return L.a.getInstance().error(["WhiteBoard_Service"],"module_get_info_cb",JSON.stringify(n)),Promise.reject(n)},e.prototype.handleSetModRsp=function(e,t,r){var o=r.rsp_head,i=o.code,a=o.message;if(0===i){var s=r.mod_list_seq,c=r.mod_seq,u=r.mod_id;this.modListSeq=s,this.updateMap({whiteboardID:u,modSeq:c}),this.updateMapByModifyModOption(t,c,!1),this.setModRspAfter({setModAction:e,setModOption:t,sendResultType:n.success})}else this.setModRspAfter({setModAction:e,setModOption:t,sendResultType:n.error,errorData:3===i?{code:i,msg:a}:Object(M.b)(i,a)})},e.prototype.handleGetPageGraphicsListRsp=function(e,t){var r=this,o=t.rsp_head,i=o.code,n=o.message;if(0===i){var a=this.checkModInfo(e);if(!a)return;var s=a.width,c=a.height,u=a.viewHeight,l=t.pages,d=[],p=[],h={},f=[],g=[];l.forEach((function(t){var o=t.page,i=t.ret_graphic_list_seq,n=t.svr_graphic_list_seq,a=t.graphic_list,l=t.del_graphic_id_list;r.transGraphicList(f,a,s,c,u),l&&g.push.apply(g,l),h[o]=n,n!==i&&0!==i?(d.push(o),p.push(i)):r.getMap(e).pullMarks[o]=!0})),L.a.getInstance().info(["WhiteBoard_Service"],"module_update_seq",JSON.stringify({whiteboardID:e,graphicListSeqs:h,actionMsg:"get list cb success"})),this.updateMapByGraphicListSeqs(e,h),q.e.emit(q.c.GetPageGraphicsList,e,f,g),d.length&&(L.a.getInstance().info(["WhiteBoard_Service"],"module_get_list_cb","increment get"),this.getPageGraphicsList(e,d,p))}else{var _=Object(M.b)(i,n);L.a.getInstance().error(["WhiteBoard_Service"],"module_get_list_cb",JSON.stringify(_))}},e.prototype.getModInfo=function(e){return W(this,void 0,void 0,(function(){var t;return U(this,(function(r){switch(r.label){case 0:return[4,this.socket.queueWSCmdHandler(m.GetMod,{mod_id_list:e})];case 1:return t=r.sent(),[2,this.handleGetModInfoRsp(t)]}}))}))},e.prototype.getModListDetails=function(e,t){return void 0===e&&(e=o.Initiative),void 0===t&&(t=this.defaultModListSeq),W(this,void 0,void 0,(function(){var r;return U(this,(function(o){switch(o.label){case 0:return[4,this.socket.queueWSCmdHandler(m.GetModList,{mod_list_seq:t,limit:this.modLimit,marker:this.marker,mod_type:this.defaultModType})];case 1:return r=o.sent(),[2,this.handleGetModListDetailsRsp(r,e)]}}))}))},e.prototype.setModHandle=function(e,t){return W(this,void 0,void 0,(function(){var r,o;return U(this,(function(i){switch(i.label){case 0:return r=t.mod_id,[4,this.socket.queueWSCmdHandler(m.ModifyMod,Z({mod_seq:this.getMap(r).modSeq},t))];case 1:return o=i.sent(),this.handleSetModRsp(e,t,o),[2]}}))}))},e.prototype.setMod=function(e,t){this.setModBefore(e,t)&&this.setModHandle(e,t)},e.prototype.checkScroll=function(e,t,r,o){var i=this.getMap(e);if(i){var n=i.horizontalPercent,a=i.verticalPercent,s=i.pptStep,c=!1,u={mod_id:e};return t!==n&&(u.mod_horizontal_percent=t,u.is_modify_mod_horizontal_percent=!0,c=u),r===a&&o===s||(u.mod_vertical_percent=r,u.is_modify_mod_vertical_percent=r!==a,u.mod_reserve=o,u.is_modify_mod_reserve=!0,c=u),c}return!1},e.prototype.checkScale=function(e,t,r,o){return!!this.getMap(e)&&{mod_id:e,mod_scale:B(JSON.stringify({scale:t,ofs_x:r,ofs_y:o})),is_modify_mod_scale:!0}},e.prototype.checkSwitchView=function(e){var t=this.getMap(e);if(t){var r={unique_id:t.uniqueID,whiteboard_page_count:t.outPageCount,zorder:Date.now()+this.socket.getServerTimeOffset()};if(t.fileInfo){var o=t.fileInfo,i=o.fileID,n=o.fileName,a=o.fileType;r.file_info={file_id:i,file_name:n,file_type:a}}return{mod_id:e,mod_content:B(JSON.stringify(r)),is_modify_mod_content:!0}}return!1},e.prototype.getCurrentPages=function(e,t,r){var o,i,n=this.getMap(e),a=n.width,s=n.height,c=n.innerPageSize,u=n.viewWidth,l=n.viewHeight;n.innerDirection===z.f.Horizontal?(o=Math.floor(a*t/c.cx),i=Math.floor((u+a*t)/c.cx)):(o=Math.floor(s*r/c.cy),i=Math.floor((l+s*r)/c.cy));var d=i-o+1;return{minPage:o=Math.max(0,o-d),maxPage:i=(i+=d)>99?99:Math.min(i,n.innerPageCount-1)}},e.prototype.initUserAuthMap=function(){this.userAuthMap.syncTaskId&&window.clearInterval(this.userAuthMap.syncTaskId),this.userAuthMap.roomSeq=0,this.userAuthMap.userSeq=0,this.userAuthMap.syncTaskId=0,this.userAuthMap.model=Object.freeze({scale:1,scroll:1,update:1,delete:1,move:1,clear:1,create:1}),q.e.emit(q.c.PushAuthChange,{scale:1,scroll:1},{update:1,delete:1,move:1,clear:1,create:1})},e.prototype.getRemoteRoomUserAuth=function(e){return W(this,void 0,void 0,(function(){var t,r,o,i,n,a;return U(this,(function(s){switch(s.label){case 0:return t="room"==e?m.GetRoomAuth:m.GetUserAuth,[4,this.socket.queueWSCmdHandler(t,{})];case 1:return r=s.sent(),o=r.rsp_head,i=o.code,n=o.message,0===i?(L.a.getInstance().info(["WhiteBoard_Service"],"mod.get_"+e+"_auth_cb","success"),[2,r]):(a=Object(M.b)(i,n),L.a.getInstance().error(["WhiteBoard_Service"],"mod.get_"+e+"_auth_cb",JSON.stringify(a)),[2,Promise.reject(a)])}}))}))},e.prototype.setUserAuthMap=function(e){if(e.auth_seq=e.auth_seq||0,!(e.auth_seq<=0)&&(e.id_name?this.userAuthMap.userSeq=e.auth_seq:this.userAuthMap.roomSeq=e.auth_seq,e.id_name||0==this.userAuthMap.userSeq)){var t=JSON.parse(JSON.stringify(this.userAuthMap.model)),r={scale:1,scroll:1,update:1,delete:1,move:1,clear:1,create:1},o=e.module_auth||[];r.scale=+o.includes(b.l.Scale),r.scroll=+o.includes(b.l.Scroll),o=e.graphic_auth||[],r.update=+o.includes(b.m.Update),r.delete=+o.includes(b.m.Delete),r.move=+o.includes(b.m.Move),r.clear=+o.includes(b.m.Clear),r.create=+o.includes(b.m.Create),this.userAuthMap.model=Object.freeze(r),this.onPushAuthChange(this.userAuthMap.model,t)}},e.prototype.onPushAuthChange=function(e,t){var r,o;e.scale==t.scale&&e.scroll==t.scroll||(r={scale:e.scale,scroll:e.scroll}),e.update==t.update&&e.delete==t.delete&&e.move==t.move&&e.clear==t.clear&&e.create==t.create||(o={update:e.update,delete:e.delete,move:e.move,clear:e.clear,create:e.create}),q.e.emit(q.c.PushAuthChange,r,o)},e.prototype.pushUserAuthHandle=function(e){var t=this,r=this.socket.getUserID(),o=this.userAuthMap.userSeq;e.user_auth.some((function(e){return e.id_name===r&&e.auth_seq>o&&(t.setUserAuthMap(e),!0)}))},e.prototype.syncRemoteSeq=function(){return W(this,void 0,void 0,(function(){var e,t,r,o,i,n=this;return U(this,(function(a){switch(a.label){case 0:return[4,this.socket.queueWSCmdHandler(m.Sync,{})];case 1:return e=a.sent(),0===e.rsp_head.code&&(t=e.sync_interval,r=e.room_auth_seq,o=e.user_auth_seq,i=e.mod_list_seq,this.userAuthMap.syncTaskId||(this.userAuthMap.syncTaskId=window.setInterval((function(){n.syncRemoteSeq()}),1e3*(t||30))),this.syncRoomUserAuth(r,o),this.syncModuleHandle(i)),[2]}}))}))},e.prototype.getPageGraphicsList=function(e,t,r){return W(this,void 0,void 0,(function(){var o,i,n;return U(this,(function(a){switch(a.label){case 0:return o=this.getMap(e),i=o.graphicListSeqs,!t.includes(0)&&t.unshift(0),r||(r=t.map((function(e){return o.pullMarks[e]&&i[e]||0}))),r.length<t.length&&r.unshift(i[0]||0),[4,this.socket.queueWSCmdHandler(m.GetPageGraphics,{mod_id:e,pages:t,graphic_list_seqs:r,limit:this.graphicLimit})];case 1:return n=a.sent(),this.handleGetPageGraphicsListRsp(e,n),[2]}}))}))},e.prototype.syncModuleHandle=function(e){L.a.getInstance().info(["WhiteBoard_Service"],"module_get_list_sync",JSON.stringify({localModListSeq:this.modListSeq,svrModListSeq:e})),e>this.modListSeq&&this.getModListDetails(o.Inner,this.modListSeq?this.modListSeq:this.defaultModListSeq)},e.prototype.syncRoomUserAuth=function(e,t){var r=this;L.a.getInstance().info(["WhiteBoard_Service"],"module_sync_room_user_auth_cb",JSON.stringify({localRoom:this.userAuthMap.roomSeq,serverRoom:e,localUser:this.userAuthMap.userSeq,serverUser:t})),t=t||0,(e=e||0)>this.userAuthMap.roomSeq&&(this.userAuthMap.roomSeq=e,this.getRemoteRoomUserAuth("room").then((function(e){return r.setUserAuthMap(e)}))),t>this.userAuthMap.userSeq&&(this.userAuthMap.userSeq=t,this.getRemoteRoomUserAuth("user").then((function(e){return r.setUserAuthMap(e)})))},e.prototype.checkLogin=function(){return"CONNECTED"===this.socket.getRoomState()||Promise.reject(Object(M.b)(z.b.ZegoWhiteboardViewErrorNoLoginRoom))},e.prototype.getModList=function(){return W(this,void 0,void 0,(function(){var e,t,r;return U(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),!0!==(e=this.checkLogin())?[2,e]:(L.a.getInstance().info(["WhiteBoard_Service"],"module_get_list",JSON.stringify({localModListSeq:this.modListSeq})),[4,this.getModListDetails(o.Initiative)]);case 1:return t=i.sent(),[2,Promise.resolve(t.map((function(e){return e.mod_id})))];case 2:return r=i.sent(),[2,Promise.reject(r)];case 3:return[2]}}))}))},e.prototype.destroyMod=function(e){return W(this,void 0,void 0,(function(){var t,r;return U(this,(function(o){switch(o.label){case 0:return!0!==(t=this.checkLogin())?[2,t]:[4,this.socket.queueWSCmdHandler(m.DestroyMod,{mod_id:e})];case 1:return r=o.sent(),[2,this.handleDestroyModRsp(r)]}}))}))},e.prototype.createMod=function(e,t){return W(this,void 0,void 0,(function(){var r,o,i,n,a,s,c;return U(this,(function(u){switch(u.label){case 0:return!0!==(r=this.checkLogin())?[2,r]:(o=this.createModInfo(e),i=o.modContent,n=o.modPos,a=o.modScale,s={mod_id:t||Object(v.d)(),mod_title:B(e.name),mod_type:this.defaultModType,mod_subtype:this.defaultModSubtype,mod_delete_flag:this.defaultModDeleteFlag,mod_content:B(JSON.stringify(i)),mod_horizontal_percent:this.defaultHPercent,mod_vertical_percent:this.defaultVPercent,mod_reserve:this.defaultModReserve,mod_pos:B(JSON.stringify(n)),mod_scale:B(JSON.stringify(a))},[4,this.socket.queueWSCmdHandler(m.CreateMod,s)]);case 1:return c=u.sent(),[2,this.handleCreateModRsp(c)]}}))}))},e.prototype.getUserAuth=function(){return this.userAuthMap.model},e.prototype.updateMapByGraphicListSeqs=function(e,t){var r=this.getMap(e).graphicListSeqs;Object.keys(t).forEach((function(e){r[+e]=t[+e]}))},e.prototype.setGraphicItem=function(e){var t=e.operate_id,r=e.data;this.graphicMap[e.graphic_id]={is_end_draw:!t||e.is_end_draw,server_timestamp:+e.server_timestamp||0,operate_id:t,type:e.type,pointData:{x:e.x||0,y:e.y||0,px:e.px||0,py:e.py||0,data:"object"==F(r)?JSON.parse(JSON.stringify(r)):r}}},e.prototype.getGraphicItem=function(e){return this.graphicMap[e]},e.prototype.clearGraphicMap=function(){this.graphicMap={}},e.prototype.updateGraphicMap=function(e,t){var r=this,o=this.getMap(e).width,i=this.getMap(e).height,n=this.getMap(e).viewHeight,a=C(o,i,n,this.fileInfo);t.forEach((function(e){A(e,o,!1,-a,i),r.setGraphicItem(e)}))},e.prototype.reloadViewGraphics=function(e,t){var r=this,o=this.getMap(e).width,i=this.getMap(e).height,n=this.getMap(e).viewHeight,a=C(o,i,n,this.fileInfo);t.forEach((function(e){if(e.type===b.f.Cursor){var t=r.getGraphicItem(e.graphic_id);if(t){var n=t.pointData.data;e.data="object"==F(n)?JSON.parse(JSON.stringify(n)):n,A(e,o,!0,a,i)}}else{var s=r.getGraphicItem(e.graphic_id).pointData,c=s.x,u=s.y,l=s.px,d=s.py;n=s.data;e.x=c,e.y=u,e.px=l,e.py=d,e.data="object"==F(n)?JSON.parse(JSON.stringify(n)):n,A(e,o,!0,a,i)}}))},e.prototype.updateMap=function(e){var t=this.getMap(e.whiteboardID);if(t){var r=e.modPropSeq;r&&Object.assign(t.modPropSeq||{},r),delete e.modPropSeq,Object.assign(t,e)}else this.modIdMapData[e.whiteboardID]=Z({graphicListSeqs:{0:0},pullMarks:{0:!1},modSeq:0,width:0,height:0,viewWidth:0,viewHeight:0,innerPageCount:1,innerDirection:z.f.Horizontal,innerPageSize:{cx:0,cy:0},modType:this.defaultModType,modSubtype:this.defaultModSubtype,operateTimes:0,inProgress:!1,graphicSendSwitch:!0,modifyModTaskList:[],moveTaskList:[]},e)},e.prototype.getMap=function(e){return this.modIdMapData[e]},e.prototype.appendH5Extra=function(e,t){L.a.getInstance().info(["WhiteBoard_Service"],"module_append_extra_origin",t);var r=this.checkH5Extra(e,t,!1);if(r){L.a.getInstance().info(["WhiteBoard_Service"],"module_append_extra_new",r);var o=r.includes("H5_record")?x(O(r)):r,i={mod_id:e,mod_extra:B(o),is_modify_mod_extra:!0};this.setMod(c.AppendH5Extra,i)}},e.prototype.scroll=function(e,t,r,o,i){L.a.getInstance().info(["WhiteBoard_Service"],"module_scroll_origin",JSON.stringify({hPercent:t,vPercent:r,pptStep:o}));var n=this.checkScroll(e,t,r,o);if(n){if(n.mod_extra="",n.is_modify_mod_extra=!0,i){var a=this.getMap(e).modScale,s=a.scale,u=a.ofs_x,l=i.scaleFactor,d=i.scaleOffsetX,p=i.scaleOffsetY?{scale:l,ofs_x:d,ofs_y:0}:{scale:s,ofs_x:u,ofs_y:0};n.mod_scale=B(JSON.stringify(p)),n.is_modify_mod_scale=!0}L.a.getInstance().info(["WhiteBoard_Service"],"module_scroll_new",JSON.stringify({setModOption:n})),this.setMod(c.Scroll,n)}},e.prototype.scale=function(e,t,r,o){L.a.getInstance().info(["WhiteBoard_Service"],"module_scale_origin",JSON.stringify({scale:t,ofs_x:r,ofs_y:o}));var i=this.checkScale(e,t,r,o);i&&(L.a.getInstance().info(["WhiteBoard_Service"],"module_scale_new",JSON.stringify({setModOption:i})),this.setMod(c.Scale,i))},e.prototype.getAspectRatio=function(e){var t=this.getMap(e);return t.aspectWidth+":"+t.aspectHeight},e.prototype.getFileInfo=function(e){var t=this.getMap(e);return t&&t.fileInfo||null},e.prototype.getScrollPercent=function(e){var t=this.getMap(e);return{horizontalPercent:t.horizontalPercent,verticalPercent:t.verticalPercent,pptStep:t.pptStep,direction:t.innerDirection}},e.prototype.getScale=function(e){var t=this.getMap(e);return{scaleFactor:t.modScale.scale,scaleOffsetX:t.modScale.ofs_x,scaleOffsetY:t.modScale.ofs_y}},e.prototype.loadCurrentGraphics=function(e,t,r){for(var o=this.getMap(e),i=this.getCurrentPages(e,t,r),n=i.minPage,a=i.maxPage,s=[],c=n;c<=a;c++){!o.pullMarks[c]&&s.push(c)}L.a.getInstance().info(["WhiteBoard_Service"],"module.load_by_percent",JSON.stringify({horizontalPercent:t,verticalPercent:r,minPage:n,maxPage:a,pageNumList:s})),s.length&&this.getPageGraphicsList(e,s)},e.prototype.reload=function(){var e=this;this.syncRemoteSeq(),this.clearPullMarks(),this.getModListDetails(o.Inner),this.onRemotePush(),this.getRemoteAuth();try{Object.values(this.modIdMapData).forEach((function(t){e.loadCurrentGraphics(t.whiteboardID,t.horizontalPercent,t.verticalPercent)}))}catch(e){L.a.getInstance().error(["WhiteBoard_Service"],"reload_graphics",JSON.stringify({error:e}))}L.a.getInstance().info(["WhiteBoard_Service"],"reload_graphics","reload whiteboard")},e.prototype.unload=function(){this.userAuthMap.syncTaskId&&window.clearInterval(this.userAuthMap.syncTaskId),L.a.getInstance().info(["WhiteBoard_Service"],"unload","unload whiteboard")},e.prototype.onRemotePush=function(){var e=this;this.socket.registerWbMessage((function(t){var r=t.sub_cmd,o=t.msg_body;switch(r){case"/edu/push/set_mod":e.pushSetModHandle(o);break;case"/edu/push/draw_page_graphics":e.pushDrawPageGraphicsHandle(o);break;case"/edu/push/clear_page_graphics":e.pushClearPageGraphicsHandle(o);break;case"/edu/push/set_user_auth":e.pushUserAuthHandle(o);break;case"/edu/push/set_room_auth":e.setUserAuthMap(o);break;case"/edu/push/clear_user_graphic_list":e.pushClearUserGraphicListHandle(o)}}))},e.prototype.getRemoteAuth=function(){var e=this;this.initUserAuthMap(),this.getRemoteRoomUserAuth("room").then((function(t){e.setUserAuthMap(t),e.syncRemoteSeq()})),this.getRemoteRoomUserAuth("user").then((function(t){e.setUserAuthMap(t)}))},e.prototype.getModName=function(e){var t=this.getMap(e);return(null==t?void 0:t.name)||""},e.prototype.getCreateTime=function(e){var t=this.getMap(e);return(null==t?void 0:t.createTime)||0},e.prototype.getRoomID=function(e){var t=this.getMap(e);return(null==t?void 0:t.roomID)||""},e.prototype.getUniqueID=function(e){var t=this.getMap(e);return(null==t?void 0:t.uniqueID)||""},e.prototype.getPageCount=function(e){var t=this.getMap(e);return(null==t?void 0:t.outPageCount)||1},e.prototype.setSize=function(e,t,r){var o=this.getMap(e);return!!(o&&t&&r)&&(o.width=t,o.height=r,L.a.getInstance().info(["WhiteBoard_Service"],"module_set_view_size",JSON.stringify({whiteboardID:e,width:t,height:r})),this.splitPage(e,t,r),!0)},e.prototype.setViewSize=function(e,t,r){var o=this.getMap(e);return!!(o&&t&&r)&&(L.a.getInstance().info(["WhiteBoard_Service"],"module_set_viewpoart_size",JSON.stringify({whiteboardID:e,viewWidth:t,viewHeight:r})),o.viewHeight=r,o.viewWidth=t,!0)},e.prototype.setRenderStatus=function(e,t){return void 0!==t&&(Object.values(this.modIdMapData).forEach((function(r){t?r.whiteboardID===e?r.renderStatus=1:r.renderStatus=0:r.whiteboardID===e&&(r.renderStatus=0)})),!0)},e.prototype.getH5Extra=function(e,t){var r=this.getMap(e),o=r?r.modExtra:"";if(L.a.getInstance().info(["WhiteBoard_Service"],"module_get_h5extra",JSON.stringify({whiteboardID:e,modExtra:o})),o&&!t){var i=JSON.parse(o);i.H5_record&&(i.H5_record.t=101,o=JSON.stringify(i))}return o},e.prototype.createZorder=function(){return this.zorderSeq+=this.zorderStep},e.prototype.switchView=function(e){L.a.getInstance().info(["WhiteBoard_Service"],"module_switch_view_origin",e);var t=this.checkSwitchView(e);return t?(L.a.getInstance().info(["WhiteBoard_Service"],"module_switch_view_new",JSON.stringify(t)),this.setModHandle(c.Other,t)):Promise.reject()},e.prototype.getCurrentActivitedView=function(){var e=0,t="";Object.values(this.modIdMapData).forEach((function(r){r.zorder&&r.zorder>e&&(e=r.zorder,t=r.whiteboardID)}));var r=t?[this.modIdMapData[t].uniqueID,t]:[];return L.a.getInstance().info(["WhiteBoard_Service"],"module_switch_view_remote",JSON.stringify(r)),r},e}(),J=r(334),Y=r.n(J),X=r(16);const Q=X.Reader,K=X.Writer,$=X.util,ee=X.roots.default||(X.roots.default={});ee.proto_edu_tcpuplink=(()=>{const e={};return e.ReqHead=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.room_id="",e.prototype.user_session_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.room_session_id=$.Long?$.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.user_session_id&&Object.hasOwnProperty.call(e,"user_session_id")&&t.uint32(16).uint64(e.user_session_id),null!=e.room_session_id&&Object.hasOwnProperty.call(e,"room_session_id")&&t.uint32(24).uint64(e.room_session_id),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.ReqHead;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.room_id=e.string();break;case 2:o.user_session_id=e.uint64();break;case 3:o.room_session_id=e.uint64();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.ReqHead)return e;let t=new ee.proto_edu_tcpuplink.ReqHead;return null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.user_session_id&&($.Long?(t.user_session_id=$.Long.fromValue(e.user_session_id)).unsigned=!0:"string"==typeof e.user_session_id?t.user_session_id=parseInt(e.user_session_id,10):"number"==typeof e.user_session_id?t.user_session_id=e.user_session_id:"object"==typeof e.user_session_id&&(t.user_session_id=new $.LongBits(e.user_session_id.low>>>0,e.user_session_id.high>>>0).toNumber(!0))),null!=e.room_session_id&&($.Long?(t.room_session_id=$.Long.fromValue(e.room_session_id)).unsigned=!0:"string"==typeof e.room_session_id?t.room_session_id=parseInt(e.room_session_id,10):"number"==typeof e.room_session_id?t.room_session_id=e.room_session_id:"object"==typeof e.room_session_id&&(t.room_session_id=new $.LongBits(e.room_session_id.low>>>0,e.room_session_id.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if(r.room_id="",$.Long){let e=new $.Long(0,0,!0);r.user_session_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.user_session_id=t.longs===String?"0":0;if($.Long){let e=new $.Long(0,0,!0);r.room_session_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.room_session_id=t.longs===String?"0":0}return null!=e.room_id&&e.hasOwnProperty("room_id")&&(r.room_id=e.room_id),null!=e.user_session_id&&e.hasOwnProperty("user_session_id")&&("number"==typeof e.user_session_id?r.user_session_id=t.longs===String?String(e.user_session_id):e.user_session_id:r.user_session_id=t.longs===String?$.Long.prototype.toString.call(e.user_session_id):t.longs===Number?new $.LongBits(e.user_session_id.low>>>0,e.user_session_id.high>>>0).toNumber(!0):e.user_session_id),null!=e.room_session_id&&e.hasOwnProperty("room_session_id")&&("number"==typeof e.room_session_id?r.room_session_id=t.longs===String?String(e.room_session_id):e.room_session_id:r.room_session_id=t.longs===String?$.Long.prototype.toString.call(e.room_session_id):t.longs===Number?new $.LongBits(e.room_session_id.low>>>0,e.room_session_id.high>>>0).toNumber(!0):e.room_session_id),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.RspHead=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.code=0,e.prototype.message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.RspHead;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.code=e.uint32();break;case 2:o.message=e.string();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.RspHead)return e;let t=new ee.proto_edu_tcpuplink.RspHead;return null!=e.code&&(t.code=e.code>>>0),null!=e.message&&(t.message=String(e.message)),t},e.toObject=function(e,t){t||(t={});let r={};return t.defaults&&(r.code=0,r.message=""),null!=e.code&&e.hasOwnProperty("code")&&(r.code=e.code),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.CommonRsp=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.CommonRsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.CommonRsp)return e;let t=new ee.proto_edu_tcpuplink.CommonRsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.CommonRsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}return t},e.toObject=function(e,t){t||(t={});let r={};return t.defaults&&(r.rsp_head=null),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_mod=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_title=$.newBuffer([]),e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_pos=$.newBuffer([]),e.prototype.mod_status=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.mod_content=$.newBuffer([]),e.prototype.mod_extra=$.newBuffer([]),e.prototype.mod_reserve=0,e.prototype.mod_create_time=$.Long?$.Long.fromBits(0,0,!1):0,e.prototype.graphic_list_seq=0,e.prototype.sync_interval=0,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.mod_scale=$.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(16).uint32(e.mod_seq),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(26).bytes(e.mod_title),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(32).uint32(e.mod_type),null!=e.mod_subtype&&Object.hasOwnProperty.call(e,"mod_subtype")&&t.uint32(40).uint32(e.mod_subtype),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(50).bytes(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(56).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(66).bytes(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(74).bytes(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(80).uint32(e.mod_reserve),null!=e.mod_create_time&&Object.hasOwnProperty.call(e,"mod_create_time")&&t.uint32(88).int64(e.mod_create_time),null!=e.graphic_list_seq&&Object.hasOwnProperty.call(e,"graphic_list_seq")&&t.uint32(96).uint32(e.graphic_list_seq),null!=e.sync_interval&&Object.hasOwnProperty.call(e,"sync_interval")&&t.uint32(104).uint32(e.sync_interval),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(117).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(125).float(e.mod_vertical_percent),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(130).bytes(e.mod_scale),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_mod;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.mod_id=e.uint64();break;case 2:o.mod_seq=e.uint32();break;case 3:o.mod_title=e.bytes();break;case 4:o.mod_type=e.uint32();break;case 5:o.mod_subtype=e.uint32();break;case 6:o.mod_pos=e.bytes();break;case 7:o.mod_status=e.uint64();break;case 8:o.mod_content=e.bytes();break;case 9:o.mod_extra=e.bytes();break;case 10:o.mod_reserve=e.uint32();break;case 11:o.mod_create_time=e.int64();break;case 12:o.graphic_list_seq=e.uint32();break;case 13:o.sync_interval=e.uint32();break;case 14:o.mod_horizontal_percent=e.float();break;case 15:o.mod_vertical_percent=e.float();break;case 16:o.mod_scale=e.bytes();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_mod)return e;let t=new ee.proto_edu_tcpuplink.proto_mod;return null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_title&&("string"==typeof e.mod_title?$.base64.decode(e.mod_title,t.mod_title=$.newBuffer($.base64.length(e.mod_title)),0):e.mod_title.length&&(t.mod_title=e.mod_title)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),null!=e.mod_subtype&&(t.mod_subtype=e.mod_subtype>>>0),null!=e.mod_pos&&("string"==typeof e.mod_pos?$.base64.decode(e.mod_pos,t.mod_pos=$.newBuffer($.base64.length(e.mod_pos)),0):e.mod_pos.length&&(t.mod_pos=e.mod_pos)),null!=e.mod_status&&($.Long?(t.mod_status=$.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new $.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&("string"==typeof e.mod_content?$.base64.decode(e.mod_content,t.mod_content=$.newBuffer($.base64.length(e.mod_content)),0):e.mod_content.length&&(t.mod_content=e.mod_content)),null!=e.mod_extra&&("string"==typeof e.mod_extra?$.base64.decode(e.mod_extra,t.mod_extra=$.newBuffer($.base64.length(e.mod_extra)),0):e.mod_extra.length&&(t.mod_extra=e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.mod_create_time&&($.Long?(t.mod_create_time=$.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new $.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),null!=e.graphic_list_seq&&(t.graphic_list_seq=e.graphic_list_seq>>>0),null!=e.sync_interval&&(t.sync_interval=e.sync_interval>>>0),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.mod_scale&&("string"==typeof e.mod_scale?$.base64.decode(e.mod_scale,t.mod_scale=$.newBuffer($.base64.length(e.mod_scale)),0):e.mod_scale.length&&(t.mod_scale=e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if($.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;if(r.mod_seq=0,t.bytes===String?r.mod_title="":(r.mod_title=[],t.bytes!==Array&&(r.mod_title=$.newBuffer(r.mod_title))),r.mod_type=0,r.mod_subtype=0,t.bytes===String?r.mod_pos="":(r.mod_pos=[],t.bytes!==Array&&(r.mod_pos=$.newBuffer(r.mod_pos))),$.Long){let e=new $.Long(0,0,!0);r.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_status=t.longs===String?"0":0;if(t.bytes===String?r.mod_content="":(r.mod_content=[],t.bytes!==Array&&(r.mod_content=$.newBuffer(r.mod_content))),t.bytes===String?r.mod_extra="":(r.mod_extra=[],t.bytes!==Array&&(r.mod_extra=$.newBuffer(r.mod_extra))),r.mod_reserve=0,$.Long){let e=new $.Long(0,0,!1);r.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_create_time=t.longs===String?"0":0;r.graphic_list_seq=0,r.sync_interval=0,r.mod_horizontal_percent=0,r.mod_vertical_percent=0,t.bytes===String?r.mod_scale="":(r.mod_scale=[],t.bytes!==Array&&(r.mod_scale=$.newBuffer(r.mod_scale)))}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(r.mod_seq=e.mod_seq),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(r.mod_title=t.bytes===String?$.base64.encode(e.mod_title,0,e.mod_title.length):t.bytes===Array?Array.prototype.slice.call(e.mod_title):e.mod_title),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(r.mod_type=e.mod_type),null!=e.mod_subtype&&e.hasOwnProperty("mod_subtype")&&(r.mod_subtype=e.mod_subtype),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(r.mod_pos=t.bytes===String?$.base64.encode(e.mod_pos,0,e.mod_pos.length):t.bytes===Array?Array.prototype.slice.call(e.mod_pos):e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?r.mod_status=t.longs===String?String(e.mod_status):e.mod_status:r.mod_status=t.longs===String?$.Long.prototype.toString.call(e.mod_status):t.longs===Number?new $.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(r.mod_content=t.bytes===String?$.base64.encode(e.mod_content,0,e.mod_content.length):t.bytes===Array?Array.prototype.slice.call(e.mod_content):e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(r.mod_extra=t.bytes===String?$.base64.encode(e.mod_extra,0,e.mod_extra.length):t.bytes===Array?Array.prototype.slice.call(e.mod_extra):e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(r.mod_reserve=e.mod_reserve),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?r.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:r.mod_create_time=t.longs===String?$.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new $.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),null!=e.graphic_list_seq&&e.hasOwnProperty("graphic_list_seq")&&(r.graphic_list_seq=e.graphic_list_seq),null!=e.sync_interval&&e.hasOwnProperty("sync_interval")&&(r.sync_interval=e.sync_interval),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(r.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(r.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(r.mod_scale=t.bytes===String?$.base64.encode(e.mod_scale,0,e.mod_scale.length):t.bytes===Array?Array.prototype.slice.call(e.mod_scale):e.mod_scale),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_graphic=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.id_name=$.newBuffer([]),e.prototype.nick_name=$.newBuffer([]),e.prototype.graphic_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.action_seq=0,e.prototype.type=0,e.prototype.zorder=0,e.prototype.x=0,e.prototype.y=0,e.prototype.data=$.newBuffer([]),e.prototype.size=0,e.prototype.color=0,e.prototype.timestamp=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.width=0,e.prototype.height=0,e.prototype.attributes=$.newBuffer([]),e.prototype.operate_id="",e.prototype.is_end_draw=!1,e.prototype.server_timestamp=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.creator_id=$.newBuffer([]),e.prototype.layer=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(10).bytes(e.id_name),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(18).bytes(e.nick_name),null!=e.graphic_id&&Object.hasOwnProperty.call(e,"graphic_id")&&t.uint32(24).uint64(e.graphic_id),null!=e.action_seq&&Object.hasOwnProperty.call(e,"action_seq")&&t.uint32(32).uint32(e.action_seq),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(40).int32(e.type),null!=e.zorder&&Object.hasOwnProperty.call(e,"zorder")&&t.uint32(56).int32(e.zorder),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(64).int32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(72).int32(e.y),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(82).bytes(e.data),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(88).int32(e.size),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(96).uint32(e.color),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(104).uint64(e.timestamp),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(112).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(120).int32(e.height),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&t.uint32(130).bytes(e.attributes),null!=e.operate_id&&Object.hasOwnProperty.call(e,"operate_id")&&t.uint32(138).string(e.operate_id),null!=e.is_end_draw&&Object.hasOwnProperty.call(e,"is_end_draw")&&t.uint32(144).bool(e.is_end_draw),null!=e.server_timestamp&&Object.hasOwnProperty.call(e,"server_timestamp")&&t.uint32(152).uint64(e.server_timestamp),null!=e.creator_id&&Object.hasOwnProperty.call(e,"creator_id")&&t.uint32(162).bytes(e.creator_id),null!=e.layer&&Object.hasOwnProperty.call(e,"layer")&&t.uint32(168).uint32(e.layer),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_graphic;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.id_name=e.bytes();break;case 2:o.nick_name=e.bytes();break;case 3:o.graphic_id=e.uint64();break;case 4:o.action_seq=e.uint32();break;case 5:o.type=e.int32();break;case 7:o.zorder=e.int32();break;case 8:o.x=e.int32();break;case 9:o.y=e.int32();break;case 10:o.data=e.bytes();break;case 11:o.size=e.int32();break;case 12:o.color=e.uint32();break;case 13:o.timestamp=e.uint64();break;case 14:o.width=e.int32();break;case 15:o.height=e.int32();break;case 16:o.attributes=e.bytes();break;case 17:o.operate_id=e.string();break;case 18:o.is_end_draw=e.bool();break;case 19:o.server_timestamp=e.uint64();break;case 20:o.creator_id=e.bytes();break;case 21:o.layer=e.uint32();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_graphic)return e;let t=new ee.proto_edu_tcpuplink.proto_graphic;return null!=e.id_name&&("string"==typeof e.id_name?$.base64.decode(e.id_name,t.id_name=$.newBuffer($.base64.length(e.id_name)),0):e.id_name.length&&(t.id_name=e.id_name)),null!=e.nick_name&&("string"==typeof e.nick_name?$.base64.decode(e.nick_name,t.nick_name=$.newBuffer($.base64.length(e.nick_name)),0):e.nick_name.length&&(t.nick_name=e.nick_name)),null!=e.graphic_id&&($.Long?(t.graphic_id=$.Long.fromValue(e.graphic_id)).unsigned=!0:"string"==typeof e.graphic_id?t.graphic_id=parseInt(e.graphic_id,10):"number"==typeof e.graphic_id?t.graphic_id=e.graphic_id:"object"==typeof e.graphic_id&&(t.graphic_id=new $.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0))),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),null!=e.type&&(t.type=0|e.type),null!=e.zorder&&(t.zorder=0|e.zorder),null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.data&&("string"==typeof e.data?$.base64.decode(e.data,t.data=$.newBuffer($.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.size&&(t.size=0|e.size),null!=e.color&&(t.color=e.color>>>0),null!=e.timestamp&&($.Long?(t.timestamp=$.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new $.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.attributes&&("string"==typeof e.attributes?$.base64.decode(e.attributes,t.attributes=$.newBuffer($.base64.length(e.attributes)),0):e.attributes.length&&(t.attributes=e.attributes)),null!=e.operate_id&&(t.operate_id=String(e.operate_id)),null!=e.is_end_draw&&(t.is_end_draw=Boolean(e.is_end_draw)),null!=e.server_timestamp&&($.Long?(t.server_timestamp=$.Long.fromValue(e.server_timestamp)).unsigned=!0:"string"==typeof e.server_timestamp?t.server_timestamp=parseInt(e.server_timestamp,10):"number"==typeof e.server_timestamp?t.server_timestamp=e.server_timestamp:"object"==typeof e.server_timestamp&&(t.server_timestamp=new $.LongBits(e.server_timestamp.low>>>0,e.server_timestamp.high>>>0).toNumber(!0))),null!=e.creator_id&&("string"==typeof e.creator_id?$.base64.decode(e.creator_id,t.creator_id=$.newBuffer($.base64.length(e.creator_id)),0):e.creator_id.length&&(t.creator_id=e.creator_id)),null!=e.layer&&(t.layer=e.layer>>>0),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if(t.bytes===String?r.id_name="":(r.id_name=[],t.bytes!==Array&&(r.id_name=$.newBuffer(r.id_name))),t.bytes===String?r.nick_name="":(r.nick_name=[],t.bytes!==Array&&(r.nick_name=$.newBuffer(r.nick_name))),$.Long){let e=new $.Long(0,0,!0);r.graphic_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.graphic_id=t.longs===String?"0":0;if(r.action_seq=0,r.type=0,r.zorder=0,r.x=0,r.y=0,t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=$.newBuffer(r.data))),r.size=0,r.color=0,$.Long){let e=new $.Long(0,0,!0);r.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.timestamp=t.longs===String?"0":0;if(r.width=0,r.height=0,t.bytes===String?r.attributes="":(r.attributes=[],t.bytes!==Array&&(r.attributes=$.newBuffer(r.attributes))),r.operate_id="",r.is_end_draw=!1,$.Long){let e=new $.Long(0,0,!0);r.server_timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.server_timestamp=t.longs===String?"0":0;t.bytes===String?r.creator_id="":(r.creator_id=[],t.bytes!==Array&&(r.creator_id=$.newBuffer(r.creator_id))),r.layer=0}return null!=e.id_name&&e.hasOwnProperty("id_name")&&(r.id_name=t.bytes===String?$.base64.encode(e.id_name,0,e.id_name.length):t.bytes===Array?Array.prototype.slice.call(e.id_name):e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(r.nick_name=t.bytes===String?$.base64.encode(e.nick_name,0,e.nick_name.length):t.bytes===Array?Array.prototype.slice.call(e.nick_name):e.nick_name),null!=e.graphic_id&&e.hasOwnProperty("graphic_id")&&("number"==typeof e.graphic_id?r.graphic_id=t.longs===String?String(e.graphic_id):e.graphic_id:r.graphic_id=t.longs===String?$.Long.prototype.toString.call(e.graphic_id):t.longs===Number?new $.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0):e.graphic_id),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(r.action_seq=e.action_seq),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.zorder&&e.hasOwnProperty("zorder")&&(r.zorder=e.zorder),null!=e.x&&e.hasOwnProperty("x")&&(r.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(r.y=e.y),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?$.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.size&&e.hasOwnProperty("size")&&(r.size=e.size),null!=e.color&&e.hasOwnProperty("color")&&(r.color=e.color),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?r.timestamp=t.longs===String?String(e.timestamp):e.timestamp:r.timestamp=t.longs===String?$.Long.prototype.toString.call(e.timestamp):t.longs===Number?new $.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),null!=e.width&&e.hasOwnProperty("width")&&(r.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=e.height),null!=e.attributes&&e.hasOwnProperty("attributes")&&(r.attributes=t.bytes===String?$.base64.encode(e.attributes,0,e.attributes.length):t.bytes===Array?Array.prototype.slice.call(e.attributes):e.attributes),null!=e.operate_id&&e.hasOwnProperty("operate_id")&&(r.operate_id=e.operate_id),null!=e.is_end_draw&&e.hasOwnProperty("is_end_draw")&&(r.is_end_draw=e.is_end_draw),null!=e.server_timestamp&&e.hasOwnProperty("server_timestamp")&&("number"==typeof e.server_timestamp?r.server_timestamp=t.longs===String?String(e.server_timestamp):e.server_timestamp:r.server_timestamp=t.longs===String?$.Long.prototype.toString.call(e.server_timestamp):t.longs===Number?new $.LongBits(e.server_timestamp.low>>>0,e.server_timestamp.high>>>0).toNumber(!0):e.server_timestamp),null!=e.creator_id&&e.hasOwnProperty("creator_id")&&(r.creator_id=t.bytes===String?$.base64.encode(e.creator_id,0,e.creator_id.length):t.bytes===Array?Array.prototype.slice.call(e.creator_id):e.creator_id),null!=e.layer&&e.hasOwnProperty("layer")&&(r.layer=e.layer),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.user_auth=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.id_name=$.newBuffer([]),e.prototype.action_seq=0,e.prototype.module_auth=$.emptyArray,e.prototype.graphic_auth=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(10).bytes(e.id_name),null!=e.action_seq&&Object.hasOwnProperty.call(e,"action_seq")&&t.uint32(16).uint32(e.action_seq),null!=e.module_auth&&e.module_auth.length){t.uint32(26).fork();for(let r=0;r<e.module_auth.length;++r)t.uint32(e.module_auth[r]);t.ldelim()}if(null!=e.graphic_auth&&e.graphic_auth.length){t.uint32(34).fork();for(let r=0;r<e.graphic_auth.length;++r)t.uint32(e.graphic_auth[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.user_auth;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.id_name=e.bytes();break;case 2:o.action_seq=e.uint32();break;case 3:if(o.module_auth&&o.module_auth.length||(o.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.module_auth.push(e.uint32())}else o.module_auth.push(e.uint32());break;case 4:if(o.graphic_auth&&o.graphic_auth.length||(o.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.graphic_auth.push(e.uint32())}else o.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.user_auth)return e;let t=new ee.proto_edu_tcpuplink.user_auth;if(null!=e.id_name&&("string"==typeof e.id_name?$.base64.decode(e.id_name,t.id_name=$.newBuffer($.base64.length(e.id_name)),0):e.id_name.length&&(t.id_name=e.id_name)),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_tcpuplink.user_auth.module_auth: array expected");t.module_auth=[];for(let r=0;r<e.module_auth.length;++r)t.module_auth[r]=e.module_auth[r]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_tcpuplink.user_auth.graphic_auth: array expected");t.graphic_auth=[];for(let r=0;r<e.graphic_auth.length;++r)t.graphic_auth[r]=e.graphic_auth[r]>>>0}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.module_auth=[],r.graphic_auth=[]),t.defaults&&(t.bytes===String?r.id_name="":(r.id_name=[],t.bytes!==Array&&(r.id_name=$.newBuffer(r.id_name))),r.action_seq=0),null!=e.id_name&&e.hasOwnProperty("id_name")&&(r.id_name=t.bytes===String?$.base64.encode(e.id_name,0,e.id_name.length):t.bytes===Array?Array.prototype.slice.call(e.id_name):e.id_name),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(r.action_seq=e.action_seq),e.module_auth&&e.module_auth.length){r.module_auth=[];for(let t=0;t<e.module_auth.length;++t)r.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){r.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)r.graphic_auth[t]=e.graphic_auth[t]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_sync=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.req_head=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&ee.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_sync;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.req_head=ee.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_sync)return e;let t=new ee.proto_edu_tcpuplink.proto_sync;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_sync.req_head: object expected");t.req_head=ee.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return t},e.toObject=function(e,t){t||(t={});let r={};return t.defaults&&(r.req_head=null),null!=e.req_head&&e.hasOwnProperty("req_head")&&(r.req_head=ee.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_sync_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.prototype.sync_interval=0,e.prototype.room_extra_info_seq=0,e.prototype.user_list_seq=0,e.prototype.user_extra_info_seq=0,e.prototype.joinlive_seq=0,e.prototype.mod_list_seq=0,e.prototype.user_auth_seq=0,e.prototype.room_auth_seq=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.sync_interval&&Object.hasOwnProperty.call(e,"sync_interval")&&t.uint32(16).uint32(e.sync_interval),null!=e.room_extra_info_seq&&Object.hasOwnProperty.call(e,"room_extra_info_seq")&&t.uint32(24).uint32(e.room_extra_info_seq),null!=e.user_list_seq&&Object.hasOwnProperty.call(e,"user_list_seq")&&t.uint32(32).uint32(e.user_list_seq),null!=e.user_extra_info_seq&&Object.hasOwnProperty.call(e,"user_extra_info_seq")&&t.uint32(40).uint32(e.user_extra_info_seq),null!=e.joinlive_seq&&Object.hasOwnProperty.call(e,"joinlive_seq")&&t.uint32(48).uint32(e.joinlive_seq),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(56).uint32(e.mod_list_seq),null!=e.user_auth_seq&&Object.hasOwnProperty.call(e,"user_auth_seq")&&t.uint32(64).uint32(e.user_auth_seq),null!=e.room_auth_seq&&Object.hasOwnProperty.call(e,"room_auth_seq")&&t.uint32(72).uint32(e.room_auth_seq),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_sync_rsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:o.sync_interval=e.uint32();break;case 3:o.room_extra_info_seq=e.uint32();break;case 4:o.user_list_seq=e.uint32();break;case 5:o.user_extra_info_seq=e.uint32();break;case 6:o.joinlive_seq=e.uint32();break;case 7:o.mod_list_seq=e.uint32();break;case 8:o.user_auth_seq=e.uint32();break;case 9:o.room_auth_seq=e.uint32();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_sync_rsp)return e;let t=new ee.proto_edu_tcpuplink.proto_sync_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_sync_rsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}return null!=e.sync_interval&&(t.sync_interval=e.sync_interval>>>0),null!=e.room_extra_info_seq&&(t.room_extra_info_seq=e.room_extra_info_seq>>>0),null!=e.user_list_seq&&(t.user_list_seq=e.user_list_seq>>>0),null!=e.user_extra_info_seq&&(t.user_extra_info_seq=e.user_extra_info_seq>>>0),null!=e.joinlive_seq&&(t.joinlive_seq=e.joinlive_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.user_auth_seq&&(t.user_auth_seq=e.user_auth_seq>>>0),null!=e.room_auth_seq&&(t.room_auth_seq=e.room_auth_seq>>>0),t},e.toObject=function(e,t){t||(t={});let r={};return t.defaults&&(r.rsp_head=null,r.sync_interval=0,r.room_extra_info_seq=0,r.user_list_seq=0,r.user_extra_info_seq=0,r.joinlive_seq=0,r.mod_list_seq=0,r.user_auth_seq=0,r.room_auth_seq=0),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.sync_interval&&e.hasOwnProperty("sync_interval")&&(r.sync_interval=e.sync_interval),null!=e.room_extra_info_seq&&e.hasOwnProperty("room_extra_info_seq")&&(r.room_extra_info_seq=e.room_extra_info_seq),null!=e.user_list_seq&&e.hasOwnProperty("user_list_seq")&&(r.user_list_seq=e.user_list_seq),null!=e.user_extra_info_seq&&e.hasOwnProperty("user_extra_info_seq")&&(r.user_extra_info_seq=e.user_extra_info_seq),null!=e.joinlive_seq&&e.hasOwnProperty("joinlive_seq")&&(r.joinlive_seq=e.joinlive_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(r.mod_list_seq=e.mod_list_seq),null!=e.user_auth_seq&&e.hasOwnProperty("user_auth_seq")&&(r.user_auth_seq=e.user_auth_seq),null!=e.room_auth_seq&&e.hasOwnProperty("room_auth_seq")&&(r.room_auth_seq=e.room_auth_seq),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_create_mod=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.req_head=null,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.mod_title=$.newBuffer([]),e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_pos=$.newBuffer([]),e.prototype.mod_status=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.mod_content=$.newBuffer([]),e.prototype.mod_extra=$.newBuffer([]),e.prototype.mod_reserve=0,e.prototype.mod_delete_flag=0,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.mod_scale=$.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&ee.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(26).bytes(e.mod_title),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(32).uint32(e.mod_type),null!=e.mod_subtype&&Object.hasOwnProperty.call(e,"mod_subtype")&&t.uint32(40).uint32(e.mod_subtype),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(50).bytes(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(56).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(66).bytes(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(74).bytes(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(80).uint32(e.mod_reserve),null!=e.mod_delete_flag&&Object.hasOwnProperty.call(e,"mod_delete_flag")&&t.uint32(88).int32(e.mod_delete_flag),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(101).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(109).float(e.mod_vertical_percent),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(114).bytes(e.mod_scale),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_create_mod;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.req_head=ee.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:o.mod_id=e.uint64();break;case 3:o.mod_title=e.bytes();break;case 4:o.mod_type=e.uint32();break;case 5:o.mod_subtype=e.uint32();break;case 6:o.mod_pos=e.bytes();break;case 7:o.mod_status=e.uint64();break;case 8:o.mod_content=e.bytes();break;case 9:o.mod_extra=e.bytes();break;case 10:o.mod_reserve=e.uint32();break;case 11:o.mod_delete_flag=e.int32();break;case 12:o.mod_horizontal_percent=e.float();break;case 13:o.mod_vertical_percent=e.float();break;case 14:o.mod_scale=e.bytes();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_create_mod)return e;let t=new ee.proto_edu_tcpuplink.proto_create_mod;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_create_mod.req_head: object expected");t.req_head=ee.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_title&&("string"==typeof e.mod_title?$.base64.decode(e.mod_title,t.mod_title=$.newBuffer($.base64.length(e.mod_title)),0):e.mod_title.length&&(t.mod_title=e.mod_title)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),null!=e.mod_subtype&&(t.mod_subtype=e.mod_subtype>>>0),null!=e.mod_pos&&("string"==typeof e.mod_pos?$.base64.decode(e.mod_pos,t.mod_pos=$.newBuffer($.base64.length(e.mod_pos)),0):e.mod_pos.length&&(t.mod_pos=e.mod_pos)),null!=e.mod_status&&($.Long?(t.mod_status=$.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new $.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&("string"==typeof e.mod_content?$.base64.decode(e.mod_content,t.mod_content=$.newBuffer($.base64.length(e.mod_content)),0):e.mod_content.length&&(t.mod_content=e.mod_content)),null!=e.mod_extra&&("string"==typeof e.mod_extra?$.base64.decode(e.mod_extra,t.mod_extra=$.newBuffer($.base64.length(e.mod_extra)),0):e.mod_extra.length&&(t.mod_extra=e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.mod_delete_flag&&(t.mod_delete_flag=0|e.mod_delete_flag),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.mod_scale&&("string"==typeof e.mod_scale?$.base64.decode(e.mod_scale,t.mod_scale=$.newBuffer($.base64.length(e.mod_scale)),0):e.mod_scale.length&&(t.mod_scale=e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if(r.req_head=null,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;if(t.bytes===String?r.mod_title="":(r.mod_title=[],t.bytes!==Array&&(r.mod_title=$.newBuffer(r.mod_title))),r.mod_type=0,r.mod_subtype=0,t.bytes===String?r.mod_pos="":(r.mod_pos=[],t.bytes!==Array&&(r.mod_pos=$.newBuffer(r.mod_pos))),$.Long){let e=new $.Long(0,0,!0);r.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_status=t.longs===String?"0":0;t.bytes===String?r.mod_content="":(r.mod_content=[],t.bytes!==Array&&(r.mod_content=$.newBuffer(r.mod_content))),t.bytes===String?r.mod_extra="":(r.mod_extra=[],t.bytes!==Array&&(r.mod_extra=$.newBuffer(r.mod_extra))),r.mod_reserve=0,r.mod_delete_flag=0,r.mod_horizontal_percent=0,r.mod_vertical_percent=0,t.bytes===String?r.mod_scale="":(r.mod_scale=[],t.bytes!==Array&&(r.mod_scale=$.newBuffer(r.mod_scale)))}return null!=e.req_head&&e.hasOwnProperty("req_head")&&(r.req_head=ee.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(r.mod_title=t.bytes===String?$.base64.encode(e.mod_title,0,e.mod_title.length):t.bytes===Array?Array.prototype.slice.call(e.mod_title):e.mod_title),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(r.mod_type=e.mod_type),null!=e.mod_subtype&&e.hasOwnProperty("mod_subtype")&&(r.mod_subtype=e.mod_subtype),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(r.mod_pos=t.bytes===String?$.base64.encode(e.mod_pos,0,e.mod_pos.length):t.bytes===Array?Array.prototype.slice.call(e.mod_pos):e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?r.mod_status=t.longs===String?String(e.mod_status):e.mod_status:r.mod_status=t.longs===String?$.Long.prototype.toString.call(e.mod_status):t.longs===Number?new $.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(r.mod_content=t.bytes===String?$.base64.encode(e.mod_content,0,e.mod_content.length):t.bytes===Array?Array.prototype.slice.call(e.mod_content):e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(r.mod_extra=t.bytes===String?$.base64.encode(e.mod_extra,0,e.mod_extra.length):t.bytes===Array?Array.prototype.slice.call(e.mod_extra):e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(r.mod_reserve=e.mod_reserve),null!=e.mod_delete_flag&&e.hasOwnProperty("mod_delete_flag")&&(r.mod_delete_flag=e.mod_delete_flag),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(r.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(r.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(r.mod_scale=t.bytes===String?$.base64.encode(e.mod_scale,0,e.mod_scale.length):t.bytes===Array?Array.prototype.slice.call(e.mod_scale):e.mod_scale),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_create_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_list_seq=0,e.prototype.mod_create_time=$.Long?$.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(24).uint32(e.mod_seq),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(32).uint32(e.mod_list_seq),null!=e.mod_create_time&&Object.hasOwnProperty.call(e,"mod_create_time")&&t.uint32(40).int64(e.mod_create_time),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_create_mod_rsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:o.mod_id=e.uint64();break;case 3:o.mod_seq=e.uint32();break;case 4:o.mod_list_seq=e.uint32();break;case 5:o.mod_create_time=e.int64();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_create_mod_rsp)return e;let t=new ee.proto_edu_tcpuplink.proto_create_mod_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_create_mod_rsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}return null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.mod_create_time&&($.Long?(t.mod_create_time=$.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new $.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if(r.rsp_head=null,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;if(r.mod_seq=0,r.mod_list_seq=0,$.Long){let e=new $.Long(0,0,!1);r.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_create_time=t.longs===String?"0":0}return null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(r.mod_seq=e.mod_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(r.mod_list_seq=e.mod_list_seq),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?r.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:r.mod_create_time=t.longs===String?$.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new $.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_destroy_mod=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.req_head=null,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&ee.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_destroy_mod;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.req_head=ee.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:o.mod_id=e.uint64();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_destroy_mod)return e;let t=new ee.proto_edu_tcpuplink.proto_destroy_mod;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_destroy_mod.req_head: object expected");t.req_head=ee.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults)if(r.req_head=null,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;return null!=e.req_head&&e.hasOwnProperty("req_head")&&(r.req_head=ee.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_destroy_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.mod_list_seq=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(24).uint32(e.mod_list_seq),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_destroy_mod_rsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:o.mod_id=e.uint64();break;case 3:o.mod_list_seq=e.uint32();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_destroy_mod_rsp)return e;let t=new ee.proto_edu_tcpuplink.proto_destroy_mod_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_destroy_mod_rsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}return null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if(r.rsp_head=null,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;r.mod_list_seq=0}return null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(r.mod_list_seq=e.mod_list_seq),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_modify_mod=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.req_head=null,e.prototype.mod_seq=0,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.mod_title=$.newBuffer([]),e.prototype.mod_pos=$.newBuffer([]),e.prototype.mod_status=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.mod_content=$.newBuffer([]),e.prototype.mod_extra=$.newBuffer([]),e.prototype.mod_reserve=0,e.prototype.is_modify_mod_title=!1,e.prototype.is_modify_mod_pos=!1,e.prototype.is_modify_mod_status=!1,e.prototype.is_modify_mod_content=!1,e.prototype.is_modify_mod_extra=!1,e.prototype.is_modify_mod_reserve=!1,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.is_modify_mod_horizontal_percent=!1,e.prototype.is_modify_mod_vertical_percent=!1,e.prototype.is_modify_mod_scale=!1,e.prototype.mod_scale=$.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&ee.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(16).uint32(e.mod_seq),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(24).uint64(e.mod_id),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(34).bytes(e.mod_title),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(42).bytes(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(48).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(58).bytes(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(66).bytes(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(72).uint32(e.mod_reserve),null!=e.is_modify_mod_title&&Object.hasOwnProperty.call(e,"is_modify_mod_title")&&t.uint32(80).bool(e.is_modify_mod_title),null!=e.is_modify_mod_pos&&Object.hasOwnProperty.call(e,"is_modify_mod_pos")&&t.uint32(88).bool(e.is_modify_mod_pos),null!=e.is_modify_mod_status&&Object.hasOwnProperty.call(e,"is_modify_mod_status")&&t.uint32(96).bool(e.is_modify_mod_status),null!=e.is_modify_mod_content&&Object.hasOwnProperty.call(e,"is_modify_mod_content")&&t.uint32(104).bool(e.is_modify_mod_content),null!=e.is_modify_mod_extra&&Object.hasOwnProperty.call(e,"is_modify_mod_extra")&&t.uint32(112).bool(e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&Object.hasOwnProperty.call(e,"is_modify_mod_reserve")&&t.uint32(120).bool(e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(133).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(141).float(e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_horizontal_percent")&&t.uint32(144).bool(e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_vertical_percent")&&t.uint32(152).bool(e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&Object.hasOwnProperty.call(e,"is_modify_mod_scale")&&t.uint32(160).bool(e.is_modify_mod_scale),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(170).bytes(e.mod_scale),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_modify_mod;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.req_head=ee.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:o.mod_seq=e.uint32();break;case 3:o.mod_id=e.uint64();break;case 4:o.mod_title=e.bytes();break;case 5:o.mod_pos=e.bytes();break;case 6:o.mod_status=e.uint64();break;case 7:o.mod_content=e.bytes();break;case 8:o.mod_extra=e.bytes();break;case 9:o.mod_reserve=e.uint32();break;case 10:o.is_modify_mod_title=e.bool();break;case 11:o.is_modify_mod_pos=e.bool();break;case 12:o.is_modify_mod_status=e.bool();break;case 13:o.is_modify_mod_content=e.bool();break;case 14:o.is_modify_mod_extra=e.bool();break;case 15:o.is_modify_mod_reserve=e.bool();break;case 16:o.mod_horizontal_percent=e.float();break;case 17:o.mod_vertical_percent=e.float();break;case 18:o.is_modify_mod_horizontal_percent=e.bool();break;case 19:o.is_modify_mod_vertical_percent=e.bool();break;case 20:o.is_modify_mod_scale=e.bool();break;case 21:o.mod_scale=e.bytes();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_modify_mod)return e;let t=new ee.proto_edu_tcpuplink.proto_modify_mod;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_modify_mod.req_head: object expected");t.req_head=ee.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_title&&("string"==typeof e.mod_title?$.base64.decode(e.mod_title,t.mod_title=$.newBuffer($.base64.length(e.mod_title)),0):e.mod_title.length&&(t.mod_title=e.mod_title)),null!=e.mod_pos&&("string"==typeof e.mod_pos?$.base64.decode(e.mod_pos,t.mod_pos=$.newBuffer($.base64.length(e.mod_pos)),0):e.mod_pos.length&&(t.mod_pos=e.mod_pos)),null!=e.mod_status&&($.Long?(t.mod_status=$.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new $.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&("string"==typeof e.mod_content?$.base64.decode(e.mod_content,t.mod_content=$.newBuffer($.base64.length(e.mod_content)),0):e.mod_content.length&&(t.mod_content=e.mod_content)),null!=e.mod_extra&&("string"==typeof e.mod_extra?$.base64.decode(e.mod_extra,t.mod_extra=$.newBuffer($.base64.length(e.mod_extra)),0):e.mod_extra.length&&(t.mod_extra=e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.is_modify_mod_title&&(t.is_modify_mod_title=Boolean(e.is_modify_mod_title)),null!=e.is_modify_mod_pos&&(t.is_modify_mod_pos=Boolean(e.is_modify_mod_pos)),null!=e.is_modify_mod_status&&(t.is_modify_mod_status=Boolean(e.is_modify_mod_status)),null!=e.is_modify_mod_content&&(t.is_modify_mod_content=Boolean(e.is_modify_mod_content)),null!=e.is_modify_mod_extra&&(t.is_modify_mod_extra=Boolean(e.is_modify_mod_extra)),null!=e.is_modify_mod_reserve&&(t.is_modify_mod_reserve=Boolean(e.is_modify_mod_reserve)),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.is_modify_mod_horizontal_percent&&(t.is_modify_mod_horizontal_percent=Boolean(e.is_modify_mod_horizontal_percent)),null!=e.is_modify_mod_vertical_percent&&(t.is_modify_mod_vertical_percent=Boolean(e.is_modify_mod_vertical_percent)),null!=e.is_modify_mod_scale&&(t.is_modify_mod_scale=Boolean(e.is_modify_mod_scale)),null!=e.mod_scale&&("string"==typeof e.mod_scale?$.base64.decode(e.mod_scale,t.mod_scale=$.newBuffer($.base64.length(e.mod_scale)),0):e.mod_scale.length&&(t.mod_scale=e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if(r.req_head=null,r.mod_seq=0,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;if(t.bytes===String?r.mod_title="":(r.mod_title=[],t.bytes!==Array&&(r.mod_title=$.newBuffer(r.mod_title))),t.bytes===String?r.mod_pos="":(r.mod_pos=[],t.bytes!==Array&&(r.mod_pos=$.newBuffer(r.mod_pos))),$.Long){let e=new $.Long(0,0,!0);r.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_status=t.longs===String?"0":0;t.bytes===String?r.mod_content="":(r.mod_content=[],t.bytes!==Array&&(r.mod_content=$.newBuffer(r.mod_content))),t.bytes===String?r.mod_extra="":(r.mod_extra=[],t.bytes!==Array&&(r.mod_extra=$.newBuffer(r.mod_extra))),r.mod_reserve=0,r.is_modify_mod_title=!1,r.is_modify_mod_pos=!1,r.is_modify_mod_status=!1,r.is_modify_mod_content=!1,r.is_modify_mod_extra=!1,r.is_modify_mod_reserve=!1,r.mod_horizontal_percent=0,r.mod_vertical_percent=0,r.is_modify_mod_horizontal_percent=!1,r.is_modify_mod_vertical_percent=!1,r.is_modify_mod_scale=!1,t.bytes===String?r.mod_scale="":(r.mod_scale=[],t.bytes!==Array&&(r.mod_scale=$.newBuffer(r.mod_scale)))}return null!=e.req_head&&e.hasOwnProperty("req_head")&&(r.req_head=ee.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(r.mod_seq=e.mod_seq),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(r.mod_title=t.bytes===String?$.base64.encode(e.mod_title,0,e.mod_title.length):t.bytes===Array?Array.prototype.slice.call(e.mod_title):e.mod_title),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(r.mod_pos=t.bytes===String?$.base64.encode(e.mod_pos,0,e.mod_pos.length):t.bytes===Array?Array.prototype.slice.call(e.mod_pos):e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?r.mod_status=t.longs===String?String(e.mod_status):e.mod_status:r.mod_status=t.longs===String?$.Long.prototype.toString.call(e.mod_status):t.longs===Number?new $.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(r.mod_content=t.bytes===String?$.base64.encode(e.mod_content,0,e.mod_content.length):t.bytes===Array?Array.prototype.slice.call(e.mod_content):e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(r.mod_extra=t.bytes===String?$.base64.encode(e.mod_extra,0,e.mod_extra.length):t.bytes===Array?Array.prototype.slice.call(e.mod_extra):e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(r.mod_reserve=e.mod_reserve),null!=e.is_modify_mod_title&&e.hasOwnProperty("is_modify_mod_title")&&(r.is_modify_mod_title=e.is_modify_mod_title),null!=e.is_modify_mod_pos&&e.hasOwnProperty("is_modify_mod_pos")&&(r.is_modify_mod_pos=e.is_modify_mod_pos),null!=e.is_modify_mod_status&&e.hasOwnProperty("is_modify_mod_status")&&(r.is_modify_mod_status=e.is_modify_mod_status),null!=e.is_modify_mod_content&&e.hasOwnProperty("is_modify_mod_content")&&(r.is_modify_mod_content=e.is_modify_mod_content),null!=e.is_modify_mod_extra&&e.hasOwnProperty("is_modify_mod_extra")&&(r.is_modify_mod_extra=e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&e.hasOwnProperty("is_modify_mod_reserve")&&(r.is_modify_mod_reserve=e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(r.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(r.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&e.hasOwnProperty("is_modify_mod_horizontal_percent")&&(r.is_modify_mod_horizontal_percent=e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&e.hasOwnProperty("is_modify_mod_vertical_percent")&&(r.is_modify_mod_vertical_percent=e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&e.hasOwnProperty("is_modify_mod_scale")&&(r.is_modify_mod_scale=e.is_modify_mod_scale),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(r.mod_scale=t.bytes===String?$.base64.encode(e.mod_scale,0,e.mod_scale.length):t.bytes===Array?Array.prototype.slice.call(e.mod_scale):e.mod_scale),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_modify_mod_rsp=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.mod_seq=0,e.prototype.mod_list_seq=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(24).uint32(e.mod_seq),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(32).uint32(e.mod_list_seq),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_modify_mod_rsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:o.mod_id=e.uint64();break;case 3:o.mod_seq=e.uint32();break;case 4:o.mod_list_seq=e.uint32();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_modify_mod_rsp)return e;let t=new ee.proto_edu_tcpuplink.proto_modify_mod_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_modify_mod_rsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}return null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if(r.rsp_head=null,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;r.mod_seq=0,r.mod_list_seq=0}return null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(r.mod_seq=e.mod_seq),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(r.mod_list_seq=e.mod_list_seq),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_mod=function(){function e(e){if(this.mod_id_list=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.req_head=null,e.prototype.mod_id_list=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&ee.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id_list&&e.mod_id_list.length){t.uint32(18).fork();for(let r=0;r<e.mod_id_list.length;++r)t.uint64(e.mod_id_list[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_get_mod;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.req_head=ee.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:if(o.mod_id_list&&o.mod_id_list.length||(o.mod_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.mod_id_list.push(e.uint64())}else o.mod_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_get_mod)return e;let t=new ee.proto_edu_tcpuplink.proto_get_mod;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_get_mod.req_head: object expected");t.req_head=ee.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}if(e.mod_id_list){if(!Array.isArray(e.mod_id_list))throw TypeError(".proto_edu_tcpuplink.proto_get_mod.mod_id_list: array expected");t.mod_id_list=[];for(let r=0;r<e.mod_id_list.length;++r)$.Long?(t.mod_id_list[r]=$.Long.fromValue(e.mod_id_list[r])).unsigned=!0:"string"==typeof e.mod_id_list[r]?t.mod_id_list[r]=parseInt(e.mod_id_list[r],10):"number"==typeof e.mod_id_list[r]?t.mod_id_list[r]=e.mod_id_list[r]:"object"==typeof e.mod_id_list[r]&&(t.mod_id_list[r]=new $.LongBits(e.mod_id_list[r].low>>>0,e.mod_id_list[r].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.mod_id_list=[]),t.defaults&&(r.req_head=null),null!=e.req_head&&e.hasOwnProperty("req_head")&&(r.req_head=ee.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),e.mod_id_list&&e.mod_id_list.length){r.mod_id_list=[];for(let o=0;o<e.mod_id_list.length;++o)"number"==typeof e.mod_id_list[o]?r.mod_id_list[o]=t.longs===String?String(e.mod_id_list[o]):e.mod_id_list[o]:r.mod_id_list[o]=t.longs===String?$.Long.prototype.toString.call(e.mod_id_list[o]):t.longs===Number?new $.LongBits(e.mod_id_list[o].low>>>0,e.mod_id_list[o].high>>>0).toNumber(!0):e.mod_id_list[o]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_mod_rsp=function(){function e(e){if(this.mod_list=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.prototype.mod_list=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_list&&e.mod_list.length)for(let r=0;r<e.mod_list.length;++r)ee.proto_edu_tcpuplink.proto_mod.encode(e.mod_list[r],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_get_mod_rsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:o.mod_list&&o.mod_list.length||(o.mod_list=[]),o.mod_list.push(ee.proto_edu_tcpuplink.proto_mod.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_get_mod_rsp)return e;let t=new ee.proto_edu_tcpuplink.proto_get_mod_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_get_mod_rsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(e.mod_list){if(!Array.isArray(e.mod_list))throw TypeError(".proto_edu_tcpuplink.proto_get_mod_rsp.mod_list: array expected");t.mod_list=[];for(let r=0;r<e.mod_list.length;++r){if("object"!=typeof e.mod_list[r])throw TypeError(".proto_edu_tcpuplink.proto_get_mod_rsp.mod_list: object expected");t.mod_list[r]=ee.proto_edu_tcpuplink.proto_mod.fromObject(e.mod_list[r])}}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.mod_list=[]),t.defaults&&(r.rsp_head=null),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),e.mod_list&&e.mod_list.length){r.mod_list=[];for(let o=0;o<e.mod_list.length;++o)r.mod_list[o]=ee.proto_edu_tcpuplink.proto_mod.toObject(e.mod_list[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_mod_list=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.req_head=null,e.prototype.mod_list_seq=0,e.prototype.limit=0,e.prototype.marker=$.newBuffer([]),e.prototype.mod_type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&ee.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(16).uint32(e.mod_list_seq),null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(24).uint32(e.limit),null!=e.marker&&Object.hasOwnProperty.call(e,"marker")&&t.uint32(34).bytes(e.marker),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(40).uint32(e.mod_type),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_get_mod_list;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.req_head=ee.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:o.mod_list_seq=e.uint32();break;case 3:o.limit=e.uint32();break;case 4:o.marker=e.bytes();break;case 5:o.mod_type=e.uint32();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_get_mod_list)return e;let t=new ee.proto_edu_tcpuplink.proto_get_mod_list;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_get_mod_list.req_head: object expected");t.req_head=ee.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.limit&&(t.limit=e.limit>>>0),null!=e.marker&&("string"==typeof e.marker?$.base64.decode(e.marker,t.marker=$.newBuffer($.base64.length(e.marker)),0):e.marker.length&&(t.marker=e.marker)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),t},e.toObject=function(e,t){t||(t={});let r={};return t.defaults&&(r.req_head=null,r.mod_list_seq=0,r.limit=0,t.bytes===String?r.marker="":(r.marker=[],t.bytes!==Array&&(r.marker=$.newBuffer(r.marker))),r.mod_type=0),null!=e.req_head&&e.hasOwnProperty("req_head")&&(r.req_head=ee.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(r.mod_list_seq=e.mod_list_seq),null!=e.limit&&e.hasOwnProperty("limit")&&(r.limit=e.limit),null!=e.marker&&e.hasOwnProperty("marker")&&(r.marker=t.bytes===String?$.base64.encode(e.marker,0,e.marker.length):t.bytes===Array?Array.prototype.slice.call(e.marker):e.marker),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(r.mod_type=e.mod_type),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_mod_list_rsp=function(){function e(e){if(this.mod_list=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.prototype.mod_list_seq=0,e.prototype.marker=$.newBuffer([]),e.prototype.mod_type=0,e.prototype.mod_list=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(16).uint32(e.mod_list_seq),null!=e.marker&&Object.hasOwnProperty.call(e,"marker")&&t.uint32(26).bytes(e.marker),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(32).uint32(e.mod_type),null!=e.mod_list&&e.mod_list.length)for(let r=0;r<e.mod_list.length;++r)ee.proto_edu_tcpuplink.proto_mod.encode(e.mod_list[r],t.uint32(42).fork()).ldelim();return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_get_mod_list_rsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:o.mod_list_seq=e.uint32();break;case 3:o.marker=e.bytes();break;case 4:o.mod_type=e.uint32();break;case 5:o.mod_list&&o.mod_list.length||(o.mod_list=[]),o.mod_list.push(ee.proto_edu_tcpuplink.proto_mod.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_get_mod_list_rsp)return e;let t=new ee.proto_edu_tcpuplink.proto_get_mod_list_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_get_mod_list_rsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),null!=e.marker&&("string"==typeof e.marker?$.base64.decode(e.marker,t.marker=$.newBuffer($.base64.length(e.marker)),0):e.marker.length&&(t.marker=e.marker)),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),e.mod_list){if(!Array.isArray(e.mod_list))throw TypeError(".proto_edu_tcpuplink.proto_get_mod_list_rsp.mod_list: array expected");t.mod_list=[];for(let r=0;r<e.mod_list.length;++r){if("object"!=typeof e.mod_list[r])throw TypeError(".proto_edu_tcpuplink.proto_get_mod_list_rsp.mod_list: object expected");t.mod_list[r]=ee.proto_edu_tcpuplink.proto_mod.fromObject(e.mod_list[r])}}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.mod_list=[]),t.defaults&&(r.rsp_head=null,r.mod_list_seq=0,t.bytes===String?r.marker="":(r.marker=[],t.bytes!==Array&&(r.marker=$.newBuffer(r.marker))),r.mod_type=0),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(r.mod_list_seq=e.mod_list_seq),null!=e.marker&&e.hasOwnProperty("marker")&&(r.marker=t.bytes===String?$.base64.encode(e.marker,0,e.marker.length):t.bytes===Array?Array.prototype.slice.call(e.marker):e.marker),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(r.mod_type=e.mod_type),e.mod_list&&e.mod_list.length){r.mod_list=[];for(let o=0;o<e.mod_list.length;++o)r.mod_list[o]=ee.proto_edu_tcpuplink.proto_mod.toObject(e.mod_list[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_draw_page_graphics=function(){function e(e){if(this.draw_pages=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.req_head=null,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.draw_pages=$.emptyArray,e.prototype.timestamp=$.Long?$.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&ee.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.draw_pages&&e.draw_pages.length)for(let r=0;r<e.draw_pages.length;++r)ee.proto_edu_tcpuplink.proto_draw_page.encode(e.draw_pages[r],t.uint32(26).fork()).ldelim();return null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(32).uint64(e.timestamp),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_draw_page_graphics;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.req_head=ee.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:o.mod_id=e.uint64();break;case 3:o.draw_pages&&o.draw_pages.length||(o.draw_pages=[]),o.draw_pages.push(ee.proto_edu_tcpuplink.proto_draw_page.decode(e,e.uint32()));break;case 4:o.timestamp=e.uint64();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_draw_page_graphics)return e;let t=new ee.proto_edu_tcpuplink.proto_draw_page_graphics;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics.req_head: object expected");t.req_head=ee.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}if(null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.draw_pages){if(!Array.isArray(e.draw_pages))throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics.draw_pages: array expected");t.draw_pages=[];for(let r=0;r<e.draw_pages.length;++r){if("object"!=typeof e.draw_pages[r])throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics.draw_pages: object expected");t.draw_pages[r]=ee.proto_edu_tcpuplink.proto_draw_page.fromObject(e.draw_pages[r])}}return null!=e.timestamp&&($.Long?(t.timestamp=$.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new $.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.draw_pages=[]),t.defaults){if(r.req_head=null,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;if($.Long){let e=new $.Long(0,0,!0);r.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.timestamp=t.longs===String?"0":0}if(null!=e.req_head&&e.hasOwnProperty("req_head")&&(r.req_head=ee.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.draw_pages&&e.draw_pages.length){r.draw_pages=[];for(let o=0;o<e.draw_pages.length;++o)r.draw_pages[o]=ee.proto_edu_tcpuplink.proto_draw_page.toObject(e.draw_pages[o],t)}return null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?r.timestamp=t.longs===String?String(e.timestamp):e.timestamp:r.timestamp=t.longs===String?$.Long.prototype.toString.call(e.timestamp):t.longs===Number?new $.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_draw_page=function(){function e(e){if(this.draw_list=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page=0,e.prototype.graphic_list_seq=0,e.prototype.draw_list=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.page&&Object.hasOwnProperty.call(e,"page")&&t.uint32(8).uint32(e.page),null!=e.graphic_list_seq&&Object.hasOwnProperty.call(e,"graphic_list_seq")&&t.uint32(16).uint32(e.graphic_list_seq),null!=e.draw_list&&e.draw_list.length)for(let r=0;r<e.draw_list.length;++r)ee.proto_edu_tcpuplink.proto_draw.encode(e.draw_list[r],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_draw_page;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.page=e.uint32();break;case 2:o.graphic_list_seq=e.uint32();break;case 3:o.draw_list&&o.draw_list.length||(o.draw_list=[]),o.draw_list.push(ee.proto_edu_tcpuplink.proto_draw.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_draw_page)return e;let t=new ee.proto_edu_tcpuplink.proto_draw_page;if(null!=e.page&&(t.page=e.page>>>0),null!=e.graphic_list_seq&&(t.graphic_list_seq=e.graphic_list_seq>>>0),e.draw_list){if(!Array.isArray(e.draw_list))throw TypeError(".proto_edu_tcpuplink.proto_draw_page.draw_list: array expected");t.draw_list=[];for(let r=0;r<e.draw_list.length;++r){if("object"!=typeof e.draw_list[r])throw TypeError(".proto_edu_tcpuplink.proto_draw_page.draw_list: object expected");t.draw_list[r]=ee.proto_edu_tcpuplink.proto_draw.fromObject(e.draw_list[r])}}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.draw_list=[]),t.defaults&&(r.page=0,r.graphic_list_seq=0),null!=e.page&&e.hasOwnProperty("page")&&(r.page=e.page),null!=e.graphic_list_seq&&e.hasOwnProperty("graphic_list_seq")&&(r.graphic_list_seq=e.graphic_list_seq),e.draw_list&&e.draw_list.length){r.draw_list=[];for(let o=0;o<e.draw_list.length;++o)r.draw_list[o]=ee.proto_edu_tcpuplink.proto_draw.toObject(e.draw_list[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_draw_page_graphics_rsp=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.pages=$.emptyArray,e.prototype.graphic_list_seqs=$.emptyArray,e.prototype.commit_time=$.Long?$.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.pages&&e.pages.length){t.uint32(26).fork();for(let r=0;r<e.pages.length;++r)t.uint32(e.pages[r]);t.ldelim()}if(null!=e.graphic_list_seqs&&e.graphic_list_seqs.length){t.uint32(34).fork();for(let r=0;r<e.graphic_list_seqs.length;++r)t.uint32(e.graphic_list_seqs[r]);t.ldelim()}return null!=e.commit_time&&Object.hasOwnProperty.call(e,"commit_time")&&t.uint32(40).int64(e.commit_time),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_draw_page_graphics_rsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:o.mod_id=e.uint64();break;case 3:if(o.pages&&o.pages.length||(o.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.pages.push(e.uint32())}else o.pages.push(e.uint32());break;case 4:if(o.graphic_list_seqs&&o.graphic_list_seqs.length||(o.graphic_list_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.graphic_list_seqs.push(e.uint32())}else o.graphic_list_seqs.push(e.uint32());break;case 5:o.commit_time=e.int64();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_draw_page_graphics_rsp)return e;let t=new ee.proto_edu_tcpuplink.proto_draw_page_graphics_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics_rsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics_rsp.pages: array expected");t.pages=[];for(let r=0;r<e.pages.length;++r)t.pages[r]=e.pages[r]>>>0}if(e.graphic_list_seqs){if(!Array.isArray(e.graphic_list_seqs))throw TypeError(".proto_edu_tcpuplink.proto_draw_page_graphics_rsp.graphic_list_seqs: array expected");t.graphic_list_seqs=[];for(let r=0;r<e.graphic_list_seqs.length;++r)t.graphic_list_seqs[r]=e.graphic_list_seqs[r]>>>0}return null!=e.commit_time&&($.Long?(t.commit_time=$.Long.fromValue(e.commit_time)).unsigned=!1:"string"==typeof e.commit_time?t.commit_time=parseInt(e.commit_time,10):"number"==typeof e.commit_time?t.commit_time=e.commit_time:"object"==typeof e.commit_time&&(t.commit_time=new $.LongBits(e.commit_time.low>>>0,e.commit_time.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.pages=[],r.graphic_list_seqs=[]),t.defaults){if(r.rsp_head=null,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;if($.Long){let e=new $.Long(0,0,!1);r.commit_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.commit_time=t.longs===String?"0":0}if(null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){r.pages=[];for(let t=0;t<e.pages.length;++t)r.pages[t]=e.pages[t]}if(e.graphic_list_seqs&&e.graphic_list_seqs.length){r.graphic_list_seqs=[];for(let t=0;t<e.graphic_list_seqs.length;++t)r.graphic_list_seqs[t]=e.graphic_list_seqs[t]}return null!=e.commit_time&&e.hasOwnProperty("commit_time")&&("number"==typeof e.commit_time?r.commit_time=t.longs===String?String(e.commit_time):e.commit_time:r.commit_time=t.longs===String?$.Long.prototype.toString.call(e.commit_time):t.longs===Number?new $.LongBits(e.commit_time.low>>>0,e.commit_time.high>>>0).toNumber():e.commit_time),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_draw=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.graphic_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.action=0,e.prototype.action_type=0,e.prototype.type=0,e.prototype.zorder=0,e.prototype.x=0,e.prototype.y=0,e.prototype.px=0,e.prototype.py=0,e.prototype.data=$.newBuffer([]),e.prototype.size=0,e.prototype.color=0,e.prototype.width=0,e.prototype.height=0,e.prototype.attributes=$.newBuffer([]),e.prototype.operate_id="",e.prototype.is_end_draw=!1,e.prototype.layer=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.graphic_id&&Object.hasOwnProperty.call(e,"graphic_id")&&t.uint32(8).uint64(e.graphic_id),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(16).int32(e.action),null!=e.action_type&&Object.hasOwnProperty.call(e,"action_type")&&t.uint32(24).int32(e.action_type),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(32).int32(e.type),null!=e.zorder&&Object.hasOwnProperty.call(e,"zorder")&&t.uint32(40).int32(e.zorder),null!=e.x&&Object.hasOwnProperty.call(e,"x")&&t.uint32(48).int32(e.x),null!=e.y&&Object.hasOwnProperty.call(e,"y")&&t.uint32(56).int32(e.y),null!=e.px&&Object.hasOwnProperty.call(e,"px")&&t.uint32(64).int32(e.px),null!=e.py&&Object.hasOwnProperty.call(e,"py")&&t.uint32(72).int32(e.py),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(82).bytes(e.data),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(88).int32(e.size),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(96).uint32(e.color),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(104).int32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(112).int32(e.height),null!=e.attributes&&Object.hasOwnProperty.call(e,"attributes")&&t.uint32(122).bytes(e.attributes),null!=e.operate_id&&Object.hasOwnProperty.call(e,"operate_id")&&t.uint32(130).string(e.operate_id),null!=e.is_end_draw&&Object.hasOwnProperty.call(e,"is_end_draw")&&t.uint32(136).bool(e.is_end_draw),null!=e.layer&&Object.hasOwnProperty.call(e,"layer")&&t.uint32(144).uint32(e.layer),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_draw;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.graphic_id=e.uint64();break;case 2:o.action=e.int32();break;case 3:o.action_type=e.int32();break;case 4:o.type=e.int32();break;case 5:o.zorder=e.int32();break;case 6:o.x=e.int32();break;case 7:o.y=e.int32();break;case 8:o.px=e.int32();break;case 9:o.py=e.int32();break;case 10:o.data=e.bytes();break;case 11:o.size=e.int32();break;case 12:o.color=e.uint32();break;case 13:o.width=e.int32();break;case 14:o.height=e.int32();break;case 15:o.attributes=e.bytes();break;case 16:o.operate_id=e.string();break;case 17:o.is_end_draw=e.bool();break;case 18:o.layer=e.uint32();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_draw)return e;let t=new ee.proto_edu_tcpuplink.proto_draw;return null!=e.graphic_id&&($.Long?(t.graphic_id=$.Long.fromValue(e.graphic_id)).unsigned=!0:"string"==typeof e.graphic_id?t.graphic_id=parseInt(e.graphic_id,10):"number"==typeof e.graphic_id?t.graphic_id=e.graphic_id:"object"==typeof e.graphic_id&&(t.graphic_id=new $.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0))),null!=e.action&&(t.action=0|e.action),null!=e.action_type&&(t.action_type=0|e.action_type),null!=e.type&&(t.type=0|e.type),null!=e.zorder&&(t.zorder=0|e.zorder),null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),null!=e.px&&(t.px=0|e.px),null!=e.py&&(t.py=0|e.py),null!=e.data&&("string"==typeof e.data?$.base64.decode(e.data,t.data=$.newBuffer($.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.size&&(t.size=0|e.size),null!=e.color&&(t.color=e.color>>>0),null!=e.width&&(t.width=0|e.width),null!=e.height&&(t.height=0|e.height),null!=e.attributes&&("string"==typeof e.attributes?$.base64.decode(e.attributes,t.attributes=$.newBuffer($.base64.length(e.attributes)),0):e.attributes.length&&(t.attributes=e.attributes)),null!=e.operate_id&&(t.operate_id=String(e.operate_id)),null!=e.is_end_draw&&(t.is_end_draw=Boolean(e.is_end_draw)),null!=e.layer&&(t.layer=e.layer>>>0),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if($.Long){let e=new $.Long(0,0,!0);r.graphic_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.graphic_id=t.longs===String?"0":0;r.action=0,r.action_type=0,r.type=0,r.zorder=0,r.x=0,r.y=0,r.px=0,r.py=0,t.bytes===String?r.data="":(r.data=[],t.bytes!==Array&&(r.data=$.newBuffer(r.data))),r.size=0,r.color=0,r.width=0,r.height=0,t.bytes===String?r.attributes="":(r.attributes=[],t.bytes!==Array&&(r.attributes=$.newBuffer(r.attributes))),r.operate_id="",r.is_end_draw=!1,r.layer=0}return null!=e.graphic_id&&e.hasOwnProperty("graphic_id")&&("number"==typeof e.graphic_id?r.graphic_id=t.longs===String?String(e.graphic_id):e.graphic_id:r.graphic_id=t.longs===String?$.Long.prototype.toString.call(e.graphic_id):t.longs===Number?new $.LongBits(e.graphic_id.low>>>0,e.graphic_id.high>>>0).toNumber(!0):e.graphic_id),null!=e.action&&e.hasOwnProperty("action")&&(r.action=e.action),null!=e.action_type&&e.hasOwnProperty("action_type")&&(r.action_type=e.action_type),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.zorder&&e.hasOwnProperty("zorder")&&(r.zorder=e.zorder),null!=e.x&&e.hasOwnProperty("x")&&(r.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(r.y=e.y),null!=e.px&&e.hasOwnProperty("px")&&(r.px=e.px),null!=e.py&&e.hasOwnProperty("py")&&(r.py=e.py),null!=e.data&&e.hasOwnProperty("data")&&(r.data=t.bytes===String?$.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.size&&e.hasOwnProperty("size")&&(r.size=e.size),null!=e.color&&e.hasOwnProperty("color")&&(r.color=e.color),null!=e.width&&e.hasOwnProperty("width")&&(r.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=e.height),null!=e.attributes&&e.hasOwnProperty("attributes")&&(r.attributes=t.bytes===String?$.base64.encode(e.attributes,0,e.attributes.length):t.bytes===Array?Array.prototype.slice.call(e.attributes):e.attributes),null!=e.operate_id&&e.hasOwnProperty("operate_id")&&(r.operate_id=e.operate_id),null!=e.is_end_draw&&e.hasOwnProperty("is_end_draw")&&(r.is_end_draw=e.is_end_draw),null!=e.layer&&e.hasOwnProperty("layer")&&(r.layer=e.layer),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_clear_page_graphics=function(){function e(e){if(this.layers=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.req_head=null,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.timestamp=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.layers=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&ee.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(24).uint64(e.timestamp),null!=e.layers&&e.layers.length){t.uint32(34).fork();for(let r=0;r<e.layers.length;++r)t.uint32(e.layers[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_clear_page_graphics;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.req_head=ee.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:o.mod_id=e.uint64();break;case 3:o.timestamp=e.uint64();break;case 4:if(o.layers&&o.layers.length||(o.layers=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.layers.push(e.uint32())}else o.layers.push(e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_clear_page_graphics)return e;let t=new ee.proto_edu_tcpuplink.proto_clear_page_graphics;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_clear_page_graphics.req_head: object expected");t.req_head=ee.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}if(null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.timestamp&&($.Long?(t.timestamp=$.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new $.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),e.layers){if(!Array.isArray(e.layers))throw TypeError(".proto_edu_tcpuplink.proto_clear_page_graphics.layers: array expected");t.layers=[];for(let r=0;r<e.layers.length;++r)t.layers[r]=e.layers[r]>>>0}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.layers=[]),t.defaults){if(r.req_head=null,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;if($.Long){let e=new $.Long(0,0,!0);r.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.timestamp=t.longs===String?"0":0}if(null!=e.req_head&&e.hasOwnProperty("req_head")&&(r.req_head=ee.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?r.timestamp=t.longs===String?String(e.timestamp):e.timestamp:r.timestamp=t.longs===String?$.Long.prototype.toString.call(e.timestamp):t.longs===Number?new $.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),e.layers&&e.layers.length){r.layers=[];for(let t=0;t<e.layers.length;++t)r.layers[t]=e.layers[t]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_clear_page_graphics_rsp=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.pages=$.emptyArray,e.prototype.graphic_list_seqs=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.pages&&e.pages.length){t.uint32(26).fork();for(let r=0;r<e.pages.length;++r)t.uint32(e.pages[r]);t.ldelim()}if(null!=e.graphic_list_seqs&&e.graphic_list_seqs.length){t.uint32(34).fork();for(let r=0;r<e.graphic_list_seqs.length;++r)t.uint32(e.graphic_list_seqs[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_clear_page_graphics_rsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:o.mod_id=e.uint64();break;case 3:if(o.pages&&o.pages.length||(o.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.pages.push(e.uint32())}else o.pages.push(e.uint32());break;case 4:if(o.graphic_list_seqs&&o.graphic_list_seqs.length||(o.graphic_list_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.graphic_list_seqs.push(e.uint32())}else o.graphic_list_seqs.push(e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_clear_page_graphics_rsp)return e;let t=new ee.proto_edu_tcpuplink.proto_clear_page_graphics_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_clear_page_graphics_rsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_tcpuplink.proto_clear_page_graphics_rsp.pages: array expected");t.pages=[];for(let r=0;r<e.pages.length;++r)t.pages[r]=e.pages[r]>>>0}if(e.graphic_list_seqs){if(!Array.isArray(e.graphic_list_seqs))throw TypeError(".proto_edu_tcpuplink.proto_clear_page_graphics_rsp.graphic_list_seqs: array expected");t.graphic_list_seqs=[];for(let r=0;r<e.graphic_list_seqs.length;++r)t.graphic_list_seqs[r]=e.graphic_list_seqs[r]>>>0}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.pages=[],r.graphic_list_seqs=[]),t.defaults)if(r.rsp_head=null,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;if(null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){r.pages=[];for(let t=0;t<e.pages.length;++t)r.pages[t]=e.pages[t]}if(e.graphic_list_seqs&&e.graphic_list_seqs.length){r.graphic_list_seqs=[];for(let t=0;t<e.graphic_list_seqs.length;++t)r.graphic_list_seqs[t]=e.graphic_list_seqs[t]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_page_graphics=function(){function e(e){if(this.pages=[],this.graphic_list_seqs=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.req_head=null,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.pages=$.emptyArray,e.prototype.graphic_list_seqs=$.emptyArray,e.prototype.limit=0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&ee.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.pages&&e.pages.length){t.uint32(26).fork();for(let r=0;r<e.pages.length;++r)t.uint32(e.pages[r]);t.ldelim()}if(null!=e.graphic_list_seqs&&e.graphic_list_seqs.length){t.uint32(34).fork();for(let r=0;r<e.graphic_list_seqs.length;++r)t.uint32(e.graphic_list_seqs[r]);t.ldelim()}return null!=e.limit&&Object.hasOwnProperty.call(e,"limit")&&t.uint32(40).uint32(e.limit),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_get_page_graphics;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.req_head=ee.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;case 2:o.mod_id=e.uint64();break;case 3:if(o.pages&&o.pages.length||(o.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.pages.push(e.uint32())}else o.pages.push(e.uint32());break;case 4:if(o.graphic_list_seqs&&o.graphic_list_seqs.length||(o.graphic_list_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.graphic_list_seqs.push(e.uint32())}else o.graphic_list_seqs.push(e.uint32());break;case 5:o.limit=e.uint32();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_get_page_graphics)return e;let t=new ee.proto_edu_tcpuplink.proto_get_page_graphics;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics.req_head: object expected");t.req_head=ee.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}if(null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics.pages: array expected");t.pages=[];for(let r=0;r<e.pages.length;++r)t.pages[r]=e.pages[r]>>>0}if(e.graphic_list_seqs){if(!Array.isArray(e.graphic_list_seqs))throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics.graphic_list_seqs: array expected");t.graphic_list_seqs=[];for(let r=0;r<e.graphic_list_seqs.length;++r)t.graphic_list_seqs[r]=e.graphic_list_seqs[r]>>>0}return null!=e.limit&&(t.limit=e.limit>>>0),t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.pages=[],r.graphic_list_seqs=[]),t.defaults){if(r.req_head=null,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;r.limit=0}if(null!=e.req_head&&e.hasOwnProperty("req_head")&&(r.req_head=ee.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){r.pages=[];for(let t=0;t<e.pages.length;++t)r.pages[t]=e.pages[t]}if(e.graphic_list_seqs&&e.graphic_list_seqs.length){r.graphic_list_seqs=[];for(let t=0;t<e.graphic_list_seqs.length;++t)r.graphic_list_seqs[t]=e.graphic_list_seqs[t]}return null!=e.limit&&e.hasOwnProperty("limit")&&(r.limit=e.limit),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_page_graphics_info=function(){function e(e){if(this.graphic_list=[],this.del_graphic_id_list=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page=0,e.prototype.ret_graphic_list_seq=0,e.prototype.svr_graphic_list_seq=0,e.prototype.graphic_list=$.emptyArray,e.prototype.del_graphic_id_list=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.page&&Object.hasOwnProperty.call(e,"page")&&t.uint32(8).uint32(e.page),null!=e.ret_graphic_list_seq&&Object.hasOwnProperty.call(e,"ret_graphic_list_seq")&&t.uint32(16).uint32(e.ret_graphic_list_seq),null!=e.svr_graphic_list_seq&&Object.hasOwnProperty.call(e,"svr_graphic_list_seq")&&t.uint32(24).uint32(e.svr_graphic_list_seq),null!=e.graphic_list&&e.graphic_list.length)for(let r=0;r<e.graphic_list.length;++r)ee.proto_edu_tcpuplink.proto_graphic.encode(e.graphic_list[r],t.uint32(34).fork()).ldelim();if(null!=e.del_graphic_id_list&&e.del_graphic_id_list.length){t.uint32(42).fork();for(let r=0;r<e.del_graphic_id_list.length;++r)t.uint64(e.del_graphic_id_list[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_get_page_graphics_info;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.page=e.uint32();break;case 2:o.ret_graphic_list_seq=e.uint32();break;case 3:o.svr_graphic_list_seq=e.uint32();break;case 4:o.graphic_list&&o.graphic_list.length||(o.graphic_list=[]),o.graphic_list.push(ee.proto_edu_tcpuplink.proto_graphic.decode(e,e.uint32()));break;case 5:if(o.del_graphic_id_list&&o.del_graphic_id_list.length||(o.del_graphic_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.del_graphic_id_list.push(e.uint64())}else o.del_graphic_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_get_page_graphics_info)return e;let t=new ee.proto_edu_tcpuplink.proto_get_page_graphics_info;if(null!=e.page&&(t.page=e.page>>>0),null!=e.ret_graphic_list_seq&&(t.ret_graphic_list_seq=e.ret_graphic_list_seq>>>0),null!=e.svr_graphic_list_seq&&(t.svr_graphic_list_seq=e.svr_graphic_list_seq>>>0),e.graphic_list){if(!Array.isArray(e.graphic_list))throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_info.graphic_list: array expected");t.graphic_list=[];for(let r=0;r<e.graphic_list.length;++r){if("object"!=typeof e.graphic_list[r])throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_info.graphic_list: object expected");t.graphic_list[r]=ee.proto_edu_tcpuplink.proto_graphic.fromObject(e.graphic_list[r])}}if(e.del_graphic_id_list){if(!Array.isArray(e.del_graphic_id_list))throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_info.del_graphic_id_list: array expected");t.del_graphic_id_list=[];for(let r=0;r<e.del_graphic_id_list.length;++r)$.Long?(t.del_graphic_id_list[r]=$.Long.fromValue(e.del_graphic_id_list[r])).unsigned=!0:"string"==typeof e.del_graphic_id_list[r]?t.del_graphic_id_list[r]=parseInt(e.del_graphic_id_list[r],10):"number"==typeof e.del_graphic_id_list[r]?t.del_graphic_id_list[r]=e.del_graphic_id_list[r]:"object"==typeof e.del_graphic_id_list[r]&&(t.del_graphic_id_list[r]=new $.LongBits(e.del_graphic_id_list[r].low>>>0,e.del_graphic_id_list[r].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.graphic_list=[],r.del_graphic_id_list=[]),t.defaults&&(r.page=0,r.ret_graphic_list_seq=0,r.svr_graphic_list_seq=0),null!=e.page&&e.hasOwnProperty("page")&&(r.page=e.page),null!=e.ret_graphic_list_seq&&e.hasOwnProperty("ret_graphic_list_seq")&&(r.ret_graphic_list_seq=e.ret_graphic_list_seq),null!=e.svr_graphic_list_seq&&e.hasOwnProperty("svr_graphic_list_seq")&&(r.svr_graphic_list_seq=e.svr_graphic_list_seq),e.graphic_list&&e.graphic_list.length){r.graphic_list=[];for(let o=0;o<e.graphic_list.length;++o)r.graphic_list[o]=ee.proto_edu_tcpuplink.proto_graphic.toObject(e.graphic_list[o],t)}if(e.del_graphic_id_list&&e.del_graphic_id_list.length){r.del_graphic_id_list=[];for(let o=0;o<e.del_graphic_id_list.length;++o)"number"==typeof e.del_graphic_id_list[o]?r.del_graphic_id_list[o]=t.longs===String?String(e.del_graphic_id_list[o]):e.del_graphic_id_list[o]:r.del_graphic_id_list[o]=t.longs===String?$.Long.prototype.toString.call(e.del_graphic_id_list[o]):t.longs===Number?new $.LongBits(e.del_graphic_id_list[o].low>>>0,e.del_graphic_id_list[o].high>>>0).toNumber(!0):e.del_graphic_id_list[o]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_page_graphics_rsp=function(){function e(e){if(this.pages=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.prototype.pages=$.emptyArray,e.prototype.operate_expire_time=$.Long?$.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.pages&&e.pages.length)for(let r=0;r<e.pages.length;++r)ee.proto_edu_tcpuplink.proto_get_page_graphics_info.encode(e.pages[r],t.uint32(18).fork()).ldelim();return null!=e.operate_expire_time&&Object.hasOwnProperty.call(e,"operate_expire_time")&&t.uint32(24).uint64(e.operate_expire_time),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_get_page_graphics_rsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:o.pages&&o.pages.length||(o.pages=[]),o.pages.push(ee.proto_edu_tcpuplink.proto_get_page_graphics_info.decode(e,e.uint32()));break;case 3:o.operate_expire_time=e.uint64();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_get_page_graphics_rsp)return e;let t=new ee.proto_edu_tcpuplink.proto_get_page_graphics_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_rsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_rsp.pages: array expected");t.pages=[];for(let r=0;r<e.pages.length;++r){if("object"!=typeof e.pages[r])throw TypeError(".proto_edu_tcpuplink.proto_get_page_graphics_rsp.pages: object expected");t.pages[r]=ee.proto_edu_tcpuplink.proto_get_page_graphics_info.fromObject(e.pages[r])}}return null!=e.operate_expire_time&&($.Long?(t.operate_expire_time=$.Long.fromValue(e.operate_expire_time)).unsigned=!0:"string"==typeof e.operate_expire_time?t.operate_expire_time=parseInt(e.operate_expire_time,10):"number"==typeof e.operate_expire_time?t.operate_expire_time=e.operate_expire_time:"object"==typeof e.operate_expire_time&&(t.operate_expire_time=new $.LongBits(e.operate_expire_time.low>>>0,e.operate_expire_time.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.pages=[]),t.defaults)if(r.rsp_head=null,$.Long){let e=new $.Long(0,0,!0);r.operate_expire_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.operate_expire_time=t.longs===String?"0":0;if(null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),e.pages&&e.pages.length){r.pages=[];for(let o=0;o<e.pages.length;++o)r.pages[o]=ee.proto_edu_tcpuplink.proto_get_page_graphics_info.toObject(e.pages[o],t)}return null!=e.operate_expire_time&&e.hasOwnProperty("operate_expire_time")&&("number"==typeof e.operate_expire_time?r.operate_expire_time=t.longs===String?String(e.operate_expire_time):e.operate_expire_time:r.operate_expire_time=t.longs===String?$.Long.prototype.toString.call(e.operate_expire_time):t.longs===Number?new $.LongBits(e.operate_expire_time.low>>>0,e.operate_expire_time.high>>>0).toNumber(!0):e.operate_expire_time),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_user_auth_req=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.req_head=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&ee.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_get_user_auth_req;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.req_head=ee.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_get_user_auth_req)return e;let t=new ee.proto_edu_tcpuplink.proto_get_user_auth_req;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_get_user_auth_req.req_head: object expected");t.req_head=ee.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return t},e.toObject=function(e,t){t||(t={});let r={};return t.defaults&&(r.req_head=null),null!=e.req_head&&e.hasOwnProperty("req_head")&&(r.req_head=ee.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_user_auth_rsp=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.prototype.id_name=$.newBuffer([]),e.prototype.auth_seq=0,e.prototype.module_auth=$.emptyArray,e.prototype.graphic_auth=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(18).bytes(e.id_name),null!=e.auth_seq&&Object.hasOwnProperty.call(e,"auth_seq")&&t.uint32(24).uint32(e.auth_seq),null!=e.module_auth&&e.module_auth.length){t.uint32(34).fork();for(let r=0;r<e.module_auth.length;++r)t.uint32(e.module_auth[r]);t.ldelim()}if(null!=e.graphic_auth&&e.graphic_auth.length){t.uint32(42).fork();for(let r=0;r<e.graphic_auth.length;++r)t.uint32(e.graphic_auth[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_get_user_auth_rsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:o.id_name=e.bytes();break;case 3:o.auth_seq=e.uint32();break;case 4:if(o.module_auth&&o.module_auth.length||(o.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.module_auth.push(e.uint32())}else o.module_auth.push(e.uint32());break;case 5:if(o.graphic_auth&&o.graphic_auth.length||(o.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.graphic_auth.push(e.uint32())}else o.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_get_user_auth_rsp)return e;let t=new ee.proto_edu_tcpuplink.proto_get_user_auth_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_get_user_auth_rsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(null!=e.id_name&&("string"==typeof e.id_name?$.base64.decode(e.id_name,t.id_name=$.newBuffer($.base64.length(e.id_name)),0):e.id_name.length&&(t.id_name=e.id_name)),null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_tcpuplink.proto_get_user_auth_rsp.module_auth: array expected");t.module_auth=[];for(let r=0;r<e.module_auth.length;++r)t.module_auth[r]=e.module_auth[r]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_tcpuplink.proto_get_user_auth_rsp.graphic_auth: array expected");t.graphic_auth=[];for(let r=0;r<e.graphic_auth.length;++r)t.graphic_auth[r]=e.graphic_auth[r]>>>0}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.module_auth=[],r.graphic_auth=[]),t.defaults&&(r.rsp_head=null,t.bytes===String?r.id_name="":(r.id_name=[],t.bytes!==Array&&(r.id_name=$.newBuffer(r.id_name))),r.auth_seq=0),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.id_name&&e.hasOwnProperty("id_name")&&(r.id_name=t.bytes===String?$.base64.encode(e.id_name,0,e.id_name.length):t.bytes===Array?Array.prototype.slice.call(e.id_name):e.id_name),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(r.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){r.module_auth=[];for(let t=0;t<e.module_auth.length;++t)r.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){r.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)r.graphic_auth[t]=e.graphic_auth[t]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_room_auth_req=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.req_head=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.req_head&&Object.hasOwnProperty.call(e,"req_head")&&ee.proto_edu_tcpuplink.ReqHead.encode(e.req_head,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_get_room_auth_req;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.req_head=ee.proto_edu_tcpuplink.ReqHead.decode(e,e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_get_room_auth_req)return e;let t=new ee.proto_edu_tcpuplink.proto_get_room_auth_req;if(null!=e.req_head){if("object"!=typeof e.req_head)throw TypeError(".proto_edu_tcpuplink.proto_get_room_auth_req.req_head: object expected");t.req_head=ee.proto_edu_tcpuplink.ReqHead.fromObject(e.req_head)}return t},e.toObject=function(e,t){t||(t={});let r={};return t.defaults&&(r.req_head=null),null!=e.req_head&&e.hasOwnProperty("req_head")&&(r.req_head=ee.proto_edu_tcpuplink.ReqHead.toObject(e.req_head,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.proto_get_room_auth_rsp=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rsp_head=null,e.prototype.auth_seq=0,e.prototype.module_auth=$.emptyArray,e.prototype.graphic_auth=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.rsp_head&&Object.hasOwnProperty.call(e,"rsp_head")&&ee.proto_edu_tcpuplink.RspHead.encode(e.rsp_head,t.uint32(10).fork()).ldelim(),null!=e.auth_seq&&Object.hasOwnProperty.call(e,"auth_seq")&&t.uint32(16).uint32(e.auth_seq),null!=e.module_auth&&e.module_auth.length){t.uint32(26).fork();for(let r=0;r<e.module_auth.length;++r)t.uint32(e.module_auth[r]);t.ldelim()}if(null!=e.graphic_auth&&e.graphic_auth.length){t.uint32(34).fork();for(let r=0;r<e.graphic_auth.length;++r)t.uint32(e.graphic_auth[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.proto_get_room_auth_rsp;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.rsp_head=ee.proto_edu_tcpuplink.RspHead.decode(e,e.uint32());break;case 2:o.auth_seq=e.uint32();break;case 3:if(o.module_auth&&o.module_auth.length||(o.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.module_auth.push(e.uint32())}else o.module_auth.push(e.uint32());break;case 4:if(o.graphic_auth&&o.graphic_auth.length||(o.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.graphic_auth.push(e.uint32())}else o.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.proto_get_room_auth_rsp)return e;let t=new ee.proto_edu_tcpuplink.proto_get_room_auth_rsp;if(null!=e.rsp_head){if("object"!=typeof e.rsp_head)throw TypeError(".proto_edu_tcpuplink.proto_get_room_auth_rsp.rsp_head: object expected");t.rsp_head=ee.proto_edu_tcpuplink.RspHead.fromObject(e.rsp_head)}if(null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_tcpuplink.proto_get_room_auth_rsp.module_auth: array expected");t.module_auth=[];for(let r=0;r<e.module_auth.length;++r)t.module_auth[r]=e.module_auth[r]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_tcpuplink.proto_get_room_auth_rsp.graphic_auth: array expected");t.graphic_auth=[];for(let r=0;r<e.graphic_auth.length;++r)t.graphic_auth[r]=e.graphic_auth[r]>>>0}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.module_auth=[],r.graphic_auth=[]),t.defaults&&(r.rsp_head=null,r.auth_seq=0),null!=e.rsp_head&&e.hasOwnProperty("rsp_head")&&(r.rsp_head=ee.proto_edu_tcpuplink.RspHead.toObject(e.rsp_head,t)),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(r.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){r.module_auth=[];for(let t=0;t<e.module_auth.length;++t)r.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){r.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)r.graphic_auth[t]=e.graphic_auth[t]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.E_PUSH_CMD=function(){const e={},t=Object.create(e);return t[e[0]="push_cmd_none"]=0,t[e[291001]="push_cmd_set_room"]=291001,t[e[291002]="push_cmd_set_user"]=291002,t[e[291003]="push_cmd_joinlive"]=291003,t[e[291101]="push_cmd_set_mod"]=291101,t[e[291201]="push_cmd_draw_graphics"]=291201,t[e[291202]="push_cmd_clear_graphics"]=291202,t[e[291203]="push_cmd_draw_page_graphics"]=291203,t[e[291204]="push_cmd_clear_page_graphics"]=291204,t[e[291205]="push_cmd_clear_user_graphic_list"]=291205,t[e[291401]="push_cmd_qaa"]=291401,t[e[291501]="push_cmd_set_user_auth"]=291501,t[e[291502]="push_cmd_set_room_auth"]=291502,t}(),e.push_set_room=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.room_id="",e.prototype.mute=!1,e.prototype.silenced=!1,e.prototype.notice_info="",e.prototype.room_extra_info_seq=0,e.prototype.qaa_disable=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.mute&&Object.hasOwnProperty.call(e,"mute")&&t.uint32(16).bool(e.mute),null!=e.silenced&&Object.hasOwnProperty.call(e,"silenced")&&t.uint32(24).bool(e.silenced),null!=e.notice_info&&Object.hasOwnProperty.call(e,"notice_info")&&t.uint32(34).string(e.notice_info),null!=e.room_extra_info_seq&&Object.hasOwnProperty.call(e,"room_extra_info_seq")&&t.uint32(40).uint32(e.room_extra_info_seq),null!=e.qaa_disable&&Object.hasOwnProperty.call(e,"qaa_disable")&&t.uint32(48).bool(e.qaa_disable),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_set_room;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.room_id=e.string();break;case 2:o.mute=e.bool();break;case 3:o.silenced=e.bool();break;case 4:o.notice_info=e.string();break;case 5:o.room_extra_info_seq=e.uint32();break;case 6:o.qaa_disable=e.bool();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_set_room)return e;let t=new ee.proto_edu_tcpuplink.push_set_room;return null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.mute&&(t.mute=Boolean(e.mute)),null!=e.silenced&&(t.silenced=Boolean(e.silenced)),null!=e.notice_info&&(t.notice_info=String(e.notice_info)),null!=e.room_extra_info_seq&&(t.room_extra_info_seq=e.room_extra_info_seq>>>0),null!=e.qaa_disable&&(t.qaa_disable=Boolean(e.qaa_disable)),t},e.toObject=function(e,t){t||(t={});let r={};return t.defaults&&(r.room_id="",r.mute=!1,r.silenced=!1,r.notice_info="",r.room_extra_info_seq=0,r.qaa_disable=!1),null!=e.room_id&&e.hasOwnProperty("room_id")&&(r.room_id=e.room_id),null!=e.mute&&e.hasOwnProperty("mute")&&(r.mute=e.mute),null!=e.silenced&&e.hasOwnProperty("silenced")&&(r.silenced=e.silenced),null!=e.notice_info&&e.hasOwnProperty("notice_info")&&(r.notice_info=e.notice_info),null!=e.room_extra_info_seq&&e.hasOwnProperty("room_extra_info_seq")&&(r.room_extra_info_seq=e.room_extra_info_seq),null!=e.qaa_disable&&e.hasOwnProperty("qaa_disable")&&(r.qaa_disable=e.qaa_disable),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_set_user=function(){function e(e){if(this.action_list=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.room_id="",e.prototype.user_list_seq=0,e.prototype.user_edu_seq=0,e.prototype.action_list=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.user_list_seq&&Object.hasOwnProperty.call(e,"user_list_seq")&&t.uint32(16).uint32(e.user_list_seq),null!=e.user_edu_seq&&Object.hasOwnProperty.call(e,"user_edu_seq")&&t.uint32(24).uint32(e.user_edu_seq),null!=e.action_list&&e.action_list.length)for(let r=0;r<e.action_list.length;++r)ee.proto_edu_tcpuplink.push_set_user_action.encode(e.action_list[r],t.uint32(34).fork()).ldelim();return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_set_user;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.room_id=e.string();break;case 2:o.user_list_seq=e.uint32();break;case 3:o.user_edu_seq=e.uint32();break;case 4:o.action_list&&o.action_list.length||(o.action_list=[]),o.action_list.push(ee.proto_edu_tcpuplink.push_set_user_action.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_set_user)return e;let t=new ee.proto_edu_tcpuplink.push_set_user;if(null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.user_list_seq&&(t.user_list_seq=e.user_list_seq>>>0),null!=e.user_edu_seq&&(t.user_edu_seq=e.user_edu_seq>>>0),e.action_list){if(!Array.isArray(e.action_list))throw TypeError(".proto_edu_tcpuplink.push_set_user.action_list: array expected");t.action_list=[];for(let r=0;r<e.action_list.length;++r){if("object"!=typeof e.action_list[r])throw TypeError(".proto_edu_tcpuplink.push_set_user.action_list: object expected");t.action_list[r]=ee.proto_edu_tcpuplink.push_set_user_action.fromObject(e.action_list[r])}}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.action_list=[]),t.defaults&&(r.room_id="",r.user_list_seq=0,r.user_edu_seq=0),null!=e.room_id&&e.hasOwnProperty("room_id")&&(r.room_id=e.room_id),null!=e.user_list_seq&&e.hasOwnProperty("user_list_seq")&&(r.user_list_seq=e.user_list_seq),null!=e.user_edu_seq&&e.hasOwnProperty("user_edu_seq")&&(r.user_edu_seq=e.user_edu_seq),e.action_list&&e.action_list.length){r.action_list=[];for(let o=0;o<e.action_list.length;++o)r.action_list[o]=ee.proto_edu_tcpuplink.push_set_user_action.toObject(e.action_list[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_set_user_action=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.action=0,e.prototype.id_name="",e.prototype.id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.role=0,e.prototype.nick_name="",e.prototype.enter_time=$.Long?$.Long.fromBits(0,0,!1):0,e.prototype.avatar="",e.prototype.mute=!1,e.prototype.silenced=!1,e.prototype.raise_hand=!1,e.prototype.gift_count=0,e.prototype.permissions=0,e.prototype.group_code=0,e.prototype.group_name="",e.prototype.video=!1,e.prototype.is_modify_avatar=!1,e.prototype.is_modify_mute=!1,e.prototype.is_modify_silenced=!1,e.prototype.is_modify_raise_hand=!1,e.prototype.is_modify_gift_count=!1,e.prototype.is_modify_permissions=!1,e.prototype.is_modify_group_code=!1,e.prototype.is_modify_group_name=!1,e.prototype.is_modify_video=!1,e.prototype.wait=0,e.prototype.is_modify_role=!1,e.prototype.is_modify_nick_name=!1,e.prototype.is_modify_wait=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).uint32(e.action),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(18).string(e.id_name),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(24).uint64(e.id),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(32).uint32(e.role),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(42).string(e.nick_name),null!=e.enter_time&&Object.hasOwnProperty.call(e,"enter_time")&&t.uint32(48).int64(e.enter_time),null!=e.avatar&&Object.hasOwnProperty.call(e,"avatar")&&t.uint32(58).string(e.avatar),null!=e.mute&&Object.hasOwnProperty.call(e,"mute")&&t.uint32(64).bool(e.mute),null!=e.silenced&&Object.hasOwnProperty.call(e,"silenced")&&t.uint32(72).bool(e.silenced),null!=e.raise_hand&&Object.hasOwnProperty.call(e,"raise_hand")&&t.uint32(80).bool(e.raise_hand),null!=e.gift_count&&Object.hasOwnProperty.call(e,"gift_count")&&t.uint32(88).uint32(e.gift_count),null!=e.permissions&&Object.hasOwnProperty.call(e,"permissions")&&t.uint32(96).uint32(e.permissions),null!=e.group_code&&Object.hasOwnProperty.call(e,"group_code")&&t.uint32(104).uint32(e.group_code),null!=e.group_name&&Object.hasOwnProperty.call(e,"group_name")&&t.uint32(114).string(e.group_name),null!=e.video&&Object.hasOwnProperty.call(e,"video")&&t.uint32(120).bool(e.video),null!=e.is_modify_avatar&&Object.hasOwnProperty.call(e,"is_modify_avatar")&&t.uint32(128).bool(e.is_modify_avatar),null!=e.is_modify_mute&&Object.hasOwnProperty.call(e,"is_modify_mute")&&t.uint32(136).bool(e.is_modify_mute),null!=e.is_modify_silenced&&Object.hasOwnProperty.call(e,"is_modify_silenced")&&t.uint32(144).bool(e.is_modify_silenced),null!=e.is_modify_raise_hand&&Object.hasOwnProperty.call(e,"is_modify_raise_hand")&&t.uint32(152).bool(e.is_modify_raise_hand),null!=e.is_modify_gift_count&&Object.hasOwnProperty.call(e,"is_modify_gift_count")&&t.uint32(160).bool(e.is_modify_gift_count),null!=e.is_modify_permissions&&Object.hasOwnProperty.call(e,"is_modify_permissions")&&t.uint32(168).bool(e.is_modify_permissions),null!=e.is_modify_group_code&&Object.hasOwnProperty.call(e,"is_modify_group_code")&&t.uint32(176).bool(e.is_modify_group_code),null!=e.is_modify_group_name&&Object.hasOwnProperty.call(e,"is_modify_group_name")&&t.uint32(184).bool(e.is_modify_group_name),null!=e.is_modify_video&&Object.hasOwnProperty.call(e,"is_modify_video")&&t.uint32(192).bool(e.is_modify_video),null!=e.wait&&Object.hasOwnProperty.call(e,"wait")&&t.uint32(200).uint32(e.wait),null!=e.is_modify_role&&Object.hasOwnProperty.call(e,"is_modify_role")&&t.uint32(208).bool(e.is_modify_role),null!=e.is_modify_nick_name&&Object.hasOwnProperty.call(e,"is_modify_nick_name")&&t.uint32(216).bool(e.is_modify_nick_name),null!=e.is_modify_wait&&Object.hasOwnProperty.call(e,"is_modify_wait")&&t.uint32(224).bool(e.is_modify_wait),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_set_user_action;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.action=e.uint32();break;case 2:o.id_name=e.string();break;case 3:o.id=e.uint64();break;case 4:o.role=e.uint32();break;case 5:o.nick_name=e.string();break;case 6:o.enter_time=e.int64();break;case 7:o.avatar=e.string();break;case 8:o.mute=e.bool();break;case 9:o.silenced=e.bool();break;case 10:o.raise_hand=e.bool();break;case 11:o.gift_count=e.uint32();break;case 12:o.permissions=e.uint32();break;case 13:o.group_code=e.uint32();break;case 14:o.group_name=e.string();break;case 15:o.video=e.bool();break;case 16:o.is_modify_avatar=e.bool();break;case 17:o.is_modify_mute=e.bool();break;case 18:o.is_modify_silenced=e.bool();break;case 19:o.is_modify_raise_hand=e.bool();break;case 20:o.is_modify_gift_count=e.bool();break;case 21:o.is_modify_permissions=e.bool();break;case 22:o.is_modify_group_code=e.bool();break;case 23:o.is_modify_group_name=e.bool();break;case 24:o.is_modify_video=e.bool();break;case 25:o.wait=e.uint32();break;case 26:o.is_modify_role=e.bool();break;case 27:o.is_modify_nick_name=e.bool();break;case 28:o.is_modify_wait=e.bool();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_set_user_action)return e;let t=new ee.proto_edu_tcpuplink.push_set_user_action;return null!=e.action&&(t.action=e.action>>>0),null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.id&&($.Long?(t.id=$.Long.fromValue(e.id)).unsigned=!0:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==typeof e.id&&(t.id=new $.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0))),null!=e.role&&(t.role=e.role>>>0),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.enter_time&&($.Long?(t.enter_time=$.Long.fromValue(e.enter_time)).unsigned=!1:"string"==typeof e.enter_time?t.enter_time=parseInt(e.enter_time,10):"number"==typeof e.enter_time?t.enter_time=e.enter_time:"object"==typeof e.enter_time&&(t.enter_time=new $.LongBits(e.enter_time.low>>>0,e.enter_time.high>>>0).toNumber())),null!=e.avatar&&(t.avatar=String(e.avatar)),null!=e.mute&&(t.mute=Boolean(e.mute)),null!=e.silenced&&(t.silenced=Boolean(e.silenced)),null!=e.raise_hand&&(t.raise_hand=Boolean(e.raise_hand)),null!=e.gift_count&&(t.gift_count=e.gift_count>>>0),null!=e.permissions&&(t.permissions=e.permissions>>>0),null!=e.group_code&&(t.group_code=e.group_code>>>0),null!=e.group_name&&(t.group_name=String(e.group_name)),null!=e.video&&(t.video=Boolean(e.video)),null!=e.is_modify_avatar&&(t.is_modify_avatar=Boolean(e.is_modify_avatar)),null!=e.is_modify_mute&&(t.is_modify_mute=Boolean(e.is_modify_mute)),null!=e.is_modify_silenced&&(t.is_modify_silenced=Boolean(e.is_modify_silenced)),null!=e.is_modify_raise_hand&&(t.is_modify_raise_hand=Boolean(e.is_modify_raise_hand)),null!=e.is_modify_gift_count&&(t.is_modify_gift_count=Boolean(e.is_modify_gift_count)),null!=e.is_modify_permissions&&(t.is_modify_permissions=Boolean(e.is_modify_permissions)),null!=e.is_modify_group_code&&(t.is_modify_group_code=Boolean(e.is_modify_group_code)),null!=e.is_modify_group_name&&(t.is_modify_group_name=Boolean(e.is_modify_group_name)),null!=e.is_modify_video&&(t.is_modify_video=Boolean(e.is_modify_video)),null!=e.wait&&(t.wait=e.wait>>>0),null!=e.is_modify_role&&(t.is_modify_role=Boolean(e.is_modify_role)),null!=e.is_modify_nick_name&&(t.is_modify_nick_name=Boolean(e.is_modify_nick_name)),null!=e.is_modify_wait&&(t.is_modify_wait=Boolean(e.is_modify_wait)),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if(r.action=0,r.id_name="",$.Long){let e=new $.Long(0,0,!0);r.id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.id=t.longs===String?"0":0;if(r.role=0,r.nick_name="",$.Long){let e=new $.Long(0,0,!1);r.enter_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.enter_time=t.longs===String?"0":0;r.avatar="",r.mute=!1,r.silenced=!1,r.raise_hand=!1,r.gift_count=0,r.permissions=0,r.group_code=0,r.group_name="",r.video=!1,r.is_modify_avatar=!1,r.is_modify_mute=!1,r.is_modify_silenced=!1,r.is_modify_raise_hand=!1,r.is_modify_gift_count=!1,r.is_modify_permissions=!1,r.is_modify_group_code=!1,r.is_modify_group_name=!1,r.is_modify_video=!1,r.wait=0,r.is_modify_role=!1,r.is_modify_nick_name=!1,r.is_modify_wait=!1}return null!=e.action&&e.hasOwnProperty("action")&&(r.action=e.action),null!=e.id_name&&e.hasOwnProperty("id_name")&&(r.id_name=e.id_name),null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?$.Long.prototype.toString.call(e.id):t.longs===Number?new $.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber(!0):e.id),null!=e.role&&e.hasOwnProperty("role")&&(r.role=e.role),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(r.nick_name=e.nick_name),null!=e.enter_time&&e.hasOwnProperty("enter_time")&&("number"==typeof e.enter_time?r.enter_time=t.longs===String?String(e.enter_time):e.enter_time:r.enter_time=t.longs===String?$.Long.prototype.toString.call(e.enter_time):t.longs===Number?new $.LongBits(e.enter_time.low>>>0,e.enter_time.high>>>0).toNumber():e.enter_time),null!=e.avatar&&e.hasOwnProperty("avatar")&&(r.avatar=e.avatar),null!=e.mute&&e.hasOwnProperty("mute")&&(r.mute=e.mute),null!=e.silenced&&e.hasOwnProperty("silenced")&&(r.silenced=e.silenced),null!=e.raise_hand&&e.hasOwnProperty("raise_hand")&&(r.raise_hand=e.raise_hand),null!=e.gift_count&&e.hasOwnProperty("gift_count")&&(r.gift_count=e.gift_count),null!=e.permissions&&e.hasOwnProperty("permissions")&&(r.permissions=e.permissions),null!=e.group_code&&e.hasOwnProperty("group_code")&&(r.group_code=e.group_code),null!=e.group_name&&e.hasOwnProperty("group_name")&&(r.group_name=e.group_name),null!=e.video&&e.hasOwnProperty("video")&&(r.video=e.video),null!=e.is_modify_avatar&&e.hasOwnProperty("is_modify_avatar")&&(r.is_modify_avatar=e.is_modify_avatar),null!=e.is_modify_mute&&e.hasOwnProperty("is_modify_mute")&&(r.is_modify_mute=e.is_modify_mute),null!=e.is_modify_silenced&&e.hasOwnProperty("is_modify_silenced")&&(r.is_modify_silenced=e.is_modify_silenced),null!=e.is_modify_raise_hand&&e.hasOwnProperty("is_modify_raise_hand")&&(r.is_modify_raise_hand=e.is_modify_raise_hand),null!=e.is_modify_gift_count&&e.hasOwnProperty("is_modify_gift_count")&&(r.is_modify_gift_count=e.is_modify_gift_count),null!=e.is_modify_permissions&&e.hasOwnProperty("is_modify_permissions")&&(r.is_modify_permissions=e.is_modify_permissions),null!=e.is_modify_group_code&&e.hasOwnProperty("is_modify_group_code")&&(r.is_modify_group_code=e.is_modify_group_code),null!=e.is_modify_group_name&&e.hasOwnProperty("is_modify_group_name")&&(r.is_modify_group_name=e.is_modify_group_name),null!=e.is_modify_video&&e.hasOwnProperty("is_modify_video")&&(r.is_modify_video=e.is_modify_video),null!=e.wait&&e.hasOwnProperty("wait")&&(r.wait=e.wait),null!=e.is_modify_role&&e.hasOwnProperty("is_modify_role")&&(r.is_modify_role=e.is_modify_role),null!=e.is_modify_nick_name&&e.hasOwnProperty("is_modify_nick_name")&&(r.is_modify_nick_name=e.is_modify_nick_name),null!=e.is_modify_wait&&e.hasOwnProperty("is_modify_wait")&&(r.is_modify_wait=e.is_modify_wait),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_joinlive=function(){function e(e){if(this.action_list=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.room_id="",e.prototype.last_seq=0,e.prototype.action_list=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.last_seq&&Object.hasOwnProperty.call(e,"last_seq")&&t.uint32(16).uint32(e.last_seq),null!=e.action_list&&e.action_list.length)for(let r=0;r<e.action_list.length;++r)ee.proto_edu_tcpuplink.push_joinlive_action.encode(e.action_list[r],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_joinlive;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.room_id=e.string();break;case 2:o.last_seq=e.uint32();break;case 3:o.action_list&&o.action_list.length||(o.action_list=[]),o.action_list.push(ee.proto_edu_tcpuplink.push_joinlive_action.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_joinlive)return e;let t=new ee.proto_edu_tcpuplink.push_joinlive;if(null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.last_seq&&(t.last_seq=e.last_seq>>>0),e.action_list){if(!Array.isArray(e.action_list))throw TypeError(".proto_edu_tcpuplink.push_joinlive.action_list: array expected");t.action_list=[];for(let r=0;r<e.action_list.length;++r){if("object"!=typeof e.action_list[r])throw TypeError(".proto_edu_tcpuplink.push_joinlive.action_list: object expected");t.action_list[r]=ee.proto_edu_tcpuplink.push_joinlive_action.fromObject(e.action_list[r])}}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.action_list=[]),t.defaults&&(r.room_id="",r.last_seq=0),null!=e.room_id&&e.hasOwnProperty("room_id")&&(r.room_id=e.room_id),null!=e.last_seq&&e.hasOwnProperty("last_seq")&&(r.last_seq=e.last_seq),e.action_list&&e.action_list.length){r.action_list=[];for(let o=0;o<e.action_list.length;++o)r.action_list[o]=ee.proto_edu_tcpuplink.push_joinlive_action.toObject(e.action_list[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_joinlive_action=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.action=0,e.prototype.id_name="",e.prototype.joinlive_req=0,e.prototype.old_pos=0,e.prototype.new_pos=0,e.prototype.nick_name="",e.prototype.role=0,e.prototype.join_type=0,e.prototype.state=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).uint32(e.action),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(18).string(e.id_name),null!=e.joinlive_req&&Object.hasOwnProperty.call(e,"joinlive_req")&&t.uint32(24).uint32(e.joinlive_req),null!=e.old_pos&&Object.hasOwnProperty.call(e,"old_pos")&&t.uint32(32).uint32(e.old_pos),null!=e.new_pos&&Object.hasOwnProperty.call(e,"new_pos")&&t.uint32(40).uint32(e.new_pos),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(50).string(e.nick_name),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(56).uint32(e.role),null!=e.join_type&&Object.hasOwnProperty.call(e,"join_type")&&t.uint32(64).uint32(e.join_type),null!=e.state&&Object.hasOwnProperty.call(e,"state")&&t.uint32(72).uint32(e.state),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_joinlive_action;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.action=e.uint32();break;case 2:o.id_name=e.string();break;case 3:o.joinlive_req=e.uint32();break;case 4:o.old_pos=e.uint32();break;case 5:o.new_pos=e.uint32();break;case 6:o.nick_name=e.string();break;case 7:o.role=e.uint32();break;case 8:o.join_type=e.uint32();break;case 9:o.state=e.uint32();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_joinlive_action)return e;let t=new ee.proto_edu_tcpuplink.push_joinlive_action;return null!=e.action&&(t.action=e.action>>>0),null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.joinlive_req&&(t.joinlive_req=e.joinlive_req>>>0),null!=e.old_pos&&(t.old_pos=e.old_pos>>>0),null!=e.new_pos&&(t.new_pos=e.new_pos>>>0),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.role&&(t.role=e.role>>>0),null!=e.join_type&&(t.join_type=e.join_type>>>0),null!=e.state&&(t.state=e.state>>>0),t},e.toObject=function(e,t){t||(t={});let r={};return t.defaults&&(r.action=0,r.id_name="",r.joinlive_req=0,r.old_pos=0,r.new_pos=0,r.nick_name="",r.role=0,r.join_type=0,r.state=0),null!=e.action&&e.hasOwnProperty("action")&&(r.action=e.action),null!=e.id_name&&e.hasOwnProperty("id_name")&&(r.id_name=e.id_name),null!=e.joinlive_req&&e.hasOwnProperty("joinlive_req")&&(r.joinlive_req=e.joinlive_req),null!=e.old_pos&&e.hasOwnProperty("old_pos")&&(r.old_pos=e.old_pos),null!=e.new_pos&&e.hasOwnProperty("new_pos")&&(r.new_pos=e.new_pos),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(r.nick_name=e.nick_name),null!=e.role&&e.hasOwnProperty("role")&&(r.role=e.role),null!=e.join_type&&e.hasOwnProperty("join_type")&&(r.join_type=e.join_type),null!=e.state&&e.hasOwnProperty("state")&&(r.state=e.state),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_set_mod=function(){function e(e){if(this.action_list=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.room_id="",e.prototype.mod_list_seq=0,e.prototype.action_list=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.mod_list_seq&&Object.hasOwnProperty.call(e,"mod_list_seq")&&t.uint32(16).uint32(e.mod_list_seq),null!=e.action_list&&e.action_list.length)for(let r=0;r<e.action_list.length;++r)ee.proto_edu_tcpuplink.push_set_mod_action.encode(e.action_list[r],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_set_mod;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.room_id=e.string();break;case 2:o.mod_list_seq=e.uint32();break;case 3:o.action_list&&o.action_list.length||(o.action_list=[]),o.action_list.push(ee.proto_edu_tcpuplink.push_set_mod_action.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_set_mod)return e;let t=new ee.proto_edu_tcpuplink.push_set_mod;if(null!=e.room_id&&(t.room_id=String(e.room_id)),null!=e.mod_list_seq&&(t.mod_list_seq=e.mod_list_seq>>>0),e.action_list){if(!Array.isArray(e.action_list))throw TypeError(".proto_edu_tcpuplink.push_set_mod.action_list: array expected");t.action_list=[];for(let r=0;r<e.action_list.length;++r){if("object"!=typeof e.action_list[r])throw TypeError(".proto_edu_tcpuplink.push_set_mod.action_list: object expected");t.action_list[r]=ee.proto_edu_tcpuplink.push_set_mod_action.fromObject(e.action_list[r])}}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.action_list=[]),t.defaults&&(r.room_id="",r.mod_list_seq=0),null!=e.room_id&&e.hasOwnProperty("room_id")&&(r.room_id=e.room_id),null!=e.mod_list_seq&&e.hasOwnProperty("mod_list_seq")&&(r.mod_list_seq=e.mod_list_seq),e.action_list&&e.action_list.length){r.action_list=[];for(let o=0;o<e.action_list.length;++o)r.action_list[o]=ee.proto_edu_tcpuplink.push_set_mod_action.toObject(e.action_list[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_set_mod_action=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.action=0,e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.mod_type=0,e.prototype.mod_subtype=0,e.prototype.mod_seq=0,e.prototype.mod_title="",e.prototype.mod_pos="",e.prototype.mod_status=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.mod_content="",e.prototype.mod_extra="",e.prototype.mod_reserve=0,e.prototype.mod_create_time=$.Long?$.Long.fromBits(0,0,!1):0,e.prototype.is_modify_mod_title=!1,e.prototype.is_modify_mod_pos=!1,e.prototype.is_modify_mod_status=!1,e.prototype.is_modify_mod_content=!1,e.prototype.is_modify_mod_extra=!1,e.prototype.is_modify_mod_reserve=!1,e.prototype.mod_horizontal_percent=0,e.prototype.mod_vertical_percent=0,e.prototype.is_modify_mod_horizontal_percent=!1,e.prototype.is_modify_mod_vertical_percent=!1,e.prototype.is_modify_mod_scale=!1,e.prototype.mod_scale="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(8).uint32(e.action),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(16).uint64(e.mod_id),null!=e.mod_type&&Object.hasOwnProperty.call(e,"mod_type")&&t.uint32(24).uint32(e.mod_type),null!=e.mod_subtype&&Object.hasOwnProperty.call(e,"mod_subtype")&&t.uint32(32).uint32(e.mod_subtype),null!=e.mod_seq&&Object.hasOwnProperty.call(e,"mod_seq")&&t.uint32(40).uint32(e.mod_seq),null!=e.mod_title&&Object.hasOwnProperty.call(e,"mod_title")&&t.uint32(50).string(e.mod_title),null!=e.mod_pos&&Object.hasOwnProperty.call(e,"mod_pos")&&t.uint32(58).string(e.mod_pos),null!=e.mod_status&&Object.hasOwnProperty.call(e,"mod_status")&&t.uint32(64).uint64(e.mod_status),null!=e.mod_content&&Object.hasOwnProperty.call(e,"mod_content")&&t.uint32(74).string(e.mod_content),null!=e.mod_extra&&Object.hasOwnProperty.call(e,"mod_extra")&&t.uint32(82).string(e.mod_extra),null!=e.mod_reserve&&Object.hasOwnProperty.call(e,"mod_reserve")&&t.uint32(88).uint32(e.mod_reserve),null!=e.mod_create_time&&Object.hasOwnProperty.call(e,"mod_create_time")&&t.uint32(96).int64(e.mod_create_time),null!=e.is_modify_mod_title&&Object.hasOwnProperty.call(e,"is_modify_mod_title")&&t.uint32(104).bool(e.is_modify_mod_title),null!=e.is_modify_mod_pos&&Object.hasOwnProperty.call(e,"is_modify_mod_pos")&&t.uint32(112).bool(e.is_modify_mod_pos),null!=e.is_modify_mod_status&&Object.hasOwnProperty.call(e,"is_modify_mod_status")&&t.uint32(120).bool(e.is_modify_mod_status),null!=e.is_modify_mod_content&&Object.hasOwnProperty.call(e,"is_modify_mod_content")&&t.uint32(128).bool(e.is_modify_mod_content),null!=e.is_modify_mod_extra&&Object.hasOwnProperty.call(e,"is_modify_mod_extra")&&t.uint32(136).bool(e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&Object.hasOwnProperty.call(e,"is_modify_mod_reserve")&&t.uint32(144).bool(e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&Object.hasOwnProperty.call(e,"mod_horizontal_percent")&&t.uint32(157).float(e.mod_horizontal_percent),null!=e.mod_vertical_percent&&Object.hasOwnProperty.call(e,"mod_vertical_percent")&&t.uint32(165).float(e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_horizontal_percent")&&t.uint32(168).bool(e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&Object.hasOwnProperty.call(e,"is_modify_mod_vertical_percent")&&t.uint32(176).bool(e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&Object.hasOwnProperty.call(e,"is_modify_mod_scale")&&t.uint32(184).bool(e.is_modify_mod_scale),null!=e.mod_scale&&Object.hasOwnProperty.call(e,"mod_scale")&&t.uint32(194).string(e.mod_scale),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_set_mod_action;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.action=e.uint32();break;case 2:o.mod_id=e.uint64();break;case 3:o.mod_type=e.uint32();break;case 4:o.mod_subtype=e.uint32();break;case 5:o.mod_seq=e.uint32();break;case 6:o.mod_title=e.string();break;case 7:o.mod_pos=e.string();break;case 8:o.mod_status=e.uint64();break;case 9:o.mod_content=e.string();break;case 10:o.mod_extra=e.string();break;case 11:o.mod_reserve=e.uint32();break;case 12:o.mod_create_time=e.int64();break;case 13:o.is_modify_mod_title=e.bool();break;case 14:o.is_modify_mod_pos=e.bool();break;case 15:o.is_modify_mod_status=e.bool();break;case 16:o.is_modify_mod_content=e.bool();break;case 17:o.is_modify_mod_extra=e.bool();break;case 18:o.is_modify_mod_reserve=e.bool();break;case 19:o.mod_horizontal_percent=e.float();break;case 20:o.mod_vertical_percent=e.float();break;case 21:o.is_modify_mod_horizontal_percent=e.bool();break;case 22:o.is_modify_mod_vertical_percent=e.bool();break;case 23:o.is_modify_mod_scale=e.bool();break;case 24:o.mod_scale=e.string();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_set_mod_action)return e;let t=new ee.proto_edu_tcpuplink.push_set_mod_action;return null!=e.action&&(t.action=e.action>>>0),null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.mod_type&&(t.mod_type=e.mod_type>>>0),null!=e.mod_subtype&&(t.mod_subtype=e.mod_subtype>>>0),null!=e.mod_seq&&(t.mod_seq=e.mod_seq>>>0),null!=e.mod_title&&(t.mod_title=String(e.mod_title)),null!=e.mod_pos&&(t.mod_pos=String(e.mod_pos)),null!=e.mod_status&&($.Long?(t.mod_status=$.Long.fromValue(e.mod_status)).unsigned=!0:"string"==typeof e.mod_status?t.mod_status=parseInt(e.mod_status,10):"number"==typeof e.mod_status?t.mod_status=e.mod_status:"object"==typeof e.mod_status&&(t.mod_status=new $.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0))),null!=e.mod_content&&(t.mod_content=String(e.mod_content)),null!=e.mod_extra&&(t.mod_extra=String(e.mod_extra)),null!=e.mod_reserve&&(t.mod_reserve=e.mod_reserve>>>0),null!=e.mod_create_time&&($.Long?(t.mod_create_time=$.Long.fromValue(e.mod_create_time)).unsigned=!1:"string"==typeof e.mod_create_time?t.mod_create_time=parseInt(e.mod_create_time,10):"number"==typeof e.mod_create_time?t.mod_create_time=e.mod_create_time:"object"==typeof e.mod_create_time&&(t.mod_create_time=new $.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber())),null!=e.is_modify_mod_title&&(t.is_modify_mod_title=Boolean(e.is_modify_mod_title)),null!=e.is_modify_mod_pos&&(t.is_modify_mod_pos=Boolean(e.is_modify_mod_pos)),null!=e.is_modify_mod_status&&(t.is_modify_mod_status=Boolean(e.is_modify_mod_status)),null!=e.is_modify_mod_content&&(t.is_modify_mod_content=Boolean(e.is_modify_mod_content)),null!=e.is_modify_mod_extra&&(t.is_modify_mod_extra=Boolean(e.is_modify_mod_extra)),null!=e.is_modify_mod_reserve&&(t.is_modify_mod_reserve=Boolean(e.is_modify_mod_reserve)),null!=e.mod_horizontal_percent&&(t.mod_horizontal_percent=Number(e.mod_horizontal_percent)),null!=e.mod_vertical_percent&&(t.mod_vertical_percent=Number(e.mod_vertical_percent)),null!=e.is_modify_mod_horizontal_percent&&(t.is_modify_mod_horizontal_percent=Boolean(e.is_modify_mod_horizontal_percent)),null!=e.is_modify_mod_vertical_percent&&(t.is_modify_mod_vertical_percent=Boolean(e.is_modify_mod_vertical_percent)),null!=e.is_modify_mod_scale&&(t.is_modify_mod_scale=Boolean(e.is_modify_mod_scale)),null!=e.mod_scale&&(t.mod_scale=String(e.mod_scale)),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if(r.action=0,$.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;if(r.mod_type=0,r.mod_subtype=0,r.mod_seq=0,r.mod_title="",r.mod_pos="",$.Long){let e=new $.Long(0,0,!0);r.mod_status=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_status=t.longs===String?"0":0;if(r.mod_content="",r.mod_extra="",r.mod_reserve=0,$.Long){let e=new $.Long(0,0,!1);r.mod_create_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_create_time=t.longs===String?"0":0;r.is_modify_mod_title=!1,r.is_modify_mod_pos=!1,r.is_modify_mod_status=!1,r.is_modify_mod_content=!1,r.is_modify_mod_extra=!1,r.is_modify_mod_reserve=!1,r.mod_horizontal_percent=0,r.mod_vertical_percent=0,r.is_modify_mod_horizontal_percent=!1,r.is_modify_mod_vertical_percent=!1,r.is_modify_mod_scale=!1,r.mod_scale=""}return null!=e.action&&e.hasOwnProperty("action")&&(r.action=e.action),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.mod_type&&e.hasOwnProperty("mod_type")&&(r.mod_type=e.mod_type),null!=e.mod_subtype&&e.hasOwnProperty("mod_subtype")&&(r.mod_subtype=e.mod_subtype),null!=e.mod_seq&&e.hasOwnProperty("mod_seq")&&(r.mod_seq=e.mod_seq),null!=e.mod_title&&e.hasOwnProperty("mod_title")&&(r.mod_title=e.mod_title),null!=e.mod_pos&&e.hasOwnProperty("mod_pos")&&(r.mod_pos=e.mod_pos),null!=e.mod_status&&e.hasOwnProperty("mod_status")&&("number"==typeof e.mod_status?r.mod_status=t.longs===String?String(e.mod_status):e.mod_status:r.mod_status=t.longs===String?$.Long.prototype.toString.call(e.mod_status):t.longs===Number?new $.LongBits(e.mod_status.low>>>0,e.mod_status.high>>>0).toNumber(!0):e.mod_status),null!=e.mod_content&&e.hasOwnProperty("mod_content")&&(r.mod_content=e.mod_content),null!=e.mod_extra&&e.hasOwnProperty("mod_extra")&&(r.mod_extra=e.mod_extra),null!=e.mod_reserve&&e.hasOwnProperty("mod_reserve")&&(r.mod_reserve=e.mod_reserve),null!=e.mod_create_time&&e.hasOwnProperty("mod_create_time")&&("number"==typeof e.mod_create_time?r.mod_create_time=t.longs===String?String(e.mod_create_time):e.mod_create_time:r.mod_create_time=t.longs===String?$.Long.prototype.toString.call(e.mod_create_time):t.longs===Number?new $.LongBits(e.mod_create_time.low>>>0,e.mod_create_time.high>>>0).toNumber():e.mod_create_time),null!=e.is_modify_mod_title&&e.hasOwnProperty("is_modify_mod_title")&&(r.is_modify_mod_title=e.is_modify_mod_title),null!=e.is_modify_mod_pos&&e.hasOwnProperty("is_modify_mod_pos")&&(r.is_modify_mod_pos=e.is_modify_mod_pos),null!=e.is_modify_mod_status&&e.hasOwnProperty("is_modify_mod_status")&&(r.is_modify_mod_status=e.is_modify_mod_status),null!=e.is_modify_mod_content&&e.hasOwnProperty("is_modify_mod_content")&&(r.is_modify_mod_content=e.is_modify_mod_content),null!=e.is_modify_mod_extra&&e.hasOwnProperty("is_modify_mod_extra")&&(r.is_modify_mod_extra=e.is_modify_mod_extra),null!=e.is_modify_mod_reserve&&e.hasOwnProperty("is_modify_mod_reserve")&&(r.is_modify_mod_reserve=e.is_modify_mod_reserve),null!=e.mod_horizontal_percent&&e.hasOwnProperty("mod_horizontal_percent")&&(r.mod_horizontal_percent=t.json&&!isFinite(e.mod_horizontal_percent)?String(e.mod_horizontal_percent):e.mod_horizontal_percent),null!=e.mod_vertical_percent&&e.hasOwnProperty("mod_vertical_percent")&&(r.mod_vertical_percent=t.json&&!isFinite(e.mod_vertical_percent)?String(e.mod_vertical_percent):e.mod_vertical_percent),null!=e.is_modify_mod_horizontal_percent&&e.hasOwnProperty("is_modify_mod_horizontal_percent")&&(r.is_modify_mod_horizontal_percent=e.is_modify_mod_horizontal_percent),null!=e.is_modify_mod_vertical_percent&&e.hasOwnProperty("is_modify_mod_vertical_percent")&&(r.is_modify_mod_vertical_percent=e.is_modify_mod_vertical_percent),null!=e.is_modify_mod_scale&&e.hasOwnProperty("is_modify_mod_scale")&&(r.is_modify_mod_scale=e.is_modify_mod_scale),null!=e.mod_scale&&e.hasOwnProperty("mod_scale")&&(r.mod_scale=e.mod_scale),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_draw_graphics=function(){function e(e){if(this.graphic_list=[],this.del_graphic_id_list=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.action_seq=0,e.prototype.graphic_list=$.emptyArray,e.prototype.del_graphic_id_list=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.action_seq&&Object.hasOwnProperty.call(e,"action_seq")&&t.uint32(16).uint32(e.action_seq),null!=e.graphic_list&&e.graphic_list.length)for(let r=0;r<e.graphic_list.length;++r)ee.proto_edu_tcpuplink.proto_graphic.encode(e.graphic_list[r],t.uint32(26).fork()).ldelim();if(null!=e.del_graphic_id_list&&e.del_graphic_id_list.length){t.uint32(34).fork();for(let r=0;r<e.del_graphic_id_list.length;++r)t.uint64(e.del_graphic_id_list[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_draw_graphics;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.mod_id=e.uint64();break;case 2:o.action_seq=e.uint32();break;case 3:o.graphic_list&&o.graphic_list.length||(o.graphic_list=[]),o.graphic_list.push(ee.proto_edu_tcpuplink.proto_graphic.decode(e,e.uint32()));break;case 4:if(o.del_graphic_id_list&&o.del_graphic_id_list.length||(o.del_graphic_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.del_graphic_id_list.push(e.uint64())}else o.del_graphic_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_draw_graphics)return e;let t=new ee.proto_edu_tcpuplink.push_draw_graphics;if(null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),e.graphic_list){if(!Array.isArray(e.graphic_list))throw TypeError(".proto_edu_tcpuplink.push_draw_graphics.graphic_list: array expected");t.graphic_list=[];for(let r=0;r<e.graphic_list.length;++r){if("object"!=typeof e.graphic_list[r])throw TypeError(".proto_edu_tcpuplink.push_draw_graphics.graphic_list: object expected");t.graphic_list[r]=ee.proto_edu_tcpuplink.proto_graphic.fromObject(e.graphic_list[r])}}if(e.del_graphic_id_list){if(!Array.isArray(e.del_graphic_id_list))throw TypeError(".proto_edu_tcpuplink.push_draw_graphics.del_graphic_id_list: array expected");t.del_graphic_id_list=[];for(let r=0;r<e.del_graphic_id_list.length;++r)$.Long?(t.del_graphic_id_list[r]=$.Long.fromValue(e.del_graphic_id_list[r])).unsigned=!0:"string"==typeof e.del_graphic_id_list[r]?t.del_graphic_id_list[r]=parseInt(e.del_graphic_id_list[r],10):"number"==typeof e.del_graphic_id_list[r]?t.del_graphic_id_list[r]=e.del_graphic_id_list[r]:"object"==typeof e.del_graphic_id_list[r]&&(t.del_graphic_id_list[r]=new $.LongBits(e.del_graphic_id_list[r].low>>>0,e.del_graphic_id_list[r].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.graphic_list=[],r.del_graphic_id_list=[]),t.defaults){if($.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;r.action_seq=0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(r.action_seq=e.action_seq),e.graphic_list&&e.graphic_list.length){r.graphic_list=[];for(let o=0;o<e.graphic_list.length;++o)r.graphic_list[o]=ee.proto_edu_tcpuplink.proto_graphic.toObject(e.graphic_list[o],t)}if(e.del_graphic_id_list&&e.del_graphic_id_list.length){r.del_graphic_id_list=[];for(let o=0;o<e.del_graphic_id_list.length;++o)"number"==typeof e.del_graphic_id_list[o]?r.del_graphic_id_list[o]=t.longs===String?String(e.del_graphic_id_list[o]):e.del_graphic_id_list[o]:r.del_graphic_id_list[o]=t.longs===String?$.Long.prototype.toString.call(e.del_graphic_id_list[o]):t.longs===Number?new $.LongBits(e.del_graphic_id_list[o].low>>>0,e.del_graphic_id_list[o].high>>>0).toNumber(!0):e.del_graphic_id_list[o]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_draw_page_graphics=function(){function e(e){if(this.page_graphics=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.page_graphics=$.emptyArray,e.prototype.timestamp=$.Long?$.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.page_graphics&&e.page_graphics.length)for(let r=0;r<e.page_graphics.length;++r)ee.proto_edu_tcpuplink.push_draw_graphics_info.encode(e.page_graphics[r],t.uint32(18).fork()).ldelim();return null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(24).uint64(e.timestamp),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_draw_page_graphics;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.mod_id=e.uint64();break;case 2:o.page_graphics&&o.page_graphics.length||(o.page_graphics=[]),o.page_graphics.push(ee.proto_edu_tcpuplink.push_draw_graphics_info.decode(e,e.uint32()));break;case 3:o.timestamp=e.uint64();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_draw_page_graphics)return e;let t=new ee.proto_edu_tcpuplink.push_draw_page_graphics;if(null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.page_graphics){if(!Array.isArray(e.page_graphics))throw TypeError(".proto_edu_tcpuplink.push_draw_page_graphics.page_graphics: array expected");t.page_graphics=[];for(let r=0;r<e.page_graphics.length;++r){if("object"!=typeof e.page_graphics[r])throw TypeError(".proto_edu_tcpuplink.push_draw_page_graphics.page_graphics: object expected");t.page_graphics[r]=ee.proto_edu_tcpuplink.push_draw_graphics_info.fromObject(e.page_graphics[r])}}return null!=e.timestamp&&($.Long?(t.timestamp=$.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new $.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.page_graphics=[]),t.defaults){if($.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;if($.Long){let e=new $.Long(0,0,!0);r.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.timestamp=t.longs===String?"0":0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.page_graphics&&e.page_graphics.length){r.page_graphics=[];for(let o=0;o<e.page_graphics.length;++o)r.page_graphics[o]=ee.proto_edu_tcpuplink.push_draw_graphics_info.toObject(e.page_graphics[o],t)}return null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?r.timestamp=t.longs===String?String(e.timestamp):e.timestamp:r.timestamp=t.longs===String?$.Long.prototype.toString.call(e.timestamp):t.longs===Number?new $.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_draw_graphics_info=function(){function e(e){if(this.graphic_list=[],this.del_graphic_id_list=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page=0,e.prototype.action_seq=0,e.prototype.graphic_list=$.emptyArray,e.prototype.del_graphic_id_list=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.page&&Object.hasOwnProperty.call(e,"page")&&t.uint32(8).uint32(e.page),null!=e.action_seq&&Object.hasOwnProperty.call(e,"action_seq")&&t.uint32(16).uint32(e.action_seq),null!=e.graphic_list&&e.graphic_list.length)for(let r=0;r<e.graphic_list.length;++r)ee.proto_edu_tcpuplink.proto_graphic.encode(e.graphic_list[r],t.uint32(26).fork()).ldelim();if(null!=e.del_graphic_id_list&&e.del_graphic_id_list.length){t.uint32(34).fork();for(let r=0;r<e.del_graphic_id_list.length;++r)t.uint64(e.del_graphic_id_list[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_draw_graphics_info;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.page=e.uint32();break;case 2:o.action_seq=e.uint32();break;case 3:o.graphic_list&&o.graphic_list.length||(o.graphic_list=[]),o.graphic_list.push(ee.proto_edu_tcpuplink.proto_graphic.decode(e,e.uint32()));break;case 4:if(o.del_graphic_id_list&&o.del_graphic_id_list.length||(o.del_graphic_id_list=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.del_graphic_id_list.push(e.uint64())}else o.del_graphic_id_list.push(e.uint64());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_draw_graphics_info)return e;let t=new ee.proto_edu_tcpuplink.push_draw_graphics_info;if(null!=e.page&&(t.page=e.page>>>0),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),e.graphic_list){if(!Array.isArray(e.graphic_list))throw TypeError(".proto_edu_tcpuplink.push_draw_graphics_info.graphic_list: array expected");t.graphic_list=[];for(let r=0;r<e.graphic_list.length;++r){if("object"!=typeof e.graphic_list[r])throw TypeError(".proto_edu_tcpuplink.push_draw_graphics_info.graphic_list: object expected");t.graphic_list[r]=ee.proto_edu_tcpuplink.proto_graphic.fromObject(e.graphic_list[r])}}if(e.del_graphic_id_list){if(!Array.isArray(e.del_graphic_id_list))throw TypeError(".proto_edu_tcpuplink.push_draw_graphics_info.del_graphic_id_list: array expected");t.del_graphic_id_list=[];for(let r=0;r<e.del_graphic_id_list.length;++r)$.Long?(t.del_graphic_id_list[r]=$.Long.fromValue(e.del_graphic_id_list[r])).unsigned=!0:"string"==typeof e.del_graphic_id_list[r]?t.del_graphic_id_list[r]=parseInt(e.del_graphic_id_list[r],10):"number"==typeof e.del_graphic_id_list[r]?t.del_graphic_id_list[r]=e.del_graphic_id_list[r]:"object"==typeof e.del_graphic_id_list[r]&&(t.del_graphic_id_list[r]=new $.LongBits(e.del_graphic_id_list[r].low>>>0,e.del_graphic_id_list[r].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.graphic_list=[],r.del_graphic_id_list=[]),t.defaults&&(r.page=0,r.action_seq=0),null!=e.page&&e.hasOwnProperty("page")&&(r.page=e.page),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(r.action_seq=e.action_seq),e.graphic_list&&e.graphic_list.length){r.graphic_list=[];for(let o=0;o<e.graphic_list.length;++o)r.graphic_list[o]=ee.proto_edu_tcpuplink.proto_graphic.toObject(e.graphic_list[o],t)}if(e.del_graphic_id_list&&e.del_graphic_id_list.length){r.del_graphic_id_list=[];for(let o=0;o<e.del_graphic_id_list.length;++o)"number"==typeof e.del_graphic_id_list[o]?r.del_graphic_id_list[o]=t.longs===String?String(e.del_graphic_id_list[o]):e.del_graphic_id_list[o]:r.del_graphic_id_list[o]=t.longs===String?$.Long.prototype.toString.call(e.del_graphic_id_list[o]):t.longs===Number?new $.LongBits(e.del_graphic_id_list[o].low>>>0,e.del_graphic_id_list[o].high>>>0).toNumber(!0):e.del_graphic_id_list[o]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_clear_graphics=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.action_seq=0,e.prototype.id_name="",e.prototype.nick_name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.action_seq&&Object.hasOwnProperty.call(e,"action_seq")&&t.uint32(16).uint32(e.action_seq),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(26).string(e.id_name),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(34).string(e.nick_name),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_clear_graphics;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.mod_id=e.uint64();break;case 2:o.action_seq=e.uint32();break;case 3:o.id_name=e.string();break;case 4:o.nick_name=e.string();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_clear_graphics)return e;let t=new ee.proto_edu_tcpuplink.push_clear_graphics;return null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),null!=e.action_seq&&(t.action_seq=e.action_seq>>>0),null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults){if($.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;r.action_seq=0,r.id_name="",r.nick_name=""}return null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),null!=e.action_seq&&e.hasOwnProperty("action_seq")&&(r.action_seq=e.action_seq),null!=e.id_name&&e.hasOwnProperty("id_name")&&(r.id_name=e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(r.nick_name=e.nick_name),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_clear_page_graphics=function(){function e(e){if(this.pages=[],this.action_seqs=[],this.layers=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.mod_id=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.pages=$.emptyArray,e.prototype.action_seqs=$.emptyArray,e.prototype.id_name="",e.prototype.nick_name="",e.prototype.timestamp=$.Long?$.Long.fromBits(0,0,!0):0,e.prototype.layers=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint64(e.mod_id),null!=e.pages&&e.pages.length){t.uint32(18).fork();for(let r=0;r<e.pages.length;++r)t.uint32(e.pages[r]);t.ldelim()}if(null!=e.action_seqs&&e.action_seqs.length){t.uint32(26).fork();for(let r=0;r<e.action_seqs.length;++r)t.uint32(e.action_seqs[r]);t.ldelim()}if(null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(34).string(e.id_name),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(42).string(e.nick_name),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(48).uint64(e.timestamp),null!=e.layers&&e.layers.length){t.uint32(58).fork();for(let r=0;r<e.layers.length;++r)t.uint32(e.layers[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_clear_page_graphics;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.mod_id=e.uint64();break;case 2:if(o.pages&&o.pages.length||(o.pages=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.pages.push(e.uint32())}else o.pages.push(e.uint32());break;case 3:if(o.action_seqs&&o.action_seqs.length||(o.action_seqs=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.action_seqs.push(e.uint32())}else o.action_seqs.push(e.uint32());break;case 4:o.id_name=e.string();break;case 5:o.nick_name=e.string();break;case 6:o.timestamp=e.uint64();break;case 7:if(o.layers&&o.layers.length||(o.layers=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.layers.push(e.uint32())}else o.layers.push(e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_clear_page_graphics)return e;let t=new ee.proto_edu_tcpuplink.push_clear_page_graphics;if(null!=e.mod_id&&($.Long?(t.mod_id=$.Long.fromValue(e.mod_id)).unsigned=!0:"string"==typeof e.mod_id?t.mod_id=parseInt(e.mod_id,10):"number"==typeof e.mod_id?t.mod_id=e.mod_id:"object"==typeof e.mod_id&&(t.mod_id=new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0))),e.pages){if(!Array.isArray(e.pages))throw TypeError(".proto_edu_tcpuplink.push_clear_page_graphics.pages: array expected");t.pages=[];for(let r=0;r<e.pages.length;++r)t.pages[r]=e.pages[r]>>>0}if(e.action_seqs){if(!Array.isArray(e.action_seqs))throw TypeError(".proto_edu_tcpuplink.push_clear_page_graphics.action_seqs: array expected");t.action_seqs=[];for(let r=0;r<e.action_seqs.length;++r)t.action_seqs[r]=e.action_seqs[r]>>>0}if(null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.timestamp&&($.Long?(t.timestamp=$.Long.fromValue(e.timestamp)).unsigned=!0:"string"==typeof e.timestamp?t.timestamp=parseInt(e.timestamp,10):"number"==typeof e.timestamp?t.timestamp=e.timestamp:"object"==typeof e.timestamp&&(t.timestamp=new $.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0))),e.layers){if(!Array.isArray(e.layers))throw TypeError(".proto_edu_tcpuplink.push_clear_page_graphics.layers: array expected");t.layers=[];for(let r=0;r<e.layers.length;++r)t.layers[r]=e.layers[r]>>>0}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.pages=[],r.action_seqs=[],r.layers=[]),t.defaults){if($.Long){let e=new $.Long(0,0,!0);r.mod_id=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.mod_id=t.longs===String?"0":0;if(r.id_name="",r.nick_name="",$.Long){let e=new $.Long(0,0,!0);r.timestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.timestamp=t.longs===String?"0":0}if(null!=e.mod_id&&e.hasOwnProperty("mod_id")&&("number"==typeof e.mod_id?r.mod_id=t.longs===String?String(e.mod_id):e.mod_id:r.mod_id=t.longs===String?$.Long.prototype.toString.call(e.mod_id):t.longs===Number?new $.LongBits(e.mod_id.low>>>0,e.mod_id.high>>>0).toNumber(!0):e.mod_id),e.pages&&e.pages.length){r.pages=[];for(let t=0;t<e.pages.length;++t)r.pages[t]=e.pages[t]}if(e.action_seqs&&e.action_seqs.length){r.action_seqs=[];for(let t=0;t<e.action_seqs.length;++t)r.action_seqs[t]=e.action_seqs[t]}if(null!=e.id_name&&e.hasOwnProperty("id_name")&&(r.id_name=e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(r.nick_name=e.nick_name),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&("number"==typeof e.timestamp?r.timestamp=t.longs===String?String(e.timestamp):e.timestamp:r.timestamp=t.longs===String?$.Long.prototype.toString.call(e.timestamp):t.longs===Number?new $.LongBits(e.timestamp.low>>>0,e.timestamp.high>>>0).toNumber(!0):e.timestamp),e.layers&&e.layers.length){r.layers=[];for(let t=0;t<e.layers.length;++t)r.layers[t]=e.layers[t]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_qaa=function(){function e(e){if(this.qaa_data=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.room_id="",e.prototype.qaa_data=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.room_id&&Object.hasOwnProperty.call(e,"room_id")&&t.uint32(10).string(e.room_id),null!=e.qaa_data&&e.qaa_data.length)for(let r=0;r<e.qaa_data.length;++r)ee.proto_edu_tcpuplink.push_qaa_data.encode(e.qaa_data[r],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_qaa;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.room_id=e.string();break;case 2:o.qaa_data&&o.qaa_data.length||(o.qaa_data=[]),o.qaa_data.push(ee.proto_edu_tcpuplink.push_qaa_data.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_qaa)return e;let t=new ee.proto_edu_tcpuplink.push_qaa;if(null!=e.room_id&&(t.room_id=String(e.room_id)),e.qaa_data){if(!Array.isArray(e.qaa_data))throw TypeError(".proto_edu_tcpuplink.push_qaa.qaa_data: array expected");t.qaa_data=[];for(let r=0;r<e.qaa_data.length;++r){if("object"!=typeof e.qaa_data[r])throw TypeError(".proto_edu_tcpuplink.push_qaa.qaa_data: object expected");t.qaa_data[r]=ee.proto_edu_tcpuplink.push_qaa_data.fromObject(e.qaa_data[r])}}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.qaa_data=[]),t.defaults&&(r.room_id=""),null!=e.room_id&&e.hasOwnProperty("room_id")&&(r.room_id=e.room_id),e.qaa_data&&e.qaa_data.length){r.qaa_data=[];for(let o=0;o<e.qaa_data.length;++o)r.qaa_data[o]=ee.proto_edu_tcpuplink.push_qaa_data.toObject(e.qaa_data[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_qaa_data=function(){function e(e){if(e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.id_name="",e.prototype.nick_name="",e.prototype.role=0,e.prototype.qaa_id="",e.prototype.qaa_target_id="",e.prototype.qaa_category=0,e.prototype.qaa_content="",e.prototype.send_time=$.Long?$.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=K.create()),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(10).string(e.id_name),null!=e.nick_name&&Object.hasOwnProperty.call(e,"nick_name")&&t.uint32(18).string(e.nick_name),null!=e.role&&Object.hasOwnProperty.call(e,"role")&&t.uint32(24).uint32(e.role),null!=e.qaa_id&&Object.hasOwnProperty.call(e,"qaa_id")&&t.uint32(34).string(e.qaa_id),null!=e.qaa_target_id&&Object.hasOwnProperty.call(e,"qaa_target_id")&&t.uint32(42).string(e.qaa_target_id),null!=e.qaa_category&&Object.hasOwnProperty.call(e,"qaa_category")&&t.uint32(48).uint32(e.qaa_category),null!=e.qaa_content&&Object.hasOwnProperty.call(e,"qaa_content")&&t.uint32(58).string(e.qaa_content),null!=e.send_time&&Object.hasOwnProperty.call(e,"send_time")&&t.uint32(64).int64(e.send_time),t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_qaa_data;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.id_name=e.string();break;case 2:o.nick_name=e.string();break;case 3:o.role=e.uint32();break;case 4:o.qaa_id=e.string();break;case 5:o.qaa_target_id=e.string();break;case 6:o.qaa_category=e.uint32();break;case 7:o.qaa_content=e.string();break;case 8:o.send_time=e.int64();break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_qaa_data)return e;let t=new ee.proto_edu_tcpuplink.push_qaa_data;return null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.nick_name&&(t.nick_name=String(e.nick_name)),null!=e.role&&(t.role=e.role>>>0),null!=e.qaa_id&&(t.qaa_id=String(e.qaa_id)),null!=e.qaa_target_id&&(t.qaa_target_id=String(e.qaa_target_id)),null!=e.qaa_category&&(t.qaa_category=e.qaa_category>>>0),null!=e.qaa_content&&(t.qaa_content=String(e.qaa_content)),null!=e.send_time&&($.Long?(t.send_time=$.Long.fromValue(e.send_time)).unsigned=!1:"string"==typeof e.send_time?t.send_time=parseInt(e.send_time,10):"number"==typeof e.send_time?t.send_time=e.send_time:"object"==typeof e.send_time&&(t.send_time=new $.LongBits(e.send_time.low>>>0,e.send_time.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let r={};if(t.defaults)if(r.id_name="",r.nick_name="",r.role=0,r.qaa_id="",r.qaa_target_id="",r.qaa_category=0,r.qaa_content="",$.Long){let e=new $.Long(0,0,!1);r.send_time=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else r.send_time=t.longs===String?"0":0;return null!=e.id_name&&e.hasOwnProperty("id_name")&&(r.id_name=e.id_name),null!=e.nick_name&&e.hasOwnProperty("nick_name")&&(r.nick_name=e.nick_name),null!=e.role&&e.hasOwnProperty("role")&&(r.role=e.role),null!=e.qaa_id&&e.hasOwnProperty("qaa_id")&&(r.qaa_id=e.qaa_id),null!=e.qaa_target_id&&e.hasOwnProperty("qaa_target_id")&&(r.qaa_target_id=e.qaa_target_id),null!=e.qaa_category&&e.hasOwnProperty("qaa_category")&&(r.qaa_category=e.qaa_category),null!=e.qaa_content&&e.hasOwnProperty("qaa_content")&&(r.qaa_content=e.qaa_content),null!=e.send_time&&e.hasOwnProperty("send_time")&&("number"==typeof e.send_time?r.send_time=t.longs===String?String(e.send_time):e.send_time:r.send_time=t.longs===String?$.Long.prototype.toString.call(e.send_time):t.longs===Number?new $.LongBits(e.send_time.low>>>0,e.send_time.high>>>0).toNumber():e.send_time),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_user_auth=function(){function e(e){if(this.user_auth=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.user_auth=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.user_auth&&e.user_auth.length)for(let r=0;r<e.user_auth.length;++r)ee.proto_edu_tcpuplink.push_user_auth_data.encode(e.user_auth[r],t.uint32(10).fork()).ldelim();return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_user_auth;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.user_auth&&o.user_auth.length||(o.user_auth=[]),o.user_auth.push(ee.proto_edu_tcpuplink.push_user_auth_data.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_user_auth)return e;let t=new ee.proto_edu_tcpuplink.push_user_auth;if(e.user_auth){if(!Array.isArray(e.user_auth))throw TypeError(".proto_edu_tcpuplink.push_user_auth.user_auth: array expected");t.user_auth=[];for(let r=0;r<e.user_auth.length;++r){if("object"!=typeof e.user_auth[r])throw TypeError(".proto_edu_tcpuplink.push_user_auth.user_auth: object expected");t.user_auth[r]=ee.proto_edu_tcpuplink.push_user_auth_data.fromObject(e.user_auth[r])}}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.user_auth=[]),e.user_auth&&e.user_auth.length){r.user_auth=[];for(let o=0;o<e.user_auth.length;++o)r.user_auth[o]=ee.proto_edu_tcpuplink.push_user_auth_data.toObject(e.user_auth[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_user_auth_data=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.id_name="",e.prototype.auth_seq=0,e.prototype.module_auth=$.emptyArray,e.prototype.graphic_auth=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(10).string(e.id_name),null!=e.auth_seq&&Object.hasOwnProperty.call(e,"auth_seq")&&t.uint32(16).uint32(e.auth_seq),null!=e.module_auth&&e.module_auth.length){t.uint32(26).fork();for(let r=0;r<e.module_auth.length;++r)t.uint32(e.module_auth[r]);t.ldelim()}if(null!=e.graphic_auth&&e.graphic_auth.length){t.uint32(34).fork();for(let r=0;r<e.graphic_auth.length;++r)t.uint32(e.graphic_auth[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_user_auth_data;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.id_name=e.string();break;case 2:o.auth_seq=e.uint32();break;case 3:if(o.module_auth&&o.module_auth.length||(o.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.module_auth.push(e.uint32())}else o.module_auth.push(e.uint32());break;case 4:if(o.graphic_auth&&o.graphic_auth.length||(o.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.graphic_auth.push(e.uint32())}else o.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_user_auth_data)return e;let t=new ee.proto_edu_tcpuplink.push_user_auth_data;if(null!=e.id_name&&(t.id_name=String(e.id_name)),null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_tcpuplink.push_user_auth_data.module_auth: array expected");t.module_auth=[];for(let r=0;r<e.module_auth.length;++r)t.module_auth[r]=e.module_auth[r]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_tcpuplink.push_user_auth_data.graphic_auth: array expected");t.graphic_auth=[];for(let r=0;r<e.graphic_auth.length;++r)t.graphic_auth[r]=e.graphic_auth[r]>>>0}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.module_auth=[],r.graphic_auth=[]),t.defaults&&(r.id_name="",r.auth_seq=0),null!=e.id_name&&e.hasOwnProperty("id_name")&&(r.id_name=e.id_name),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(r.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){r.module_auth=[];for(let t=0;t<e.module_auth.length;++t)r.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){r.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)r.graphic_auth[t]=e.graphic_auth[t]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_room_auth=function(){function e(e){if(this.module_auth=[],this.graphic_auth=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.auth_seq=0,e.prototype.module_auth=$.emptyArray,e.prototype.graphic_auth=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.auth_seq&&Object.hasOwnProperty.call(e,"auth_seq")&&t.uint32(8).uint32(e.auth_seq),null!=e.module_auth&&e.module_auth.length){t.uint32(18).fork();for(let r=0;r<e.module_auth.length;++r)t.uint32(e.module_auth[r]);t.ldelim()}if(null!=e.graphic_auth&&e.graphic_auth.length){t.uint32(26).fork();for(let r=0;r<e.graphic_auth.length;++r)t.uint32(e.graphic_auth[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_room_auth;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.auth_seq=e.uint32();break;case 2:if(o.module_auth&&o.module_auth.length||(o.module_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.module_auth.push(e.uint32())}else o.module_auth.push(e.uint32());break;case 3:if(o.graphic_auth&&o.graphic_auth.length||(o.graphic_auth=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.graphic_auth.push(e.uint32())}else o.graphic_auth.push(e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_room_auth)return e;let t=new ee.proto_edu_tcpuplink.push_room_auth;if(null!=e.auth_seq&&(t.auth_seq=e.auth_seq>>>0),e.module_auth){if(!Array.isArray(e.module_auth))throw TypeError(".proto_edu_tcpuplink.push_room_auth.module_auth: array expected");t.module_auth=[];for(let r=0;r<e.module_auth.length;++r)t.module_auth[r]=e.module_auth[r]>>>0}if(e.graphic_auth){if(!Array.isArray(e.graphic_auth))throw TypeError(".proto_edu_tcpuplink.push_room_auth.graphic_auth: array expected");t.graphic_auth=[];for(let r=0;r<e.graphic_auth.length;++r)t.graphic_auth[r]=e.graphic_auth[r]>>>0}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.module_auth=[],r.graphic_auth=[]),t.defaults&&(r.auth_seq=0),null!=e.auth_seq&&e.hasOwnProperty("auth_seq")&&(r.auth_seq=e.auth_seq),e.module_auth&&e.module_auth.length){r.module_auth=[];for(let t=0;t<e.module_auth.length;++t)r.module_auth[t]=e.module_auth[t]}if(e.graphic_auth&&e.graphic_auth.length){r.graphic_auth=[];for(let t=0;t<e.graphic_auth.length;++t)r.graphic_auth[t]=e.graphic_auth[t]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.mod=function(){function e(e){if(this.graphic_ids=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.mod_id=0,e.prototype.graphic_ids=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.mod_id&&Object.hasOwnProperty.call(e,"mod_id")&&t.uint32(8).uint32(e.mod_id),null!=e.graphic_ids&&e.graphic_ids.length){t.uint32(18).fork();for(let r=0;r<e.graphic_ids.length;++r)t.uint32(e.graphic_ids[r]);t.ldelim()}return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.mod;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.mod_id=e.uint32();break;case 2:if(o.graphic_ids&&o.graphic_ids.length||(o.graphic_ids=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)o.graphic_ids.push(e.uint32())}else o.graphic_ids.push(e.uint32());break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.mod)return e;let t=new ee.proto_edu_tcpuplink.mod;if(null!=e.mod_id&&(t.mod_id=e.mod_id>>>0),e.graphic_ids){if(!Array.isArray(e.graphic_ids))throw TypeError(".proto_edu_tcpuplink.mod.graphic_ids: array expected");t.graphic_ids=[];for(let r=0;r<e.graphic_ids.length;++r)t.graphic_ids[r]=e.graphic_ids[r]>>>0}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.graphic_ids=[]),t.defaults&&(r.mod_id=0),null!=e.mod_id&&e.hasOwnProperty("mod_id")&&(r.mod_id=e.mod_id),e.graphic_ids&&e.graphic_ids.length){r.graphic_ids=[];for(let t=0;t<e.graphic_ids.length;++t)r.graphic_ids[t]=e.graphic_ids[t]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e.push_clear_user_graphic_list=function(){function e(e){if(this.mods=[],e)for(let t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.id_name="",e.prototype.mods=$.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=K.create()),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(10).string(e.id_name),null!=e.mods&&e.mods.length)for(let r=0;r<e.mods.length;++r)ee.proto_edu_tcpuplink.mod.encode(e.mods[r],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof Q||(e=Q.create(e));let r=void 0===t?e.len:e.pos+t,o=new ee.proto_edu_tcpuplink.push_clear_user_graphic_list;for(;e.pos<r;){let t=e.uint32();switch(t>>>3){case 1:o.id_name=e.string();break;case 2:o.mods&&o.mods.length||(o.mods=[]),o.mods.push(ee.proto_edu_tcpuplink.mod.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return o},e.fromObject=function(e){if(e instanceof ee.proto_edu_tcpuplink.push_clear_user_graphic_list)return e;let t=new ee.proto_edu_tcpuplink.push_clear_user_graphic_list;if(null!=e.id_name&&(t.id_name=String(e.id_name)),e.mods){if(!Array.isArray(e.mods))throw TypeError(".proto_edu_tcpuplink.push_clear_user_graphic_list.mods: array expected");t.mods=[];for(let r=0;r<e.mods.length;++r){if("object"!=typeof e.mods[r])throw TypeError(".proto_edu_tcpuplink.push_clear_user_graphic_list.mods: object expected");t.mods[r]=ee.proto_edu_tcpuplink.mod.fromObject(e.mods[r])}}return t},e.toObject=function(e,t){t||(t={});let r={};if((t.arrays||t.defaults)&&(r.mods=[]),t.defaults&&(r.id_name=""),null!=e.id_name&&e.hasOwnProperty("id_name")&&(r.id_name=e.id_name),e.mods&&e.mods.length){r.mods=[];for(let o=0;o<e.mods.length;++o)r.mods[o]=ee.proto_edu_tcpuplink.mod.toObject(e.mods[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,X.util.toJSONOptions)},e}(),e})();var te,re=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},oe=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},ie=function(){function e(){this.proto=ee,this.cmdReqMap={"/edu/sync":"proto_sync","/edu/get_room_auth":"proto_get_room_auth_req","/edu/get_user_auth":"proto_get_user_auth_req","/edu/create_mod":"proto_create_mod","/edu/destroy_mod":"proto_destroy_mod","/edu/get_mod":"proto_get_mod","/edu/get_mod_list":"proto_get_mod_list","/edu/modify_mod":"proto_modify_mod","/edu/get_page_graphics":"proto_get_page_graphics","/edu/clear_page_graphics":"proto_clear_page_graphics","/edu/draw_page_graphics":"proto_draw_page_graphics"},this.cmdRspMap={"/edu/sync_rsp":"proto_sync_rsp","/edu/get_room_auth_rsp":"proto_get_room_auth_rsp","/edu/get_user_auth_rsp":"proto_get_user_auth_rsp","/edu/create_mod_rsp":"proto_create_mod_rsp","/edu/destroy_mod_rsp":"proto_destroy_mod_rsp","/edu/get_mod_rsp":"proto_get_mod_rsp","/edu/get_mod_list_rsp":"proto_get_mod_list_rsp","/edu/modify_mod_rsp":"proto_modify_mod_rsp","/edu/get_page_graphics_rsp":"proto_get_page_graphics_rsp","/edu/clear_page_graphics_rsp":"proto_clear_page_graphics_rsp","/edu/draw_page_graphics_rsp":"proto_draw_page_graphics_rsp"},this.cmdPushMap={"/edu/push/set_mod":"push_set_mod","/edu/push/draw_page_graphics":"push_draw_page_graphics","/edu/push/clear_page_graphics":"push_clear_page_graphics","/edu/push/set_user_auth":"push_user_auth","/edu/push/set_room_auth":"push_room_auth","/edu/push/clear_user_graphic_list":"push_clear_user_graphic_list"},this.cmdMsg={reqHeader:"req_header",reqBody:"proto_biz_channel",reqBodyBody:"req",rspHeader:"rsp_header",rspBody:"proto_biz_channel_rsp",rspBodyBody:"rsp",pushHeader:"proto_push_header",pushBody:"proto_push_biz_channel",pushBodyBody:"proto_push_biz_hannel_req"}}return e.prototype.encodeMsg=function(e,t){return re(this,void 0,void 0,(function(){var r;return oe(this,(function(o){switch(o.label){case 0:this.formatEduBody(t),JSON.stringify(t),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.encode(this.proto.proto_edu_tcpuplink,this.cmdReqMap[e],t)];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2,r]}}))}))},e.prototype.decodeMsg=function(e,t){return re(this,void 0,void 0,(function(){var r,o,i,n,a;return oe(this,(function(s){switch(s.label){case 0:if("/sw/push"!==e.cmd)return[3,5];r=t.head.sub_cmd,o=t.msg_body,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.decodePushMsg(r,o)];case 2:return n=s.sent(),(a={sub_cmd:"",msg_body:{}}).sub_cmd=r,a.msg_body=this.mergePushBody(r,n),[2,a];case 3:return s.sent(),[3,4];case 4:return[3,10];case 5:return this.cmdRspMap[e.cmd]?[3,6]:[2];case 6:i=new Uint8Array(t),s.label=7;case 7:return s.trys.push([7,9,,10]),[4,this.decodeRspMsg(e,i,e.seq)];case 8:return n=s.sent(),[2,a=this.mergeRspBody(n,e.cmd)];case 9:return s.sent(),[3,10];case 10:return[2]}}))}))},e.prototype.checkSendLength=function(e,t){return re(this,void 0,void 0,(function(){var r,o;return oe(this,(function(i){switch(i.label){case 0:return this.formatEduBody(t),[4,this.encode(this.proto.proto_edu_tcpuplink,this.cmdReqMap[e],t)];case 1:return r=i.sent(),[2,(o=r.length)>5e3?o:0]}}))}))},e.prototype.createUnknownError=function(e,t){return{cmd:t,header:{seq:e,code:1,message:"unknown error"},body:{}}},e.prototype.formatEduBody=function(e){e.mod_id&&(e.mod_id=Y.a.fromString(e.mod_id,!0)),e.draw_pages&&e.draw_pages.forEach((function(e){e.draw_list.forEach((function(e){var t=e.graphic_id;t&&"string"==typeof t&&(e.graphic_id=Y.a.fromString(t,!0))}))}))},e.prototype.mergeModList=function(e){e&&e.forEach((function(t,r){e[r]=Object.assign({mod_seq:0,graphic_list_seq:0,sync_interval:0,mod_reserve:1,mod_horizontal_percent:0,mod_vertical_percent:0,mod_extra:"",mod_scale:JSON.stringify({scale:1,ofs_x:0,ofs_y:0})},t)}))},e.prototype.mergePageGraphics=function(e,t){e&&e.forEach((function(r,o){e[o]=r||0,t&&(t[o]=t[o]||0)}))},e.prototype.mergeGraphicList=function(e){e&&e.forEach((function(t,r){e[r]=Object.assign({action_seq:0,zorder:1,x:0,y:0,size:0,color:0,layer:0},t)}))},e.prototype.mergeRspBody=function(e,t){var r=this;switch(e.rsp_head.code=e.rsp_head.code||0,t){case"/edu/sync_rsp":return e=Object.assign({sync_interval:0,room_auth_seq:0,user_auth_seq:0,mod_list_seq:0},e);case"/edu/get_room_auth_rsp":case"/edu/get_user_auth_rsp":return e.auth_seq=e.auth_seq||0,e;case"/edu/create_mod_rsp":return e.mod_seq=e.mod_seq||0,e.mod_list_seq=e.mod_list_seq||0,e;case"/edu/destroy_mod_rsp":return e.mod_list_seq=e.mod_list_seq||0,e;case"/edu/get_mod_rsp":return this.mergeModList(e.mod_list),e;case"/edu/get_mod_list_rsp":return e.mod_list_seq=e.mod_list_seq||0,this.mergeModList(e.mod_list),e;case"/edu/modify_mod_rsp":return e.mod_seq=e.mod_seq||0,e.mod_list_seq=e.mod_list_seq||0,e;case"/edu/get_page_graphics_rsp":return e.pages&&e.pages.forEach((function(e){e.page=e.page||0,e.ret_graphic_list_seq=e.ret_graphic_list_seq||0,e.svr_graphic_list_seq=e.svr_graphic_list_seq||0,r.mergeGraphicList(e.graphic_list)})),e;case"/edu/clear_page_graphics_rsp":case"/edu/draw_page_graphics_rsp":return this.mergePageGraphics(e.pages,e.graphic_list_seqs),e}},e.prototype.mergePushBody=function(e,t){var r=this;switch(e){case"/edu/push/set_mod":return t.mod_list_seq=t.mod_list_seq||0,t.action_list&&t.action_list.forEach((function(e){e.is_modify_mod_extra&&(e.mod_extra=e.mod_extra||""),e.is_modify_mod_reserve&&(e.mod_reserve=e.mod_reserve||1),e.is_modify_mod_horizontal_percent&&(e.mod_horizontal_percent=e.mod_horizontal_percent||0),e.is_modify_mod_vertical_percent&&(e.mod_vertical_percent=e.mod_vertical_percent||0),e.is_modify_mod_scale&&(e.mod_scale=e.mod_scale||JSON.stringify({scale:1,ofs_x:0,ofs_y:0}))})),t;case"/edu/push/draw_page_graphics":return t.page_graphics&&t.page_graphics.forEach((function(e){e.page=e.page||0,e.action_seq=e.action_seq||0,r.mergeGraphicList(e.graphic_list)})),t;case"/edu/push/clear_page_graphics":return t.pages&&t.pages.forEach((function(e,r){t.pages[r]=e||0,t.action_seqs&&(t.action_seqs[r]=t.action_seqs[r]||0)})),t;case"/edu/push/set_user_auth":case"/edu/push/set_room_auth":return t.auth_seq=t.auth_seq||0,t;default:return t}},e.prototype.encode=function(e,t,r){return re(this,void 0,void 0,(function(){var o;return oe(this,(function(i){return[2,(o=e[t]).encode(o.create(r)).finish()]}))}))},e.prototype.decode=function(e,t,r){return re(this,void 0,void 0,(function(){var o;return oe(this,(function(i){return[2,(o=e[t]).toObject(o.decode(r),{default:!0,longs:String})]}))}))},e.prototype.decodeRspMsg=function(e,t,r){return re(this,void 0,void 0,(function(){var o,i;return oe(this,(function(n){switch(n.label){case 0:return i=e.cmd,[4,this.decode(this.proto.proto_edu_tcpuplink,this.cmdRspMap[i],t)];case 1:return(o=n.sent())||(o=this.createUnknownError(r,i)),[2,o]}}))}))},e.prototype.decodePushMsg=function(e,t){return re(this,void 0,void 0,(function(){var r;return oe(this,(function(o){switch(o.label){case 0:return r=this.cmdPushMap[e]||"",[4,this.decode(this.proto.proto_edu_tcpuplink,r,t)];case 1:return[2,o.sent()]}}))}))},e}(),ne=function(){function e(e){this.roomState="DISCONNECTED",this.pbReqCallbackMap={},this.isRegistedEvent=!1,this.timeoutNum=12e3,this.isSendPB=!0,this.timerMap={},this.zegoWebRTC=e.standarWebRTC,this.init()}return e.prototype.init=function(){this.zegoWebRTC.setDebugVerbose&&this.zegoWebRTC.setDebugVerbose(!1),this.isSendPB&&(this.eduProtobuf=new ie),this.zegoWebRTC.setSdkLoginRelateService&&this.zegoWebRTC.setSdkLoginRelateService(["edusvr"]),this.bindRoomStateUpdate()},e.prototype.bindRoomStateUpdate=function(){var e=this;this.zegoWebRTC._on("_roomStateUpdate",(function(t,r){var o;e.roomState=r,"CONNECTED"===r?(L.a.getInstance().initRoomInfo({roomID:t,logLevel:null===(o=e.zegoWebRTC.logger)||void 0===o?void 0:o.logLevel}),q.e.emit(q.c.RoomConnected)):"DISCONNECTED"===r&&q.e.emit(q.c.RoomDisConnected)}))},e.prototype.getSocket=function(){return this.zegoWebRTC.getSocket()},e.prototype.getState=function(){return this.zegoWebRTC.getState()},e.prototype.createJsonReqBody=function(e){return{header:{sdk_version:1,id_name:this.getUserID()},body:JSON.stringify(e)}},e.prototype.createPbReqBody=function(e){return e.req_head=this.zegoWebRTC.getReqHead(),e},e.prototype.sendJsonMessage=function(e,t,r){var o=this,i=this.zegoWebRTC.getHeader("biz_channel");(null==i?void 0:i.seq)&&!this.timerMap[i.seq]?this.timerMap[i.seq]=setTimeout((function(){r({header:{code:b.j.ZegoWhiteboardViewErrorNetworkTimeout}})}),this.timeoutNum):r({header:{code:b.j.ZegoWhiteboardViewErrorInternal}}),this.zegoWebRTC.sendMessage("biz_channel",{channel:"edu",cmd:e,req_body:JSON.stringify(this.createJsonReqBody(t))},(function(t,i,n){try{var a;a=o.rspSuccessHandle(t.body.rsp_body),L.a.getInstance().info(["WhiteBoard_Service"],"socket_response","cmd="+e+",body="+JSON.stringify(a)),r(a)}catch(e){}}),(function(t,i,n,a){try{var s;s=o.rspErrorHandle(t.body.rsp_body),L.a.getInstance().info(["WhiteBoard_Service"],"socket_response","cmd="+e+",body="+JSON.stringify(s)),r(s)}catch(e){}}))},e.prototype.sendPbMessage=function(e,t,r){var o=this;"DISCONNECTED"!==this.getRoomState()?this.eduProtobuf.encodeMsg(e,this.createPbReqBody(t)).then((function(t){o.reqSeq=o.zegoWebRTC.sendSwitchMessage(e,t),o.reqSeq?o.pbReqCallbackMap[o.reqSeq]=r:r({header:{code:b.j.ZegoWhiteboardViewErrorNetworkDisconnect}})})).catch((function(e){L.a.getInstance().error(["WhiteBoard_Service"],"socket_req",e)})):L.a.getInstance().warn(["WhiteBoard_Service"],"sendPbMessage","room state is DISCONNECTED")},e.prototype.handleSwitchResponse=function(e,t,r){var o=this,i=e.cmd,n=e.seq,a="/sw/push"===i;this.eduProtobuf.decodeMsg(e,t).then((function(e){var t;0===(a?1:null==e?void 0:e.rsp_head.code)?(L.a.getInstance().info(["WhiteBoard_Service"],"socket_response","cmd="+i+",body="+JSON.stringify(e)),o.pbReqCallbackMap[n]&&o.pbReqCallbackMap[n](e),delete o.pbReqCallbackMap[n],(null===(t=o.timerMap)||void 0===t?void 0:t[n])&&(clearTimeout(o.timerMap[n]),o.timerMap[n]=null,delete o.timerMap[n])):(L.a.getInstance().info(["WhiteBoard_Service"],"socket_push",JSON.stringify(e)),r(e))})).catch((function(e){L.a.getInstance().error(["WhiteBoard_Service"],"socket_response",e)}))},e.prototype.rspSuccessHandle=function(e){var t=JSON.parse(e);return t.body=t.body?JSON.parse(t.body):{},t},e.prototype.rspErrorHandle=function(e){var t=JSON.parse(e).header;return{header:{code:t.code,message:t.message}}},e.prototype.loginRoom=function(e,t,r,o){return this.zegoWebRTC.loginRoom(e,t,r,o)},e.prototype.login=function(e,t,r,o,i){return this.zegoWebRTC.login(e,t,r,o,i)},e.prototype.logoutRoom=function(e){q.e.emit(q.c.RoomDisConnected),this.zegoWebRTC.logoutRoom(e)},e.prototype.config=function(e){this.zegoWebRTC.config(e),this.zegoWebRTC.setSdkLoginRelateService&&this.zegoWebRTC.setSdkLoginRelateService(["edusvr"])},e.prototype.checkSendLength=function(e,t){var r=m.DrawPageGraphics,o=JSON.stringify({body:{channel:"edu",cmd:r,req_body:JSON.stringify(this.createJsonReqBody(e))}}).length;return o>(this.isSendPB?5e4:4800)&&t==b.a.Update||!this.isSendPB&&o>4800?Promise.resolve(o):this.isSendPB?this.eduProtobuf.checkSendLength(r,this.createPbReqBody(e)):Promise.resolve(0)},e.prototype.registerWbMessage=function(e){var t=this;this.zegoWebRTC.onSwitchMessage((function(r,o){return t.handleSwitchResponse(r,o,e)}))},e.prototype.queueWSCmdHandler=function(e,t){var r=this,o=new Promise((function(o){L.a.getInstance().info(["WhiteBoard_Service"],"socket_req","cmd="+e+",body="+JSON.stringify(t)),r.isSendPB?r.sendPbMessage(e,t,o):r.sendJsonMessage(e,t,o)})),i=new Promise((function(e){setTimeout((function(){r.reqSeq&&r.pbReqCallbackMap[r.reqSeq]&&(delete r.pbReqCallbackMap[r.reqSeq],e({rsp_head:{code:b.j.ZegoWhiteboardViewErrorNetworkTimeout}}))}),r.timeoutNum)}));return Promise.race([o,i])},e.prototype.getUserID=function(){return this.getState().idName},e.prototype.getRoomID=function(){return this.getState().roomid},e.prototype.getServerTimeOffset=function(){return this.getState().serverTimeOffset||0},e.prototype.getRoomState=function(){return this.roomState},e}(),ae=function(){function e(e){this.module=e}return e.prototype.actionListener=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];q.e.emit(e,t)},e.prototype.bindListener=function(e,t){q.e.on(e,t)},e.prototype.pushRemovedMod=function(e){this.module.pushRemovedMod(e)},e.prototype.pushAddMod=function(e){this.module.pushAddMod(e)},e.prototype.pushModifyMod=function(e){if(e){var t=e.mod_id,r=e.mod_seq,o=e.mod_title,n=e.mod_horizontal_percent,a=e.mod_vertical_percent,s=e.mod_reserve,c=e.mod_extra,u=e.mod_scale,l=e.is_modify_mod_vertical_percent,d=e.is_modify_mod_horizontal_percent,p=e.is_modify_mod_reserve,h=e.is_modify_mod_title,f=e.is_modify_mod_extra,g=e.is_modify_mod_scale;if(this.module.getMap(t))if(this.module.getModSendSwitch(t)){var _={whiteboardID:t,modSeq:r};this.module.updateMap(_),this.updateMapByModifyModOption(e,r,!0)}else{var m={mod_id:t};h&&Object.assign(m,{mod_title:o,is_modify_mod_title:h}),f&&Object.assign(m,{mod_extra:c,is_modify_mod_extra:f}),d&&Object.assign(m,{mod_horizontal_percent:n,is_modify_mod_horizontal_percent:d}),l&&Object.assign(m,{mod_vertical_percent:a,is_modify_mod_vertical_percent:l,mod_reserve:s,is_modify_mod_reserve:p}),p&&Object.assign(m,{mod_reserve:s,is_modify_mod_reserve:p}),g&&Object.assign(m,{mod_scale:u,is_modify_mod_scale:g}),this.module.updateModifyModTaskList({status:i.Pending,data:m,push:!0,pushModSeq:r})}}},e.prototype.updateMapByModifyModOption=function(e,t,r){var o,i=e.mod_id,n=e.mod_title,a=e.mod_horizontal_percent,s=e.mod_vertical_percent,c=e.mod_reserve,u=e.mod_scale,l=e.is_modify_mod_horizontal_percent,d=e.is_modify_mod_vertical_percent,p=e.is_modify_mod_reserve,h=e.is_modify_mod_title,f=e.is_modify_mod_extra,g=e.is_modify_mod_scale,_=this.module.decodeH5Extra(e.mod_extra),m=this.module.getMap(i),y={isPushScroll:!1,horizontalPercent:m.horizontalPercent,verticalPercent:m.verticalPercent,pptStep:m.pptStep};if(l){y.isPushScroll=!0,y.horizontalPercent=+a||0;var v={whiteboardID:i,horizontalPercent:y.horizontalPercent,modPropSeq:{mod_horizontal_percent:t}};this.module.updateMap(v)}if(d){y.isPushScroll=!0,y.verticalPercent=+s||0,y.pptStep=+c;var b={whiteboardID:i,verticalPercent:y.verticalPercent,pptStep:y.pptStep,modPropSeq:{mod_vertical_percent:t}};this.module.updateMap(b)}if(p){y.isPushScroll=!0,y.pptStep=+c;var w={whiteboardID:i,pptStep:y.pptStep,modPropSeq:{mod_reserve:t}};this.module.updateMap(w)}if(y.isPushScroll&&r&&(this.module.pushScrollHandle(i,y.horizontalPercent,y.verticalPercent,y.pptStep),this.module.updateMap({whiteboardID:i,modExtra:""}),o=e),h){var S={whiteboardID:i,name:n,modPropSeq:{mod_title:t}};this.module.updateMap(S)}if(f){var I={whiteboardID:i,modExtra:_,modPropSeq:{mod_extra:t}};if(r){var x=this.module.checkH5Extra(i,_,!0);x&&(this.module.pushExtraHandle(i,x),o=e)}this.module.updateMap(I)}if(g){var O=JSON.parse(u);I={whiteboardID:i,modScale:O,modPropSeq:{mod_scale:t}};r&&this.module.pushScaleHandle(i,O.scale,O.ofs_x,O.ofs_y),this.module.updateMap(I)}return o},e.prototype.parseGraphicsHandle=function(e){var t=this,r=e.page_graphics,o=e.mod_id,i=this.module.checkModInfo(o);if(i){var n=i.width,a={},s=[],c=[];return r.forEach((function(e){var r=e.del_graphic_id_list,o=e.graphic_list,i=e.action_seq,u=e.page;t.transGraphicList(c,o,n),r&&s.push.apply(s,r),a[u]=i})),{whiteboardID:o,graphicList:c=JSON.parse(JSON.stringify(c)),delGraphicIdList:s,graphicListSeqs:a}}},e.prototype.pushDrawPageGraphicsHandle=function(e){var t=e.whiteboardID,r=e.graphicListSeqs,o=e.graphicList,i=e.delGraphicIdList;this.module.updateMapByGraphicListSeqs(t,r),q.e.emit(q.c.PushDrawPageGraphics,t,o,i)},e.prototype.transGraphicList=function(e,t,r){var o=this;t&&t.length&&t.forEach((function(t){e.some((function(e){return e.graphic_id===t.graphic_id}))||(t.zorder>o.module.zorderSeq&&(o.module.zorderSeq=t.zorder),k(t,!0),o.module.setGraphicItem(t),A(t,r,!0),t.color=Object(v.u)(t.color,!0),e.push(t))}))},e.prototype.pushClearPageGraphicsHandle=function(e){this.module.pushClearPageGraphicsHandle(e)},e}(),se=(te=function(e,t){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}te(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),ce=function(e){function t(t){var r=e.call(this,"web")||this;return r.socket=new ne(t),r.module=new G(r.socket),r.graphic=new H(r.socket,r.module),window.zegoAddonLogger&&L.a.getInstance().updateLoggerHeader({WhiteBoard_VER:"2.3.0"}),r.init(),r}return se(t,e),t.prototype.init=function(){var e=this;q.e.on(q.c.RoomConnected,(function(){e.isPlayback||(e.module.reload(),q.e.emit(q.c.SuperRoomConnected))})),q.e.on(q.c.RoomDisConnected,(function(){q.e.emit(q.c.SuperDocsLogoutRoom),q.e.emit(q.c.SuperRoomDisConnected),e.isPlayback||e.module.unload()}))},t.prototype.setFileInfo=function(e){this.module.setFileInfo(e)},t.prototype.enablePlayback=function(){this.isPlayback=!0,this.socket.isSendPB=!1,this.execute=new ae(this.module)},t.prototype.loginRoom=function(e,t,r,o){var i={appID:0,userID:r.userID};return Object(L.b)(i,"WhiteBoard",{WhiteBoard_VER:"2.3.0"}),L.a.startTimingUpload(),L.a.getInstance().info(["WhiteBoard"],"API.loginRoom",JSON.stringify({roomID:e,user:r,config:o})),this.socket.loginRoom(e,t,r,o)},t.prototype.logoutRoom=function(e){return L.a.getInstance().info(["WhiteBoard"],"API.logoutRoom",JSON.stringify({roomID:e})),this.socket.logoutRoom(e)},t.prototype.login=function(e,t,r,o,i){return this.socket.login(e,t,r,o,i)},t.prototype.config=function(e){return this.socket.config(e)},t.prototype.getGraphicIsEndDraw=function(e){return this.graphic.getGraphicIsEndDraw(e)},t.prototype.updateToRemoteHandle=function(e,t,r,o){this.isPlayback?null==r||r():this.graphic.updateToRemoteHandle(e,t,r,o)},t.prototype.getModName=function(e){return this.module.getModName(e)},t.prototype.getCreateTime=function(e){return this.module.getCreateTime(e)},t.prototype.getRoomID=function(e){return this.module.getRoomID(e)},t.prototype.getUniqueID=function(e){return this.module.getUniqueID(e)},t.prototype.getUserID=function(){return this.socket.getUserID()},t.prototype.getRoomState=function(){return this.socket.getRoomState()},t.prototype.getPageCount=function(e){return this.module.getPageCount(e)},t.prototype.setSize=function(e,t,r){return this.module.setSize(e,t,r)},t.prototype.setViewSize=function(e,t,r){return this.module.setViewSize(e,t,r)},t.prototype.undo=function(e){},t.prototype.redo=function(e){},t.prototype.createMod=function(e,t){return this.module.createMod(e,t)},t.prototype.clearView=function(e,t){return this.graphic.clearView(e,t)},t.prototype.scroll=function(e,t,r,o,i){this.isPlayback||this.module.scroll(e,t,r,o,i)},t.prototype.scale=function(e,t,r,o){this.isPlayback||this.module.scale(e,t,r,o)},t.prototype.loadCurrentGraphics=function(e,t,r){this.isPlayback||this.module.loadCurrentGraphics(e,t,r)},t.prototype.getScrollPercent=function(e){return this.module.getScrollPercent(e)},t.prototype.getScale=function(e){return this.module.getScale(e)},t.prototype.getAspectRatio=function(e){return this.module.getAspectRatio(e)},t.prototype.getFileInfo=function(e){return this.module.getFileInfo(e)},t.prototype.uploadImage=function(e,t){return this.graphic.uploadImage(e,t)},t.prototype.createZorder=function(){return this.module.createZorder()},t.prototype.destroyMod=function(e){return this.module.destroyMod(e)},t.prototype.getModList=function(){return this.module.getModList()},t.prototype.getH5Extra=function(e){return this.module.getH5Extra(e)},t.prototype.appendH5Extra=function(e,t){this.isPlayback||this.module.appendH5Extra(e,t)},t.prototype.getUserAuth=function(){return this.module.getUserAuth()},t.prototype.enableHandwriting=function(){},t.prototype.isAppendPathLimit=function(e,t){return this.graphic.isAppendPathLimit(e,t)},t.prototype.reloadViewGraphics=function(e,t){this.module.reloadViewGraphics(e,t)},t.prototype.switchView=function(e){return this.module.switchView(e)},t.prototype.getCurrentActivitedView=function(){return this.module.getCurrentActivitedView()},t}((function(e){this.isElectron=!1,this.isPlayback=!1,this.isElectron="electron"===e}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));r(265),r(266),r(45),r(60),r(61),r(272),r(205),r(72),r(46),r(80),r(79);var o,i,n,a,s=r(271),c=(r(335),r(353),r(2)),u=r(17),l=r(26),d=r(63),p=Object(d.e)()?1.5:2*(window.devicePixelRatio||1),h="zego-docsview-zoom",f="zego-docsview-con",g="zego-docsview-render",_="zego-docsview-iframe",m="zego-whiteboard";!function(e){e[e.PDF=0]="PDF",e[e.PPT=1]="PPT",e[e.H5_PPT=2]="H5_PPT",e[e.H5_CUSTOM=3]="H5_CUSTOM"}(o||(o={})),function(e){e.Load="onDocsLoadPdf",e.GetPageImage="onDocsGetPDFPageImage",e.Uploading="onDocsUploading",e.Convert="onDocsConvertStatus",e.Downloading="onDocsDownloading",e.QueryCache="onDocsCachExist",e.CancelCache="onDocsCancelCache",e.DownloadCache="onDocsDownloadCache",e.LoadFile="docsLoad",e.Upload="docsUpload",e.UploadH5File="docsUploadH5File"}(i||(i={})),function(e){e.InitPlatform="initPlatform",e.GetAllPageStepCount="getAllPageStepCount",e.SetCustomizedConfig="setCustomizedConfig",e.GotoPage="gotoPage",e.PreviousStep="previousStep",e.NextStep="nextStep",e.TriggerElementsClick="triggerElementsClick",e.SnapshotForH5="snapshotForH5",e.StopPlay="stopPlay",e.SetVolume="setVolume",e.HideLoadingStyle="hideLoadingStyle"}(n||(n={})),function(e){e.Scale="scale",e.SyncDOMEvent="syncDOMEvent",e.PptOperationAuth="pptOperationAuth"}(a||(a={}));var y=function(){function e(){var e;this.isElectron=!1,this.store=((e={})[c.a.PptStepMode]=1,e[c.a.DisableH5ImageDrag]=!1,e[c.a.UnloadVideoSrc]=!1,e.multiDocsQueue=null,e.syncPPTH5Queue=null,e.syncQueueRuning=!1,e)}return e.prototype.setStore=function(e){return Object.assign(this.store,e),!0},e.prototype.getStore=function(){return this.store},e}(),v=(r(30),r(59),r(82),r(83),r(84),r(38),r(49),r(67),r(258),r(282),r(236),r(111),r(131),r(52),r(53),r(206),r(106),r(352),r(99),r(207),r(113),r(75),r(355),r(338),r(227),r(120),r(208),r(115),new Image);v.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAN90lEQVR4Xu1dC3BcVRn+/7tJ82ybNu8mezZt6qAoLx2dmm42TZPY2g74Qh3EQZ6KOoMoA47gW1EHfOCgIg8RcQYVEWRgoG0SQjbbUhwc0aK0hdLee7N59f3MY3fvcQ6kJU33ce9/d3Pv9p4z02mb/N/5z/m+797de+55IMjiaQbQ072XnQdpAI+bQBpAGsDjDHi8+/IOIA3gcQY83n15B5AG8DgDHu++vANIA3icAY93X94BpAE8zsCs7quq+jAi1iNijHMeB4CY+CP+LX528ueIGJ/+2Zt/K4oSTyQSGwOBwOZ8YlTeAWaopapqEBEHiAI+yRj7KBHrGEwaYAb1mqZFAGAlRQ1FUaoaGxv3U7BOYqQBptkfHBy8wjCMP1DE4JzfEQgEvk7BOo2RBphWQNO0IQCoJwjCGWMKAecKiDQAAKiq+j1E/DZRkasZY78nYh2Hed4AmqYtAYAoUYlXGWPnErGugHneALqu/5Fz/lmKGoZhtDQ1Nb1AwboFk9EA3f0D303VWEQMcM5Vt3TGajsWlpcH6qorr7SKE/ETk7Ht6tDQXyjYbGIyadDV1ppSP9GOjAboCUf6AGBV0kZzeBkQLsxmh+ayLn99LZQUFZFS7tIHIZEwSNisgjJo0BkKptXYswZYUF4GdVWVJC0OHD4C+w4eImGzDpIGoFHa7G8An89HAu/co5FwOQFJA1intbJiIYg/lDKybz8cOXacAs0NRhrAGq8FPh8s8zdYA01HT8VisCc6TMLmDCQNYI3a+upKmF9WZg00Ha0Pj8L45CQJmzOQCwzgkm9DmSkuKylZ2FBbfVHmyDMjxicm9uojY/+lYHOK4VCR7kksp08BPMHbu9pbn89pB7NYua7rL3DOV1CqnDdvXm1dXd0YBZtLTHffwCr0oXhUT1qkAaZp0TRNDPhQx+x/xBi7LZdCUuuWBjDJnKZp4uqtNhk+MyzGGJtHwM0JRBrABM2apv0QAKhX8FWMsYdMpHEkRBogA+0jIyM1U1NToxR1EHGb3+8/n4KdK4w0QAamdV1/hHN+GUUQznlrIBAQ08RcW6QB0kgTjUZbEokEaZYu5/yxQCDwSdcqP90waYA0Cmma9iIAfIAiYiKRqF+6dOkIBTuXGM8aoK+vrzzm812qcLwIEM/nnG/1+XDblKJsWNvSckBV1SsQkTTJEwBc+9g321yeNEBv/5YWUIz7OId3n3G1IQyBAbecsyxwF+e8inA1TjLGigk4RyCeM8CmcPhKBZS0Azp23vYZhnFNU1PTg46oSUjqKQM829fXVOgreAUAU77N8fkUaPY3Eqh8E/IfxtgFVLATOE8ZoCccuQMAbk5HdH11FcwvK6Vq0cYYC1PBTuA8ZoDNGwD4mlREFxcVAauvJemAiI/5/X7XP/Z5+ktgTzhyGAAWpFKY1ddBcRF52L6BMSZWB+VV8dYdYCDyL+DJZyHbmeSJiD/x+/3fyCvlvTgQ1B2O3IMA1ycTqpk1gk8hLdEbZ4yRvzQ4bRqP3QEG1gLHZ2eTbuexDxGv9fv9v3NaSGp+TxlAkNQbjtzDZ9wFxFUvrn5iybvHPk9/CTzZebFcDRG/I/5fV10JC4iTPBFxld/v7yeaxxUwz90BTrIuhoPLyopuXlJTTd2W5XHG2CdcoaKNRnjWAIKz4eHh6lgsRpqoaRjGLU1NTXfa4N4VUE8bQCig6/oqznnKWbHpVDIMY31TU9MzrlCS2AjPG0DwpmnalwHgVxQO4/F407Jly/J2ibs0wLTqmqb9BgC+SDDBMcbYfALOFRBpgBkyaJomvtGHCMq8yBgjLRgh5MoqRBpgFp2apu0DAMrC/wcZY9dkVZ05qEwaYBbJu3fvrvP5fNQlvDcxxn4+B7plLYU0QBIqVVXtQMQeIstrGWMbzWB7BgbWcgNFrtXAjRpAfreiKE+uDgZ3mMFnI0YaIAWLqqregIi/pJCsKIq/sbFxMBV2UySyROF4G3D+pWQxnMPlXW3BRyi5rWKkAdIwpqrqvYj4eaukAsBhxlhFMlxPf+TTgHA7ADSnqxcBr+oIrcz5kjJpgAzqqqoaQUTLG0Bzzl8IBAItM6vvDoevQ1DuM2soBLiuIxR8wGw8JU4awARrqqoeRMSkV3Q6OOf8gUAgcJ2I6QlHxFV/q4l0p4Xk+uNAGsCEIjt27GgoKSlJ+ZmewQRffU3VLwaA1SZSpQgxPtYZCv2djk+NlAYwyWo0Gu1KJBKbTIafFjY4OgYnxico0FMY5Limo20lKX+6xNIAFmQZHBy80TCMX1iAnAp9Q49CPJGgQE9hEgk8b037yldsVTILLA1gkU1d1+/nnF9rEQYJw4BdGulT5LRUvkSspL293d7tZEaN0gBWlXzrFfIWzvkHrULHJyZBHyHtNXEqFefweldb8B1Wc6eKlwYgMqlpWto1BqmqPXz0GIzuP0DM+haMA/9TV6j1M7YqmQZLAxBZjEaj/kQiQdr0d+zAQTh05Cgx8zQM8abO1pW23zuctQbYuHFjma+o/FzuM/Z3tba+YY/t5Ghd19dyzs+YZm4m1+DIGJyYsPdRrihw+eqgvSHjs84A3eHIjQj8KgA8tTkTB/gnIL+vq7XV9CicGRFFjKZpNwHAT83Gz4zbpUchYfPJADl2dLStfI6SX2DOGgP0hMPnAvhuB+CpZ/kiPAsJ+HHnqiD1cMekPG/fufPV0uLid1oVIRtPBgiwl4OxqjMU+p/V/GeNAfq2bFmeiPPHAfh55kjI3shab//ANzniD6gLS7PxZIAAm2MFyiViaxtz/X87Ku/vAL29mwO80HgcAN9rpfO+RGxRe3u7rY2qu/sHrkbEU8vClgf8oGDGQ1TOaOaho8dgzOaTAQD8rTMUvNQKB3l/BwiHw/VToHQDJNnrJzMTE52hYEnmsOQR3eEtaxCMpwCg8GREYUEBLG0Up8hZL2P7D8KhozafDADu7AwFb7GSPW/vAE/19VWVFhRu5Tz9e/V0ZCDC9o7W4LusEPbmVdPffx6iT4gfmI21s8NINp4MQIHrO4PBe832KS8N8MzWrQvmTcVfBQDa5XY6Oxs6Q8EPmyVsQzhcX8CVJwHh/bMxZaUl0FBD2U8aIBsDRNPtiYEB6ztXBcWdMWPJOwP09fUVJ3yFYieORRl7ZzKAc/hrV1vwU5nCX3rppcKDJyaeRoAPJYtdzhpBIewxYBgcXtf0TOlN/x4RtxtgrDcz/pFXBnj00Ud9lXVLjnIA8md3KhYReC8Av7UjFPpHsphN4XCHD5QbOMAlyX5fs3gRVCygrQ8ZGtsLx06MmxbYTCDn8ExXW3B9pti8MkBPOMIzdcjm748iwq8NQ3mkq61lm6jruYGB9xkcxa4iKd8Ain2FxGMgpRw9fgKG94qlCNkvCHB3Ryh4Q7qa88YAPeGIeI1Wk32aUtYoxvnFEHLyU09nwJoa6mFe4amHAUtNfE3VgfMc+hr5jZ2trSlnN+eFAbr7I9sQ4T2WmJ2j4MUVC6GKeobg3v1w5PgcnCGIysWdrS1PJ6PE9QboDW/u4cA75khPS2kKCwtgaQPtQeT4+DhER/daymcjeA+AsT7ZcLGrDdA7sJl8WIMNskxD/XW1UFKcH4dHI2Dv5LHD69etW3fawYWuNUDPwOa7gPOvmFZjjgMXzi+H2srFpKxi2FcM/8514cDv7wq1nrbQxZUGyNSouSZudj47x8dm4+WPnf7PPqsxE9eOnBuYqVF2CMgGdklNFZSX0vaG3D04BLF4PBvNINUhDUCi7W1QeWkJLCEO9+47eAgOHD5iswX24NIANvgTw7zLGpeQhnsnp2KgDlG3HbDR6FlQaQAbXNZULoaK+eWkGtShEZicmiJhswmSBiCyWVpSDI21tIFIcdsXt383FGkAogpiooeY8GG1iC984oufW4o0AEEJO7uJZ2WSB6HNqSDSABbJLCkqAj/xGBmx+EMsAnFTkQawqIYQX5jAasnGlG+rOc3ESwOYYWk6ZtGC+VC9mDbxKBeTPCw0PWVo3hggG521U0fl4ormqkULSfvzTMXjG3er0Z/YyZ9LbFd76/Mn68806urIUHAuO2+2bk3TngAAy2cJcM5j8Xi8urm5Wawedn2RBkgikaqqX0DE31LU45x/LhAIPEzBOoGRBpjFuq7ryznn/wYAytueJxhjH3dCSGpORw0AAA9xzl211z6rr/1ISXHxhRRC9wyN3DU5OZkXt/6T/UNEsbjlylT9zel3AODwMmDygxwpAtjFiMOjxCFSlJKVTR8oie1iMmjgGQOISR7imZ8y3Cs2ehAjfnlZpAHeks3Owg7xmle87s3LIg0AkO+TPGwZz+sGEJM8xGteyqnhE5NToA2P2OLfcbDXDVC1qAIWL0x5onxaffThURifPG2WteN6Wm7AHBkgebs4VACCYzMl5peVLqqvrrrAMmniQICjx/TR/Qd2UbCuwmTQoDMUbE/XXuv7obik92Kl8YoVK8SxMBnX/iVp8k7G2Dku6YqjzchbA2ia9i0A+D6FPURc5/f7SfsDUvK5GZOXBohGoy3xeLwPEecRyL2XMSaWi8sCAHlpAF3Xn+acZ9w8YbbCnPNRRVGW+v3+7O7mkMdWyjsDaJr2NQD4GZHzyxhjfyZiz0pY3hngrFTBwU5JAzhIvhtSSwO4QQUH2yAN4CD5bkgtDeAGFRxsgzSAg+S7IbU0gBtUcLAN0gAOku+G1NIAblDBwTZIAzhIvhtSSwO4QQUH2yAN4CD5bkgtDeAGFRxsgzSAg+S7IbU0gBtUcLAN0gAOku+G1P8HXF8j+YvhwMkAAAAASUVORK5CYII=";var b=r(5),w=r(1);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I,x=function(){return(x=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},O=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},E=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},P=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<r;t++)for(var n=arguments[t],a=0,s=n.length;a<s;a++,i++)o[i]=n[a];return o},k=function(){function e(e,t,r){var n=this;this.parent="",this.id="",this.wbId="",this.urlObject="",this.canvasArray=[],this.renderMode=o.PDF,this.isTouch="ontouchstart"in window||navigator.maxTouchPoints>0,this.viewInfo={ticking:!1,percent:0,total:1,sheet:0,sheetName:"",parentWidth:0,parentHeight:0,width:0,height:0,viewWidth:0,viewHeight:0,rate:1,canvasMaxPage:5,scrollTop:0,scrollLeft:0,lastTime:0,lastTimeId:0,scrollTimeId:0,isParentScale:!1,fillPPT:!1,h5CDNUsedMap:{},imgInfo:{isSmall:!1,isScale:!1,width:0,height:0,min_w:640,min_h:400},firstInfo:{page:0,step:0,h5Extra:"",loadedFile:!1,scrollTop:0},maxSteps:{},isClearCanvas:!1,filePageSize:void 0},this.zoomInfo={zoom:1,x:0,y:0,tx:0,ty:0,isDrag:!1,enableScroll:!0,remoteScroll:!0,dragRectTop:0,dragRectBottom:0},this.ppth5Info={page:1,step:1,scene:0,targetPage:0,targetStep:0,lastStep:-1,goPage:0,goStep:0,notify:!0,loaded:!1,scale:1,goTimer:0,syncTimer:0,pageChangeTimer:0,p:"",loadRetryTimer:0},this.fileInfo={},this.vpageImgCache={},this.vpageAspecCache={},this.vpageDrawImgCache={},this.domEventListeners=null,this.loadFileListenerMap={},this.loadFileCallback=function(){var e=n.getLoadFileModelForCallback();n.loadFileListenerMap[e.fileID]&&"function"==typeof n.loadFileListenerMap[e.fileID]?n.loadFileListenerMap[e.fileID](e):b.e.emit(b.a.LoadFile,e),w.a.getInstance().info(["DocsView_View"],"loadFileCallback")},this.reloadViewCallback=function(){var e={action:l.b.ReloadView,data:n.getLoadFileModelForCallback()};if(n.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:e})),n.renderMode===o.PDF){var t=n.zoomInfo.zoom,r=n.viewInfo.scrollLeft*t|0,i=n.viewInfo.scrollTop*t|0;n.docDom.scrollTo(r,i),n.renderDom.scrollTo(r,i),clearTimeout(n.viewInfo.scrollTimeId),n.viewInfo.scrollTimeId=window.setTimeout((function(){n.viewInfo.ticking=!1}),34)}else n.setDocsViewDomTransform(n.zoomInfo.tx,n.zoomInfo.ty);w.a.getInstance().info(["DocsView_View"],"reloadViewCallback")},this.handleWhiteboardEvent=function(e){var t=e&&e.detail,r=t.action;if(w.a.getInstance().info(["DocsView_View"],l.a.Whiteboard,JSON.stringify({data:t})),r===l.b.Page)n.handleWhiteboardPageEvent(t);else if(r===l.b.WbScale){var o=t,i=o.scale,a=o.x,s=o.y,c=o.notify;n.handleSetScaleFactor(i,a,s,c)}else r===l.b.WbDragTool?n.handleWhiteboardDragToolEvent(t):r===l.b.WbInit?n.handleWhiteboardInitEvent(t):r===l.b.Animation?n.handleWhiteboardAnimationEvent(t):r===l.b.WbDestroy?n.unloadFile():r===l.b.Snapshot?n.docsSnapshot(t):r===l.b.ReloadView?n.reloadView():r==l.b.WbSwitch?n.reloadCanvas():r==l.b.ClearEvent&&window.removeEventListener("message",n.handleIframeMessage)},this.handleIframeMessage=function(e){var t=e.data;if(t&&"zegodocsview"===t.source){var r=t.action,o=t.res,i=t.hash;if(!i||i==="#"+n.id)if("syncDOMEvent"!==r&&"getH5SnapshotResult"!==r&&w.a.getInstance().info(["DocsView_View"],"h5_iframe",JSON.stringify({data:t})),w.a.getInstance().info(["DocsView_View"],"h5_iframe",JSON.stringify({action:r,res:o})),"syncCurrentPage"===r)n.syncCurrentPage(o);else if("syncCurrentStep"===r&&n.ppth5Info.loaded)n.syncCurrentStep(o);else if("syncCurrentPageStep"===r)n.syncCurrentPageStep(o);else if("syncCurrentElement"===r)n.syncCurrentElement(o);else if("syncDOMEvent"===r&&n.domEventListeners){var a=n.domEventListeners[o.type];a&&a(o)}else"syncCurrentError"===r?n.syncCurrentError(o):"onload"===r?n.initIframe():"didLoadFinish"===r?n.ppth5Info.loadRetryTimer&&clearTimeout(n.ppth5Info.loadRetryTimer):"getAllPageStepCount"===r?n.viewInfo.maxSteps=Object.freeze(JSON.parse(o)):"getH5SnapshotResult"===r&&n.getH5SnapshotResult(o)}},this.handleScrollEvent=function(e){n.zoomInfo.enableScroll&&!n.viewInfo.ticking&&(requestAnimationFrame((function(){n.ppth5Info.notify=!0;var t=n.zoomInfo,r=t.zoom,o=t.dragRectTop,i=t.dragRectBottom,a=e.target,s=Math.ceil(a.scrollTop),c=Math.ceil(a.scrollLeft),u=Math.ceil(s/r),l=Math.ceil(c/r),d=Math.ceil(s-n.viewInfo.percent*n.viewInfo.height*r);l!==n.viewInfo.scrollLeft?(n.viewInfo.scrollLeft=l,n.renderDom.scrollLeft=c,n.postSyncDragMessage(c,d)):u!==n.viewInfo.scrollTop&&(n.renderDom.scrollTop=s,1==r||s<o||s>i?(n.updateCurViewMax(s,r),n.onScrollCallback(c,s)):n.postSyncDragMessage(c,d),n.viewInfo.scrollTop=u),n.viewInfo.ticking=!1})),n.viewInfo.ticking=!0)},this.handleDragStart=function(e){n.zoomInfo.x=n.zoomInfo.y=0;var t=n.zoomInfo,r=t.isDrag,i=t.enableScroll,a=t.zoom;if(r){if(!i&&1===a)return;var s=e instanceof MouseEvent?e:e.changedTouches[0],c=s.clientX,u=s.clientY;if(n.renderMode===o.PDF){var l=n.docDom.getBoundingClientRect(),d=l.bottom;if(c>l.right-15||u>d-15)return;n.zoomInfo.tx=n.docDom.scrollLeft||n.viewInfo.scrollLeft*a,n.zoomInfo.ty=n.docDom.scrollTop||n.viewInfo.scrollTop*a}(a>1||n.viewInfo.height>n.viewInfo.viewHeight)&&(n.zoomInfo.x=c,n.zoomInfo.y=u)}},this.handleDragMove=function(e,t){if(n.zoomInfo.isDrag&&n.zoomInfo.x){if(e instanceof MouseEvent&&!t&&e.buttons<1)return;"touchmove"===e.type&&e.preventDefault(),n.ppth5Info.notify=!0,n.renderMode===o.PDF?n.dragPDF(e,!!t):n.dragPPT(e,!!t)}},this.handleDragEnd=function(e){n.handleDragMove(e,!0)},this.serviceHandle=e,this.id=t,this.setSheet(r),this.serviceHandle.registerEventHandler(this.id,i.Load,(function(e){n.viewInfo.firstInfo.loadedFile=!0,n.tranlateFileAspec(e),Object.assign(n.fileInfo,e),n.checkRenderType(),n.loadCurrentSheet(!0)}))}return e.prototype.clearCanvasCache=function(){if(this.getFileType()==c.c.ZegoDocsViewFileTypeIMG){for(var e=0,t=this.canvasArray.length;e<t;e++)this.canvasArray[e].width=this.canvasArray[e].height=0;this.viewInfo.isClearCanvas=!0}},e.prototype.reloadCanvas=function(){return O(this,void 0,void 0,(function(){return E(this,(function(e){switch(e.label){case 0:return this.viewInfo.isClearCanvas?[4,this.drawImg("",this.canvasArray[0])]:[3,2];case 1:e.sent(),this.viewInfo.isClearCanvas=!1,e.label=2;case 2:return[2]}}))}))},e.prototype.getCanvasSize=function(){var e;return(null===(e=this.canvasArray)||void 0===e?void 0:e[0])?this.canvasArray[0].width*this.canvasArray[0].height:0},e.prototype.unload=function(){for(var e=0,t=this.canvasArray.length;e<t;e++)this.canvasArray[e].width=this.canvasArray[e].height=0;URL.revokeObjectURL(this.urlObject),this.urlObject=null,this.docDom=null,this.renderDom=null,this.iframeDom=null,this.loadingDom=null,this.canvasArray=null,this.fileInfo=null,this.vpageImgCache=null,this.vpageDrawImgCache=null,this.domEventListeners=null,this.loadFileListener=null,this.serviceHandle.removeEventHandler(this.id)},e.prototype.setParentWidthHeight=function(){var e=document.getElementById(this.parent);e.style.cssText+="position:relative;display:inherit!important;";var t=e.clientWidth,r=e.clientHeight;if(t<=0||r<=0)throw b.e.emit(b.b.Error,Object(u.b)(c.b.ZegoDocsViewErrorSizeInvalid)),new Error("无法获取容器宽高");w.a.getInstance().info(["DocsView_View"],"setParentWidthHeight",JSON.stringify({clientWidth:t,clientHeight:r})),this.viewInfo.parentWidth=t,this.viewInfo.parentHeight=r},e.prototype.setDocsViewDomOverflow=function(){var e=this.zoomInfo,t=e.zoom,r=e.enableScroll;if(w.a.getInstance().info(["DocsView_View"],"setDocsViewDomOverflow",JSON.stringify({zoom:t,enableScroll:r})),t>1){var i=this.renderMode===o.PDF&&r?"auto":"hidden";this.docDom.style.overflowX=i,this.docDom.style.overflowY=i,this.renderDom&&(this.renderDom.style.overflowX=i,this.renderDom.style.overflowY=i)}else{var n=this.viewInfo,a=n.height,s=n.viewHeight;w.a.getInstance().info(["DocsView_View"],"setDocsViewDomOverflow",JSON.stringify({height:a,viewHeight:s}));i=this.renderMode===o.PDF&&r&&a>s?" auto":"hidden";this.docDom.style.overflowX="hidden",this.docDom.style.overflowY=i,this.renderDom&&(this.renderDom.style.overflowX="hidden",this.renderDom.style.overflowY=i)}},e.prototype.setDocsViewDomTransform=function(e,t){var r=function(e,t,r){return"transform:translate("+e+"px,"+t+"px) scale("+r+");"},o=this.zoomInfo.zoom,i=t-(this.ppth5Info.page-1)*this.viewInfo.viewHeight*o,n=this.renderDom.firstChild;n.style.cssText+=r(e,t,o),(n=this.getDocViewChild()).style.cssText+=r(e,i,o)},e.prototype.getCanvasSplit=function(e){var t=this.viewInfo,r=t.canvasMaxPage,o=t.total,i=(e-1)/r|0;return{index:i,start:i*r+1,end:Math.min(i*r+r,o)}},e.prototype.getCanvasHeight=function(e){var t=this.viewInfo,r=t.sheet,i=t.total,n=t.height,a=t.viewHeight,s=t.canvasMaxPage,u=this.vpageAspecCache[r],l=u.h[e]||0;if(l)return l;if(this.getFileType()===c.c.ZegoDocsViewFileTypeIMG)return l=n,u.h[e]=l,l;if(this.renderMode===o.PPT)return l=a,u.h[e]=l,l;for(var d=e?u.p[e*s]+1:u.vs,p=u.p[Math.min((e+1)*s,i)],h=d;h<=p;h++)l+=u[h].h;return l=Math.round(l),u.h[e]=l,l},e.prototype.getImgErrorAspec=function(e,t,r){var o=128*p;return[(e-o)/2,r+=(t-o)/2,o,o]},e.prototype.clearImgError=function(e,t,r,o){e.clearRect.apply(e,this.getImgErrorAspec(t,r,o))},e.prototype.drawImgError=function(e,t,r,o,i){e.drawImage.apply(e,P([v],this.getImgErrorAspec(t,r,o))),w.a.getInstance().error(["DocsView_View"],"draw_error",JSON.stringify({p:this.ppth5Info.page,vpage:i}))},e.prototype.drawDividingLine=function(e,t,r,o,i,n,a){e.lineWidth=p,e.beginPath(),a?(e.moveTo(r,0),e.lineTo(r,n)):(e.moveTo(0,o),e.lineTo(i,o)),e.stroke()},e.prototype.getCurrentCDNHost=function(e){return/^https?:\/\//.test(e)&&e.indexOf(".zego.im")>0?e.substr(0,e.indexOf(".zego.im")+8):""},e.prototype.changeDecryptImageCDNHost=function(e,t,r,o){var i=this,n=this.getCurrentCDNHost(r),a=this.getCDNHostList();if(n&&a.length){t[n]=1;var s=(a.findIndex((function(e){return e===n}))+1)%a.length;if(!t[a[s]]){var c=r.replace(n,a[s]);return this.serviceHandle.decryptImage(c).then((function(t){return e.src=t})).catch((function(){return i.changeDecryptImageCDNHost(e,t,c,o)})),void w.a.getInstance().info(["DocsView_View"],"draw_img_cdn",JSON.stringify({src:c,action:"DecryptImage"}))}}var u={src:r,action:"DecryptImageLoadError",usedMap:t};this.postErrorMessage(u),w.a.getInstance().error(["DocsView_View"],"draw_img_error",JSON.stringify({error:u})),o()},e.prototype.changeImageCDNHost=function(e,t,r,o){var i=this.getCurrentCDNHost(e.src),n=this.getCDNHostList();if(i&&n.length){t[i]=1;var a=(n.findIndex((function(e){return e===i}))+1)%n.length;if(!t[n[a]])return e.src=e.src.replace(i,n[a])+(o?"?p="+o:""),w.a.getInstance().info(["DocsView_View"],"draw_"+r+"_cdn",JSON.stringify({src:e.src,page:o})),!0}var s={src:e.src,page:o,action:"ImageLoadError",code:c.b.ZegoDocsViewErrorNetworkTimeout};return this.postErrorMessage(s),w.a.getInstance().error(["DocsView_View"],"draw_"+r+"_cdn",JSON.stringify({error:s})),!1},e.prototype.changeH5CDNHost=function(){var e=this,t=this.viewInfo.h5CDNUsedMap,r=this.iframeDom.src,o=this.getCurrentCDNHost(r),i=this.getCDNHostList();if(o&&i.length){t[o]=(t[o]||0)+1;var n=(i.findIndex((function(e){return e===o}))+1)%i.length,a=i[n];if(n>0&&!t[a])return this.iframeDom.src=r.replace(o,a),this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.ppth5Info.loadRetryTimer=window.setTimeout((function(){return e.changeH5CDNHost()}),62e3),void w.a.getInstance().info(["DocsView_View"],"draw_h5_cdn",JSON.stringify({src:this.iframeDom.src}));if(0==n&&1==t[a]){for(var s=1;s<i.length;s++)t[i[s]]=0;if(1==i.length){this.renderDom.removeChild(this.iframeDom);var u=this.vpageAspecCache[0][1],l=u.w,d=u.h;this.createIFrame(_+this.id,l,d),this.iframeDom.src=r,this.renderDom.appendChild(this.iframeDom)}else this.iframeDom.src=r.replace(o,a);return this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.ppth5Info.loadRetryTimer=window.setTimeout((function(){return e.changeH5CDNHost()}),62e3),void w.a.getInstance().info(["DocsView_View"],"draw_h5_cdn_retry",JSON.stringify({src:this.iframeDom.src}))}}this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer);var p={src:r,action:"H5LoadError",code:c.b.ZegoDocsViewErrorNetworkTimeout};this.postErrorMessage(p),w.a.getInstance().error(["DocsView_View"],"draw_h5_error",JSON.stringify({error:p}))},e.prototype.drawPPT=function(e,t,r,o,i){var n=this;return new Promise((function(a,s){t*=p,r*=p;var c={},u=i.getContext("2d"),l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=n.delayDraw((function(){u.clearRect(0,0,t,r),u.fillStyle="white",u.fillRect(0,0,t,r),u.drawImage(l,0,0,t,r),w.a.getInstance().info(["DocsView_View"],"draw_ppt",JSON.stringify({p:n.ppth5Info.page,vpage:e,w:t,h:r})),a()})),l.onerror=function(o){n.changeImageCDNHost(l,c,"ppt",e)||(u.clearRect(0,0,t,r),n.drawImgError(u,t,r,0,e),s(o))},l.src=/^https?:\/\//.test(o)?o+"?p="+e:"data:image/png;base64,"+o}))},e.prototype.drawPDF=function(e,t,r,o,i,n,a){var s=this;if(this.vpageDrawImgCache[t])return Promise.resolve();var c=this.getCanvasSplit(e),u=c.index,l=c.start,d=c.end;if(e<l||e>d)return Promise.resolve();r*=p,o*=p,i*=p,n*=p;var h=this.vpageAspecCache[this.viewInfo.sheet],f=this.canvasArray[u].getContext("2d");return t-=h.vs-1,new Promise((function(c,u){var l={},d=new Image;d.setAttribute("crossOrigin","anonymous"),d.onload=s.delayDraw((function(){s.clearImgError(f,i,n,o),f.fillStyle="white",h.o?(f.fillRect(r,0,i,n),f.drawImage(d,r,0,i,n)):(f.fillRect(0,o,i,n),f.drawImage(d,0,o,i,n)),s.vpageDrawImgCache[t]=1,t>1&&t===h.p[e-1]+1&&s.drawDividingLine(f,e,r,o,i,n,h.o),c()})),d.onerror=function(a){s.changeImageCDNHost(d,l,"pdf",t)||(s.drawImgError(f,i,n,o,t),s.vpageDrawImgCache[t]=0,t>1&&t===h.p[e-1]+1&&s.drawDividingLine(f,e,r,o,i,n,h.o),u(a))},d.src=/^https?:\/\//.test(a)?a+"?p="+t:"data:image/png;base64,"+a}))},e.prototype.drawImg=function(e,t){var r=this;return new Promise((function(o,i){var n={},a=r.viewInfo,s=a.parentWidth,u=a.parentHeight,l=a.viewWidth,d=a.viewHeight,h=a.rate,f=r.vpageAspecCache[0][1],g=t.getContext("2d"),_=new Image;if(_.setAttribute("crossOrigin","anonymous"),_.onload=function(){var e=r.viewInfo.imgInfo,i=e.min_w,n=e.min_h,a=_.width,c=_.height,m=c/a,y=a<=i&&c<=n,v=a<=1440&&m<=2.2&&m>=614/1280;if(r.viewInfo.imgInfo.isSmall=y,r.viewInfo.imgInfo.isScale=v,r.viewInfo.imgInfo.width=a,r.viewInfo.imgInfo.height=c,r.clearImgError(g,l*p,d*p,0),y||v){var b=y?Math.min(i,s)/a:s/a,S=y?Math.min(n,u)/c:u/c,I=Math.min(b,S),x=(s-(E=a*I|0))/2,O=(u-(P=c*I|0))/2;Object.assign(f,{x:x,y:O,w:E,h:P}),r.viewInfo.height=f.h,r.updateDocsViewLayout(x,O,E,P),r.setCanvasWidthHeight(t,E,P),g.fillStyle="white",g.fillRect(0,0,t.width,t.height),g.drawImage(_,0,0,t.width,t.height),w.a.getInstance().info(["DocsView_View"],"draw_img_scale",JSON.stringify({width:a,height:c,draw_w:E,draw_h:P,rate:I}))}else{var E=a*h|0,P=c*h|0;O=Math.max((u-P)/2,0);Object.assign(f,{x:0,y:O,w:s,h:P}),r.viewInfo.height=f.h,r.updateDocsViewLayout(0,O,s,Math.min(u,P)),r.setCanvasWidthHeight(t,s,P),g.fillStyle="white",g.fillRect(0,0,t.width,t.height),g.drawImage(_,0,0,t.width,t.height),w.a.getInstance().info(["DocsView_View"],"draw_img_full",JSON.stringify({width:a,height:c,draw_w:E,draw_h:P,rate:h}))}var k=r.getFile();k.max_width=f.w,k.total_height=f.h,o()},""==e&&r.getFileType()==c.c.ZegoDocsViewFileTypeIMG&&r.urlObject)return r.setCanvasWidthHeight(t,s,u),void(_.src=r.urlObject);if(/^https?:\/\//.test(e)){var m=function(){r.setCanvasWidthHeight(t,s,u),r.drawImgError(g,t.width,t.height,0,1),i()};r.serviceHandle.decryptImage(e).then((function(e){r.urlObject=e,_.src=e})).catch((function(){return r.changeDecryptImageCDNHost(_,n,e,m)}))}else _.onerror=function(){r.changeImageCDNHost(_,n,"img")||(r.setCanvasWidthHeight(t,s,u),r.drawImgError(g,t.width,t.height,0,1),i())},_.src="file://"+e}))},e.prototype.createDocsView=function(){var e=f+this.id;if(!document.getElementById(e)){this.canvasArray=[],this.vpageDrawImgCache={};var t=document.createElement("div");t.id=g+this.id,this.renderDom=t,(t=document.createElement("div")).id=e,t.setAttribute("data-page",this.viewInfo.total+""),t.setAttribute("data-mode",this.renderMode+""),t.addEventListener(l.a.Whiteboard,this.handleWhiteboardEvent),this.docDom=t;var r=document.createElement("div");r.id=h+this.id,r.appendChild(this.renderDom),this.createImageLoading(r),r.appendChild(this.docDom),document.getElementById(this.parent).appendChild(r),t.addEventListener("scroll",this.handleScrollEvent),t.addEventListener("mousedown",this.handleDragStart),t.addEventListener("mousemove",this.handleDragMove),t.addEventListener("mouseup",this.handleDragEnd),t.addEventListener("mouseleave",this.handleDragEnd),t.addEventListener("touchstart",this.handleDragStart),t.addEventListener("touchmove",this.handleDragMove),t.addEventListener("touchend",this.handleDragEnd),t.addEventListener("touchcancel",this.handleDragEnd)}},e.prototype.createImageLoading=function(e){if(this.renderMode===o.PDF||this.renderMode===o.PPT){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("version","1.1"),t.setAttribute("viewBox","0 0 1024 1024"),t.setAttribute("width","48"),t.setAttribute("height","48"),t.setAttribute("class","loading"),t.innerHTML='<path d="M834.7648 736.3584a5.632 5.632 0 1 0 11.264 0 5.632 5.632 0 0 0-11.264 0z m-124.16 128.1024a11.1616 11.1616 0 1 0 22.3744 0 11.1616 11.1616 0 0 0-22.3744 0z m-167.3216 65.8944a16.7936 16.7936 0 1 0 33.6384 0 16.7936 16.7936 0 0 0-33.6384 0zM363.1616 921.6a22.3744 22.3744 0 1 0 44.7488 0 22.3744 22.3744 0 0 0-44.7488 0z m-159.744-82.0224a28.0064 28.0064 0 1 0 55.9616 0 28.0064 28.0064 0 0 0-56.0128 0zM92.672 700.16a33.6384 33.6384 0 1 0 67.2256 0 33.6384 33.6384 0 0 0-67.2256 0zM51.2 528.9984a39.168 39.168 0 1 0 78.336 0 39.168 39.168 0 0 0-78.336 0z m34.1504-170.0864a44.8 44.8 0 1 0 89.6 0 44.8 44.8 0 0 0-89.6 0zM187.904 221.7984a50.432 50.432 0 1 0 100.864 0 50.432 50.432 0 0 0-100.864 0zM338.432 143.36a55.9616 55.9616 0 1 0 111.9232 0 55.9616 55.9616 0 0 0-111.9744 0z m169.0112-4.9152a61.5936 61.5936 0 1 0 123.2384 0 61.5936 61.5936 0 0 0-123.2384 0z m154.7776 69.632a67.1744 67.1744 0 1 0 134.3488 0 67.1744 67.1744 0 0 0-134.3488 0z m110.0288 130.816a72.8064 72.8064 0 1 0 145.5616 0 72.8064 72.8064 0 0 0-145.5616 0z m43.7248 169.472a78.3872 78.3872 0 1 0 156.8256 0 78.3872 78.3872 0 0 0-156.8256 0z" fill="#cdcdcd"></path>',this.loadingDom=t,e.appendChild(this.loadingDom)}},e.prototype.showImageLoading=function(e){this.loadingDom.style.display=e?"block":"none"},e.prototype.hideOtherDocsView=function(){var e=document.getElementById(this.parent);if(e){var t=h+this.serviceHandle.getStore()[this.parent+"_activited"];Array.from(e.children||e.childNodes).forEach((function(e){e.style.display=e.id==t?"block":"none"}))}},e.prototype.updateDocsViewLayout=function(e,t,r,o){e|=0,t|=0,r|=0,o|=0,this.viewInfo.width=r,this.viewInfo.viewWidth=r,this.viewInfo.viewHeight=o;var i="width:"+r+"px;height:"+o+"px;";this.docDom.style.cssText+=i,this.renderDom.style.cssText+=i,this.docDom.parentElement.style.cssText=i+"left:"+e+"px;top:"+t+"px;",w.a.getInstance().info(["DocsView_View"],"updateDocsViewLayout",JSON.stringify({x:e,y:t,w:r,h:o,h0:this.viewInfo.height}))},e.prototype.setCanvasWidthHeight=function(e,t,r){e.style.cssText+="width:"+t+"px;height:"+r+"px;",e.width=t*p,e.height=r*p,this.getFileType()==c.c.ZegoDocsViewFileTypeIMG&&this.serviceHandle.calcCanvasSize(this.id)},e.prototype.createCanvas=function(){if(this.canvasArray.length)return!1;var e=document.createElement("canvas");e.setAttribute("data-i","0"),this.canvasArray.push(e);var t=this.viewInfo,r=t.parentWidth,i=t.parentHeight,n=t.height,a=t.sheet,s=t.canvasMaxPage,u=t.fillPPT,l=this.getFileType();if(l===c.c.ZegoDocsViewFileTypeIMG)return this.updateDocsViewLayout(0,0,r,i),!0;var d=this.vpageAspecCache[0][1],p=d.x,h=d.y,f=d.w,g=d.h;if(this.renderMode===o.PPT)this.setCanvasWidthHeight(e,f,g),this.updateDocsViewLayout(p,h,f,g);else{var _=u?f:r;this.setCanvasWidthHeight(e,_,this.getCanvasHeight(0));var m=this.getPageCount();if(m>s){m=Math.ceil(m/s);for(var y=0,v=this.vpageAspecCache[a],b=0;b<m;b++)y+=this.getCanvasHeight(b);if(y=n-y,Math.abs(y)>10&&m>2){var S=y>0?1:-1;y*=S;var I=Math.ceil(m>y?m/y:1);S=1==I?Math.round(S*y/m):S;var x="diff="+y+",step="+I+",count="+m+",equal="+this.getFile().isEqualAspec;w.a.getInstance().info(["DocsView_View"],"pdf_diff_canvas",JSON.stringify({log:x}));for(b=1;b<=m;)v.h[b]+=S,b+=I}for(b=1;b<m;b++){var O=document.createElement("canvas");O.setAttribute("data-i",b+"");var E=u?f:r;this.setCanvasWidthHeight(O,E,this.getCanvasHeight(b)),this.canvasArray.push(O)}}if(l===c.c.ZegoDocsViewFileTypeELS&&this.getDocViewChild())this.resetVisibleSize();else if(u)this.updateDocsViewLayout(p,h,f,g);else{var P=Math.max((i-n)/2,0),k=Math.min(i,n);this.updateDocsViewLayout(0,P,r,k)}}return!0},e.prototype.renderCanvas=function(){var e=this.zoomInfo.zoom,t=this.viewInfo,r=t.width,i=t.height,n=this.getDocViewChild(),a=!!n,s="width:"+r+"px;height:"+i+"px;"+(e>1?"transform:scale("+e+");":"");if(n||(n=document.createElement("div"),this.docDom.appendChild(n)),n.style.cssText=s,a){if(this.getFileType()==c.c.ZegoDocsViewFileTypeELS){var u=document.createDocumentFragment();this.canvasArray.forEach((function(e){return u.appendChild(e)})),(n=this.renderDom.firstChild).style.cssText=s,n.innerHTML="",n.appendChild(u)}}else if(this.renderMode===o.PPT)this.renderDom.appendChild(this.canvasArray[0]);else{var l=document.createDocumentFragment();(n=document.createElement("div")).style.cssText=s,this.canvasArray.forEach((function(e){return n.appendChild(e)})),l.appendChild(n),this.renderDom.appendChild(l)}this.setDocsViewDomOverflow(),this.viewInfo.firstInfo.scrollTop>0&&this.handleScroll(this.viewInfo.firstInfo.scrollTop),this.viewInfo.firstInfo.scrollTop=-1},e.prototype.drawCanvas=function(e,t){var r=this,i=this.renderMode===o.PPT;i&&(e=e.filter((function(e){return e.virtual_page_number===r.ppth5Info.page}))),this.createDocsView(),this.showImageLoading(!0);for(var n=this.createCanvas(),a=this.canvasArray[0],s=0,c=0,u={id:this.id},l=[],d=this.vpageAspecCache[this.viewInfo.sheet],h=0;h<e.length;++h){var f=e[h],g=f.image_data,_=f.image_path,m=f.virtual_page_number;if(g)if(i){var y=d[m],v=y.w,b=y.h,S=this.drawPPT(m,v,b,g,a);l.push(S)}else{var I=d[m],x=I.p;v=I.w,b=I.h,S=this.drawPDF(x,m,c,s,v,b,g);l.push(S),s+=b,c+=v,u[m]=this.vpageDrawImgCache[m]}else if(_){S=this.drawImg(_,a);l.push(S)}}if(this.canvasArray.length>1){var O=this.canvasArray.reduce((function(e,t){return e+t.height/p}),0),E=this.viewInfo.height-O;this.canvasArray.forEach((function(e,t){t!==r.canvasArray.length-1&&(e.style.marginBottom=E/(r.canvasArray.length-1)+"px")})),w.a.getInstance().info(["DocsView_View"],"draw_cache",JSON.stringify({log:u}))}var P=function(){r.docDom&&n&&r.renderCanvas(),r.hideOtherDocsView(),t&&t(),r.showImageLoading(!1)};Promise.all(l).then(P,P)},e.prototype.drawHtml=function(e,t){var r=this;this.createDocsView();var o=_+this.id;if(!document.getElementById(o)){var i=this.vpageAspecCache[0][1],n=i.x,a=i.y,s=i.w,c=i.h,u=this.getFile().page_list[0].width;(this.isTouch||s-u>4)&&(this.ppth5Info.scale=Number((s/u).toFixed(4))),this.createIFrame(o,s,c),this.iframeDom.src=e[0].image_data+"#"+this.id,this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.ppth5Info.loadRetryTimer=window.setTimeout((function(){return r.changeH5CDNHost()}),62e3);var l="width:"+s+"px;height:"+this.viewInfo.height+"px;",d=document.createElement("div");d.style.cssText=l,this.docDom.appendChild(d),this.renderDom.style.zIndex="1",this.renderDom.appendChild(this.iframeDom),this.updateDocsViewLayout(n,a,s,c),this.setDocsViewDomOverflow(),window.addEventListener("message",this.handleIframeMessage)}this.hideOtherDocsView(),t&&t()},e.prototype.createIFrame=function(e,t,r){var o=document.createElement("iframe");o.id=e,o.allow="autoplay",o.width=t+"",o.height=r+"",this.iframeDom=o},e.prototype.execDraw=function(e,t){var r=this,i=e,n=e;if(this.renderMode===o.PDF){var a=this.getCanvasSplit(e);i=a.start,n=a.end}var s=this.getAllVirtualInPageRange(i-1,n-1);this.startGetImageByVirtualPageList(s,(function(e){r.renderMode===o.H5_PPT||r.renderMode===o.H5_CUSTOM?r.drawHtml(e,t):r.drawCanvas(e,t)}))},e.prototype.execScrollFileAndDraw=function(e,t,r){var o=this;if(this.canvasArray.length>1){var i=Date.now(),n=i-this.viewInfo.lastTime;if(this.viewInfo.lastTime=i,n<100)return this.viewInfo.lastTimeId&&clearTimeout(this.viewInfo.lastTimeId),void(this.viewInfo.lastTimeId=window.setTimeout((function(){r?r.forEach((function(e){return o.execDraw(e,t)})):o.execDraw(o.ppth5Info.page,t);var i={p:o.ppth5Info.page,page:e,zoom:o.zoomInfo.zoom,pages:r};w.a.getInstance().info(["DocsView_View"],"draw_scrolled",JSON.stringify({log:i}))}),100))}this.execDraw(e,t)},e.prototype.onScrollCallback=function(e,t){var r=this.viewInfo,o=r.total,i=r.width,n=r.height,a=r.viewHeight,s=r.scrollTop;if(n>a){var c=this.zoomInfo.zoom,u=this.getPageByScrollTop(t),l=Number((t/n/c).toFixed(7));this.ppth5Info.page=u,this.triggerOnScrollEventListener(t,u,l);var d=e&&Number((e/i/c).toFixed(7));if(this.postPageChangeMessage(d),this.ppth5Info.page!==u){if(this.execScrollFileAndDraw(u),this.viewInfo.isParentScale)(p=document.getElementById(this.parent))&&this.drawPDFBlank(p.clientHeight,t/c)}else if(u>1&&u<o)if(this.viewInfo.isParentScale){var p;(p=document.getElementById(this.parent))&&this.drawPDFBlank(p.clientHeight,t/c)}else{var h=t>s*c?1:-1;this.getCanvasSplit(u).index!==this.getCanvasSplit(u+h).index&&this.execScrollFileAndDraw(u+h)}}else this.postSyncDragMessage(e,t)},e.prototype.getLoadFileModelForAPI=function(e){var t={parent:this.parent,fileID:e.file_id,fileName:e.file_list[0].file_name,fileType:e.file_type,fileUrls:e.file_urls,pageCount:e.file_list[0].page_count,width:e.width,height:e.height};return e.file_hash?t.fileHash=e.file_hash:t.seq=e.seq,e.file_type===c.c.ZegoDocsViewFileTypeELS&&(t.name=e.file_list[0].name,t.sheets=e.file_list.map((function(e){return e.file_name}))),t},e.prototype.getLoadFileModelForCallback=function(){var e,t=this.viewInfo,r=t.width,o=t.height,i=t.filePageSize,n=this.getFile(),a=this.getFileType(),s={parent:this.parent,fileID:this.fileInfo.file_id,fileName:n.file_name,fileType:a,pageCount:n.page_count,width:r,height:o};this.fileInfo.file_hash?s.fileHash=this.fileInfo.file_hash:s.seq=this.fileInfo.seq,this.parent&&(s.viewID=f+this.id);var u=((e={fileID:s.fileID})[s.fileName]={width:r,height:o,pageCount:s.pageCount},e.data={width:r,height:o,pageCount:s.pageCount,filePageSize:i},e);return a===c.c.ZegoDocsViewFileTypeELS&&(s.name=n.name,s.sheets=this.fileInfo.file_list.map((function(e){return u[e.file_name]={width:e.max_width,height:e.total_height,pageCount:e.page_count},e.file_name}))),document.body.dispatchEvent(new CustomEvent("loadfile",{detail:u})),s},e.prototype.loadCurrentSheet=function(e,t){var r=this.getFile();if(r){var i=this.getFileType();this.viewInfo.width=r.max_width,this.viewInfo.height=r.total_height,this.viewInfo.total=r.page_count,this.viewInfo.rate=r.rate,this.viewInfo.filePageSize=r.filePageSize,i===c.c.ZegoDocsViewFileTypePPT?this.renderMode=o.PPT:i===c.c.ZegoDocsViewFileTypeDynamicPPTH5?this.renderMode=o.H5_PPT:i===c.c.ZegoDocsViewFileTypeCustomH5&&(this.renderMode=o.H5_CUSTOM),i===c.c.ZegoDocsViewFileTypeELS&&t&&(this.docDom.scrollTop=0,this.renderDom.scrollTop=0,this.canvasArray.length=0),this.execScrollFileAndDraw(this.ppth5Info.page,e?this.loadFileCallback:void 0)}},e.prototype.resetDocsViewLayout=function(e,t){var r=this.viewInfo,o=r.parentWidth,i=r.parentHeight,n=r.viewWidth,a=r.viewHeight;if(Math.abs(e-n)<5&&Math.abs(t-a)<5){var s=(o-e)/2,c=(i-t)/2;return this.docDom.parentElement.style.cssText+="left:"+s+"px;top:"+c+"px;",w.a.getInstance().info(["DocsView_View"],"reloadViewLayou",JSON.stringify({w0:n,h0:a,w:e,h:t})),!1}return!0},e.prototype.canReloadView=function(){var e=this.viewInfo.viewWidth;this.setParentWidthHeight();var t=this.viewInfo,r=t.parentWidth,i=t.parentHeight,n=t.height,a=t.viewHeight;if(this.renderMode===o.PPT||this.renderMode===o.H5_PPT||this.renderMode===o.H5_CUSTOM||this.viewInfo.fillPPT){var s=this.fileInfo.file_list[0].page_list[0],u=s.width;return((b=s.height*(v=r)/u)>i||Math.abs(b-i)<=1)&&(v=i*r/b|0,b=i),b|=0,this.resetDocsViewLayout(v,b)}if(this.getFileType()===c.c.ZegoDocsViewFileTypeIMG){var l=this.viewInfo.imgInfo,d=l.isSmall,p=l.isScale,h=(u=l.width,l.height),f=l.min_w,g=l.min_h;if(d||p){var _=d?Math.min(f,r)/u:r/u,m=d?Math.min(g,i)/h:i/h,y=Math.min(_,m),v=u*y|0,b=h*y|0;return this.resetDocsViewLayout(v,b)}}if(Math.abs(r-e)<5){var S=Math.max((i-n)/2,0),I=Math.min(i,n);return this.updateDocsViewLayout(0,S,r,I),w.a.getInstance().info(["DocsView_View"],"reloadViewLayou",JSON.stringify({w0:e,h0:a,w:r,h:I})),!1}return!0},e.prototype.checkPPT2PDF=function(e,t){if(e===c.c.ZegoDocsViewFileTypePDF){var r=t.page_list[0],o=r.width,i=r.height,n=Number((i/o).toFixed(3));if(n<=1&&n>=614/1280)return t.page_list.map((function(e){return Number((e.height/e.width).toFixed(3))})).every((function(e){return e===n}))}return!1},e.prototype.calculateFileAspec=function(e,t){var r=e.page_list[0],o=r.width,i=r.height,n=o,a=i,s=o,c=i;if(!t){n=0,a=0,s=Number.MAX_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER;for(var u=0,l=e.page_list;u<l.length;u++){var d=l[u];d.width>n&&(n=d.width),d.width<s&&(s=d.width),d.height>a&&(a=d.height),d.height<c&&(c=d.height)}}return e.origin_max_width=n,e.max_width=n,e.min_width=s,e.max_height=a,e.min_height=c,e},e.prototype.checkRenderType=function(){8==this.fileInfo.expect_file_type&&this.postErrorMessage(c.b.ZegoDocsViewErrorUnsupportRenderType)},e.prototype.calculateFileAspecWithNoParent=function(e){for(var t=e.file_type,r=this.viewInfo.sheetName,o=function(o){var n=e.file_list[o];if(t===c.c.ZegoDocsViewFileTypeELS?(n.page_count=n.page_list.length,n.file_name===r&&(i.viewInfo.sheet=o)):n.page_count||(n.page_count=n.page_list.length),t===c.c.ZegoDocsViewFileTypePPT||t===c.c.ZegoDocsViewFileTypeDynamicPPTH5||t===c.c.ZegoDocsViewFileTypeCustomH5){var a=n.page_list[0],s=a.width,u=a.height;n.max_width=s,n.total_height=u*n.page_count}else{var l=i.checkPPT2PDF(t,n);if(i.viewInfo.fillPPT=l,l){var d=n.page_list[0];s=d.width,u=d.height;n.max_width=s,n.total_height=u*n.page_count}else{var p=i.calculateFileAspec(n,l),h=p.max_width,f=p.min_width,g=p.max_height,_=p.min_height,m=Math.abs(h-f)<5&&Math.abs(g-_)<5,y=0;m?y=n.page_count*g:n.page_list.forEach((function(e){y+=e.height*h/e.width})),n.max_width=h,n.total_height=Math.round(y)}}},i=this,n=0;n<e.file_list.length;++n)o(n)},e.prototype.tranlateFileAspec=function(e){this.setParentWidthHeight();for(var t=e.file_type,r=this.viewInfo,o=r.sheetName,i=r.parentWidth,n=r.parentHeight,a=function(r){var a={vs:1,p:{0:0},h:{}};s.vpageAspecCache[r]=a;var u=e.file_list[r];if(t===c.c.ZegoDocsViewFileTypeELS?(u.page_count=u.page_list.length,u.file_name===o&&(s.viewInfo.sheet=r)):u.page_count||(u.page_count=u.page_list.length),t===c.c.ZegoDocsViewFileTypePPT||t===c.c.ZegoDocsViewFileTypeDynamicPPTH5||t===c.c.ZegoDocsViewFileTypeCustomH5){var l=u.page_list[0],d=l.width;((y=(_=l.height)*(m=i)/d)>n||Math.abs(y-n)<=1)&&(m=n*i/y|0,y=n),u.max_width=m,u.total_height=y*u.page_count|0,u.rate=i/d,u.filePageSize={width:d,height:_};for(var h={p:1,x:(i-m)/2,y:(n-(y|=0))/2,w:m,h:y},f=1;f<=u.page_count;++f)a[f]=x(x({},h),{p:f}),a.p[f]=1}else{a.vs=u.page_list[0].virtual_page_list[0].virtual_page_number,a.o=!1;var g=s.checkPPT2PDF(t,u);if(s.viewInfo.fillPPT=g,g){var _,m,y,v=u.page_list[0];d=v.width;((y=(_=v.height)*(m=i)/d)>n||Math.abs(y-n)<=1)&&(m=n*i/y|0,y=n),u.isEqualAspec=!0,u.max_width=m,u.total_height=y*u.page_count|0,u.rate=i/d,u.filePageSize={width:d,height:_,fillPPT:!0};var b={p:1,x:(i-m)/2,y:(n-(y|=0))/2,w:m,h:y},w=a.vs-1;u.page_list.forEach((function(e,t){w+=e.virtual_page_list.length,a.p[t+1]=w;for(var r=0,o=e.virtual_page_list;r<o.length;r++){var i=o[r];a[i.virtual_page_number]=x(x({},b),{p:t+1})}}))}else{var S=s.calculateFileAspec(u,g),I=S.max_width,O=S.min_width,E=S.max_height,P=S.min_height;u.rate=i/I;var k=Math.abs(I-O)<5&&Math.abs(E-P)<5,D=k?u.page_count*E*i/O:0,T=a.vs-1;u.page_list.forEach((function(e,t){var r=e.virtual_page_list.length;T+=r,a.p[t+1]=T;var o={p:t+1,x:0,y:0,w:i};k?o.h=Number((D/u.page_count/r).toFixed(4)):(o.h=Number((e.height*i/I/r).toFixed(4)),D+=e.height*i/I);for(var n=0,s=e.virtual_page_list;n<s.length;n++){var c=s[n];a[c.virtual_page_number]=o}})),u.isEqualAspec=k,u.max_width=i,u.total_height=Math.round(D)}var A=Math.floor(16e3*u.page_count/(p*u.total_height))||1;s.viewInfo.canvasMaxPage=A}},s=this,u=0;u<e.file_list.length;++u)a(u)},e.prototype.handleScroll=function(e,t,r){var i=this;if(this.docDom){var n=this.zoomInfo,a=n.zoom,s=n.enableScroll,c=this.viewInfo,u=c.height,l=c.total,d=this.ppth5Info.page,p=this.renderMode===o.PDF;if(p&&(s&&(this.viewInfo.ticking=!0,clearTimeout(this.viewInfo.scrollTimeId),this.viewInfo.scrollTimeId=window.setTimeout((function(){return i.viewInfo.ticking=!1}),34)),this.docDom.scrollTop=e,this.renderDom.scrollTop=e,this.viewInfo.scrollTop=Math.ceil(e/a)),this.renderMode===o.PDF||this.renderMode===o.PPT){if(this.viewInfo.isParentScale){this.execScrollFileAndDraw(d);var h=document.getElementById(this.parent);h&&this.drawPDFBlank(h.clientHeight,this.viewInfo.scrollTop)}else this.execScrollFileAndDraw(d);t="number"==typeof t?t:Number((p?e/u/a:(d-1)/l).toFixed(7)),this.triggerOnScrollEventListener(e,d,t),this.postPageChangeMessage(r)}}},e.prototype.getScrollTopByPage=function(e){var t=this.zoomInfo.zoom;if(this.viewInfo.total<=1||e<=1)return this.updateCurViewMax(0,t),0;if(this.renderMode!==o.PDF)return(e-1)*this.viewInfo.viewHeight*t+2;for(var r=this.vpageAspecCache[this.viewInfo.sheet],i=r.p[e-1],n=0,a=r.vs;a<=i;a++)n+=r[a].h;return n*=t,this.updateCurViewMax(n,t),n},e.prototype.getPageByScrollTop=function(e){var t=this.viewInfo,r=t.sheet,i=t.viewHeight,n=t.total,a=this.zoomInfo.zoom,s=this.getFileType(),u=Math.ceil(.5*i);if(s===c.c.ZegoDocsViewFileTypeIMG)return 1;if(this.renderMode!==o.PDF)return Math.round(e/a/i)+1;for(var l=this.vpageAspecCache[r],d=-u,p=l.vs;d<=e&&l[p];)d+=l[p].h*a,p++;return Math.min(n,Math.max(1,l[p-1].p))},e.prototype.getDocViewChild=function(){return this.docDom.firstChild},e.prototype.postWhiteboardMessage=function(e,t){if(this.wbId){var r={action:e,data:t};this.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:r}))}},e.prototype.postSyncDragMessage=function(e,t,r){if(r||this.renderMode===o.PDF||(this.zoomInfo.tx=e,this.zoomInfo.ty=t),this.wbId){var i={action:l.b.SyncDrag,x:e,y:t,scale:this.zoomInfo.zoom,notify:this.ppth5Info.notify};this.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:i}))}},e.prototype.postPageChangeMessage=function(e){if(this.wbId){var t={action:l.b.Page,page:this.ppth5Info.page,step:this.ppth5Info.step,pageCount:this.viewInfo.total,ofsX:e,percent:this.viewInfo.percent,notify:this.ppth5Info.notify};this.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:t})),this.renderMode!==o.PDF&&this.setDocsViewDomTransform(this.zoomInfo.tx,this.zoomInfo.ty)}},e.prototype.postStepChangeMessage=function(){var e={parent:this.parent,page:this.ppth5Info.page,step:this.ppth5Info.step,fileID:this.getFileID(),fileType:this.getFileType(),fileName:this.getFile().file_name,notify:this.ppth5Info.notify};this.ppth5Info.scene&&(e.scene=this.ppth5Info.scene),w.a.getInstance().info(["DocsView_View"],"emit.StepChange",JSON.stringify({payload:e})),b.e.emit(b.a.StepChange,e),this.triggerH5OnScrollEventListener(),this.postPageChangeMessage(),this.ppth5Info.scene=0},e.prototype.postErrorMessage=function(e){if(2000001!==(e="object"===S(e)?e:Object(u.b)(e)).code)if(1e3!==e.code&&1001!==e.code||this.postWhiteboardMessage(l.b.WbError,e.code),String(e.code).startsWith("3"))this.postWhiteboardMessage(l.b.WbError,e.code);else{var t=x({parent:this.parent,fileID:this.getFileID(),fileType:this.getFileType(),fileName:this.getFile().file_name},e);w.a.getInstance().info(["DocsView_View"],"emit.Error",JSON.stringify({payload:t})),b.e.emit(b.b.Error,t)}},e.prototype.triggerOnScrollEventListener=function(e,t,r){this.viewInfo.percent=r;var o=this.getFile(),i={parent:this.parent,percent:r,page:t,y:e,fileID:this.fileInfo.file_id,fileType:this.getFileType(),fileName:o.file_name,name:o.name||""};w.a.getInstance().info(["DocsView_View"],"emit.Scroll",JSON.stringify({payload:i})),b.e.emit(b.a.Scroll,i)},e.prototype.triggerH5OnScrollEventListener=function(){var e=this.ppth5Info.page,t=(e-1)*this.viewInfo.viewHeight,r=Number(((e-1)/this.viewInfo.total).toFixed(7));this.triggerOnScrollEventListener(t,e,r)},e.prototype.postMessage2iframe=function(e,t){var r=this.iframeDom;r&&r.contentWindow&&r.contentWindow.postMessage({source:"zegodocsview",action:e,args:t||[]},"*")},e.prototype.handleWhiteboardPageEvent=function(e){var t=e.percent,r=e.step,i=e.notify,n=e.ofsX,a=e.ofsY;this.ppth5Info.notify=i;var s=0,c=1;i?(c=Math.min(Math.round(t*this.viewInfo.total)+1,this.viewInfo.total),s=this.getScrollTopByPage(c)):(s=Math.floor((t+a)*this.viewInfo.height*this.zoomInfo.zoom),c=this.getPageByScrollTop(s));var u={oldpage:this.ppth5Info.page,oldstep:this.ppth5Info.step,page:c,step:r};if(w.a.getInstance().info(["DocsView_View"],l.a.Whiteboard+"_page",JSON.stringify({log:u})),this.renderMode===o.H5_PPT||this.renderMode===o.H5_CUSTOM)this.syncWhiteboardPPTH5Queue(c,r);else{this.ppth5Info.page=c;var d=i&&this.renderMode===o.PDF?n:void 0;this.handleScroll(s,t,d)}},e.prototype.handleWhiteboardDragToolEvent=function(e){var t=e.enable,r=this.zoomInfo.enableScroll;this.zoomInfo.enableScroll=t,this.zoomInfo.remoteScroll=e.remoteScroll,this.zoomInfo.isDrag=e.isDrag,r!==t&&(this.setDocsViewDomOverflow(),this.postMessage2iframe(n.SetCustomizedConfig,[a.PptOperationAuth,JSON.stringify({scroll:+t})]))},e.prototype.handleWhiteboardInitEvent=function(e){var t=this;this.wbId=e.data,setTimeout((function(){var e={action:l.b.DocsAspect,data:JSON.parse(JSON.stringify(t.vpageAspecCache[t.viewInfo.sheet]))};t.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:e}))}))},e.prototype.handleWhiteboardAnimationEvent=function(e){this.ppth5Info.notify=!1,e.notify?(this.viewInfo.firstInfo.page=this.ppth5Info.page,this.viewInfo.firstInfo.step=this.ppth5Info.step,this.viewInfo.firstInfo.h5Extra=e.data):this.playAnimation(e.data)},e.prototype.tryInitPageStep=function(e,t){var r=this;if(this.ppth5Info.goPage&&this.ppth5Info.goStep){if(this.ppth5Info.goTimer&&clearTimeout(this.ppth5Info.goTimer),this.ppth5Info.goPage===e&&this.ppth5Info.goStep===t)return void(this.ppth5Info.goPage=this.ppth5Info.goStep=0);this.ppth5Info.goTimer=window.setTimeout((function(){var o=r.ppth5Info,i=o.goPage,n=o.goStep;i&&n&&(r.execGotoPage(i,n,!1),w.a.getInstance().info(["DocsView_View"],"h5_init_timeout",JSON.stringify({id:r.id,page:e,step:t,h5:r.ppth5Info})))}),2e3)}},e.prototype.syncCurrentPageStep=function(e){var t=!1;if(!this.ppth5Info.loaded){w.a.getInstance().info(["DocsView_View"],"h5_init_page",JSON.stringify({id:this.id,h5:this.ppth5Info})),this.ppth5Info.loaded=!0;var r=this.ppth5Info,o=r.targetPage,i=r.targetStep;o&&i&&(this.ppth5Info.page=o,this.ppth5Info.step=i,this.gotoPage(!1),t=!0)}!t&&Object.assign(this.ppth5Info,e),this.ppth5Info.page===this.ppth5Info.targetPage&&this.ppth5Info.step===this.ppth5Info.targetStep&&(this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0),t||(this.firstNeedPlayAnimation(),this.postStepChangeMessage(),this.execSyncPPTH5Queue())},e.prototype.syncCurrentPage=function(e){var t=this;if(this.ppth5Info.loaded){"boolean"==typeof e.notify&&(this.ppth5Info.notify=e.notify);var r=+e.page+1,o=(e.step||0)+1;this.ppth5Info.pageChangeTimer&&clearTimeout(this.ppth5Info.pageChangeTimer),this.ppth5Info.pageChangeTimer=window.setTimeout((function(e){t.ppth5Info.page=e[0],t.ppth5Info.step=e[1],t.ppth5Info.scene=e[2],t.postStepChangeMessage()}),2e3,[r,o,e.scene]),this.tryInitPageStep(r,o)}else{w.a.getInstance().info(["DocsView_View"],"h5_init_page",JSON.stringify({id:this.id,h5:this.ppth5Info})),this.ppth5Info.loaded=!0;var i=this.ppth5Info,n=i.targetPage,a=i.targetStep;n>1?(this.ppth5Info.goPage=n,this.ppth5Info.goStep=a,this.ppth5Info.page=n,this.gotoPage(!1)):a<=1&&(this.postStepChangeMessage(),this.firstNeedPlayAnimation())}},e.prototype.syncCurrentStep=function(e){this.ppth5Info.pageChangeTimer&&clearTimeout(this.ppth5Info.pageChangeTimer);var t=e.page+1,r=+e.step+1,o=this.ppth5Info.lastStep;if(this.ppth5Info.lastStep=t===this.ppth5Info.page?r:-1,0!=r&&(0!=o||1!=r)&&("boolean"==typeof e.notify&&(this.ppth5Info.notify=e.notify),w.a.getInstance().info(["DocsView_View"],"h5_step",JSON.stringify({id:this.id,page:t,step:r,notify:e.notify,h5:this.ppth5Info})),r===this.ppth5Info.step&&t===this.ppth5Info.page||(this.ppth5Info.page=t,this.ppth5Info.step=r,this.tryInitPageStep(t,r),this.ppth5Info.targetPage||this.ppth5Info.targetStep||(w.a.getInstance().info(["DocsView_View"],"h5_queue_done",JSON.stringify({id:this.id,page:t,step:r,action:"step"})),this.firstNeedPlayAnimation(),this.postStepChangeMessage(),this.execSyncPPTH5Queue(),this.execMultiDocsQueue())),this.ppth5Info.page===this.ppth5Info.targetPage)){var i="h5step:"+t+","+r+"-"+this.ppth5Info.page+","+this.ppth5Info.targetStep+")";this.ppth5Info.targetStep<r?this.previousStep(this.ppth5Info.notify,i):this.ppth5Info.targetStep>r?this.nextStep(this.ppth5Info.notify,i):(this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0,this.ppth5Info.goPage=0,this.ppth5Info.goStep=0,w.a.getInstance().info(["DocsView_View"],"h5_queue_done",JSON.stringify({id:this.id,page:t,step:r,action:"page"})),this.firstNeedPlayAnimation(),this.postStepChangeMessage(),this.execSyncPPTH5Queue(),this.execMultiDocsQueue())}},e.prototype.syncCurrentElement=function(e){var t={parent:this.parent,page:this.ppth5Info.page,step:this.ppth5Info.step,fileID:this.getFileID(),fileType:this.getFileType(),fileName:this.getFile().file_name,data:e};if(b.e.emit(b.a.PlayAnimation,t),this.wbId){var r={action:l.b.Animation,data:e,notify:!0};this.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:r}))}},e.prototype.syncCurrentError=function(e){e.code===c.b.ZegoDocsViewErrorNetworkTimeout?(this.ppth5Info.loadRetryTimer&&clearTimeout(this.ppth5Info.loadRetryTimer),this.changeH5CDNHost()):this.postErrorMessage(e)},e.prototype.initIframe=function(){var e=this;this.postMessage2iframe(n.InitPlatform,[4]),this.postMessage2iframe(n.GetAllPageStepCount),this.renderMode===o.H5_PPT&&this.postMessage2iframe(n.SetCustomizedConfig,[a.Scale,this.ppth5Info.scale]),this.domEventListeners&&this.postMessage2iframe(n.SetCustomizedConfig,[a.SyncDOMEvent]),this.postMessage2iframe(n.SetCustomizedConfig,[a.PptOperationAuth,JSON.stringify({scroll:+this.zoomInfo.enableScroll})]);var t=this.serviceHandle.getStore();[c.a.UnloadVideoSrc,c.a.PptStepMode,c.a.DisableH5ImageDrag].forEach((function(r){return e.postMessage2iframe(n.SetCustomizedConfig,[r,t[r]])}))},e.prototype.dragPDF=function(e,t){var r=this.zoomInfo,o=r.tx,i=r.ty,n=r.zoom,a=r.enableScroll,s=r.remoteScroll,c=r.dragRectTop,d=r.dragRectBottom,p=this.viewInfo,h=p.width,f=p.height,g=p.viewHeight,_=p.percent,m=e instanceof MouseEvent?e:e.changedTouches[0],y=m.clientX,v=m.clientY,b=o+this.zoomInfo.x-y,w=i+this.zoomInfo.y-v,S=h*(n-1);S=Math.floor(S),b<0?b=0:b>S&&(b=S);var I=a?0:Math.ceil(_*f*n);if(S=a?f*n-g:I+(n-1)*g,S=Math.floor(S),w<I?w=I:w>S&&(w=S),a&&(this.viewInfo.scrollLeft=Math.ceil(b/n),this.viewInfo.scrollTop=Math.ceil(w/n)),this.viewInfo.ticking=!0,this.docDom.scrollTo(b,w),this.renderDom.scrollTo(b,w),t)if(this.zoomInfo.x=0,this.zoomInfo.y=0,this.viewInfo.ticking=!1,n>1&&w>=c&&w<=d)this.postSyncDragMessage(b,w-_*f*n);else{if(!a)return!s&&this.postWhiteboardMessage(l.b.WbError,u.a.ZegoWhiteboardViewErrorNoAuthScroll),this.viewInfo.ticking=!0,this.docDom.scrollTo(o,i),this.renderDom.scrollTo(o,i),void(this.viewInfo.ticking=!1);this.updateCurViewMax(w,n),this.onScrollCallback(b,w)}},e.prototype.dragPPT=function(e,t){var r=this.zoomInfo,o=r.tx,i=r.ty,n=r.zoom,a=this.viewInfo,s=a.viewWidth,c=a.viewHeight,u=e instanceof MouseEvent?e:e.changedTouches[0],l=u.clientX,d=u.clientY,p=o+l-this.zoomInfo.x,h=i+d-this.zoomInfo.y,f=s*(1-n);p>0?p=0:p<f&&(p=f),f=c*(1-n),h>0?h=0:h<f&&(h=f),t&&(this.zoomInfo.x=0,this.zoomInfo.y=0,this.postSyncDragMessage(p,h,!t)),this.setDocsViewDomTransform(p,h)},e.prototype.handleSetScaleFactor=function(e,t,r,i){var n=this;this.ppth5Info.notify=i,this.zoomInfo.zoom=e;var a=this.viewInfo,s=a.viewWidth,c=a.viewHeight,u=a.width,l=a.height,d=a.scrollTop,p=a.percent;if(this.setDocsViewDomOverflow(),this.renderMode===o.PDF){var h=this.getDocViewChild();h.style.cssText+="transform:scale("+e+");",(h=this.renderDom.firstChild).style.cssText+="transform:scale("+e+");";var f=t*u*e,g=(r+p)*l*e;i&&(f=s*(e-1)*.5,g=(g=d)*e+c*(e-1)*.5),f=Math.round(f),g=Math.round(g),this.viewInfo.ticking=!0,this.docDom.scrollTo(f,g),this.renderDom.scrollTo(f,g),this.postSyncDragMessage(f,g-p*l*e),this.updateCurViewMax(Math.ceil(p*l*e),e),clearTimeout(this.viewInfo.scrollTimeId),this.viewInfo.scrollTimeId=window.setTimeout((function(){n.viewInfo.ticking=!1}),34)}else{f=Math.round(i?s*(1-e)*.5:-t*u*e),g=Math.round(i?c*(1-e)*.5:-r*l*e);this.setDocsViewDomTransform(f,g),this.postSyncDragMessage(f,g)}this.wbId||(this.zoomInfo.isDrag=e>1,this.docDom.style.cursor=e>1?"move":"auto"),this.renderMode!==o.PDF&&this.renderMode!==o.PPT||this.loadCurrentSheet()},e.prototype.updateCurViewMax=function(e,t){t>1?(this.zoomInfo.dragRectTop=e-2,this.zoomInfo.dragRectBottom=Math.ceil(e+this.viewInfo.viewHeight*(t-1))):(this.zoomInfo.dragRectTop=0,this.zoomInfo.dragRectBottom=0)},e.prototype.drawPDFBlank=function(e,t){var r=this;if(!(this.canvasArray.length<2)){for(var o=t,i=0,n=0;n<o;)n+=this.getCanvasHeight(i++);var a=i>0?i-1:0;for(o+=e,i=0,n=0;n<o;){var s=this.getCanvasHeight(i++);if(n+=s,0===s)break}for(var c=this.viewInfo,u=c.canvasMaxPage,l=c.isParentScale,d=i>0?i-1:0,p=[];a<=d;a++)p.push(a*u+1);if(l)this.execScrollFileAndDraw(p[0],void 0,p);else{p.forEach((function(e){return r.execDraw(e,void 0)}));var h={id:this.id,pages:p};w.a.getInstance().info(["DocsView_View"],"draw_scrolled",JSON.stringify({log:h}))}}},e.prototype.firstNeedPlayAnimation=function(){var e=this.viewInfo.firstInfo,t=e.page,r=e.step,o=e.h5Extra;t&&o&&t==this.ppth5Info.page&&r==this.ppth5Info.step&&(this.playAnimation(o),this.viewInfo.firstInfo.page=0,this.viewInfo.firstInfo.step=0)},e.prototype.getAllVirtualInPageRange=function(e,t){var r=this.getFile().page_list,o=[];e<0&&(e=0),t>=r.length&&(t=r.length-1);for(var i=e;i<=t;++i)for(var n=0,a=r[i].virtual_page_list;n<a.length;n++){var s=a[n];o.push(s.virtual_page_number)}return o},e.prototype.startGetImageByVirtualPageList=function(e,t){for(var r=[],o=this.vpageImgCache[this.viewInfo.sheet],i=0;i<e.length;){var n=o&&o[e[i]];n?(r.push(n),e.splice(i,1)):i++}this.getImageByVirtualPageList(r,e,t)},e.prototype.sortVirtualPageListRule=function(e,t){return e.virtual_page_number-t.virtual_page_number},e.prototype.getImageByVirtualPageList=function(e,t,r){var o=this;if(t.length<=0)return e.sort(this.sortVirtualPageListRule),void r(e);this.serviceHandle.registerEventHandler(this.id,i.GetPageImage,(function(i){for(var n=i.virtual_page_number,a=0;a<t.length;++a)if(t[a]==n){t.splice(a,1);break}var s=o.vpageImgCache[o.viewInfo.sheet]||{};s[n]=i,o.vpageImgCache[o.viewInfo.sheet]=s;var c=!1;for(a=0;a<e.length;++a)e[a].virtual_page_number==n&&(e[a]=i,c=!0);c||e.push(i),o.getImageByVirtualPageList(e,t,r)}));var n=this.viewInfo,a=n.sheet,s=n.rate;this.serviceHandle.getPageImage(this.id,{sheet:a,rate:s*p*1.5,virtual_page_number:t[0],virtual_start:this.vpageAspecCache[a].vs-1,res:this.fileInfo})},e.prototype.getFile=function(){return this.fileInfo.file_list[this.viewInfo.sheet]},e.prototype.execGotoPage=function(e,t,r){e!==this.ppth5Info.page?(this.ppth5Info.page=e,this.ppth5Info.step=this.renderMode===o.H5_CUSTOM?t:1,this.gotoPage(r)):t<this.ppth5Info.step?this.previousStep(this.ppth5Info.notify,"execGotoPage("+e+","+t+","+this.ppth5Info.step+")"):t>this.ppth5Info.step?this.nextStep(this.ppth5Info.notify,"execGotoPage("+e+","+t+","+this.ppth5Info.step+")"):t!==this.ppth5Info.step||1===this.ppth5Info.targetPage&&1===this.ppth5Info.targetStep||(this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0)},e.prototype.runGotoPageQueue=function(e,t,r,o){var i=this;this.ppth5Info.targetPage=e,this.ppth5Info.targetStep=t,this.execGotoPage(e,t,r);var n=this.ppth5Info.loaded?1e3:2e4;this.ppth5Info.syncTimer&&clearTimeout(this.ppth5Info.syncTimer),this.ppth5Info.syncTimer=window.setTimeout((function(){return i[o](!0)}),n)},e.prototype.syncWhiteboardPPTH5Queue=function(e,t){var r=this,o=this.ppth5Info,i=o.page,n=o.step,a=o.loaded,s=o.notify;if(e!=i||t!=n){var c={page:e,step:t,notify:s,loaded:a,id:this.id},u=this.serviceHandle.getStore();u.syncPPTH5Queue=u.syncPPTH5Queue&&u.syncPPTH5Queue.length?u.syncPPTH5Queue.filter((function(e){return e.id===r.id})):[];var l=u.syncPPTH5Queue[u.syncPPTH5Queue.length-1];if(!l||l.page===e&&l.step===t)l||(u.syncPPTH5Queue=[c],w.a.getInstance().info(["DocsView_View"],"h5_wbqueue_init",JSON.stringify({task:c})),this.runGotoPageQueue(c.page,c.step,c.notify,"execSyncPPTH5Queue"));else{var d={page:i,step:n,task:c,queue:u.syncPPTH5Queue.map((function(e){return e.page+"-"+e.step})).join()};u.syncPPTH5Queue.push(c),w.a.getInstance().info(["DocsView_View"],"h5_wbqueue_push",JSON.stringify({log:d}))}}},e.prototype.execSyncPPTH5Queue=function(e){var t=this.serviceHandle.getStore(),r=t.syncPPTH5Queue,o=e&&t.syncQueueRuning;if(o&&this.execQueueTimeout(r),t.syncQueueRuning=!1,r&&r.length){t.syncQueueRuning=!0;var i=r.shift();o&&!r[0]||(i=r[0]),i&&(w.a.getInstance().info(["DocsView_View"],"h5_wbqueue_pop",JSON.stringify({timeout:e,task:i,store:t})),this.runGotoPageQueue(i.page,i.step,i.notify,"execSyncPPTH5Queue"))}},e.prototype.execMultiDocsQueue=function(e){var t=this,r=this.serviceHandle.getStore(),o=r.multiDocsQueue;if(e&&r.syncQueueRuning&&this.execQueueTimeout(o),r.syncQueueRuning=!1,o&&o.length){r.syncQueueRuning=!0;var i=[],n=o.shift();i.push(n);for(var a=0;a<o.length;a++){var s=o[a];s&&s.id!==n.id&&s.p!==n.p&&(n=s,i.push(n),o.splice(a,1))}w.a.getInstance().info(["DocsView_View"],"h5_mdqueue_pop",JSON.stringify({timeout:e,tasks:i,store:r})),i.forEach((function(e){t.serviceHandle.execViewFuction("runGotoPageQueue",e.id,P(e.args,["execMultiDocsQueue"]))}))}},e.prototype.execQueueTimeout=function(e){if(e&&e.length){for(var t=[],r=0;r<e.length-1;r++)e[r]&&!e[r].loaded&&(t.push(e[r]),e.splice(r,1));var o={id:this.id,loaded:this.ppth5Info.loaded,queue:e,tasks:t};w.a.getInstance().info(["DocsView_View"],"h5_queue_timeout",JSON.stringify({log:o}))}this.ppth5Info.loaded=!0,this.ppth5Info.targetPage=0,this.ppth5Info.targetStep=0,this.postStepChangeMessage(),this.postMessage2iframe(n.HideLoadingStyle)},e.prototype.gotoPage=function(e){this.ppth5Info.notify=e,this.renderMode===o.H5_PPT?(w.a.getInstance().info(["DocsView_View"],"gotoPage",JSON.stringify({id:this.id,notify:e,page:this.ppth5Info.page})),this.postMessage2iframe(n.GotoPage,[this.ppth5Info.page-1,e])):this.renderMode===o.H5_CUSTOM?this.postMessage2iframe(n.GotoPage,[this.ppth5Info.page,this.ppth5Info.step,e]):this.handleScroll(this.getScrollTopByPage(this.ppth5Info.page))},e.prototype.checkParamsPage=function(e){var t=this.getPageCount();return e<1?e=1:e>t?e=t:e|=0,e},e.prototype.delayDraw=function(e){var t=this;return function(r){t.isAppleDevice()?setTimeout(e.bind(t,r)):e(r)}},e.prototype.isAppleDevice=function(){var e=navigator.userAgent,t=e.includes("Mac"),r=!e.includes("Chrome")&&e.includes("Safari");return this.isTouch?t:r},e.prototype.getCDNHostList=function(){return this.fileInfo.cdn_hosts||[]},e.prototype.docsSnapshot=function(e){var t=e.ctx,r=e.snapshotId;this.renderMode===o.H5_PPT||this.renderMode===o.H5_CUSTOM?this.postMessage2iframe(n.SnapshotForH5,[r]):this.snapshotForStatic(t)},e.prototype.getH5SnapshotResult=function(e){var t=x(x({},e),{action:l.b.H5Snapshot});this.docDom.dispatchEvent(new CustomEvent(l.a.Docs,{detail:t}))},e.prototype.snapshotForStatic=function(e){var t=this.viewInfo,r=t.width,o=t.height,i=t.viewWidth,n=t.viewHeight,a=t.scrollTop,s=t.sheet,c=Math.min(r,i),u=Math.min(o,n),l=this.getCanvasInds(n,a);e.clearRect(0,0,i,n);for(var d=0,h=0;h<=l[0];)d+=this.getCanvasHeight(h++);var f=(a-d+this.vpageAspecCache[s].h[l[0]])*p,g=c*p,_=u*p;if(e.drawImage(this.canvasArray[l[0]],0,f,g,_,0,0,c,u),2===l.length){var m=d-a,y=(u-m)*p;e.drawImage(this.canvasArray[l[1]],0,0,g,y,0,m,c,u-m)}},e.prototype.getCanvasInds=function(e,t){if(this.canvasArray.length<2)return[0];for(var r=0,o=0;o<t;)o+=this.getCanvasHeight(r++);var i=r>0?r-1:0,n=t+e;for(r=0,o=0;o<n;){var a=this.getCanvasHeight(r++);if(o+=a,0===a)break}var s=r>0?r-1:0;return i===s?[i]:[i,s]},e.prototype.setSheet=function(e){"string"==typeof e?this.viewInfo.sheetName=e:"number"==typeof e&&(this.viewInfo.sheet=e)},e.prototype.resetVisibleSize=function(){if(this.docDom&&this.renderMode===o.PDF){var e=document.getElementById(this.parent),t=e.clientWidth,r=e.clientHeight,i="width:"+t+"px;height:"+r+"px;",n=this.docDom.parentElement;this.docDom.style.cssText+=i+"overflow: hidden auto;",this.renderDom.style.cssText+=i+"overflow: hidden auto;",n.style.cssText+=i+"top:"+Math.max(0,(r-this.viewInfo.height)/2)+"px;",this.drawPDFBlank(r,this.viewInfo.scrollTop),this.viewInfo.isParentScale=!0}},e.prototype.addDOMEventListener=function(e,t){this.domEventListeners||(this.domEventListeners={}),this.domEventListeners[e]=t},e.prototype.enableDOMEvent=function(e){var t=this.docDom&&this.docDom.parentElement;t&&this.renderMode===o.H5_PPT&&(t.style.cssText+="pointer-events:"+(e?"initial":"none")+";")},e.prototype.setParent=function(e){this.parent=e,this.ppth5Info.p=e},e.prototype.mergeRemoteFileInfo=function(e){this.parent?this.tranlateFileAspec(e):this.calculateFileAspecWithNoParent(e);var t=e.file_list[this.viewInfo.sheet],r=t.max_width,o=t.total_height,i=t.filePageSize;return this.viewInfo.width=r,this.viewInfo.filePageSize=i,this.viewInfo.height=o,Object.assign(this.fileInfo,e),Promise.resolve(this.getLoadFileModelForCallback())},e.prototype.getExcelSheetNameList=function(){return this.fileInfo.file_type===c.c.ZegoDocsViewFileTypeELS?this.fileInfo.file_list.map((function(e){return e.file_name})):[]},e.prototype.loadFile=function(e,t,r){var o,i=this;return this.loadFileListenerMap[e]=r,this.serviceHandle.setStore(((o={})[this.parent+"_activited"]=this.id,o)),this.viewInfo.ticking=!1,this.fileInfo.file_id===e&&this.viewInfo.firstInfo.loadedFile?(setTimeout((function(){i.hideOtherDocsView(),i.loadFileCallback()})),Promise.resolve(this.getLoadFileModelForAPI(this.fileInfo))):this.serviceHandle.load(this.id,{fileID:e,authKey:t},!0).then((function(e){return i.getLoadFileModelForAPI(e)}))},e.prototype.unloadFile=function(){var e,t,r=null===(e=this.docDom)||void 0===e?void 0:e.parentElement;r&&(null===(t=r.parentElement)||void 0===t||t.removeChild(r),w.a.getInstance().info(["DocsView_View"],"API.unloadFile")),this.serviceHandle.execViewFuction("unloadFile",this.id,[])},e.prototype.getContentSize=function(){var e={width:this.viewInfo.width,height:this.viewInfo.height};return w.a.getInstance().info(["DocsView_View"],"API.getContentSize",JSON.stringify({size:e})),e},e.prototype.getVisibleSize=function(){var e={width:this.viewInfo.viewWidth,height:this.viewInfo.viewHeight};return w.a.getInstance().info(["DocsView_View"],"API.getVisibleSize",JSON.stringify({size:e})),e},e.prototype.getFileID=function(){var e=this.fileInfo.file_id;return w.a.getInstance().info(["DocsView_View"],"API.getFileID",JSON.stringify({id:e})),e},e.prototype.getFileType=function(){var e=this.fileInfo.file_type;return w.a.getInstance().info(["DocsView_View"],"API.getFileType",JSON.stringify({type:e})),e},e.prototype.getCurrentPage=function(){var e=this.ppth5Info.page;return w.a.getInstance().info(["DocsView_View"],"API.getCurrentPage",JSON.stringify({page:e})),e},e.prototype.getCurrentStep=function(){var e=this.ppth5Info.step;return w.a.getInstance().info(["DocsView_View"],"API.getCurrentStep",JSON.stringify({step:e})),e},e.prototype.getPageCount=function(){var e=this.viewInfo.total;return w.a.getInstance().info(["DocsView_View"],"API.getPageCount",JSON.stringify({pageCount:e})),e},e.prototype.getPPTNotes=function(e){e=this.checkParamsPage(e);var t=this.fileInfo.notes[e-1]||"";return w.a.getInstance().info(["DocsView_View"],"API.getPPTNotes",JSON.stringify({note:t})),t},e.prototype.getThumbnailUrlList=function(){return w.a.getInstance().info(["DocsView_View"],"API.getThumbnailUrlList",JSON.stringify({thumbnails:this.fileInfo.thumbnails})),this.fileInfo.thumbnails},e.prototype.getVerticalPercent=function(){return w.a.getInstance().info(["DocsView_View"],"API.getVerticalPercent",JSON.stringify({verticalPercent:this.viewInfo.percent})),this.viewInfo.percent},e.prototype.scrollTo=function(e,t){this.ppth5Info.notify=void 0===t||!!t;var r=Math.ceil(this.viewInfo.height*e*this.zoomInfo.zoom),o=this.getPageByScrollTop(r);this.ppth5Info.page=o,this.handleScroll(r),-1!==this.viewInfo.firstInfo.scrollTop&&(this.viewInfo.firstInfo.scrollTop=r),w.a.getInstance().info(["DocsView_View"],"API.scrollTo",JSON.stringify({id:this.id,params:e,page:o,top:r}))},e.prototype.flipPage=function(e,t,r){e=this.checkParamsPage(e),t="number"==typeof t?Math.max(1,0|t):1,r=void 0===r||!!r,this.ppth5Info.notify=r;var i=this.renderMode===o.H5_PPT||this.renderMode===o.H5_CUSTOM,n=i&&this.viewInfo.maxSteps[e-1];if(n&&t>n)w.a.getInstance().info(["DocsView_View"],"API.flipPage",JSON.stringify({actionMsg:"error step",params:{page:e,step:t,maxStep:n}}));else if(i&&this.wbId)this.syncWhiteboardPPTH5Queue(e,t);else{i&&(this.ppth5Info.targetPage=e,this.ppth5Info.targetStep=t);var a=this.ppth5Info.loaded,s=this.serviceHandle.getStore();if(i&&(a||!a&&(e>1||t>1))){if(s.multiDocsQueue&&s.syncQueueRuning){for(var c=!0,u=this.id,l=s.multiDocsQueue.length-1;l>=0;l--){var d=s.multiDocsQueue[l];if(d.id==u&&d.args.page==e&&d.args.step==t){c=!1;break}}if(c){var p={p:this.parent,id:this.id,loaded:a,args:[e,t,r]};return s.multiDocsQueue.push(p),void w.a.getInstance().info(["DocsView_View"],"h5_mdqueue_push",JSON.stringify({task:p}))}}s.syncQueueRuning=!0,s.multiDocsQueue=s.multiDocsQueue||[]}s.multiDocsQueue?this.runGotoPageQueue(e,t,r,"execMultiDocsQueue"):(-1!==this.viewInfo.firstInfo.scrollTop&&(this.viewInfo.firstInfo.scrollTop=this.getScrollTopByPage(e)),this.execGotoPage(e,t,r)),w.a.getInstance().info(["DocsView_View"],"API.flipPage",JSON.stringify({id:this.id,params:{page:e,step:t}}))}},e.prototype.previousStep=function(e,t){var r=this.ppth5Info,o=r.page,i=r.step;1===o&&1===i||(e=void 0===e||!!e,this.zoomInfo.enableScroll||!e||1!==i?(this.ppth5Info.notify=e,this.postMessage2iframe(n.PreviousStep,[e]),e&&this.postWhiteboardMessage(l.b.Step,""),w.a.getInstance().info(["DocsView_View"],"API.previousStep",JSON.stringify({id:this.id,notify:e,action:t}))):!this.zoomInfo.remoteScroll&&this.postWhiteboardMessage(l.b.WbError,u.a.ZegoWhiteboardViewErrorNoAuthScroll))},e.prototype.nextStep=function(e,t){var r=this.ppth5Info,o=r.page,i=r.step;e=void 0===e||!!e,this.zoomInfo.enableScroll||!e||i!==this.viewInfo.maxSteps[o-1]?(this.ppth5Info.notify=e,this.postMessage2iframe(n.NextStep,[e]),e&&this.postWhiteboardMessage(l.b.Step,""),w.a.getInstance().info(["DocsView_View"],"API.nextStep",JSON.stringify({id:this.id,notify:e,action:t}))):!this.zoomInfo.remoteScroll&&this.postWhiteboardMessage(l.b.WbError,u.a.ZegoWhiteboardViewErrorNoAuthScroll)},e.prototype.switchSheet=function(e){this.getFileType()===c.c.ZegoDocsViewFileTypeELS&&this.viewInfo.sheet!==e&&e>=0&&e<this.fileInfo.file_list.length&&(this.viewInfo.sheet=e,this.vpageDrawImgCache={},this.loadCurrentSheet(!1,!0),w.a.getInstance().info(["DocsView_View"],"API.switchSheet",JSON.stringify({id:this.id,params:e})))},e.prototype.setScaleFactor=function(e,t,r){var i=e;(!i||i<1)&&(i=1),this.zoomInfo.zoom!==i&&(this.renderMode!==o.H5_PPT&&this.renderMode!==o.H5_CUSTOM||this.iframeDom)&&(this.renderMode!==o.PDF&&this.renderMode!==o.PPT||this.canvasArray[0])&&(w.a.getInstance().info(["DocsView_View"],"API.setScaleFactor",JSON.stringify({zoom:i,x:t,y:r})),this.handleSetScaleFactor(i,t||0,r||0,!0))},e.prototype.getScaleFactor=function(){return{scaleFactor:this.zoomInfo.zoom,scaleOffsetX:0,scaleOffsetY:0}},e.prototype.playAnimation=function(e){this.postMessage2iframe(n.TriggerElementsClick,[e]),w.a.getInstance().info(["DocsView_View"],"API.playAnimation",JSON.stringify({data:e}))},e.prototype.stopPlay=function(e){this.postMessage2iframe(n.StopPlay,[e]),w.a.getInstance().info(["DocsView_View"],"API.stopPlay",JSON.stringify({pageNumber:e}))},e.prototype.setVolume=function(e){this.postMessage2iframe(n.SetVolume,[e]),w.a.getInstance().info(["DocsView_View"],"API.setVolume",JSON.stringify({volume:e}))},e.prototype.reloadView=function(){if(w.a.getInstance().info(["DocsView_View"],"API.reloadView"),this.canReloadView()){var e=this.viewInfo.scrollLeft/this.viewInfo.width,t=this.viewInfo.scrollTop/this.viewInfo.height,r=this.zoomInfo.tx/this.viewInfo.viewWidth,i=this.zoomInfo.ty/this.viewInfo.viewHeight;this.tranlateFileAspec(this.fileInfo);var s=this.getFile();if(this.viewInfo.width=s.max_width,this.viewInfo.filePageSize=s.filePageSize,this.viewInfo.height=s.total_height,this.viewInfo.total=s.page_count,this.viewInfo.rate=s.rate,this.ppth5Info.notify=!1,this.renderMode===o.H5_PPT||this.renderMode===o.H5_CUSTOM){var c=this.vpageAspecCache[0][1],u=c.x,l=c.y,d=c.w,p=c.h;this.iframeDom.width=d,this.iframeDom.height=p,this.postSyncDragMessage(r*d|0,i*p|0),this.updateDocsViewLayout(u,l,d,p),this.setDocsViewDomOverflow(),this.getDocViewChild().style.cssText+="width:"+this.viewInfo.width+"px;height:"+this.viewInfo.height+"px;",this.reloadViewCallback();var h=this.getFile().page_list[0].width;this.ppth5Info.scale=Number((d/h).toFixed(4)),this.renderMode===o.H5_PPT&&this.postMessage2iframe(n.SetCustomizedConfig,[a.Scale,this.ppth5Info.scale])}else{if(this.canvasArray=[],this.vpageDrawImgCache={},this.docDom.innerHTML="",this.renderDom.innerHTML="",this.renderMode===o.PDF)this.viewInfo.ticking=!0,this.viewInfo.scrollLeft=e*this.viewInfo.width,this.viewInfo.scrollTop=t*this.viewInfo.height;else{var f=this.vpageAspecCache[0][1];d=f.w,p=f.h;this.postSyncDragMessage(r*d|0,i*p|0)}this.execScrollFileAndDraw(this.ppth5Info.page,this.reloadViewCallback)}}},e}(),D=(I=function(e,t){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),T=function(){return(T=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},A=function(e){function t(t){var r=e.call(this)||this;return r.listeners={},r.docsviews={},r.canvasMaxSize=2e6,r.canvasAmountSize=0,Object(w.b)(t,"DocsView",{DOCS_VER:"2.2.0"}),w.a.startTimingUpload(),r.zegoDocs=new s.a(t),r}return D(t,e),t.prototype.setTestEnv=function(e){this.zegoDocs.setTestEnv(e)},t.prototype.setConfig=function(e,t){var r;return["set_alpha_env","dynamicPPT_HD","dynamicPPT_AutomaticPage",c.a.Domain,c.a.ThumbnailMode].includes(e)?this.zegoDocs.setConfig(e,t):this.setStore(((r={})[e]=t,r))},t.prototype.getConfig=function(e){return e===c.a.Domain||e===c.a.ThumbnailMode?this.zegoDocs.getConfig(e):this.getStore()[e]},t.prototype.calcCanvasSize=function(e){this.canvasAmountSize=0;var t=0;for(var r in this.docsviews){var o=this.docsviews[r];if(o.getFileType()==c.c.ZegoDocsViewFileTypeIMG){var i=o.getCanvasSize();this.canvasAmountSize+=i,i>t&&(t=i)}}this.canvasMaxSize=t,this.canvasAmountSize>this.canvasMaxSize&&this.clearCanvasCache(e)},t.prototype.clearCanvasCache=function(e){for(var t in this.docsviews){var r=this.docsviews[t];if(e!==r.id&&r.getFileType()==c.c.ZegoDocsViewFileTypeIMG){var o=r.getCanvasSize();if(this.canvasAmountSize-=o,r.clearCanvasCache(),this.canvasAmountSize<this.canvasMaxSize)break}}},t.prototype.execViewFuction=function(e,t,r){if("unloadFile"===e)return this.docsviews[t].unload(),this.docsviews[t]=null,void delete this.docsviews[t];var o=this.docsviews[t];o&&o[e].apply(o,r)},t.prototype.registerEventHandler=function(e,t,r){this.listeners[t]=this.listeners[t]||{},this.listeners[t][e]=r},t.prototype.removeEventHandler=function(e){for(var t in this.listeners)this.listeners[t][e]=null},t.prototype.load=function(e,t,r){var o=this;return this.zegoDocs.loadFile(t.fileID).then(this.resolveLoad.bind(this,e,t.fileID,r)).catch((function(){return o.zegoDocs.loadFile(t.fileID).then(o.resolveLoad.bind(o,e,t.fileID,r)).catch((function(e){throw e=e||{code:c.b.ZegoDocsViewErrorNetworkTimeout,message:"网络超时"},b.e.emit(b.b.Error,T(T({},t),e)),w.a.getInstance().error(["DocsView_Service"],"load_error",JSON.stringify({params:t,result:e})),e}))}))},t.prototype.cacheFile=function(e){return this.zegoDocs.cacheFile(e)},t.prototype.getPageImage=function(e,t){var r=this.listeners[i.GetPageImage][e];r&&r(this.transImage(t))},t.prototype.decryptImage=function(e){return this.zegoDocs.decryptImage(e)},t.prototype.on=function(e,t){return b.e.on(e,t)},t.prototype.off=function(e,t){return b.e.off(e,t)},t.prototype.getVersion=function(){return this.zegoDocs.getVersion()},t.prototype.createView=function(e,t){var r={ID:e=(e||Date.now()+Math.floor(1e3*Math.random()))+"",sheet:t},o=this.docsviews[e];if(o)return w.a.getInstance().info(["DocsView_Service"],"createView",JSON.stringify({actionMsg:"find in cache",params:r})),o;var i=document.getElementById(m+e);if(i=i&&i.parentElement){var n=i.id.replace(f,"");if(o=this.docsviews[n])return this.docsviews[e]=o,r.wbID=n,w.a.getInstance().info(["DocsView_Service"],"createView",JSON.stringify({actionMsg:"find in cache on whiteboard",params:r})),o}return o=new k(this,e,t||0),this.docsviews[e]=o,w.a.getInstance().info(["DocsView_Service"],"createView",JSON.stringify({params:r})),o},t.prototype.setDocsViewParent=function(e,t){e.setParent(t)},t.prototype.getDocsViewFileInfo=function(e,t){return this.zegoDocs.loadFile(t).then((function(t){return e.mergeRemoteFileInfo(t)}))},t.prototype.uploadFile=function(e,t,r,o){var i=o&&"function"==typeof o?o:function(e){b.e.emit(b.a.Upload,Object.assign(e,r))};return this.zegoDocs.uploadFile({file:e,renderType:t,onProgress:i})},t.prototype.cancelUploadFile=function(e){return this.zegoDocs.cancelUploadFile({fileHash:e})},t.prototype.uploadH5File=function(e,t,r){return this.zegoDocs.uploadH5File(e,t,r)},t.prototype.resolveLoad=function(e,t,r,o){if(r&&o.file_type!==c.c.ZegoDocsViewFileTypeAudio&&o.file_type!==c.c.ZegoDocsViewFileTypeVideo){var n=this.listeners[i.Load][e];n&&setTimeout((function(){return n(o)}))}var a=T(T({},o),{preload:void 0,notes:void 0,thumbnails:void 0,file_list:void 0,file_urls:void 0});return w.a.getInstance().info(["DocsView_Service"],"resolveLoad",JSON.stringify({params:t,result:a})),o},t.prototype.transImage=function(e){var t=e.file_id,r=e.virtual_page_number,o=e.virtual_start,i=e.res,n=e.sheet,a=i.file_type===c.c.ZegoDocsViewFileTypeIMG,s=i.file_list[n].page_list[r-o-1].src;return{error_code:0,file_id:t,image_data:a?"":s,image_path:a?s:"",virtual_page_number:r}},t}(y)},function(e,t,r){"use strict";var o=r(8),i=r(143).left,n=r(76),a=r(77),s=r(141);o({target:"Array",proto:!0,forced:!n("reduce")||!s&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},function(e,t,r){var o=r(336),i=r(354);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var n={insert:"head",singleton:!1};o(i,n);e.exports=i.locals||{}},function(e,t,r){(t=r(337)(!1)).push([e.i,"[id^='zego-docsview-zoom'],\n[id^='zego-docsview-render'],\n[id^='zego-docsview-render'] > div,\n[id^='zego-docsview-con'],\n[id^='zego-docsview-con'] > div {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n/* [id^='zego-docsview-con'], */\n[id^='zego-docsview-con'] > div,\n[id^='zego-docsview-render'] > div,\n[id^='zego-docsview-iframe'] {\n  transform-origin: 0 0;\n}\n\n[id^='zego-docsview-render'] {\n  text-align: initial;\n}\n\n[id^='zego-docsview-render'] iframe {\n  border: none;\n}\n[id^='zego-docsview-render'] canvas {\n  display: block;\n  transform-origin: 0 0;\n}\n\n[id^='zego-docsview-zoom'] svg.loading {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -24px;\n  display: none;\n  animation: loading 2s infinite linear;\n  -webkit-animation: loading 2s infinite linear;\n  -moz-animation: loading 2s infinite linear;\n  -o-animation: loading 2s infinite linear;\n}\n@keyframes loading {\n  from {\n    transform: rotate(0deg);\n    -ms-transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n    -ms-transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes loading {\n  from {\n    -webkit-transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@-moz-keyframes loading {\n  from {\n    -moz-transform: rotate(0deg);\n  }\n  to {\n    -moz-transform: rotate(360deg);\n  }\n}\n@-o-keyframes loading {\n  from {\n    -o-transform: rotate(0deg);\n  }\n  to {\n    -o-transform: rotate(360deg);\n  }\n}\n",""]),e.exports=t},function(e,t,r){"use strict";var o=r(8),i=r(27).every;o({target:"Array",proto:!0,forced:!r(76)("every")},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var o=r(19),i=r(7),n=r(109),a=r(37),s=i(r(114).f),c=i([].push),u=function(e){return function(t){for(var r,i=a(t),u=n(i),l=u.length,d=0,p=[];l>d;)r=u[d++],o&&!s(i,r)||c(p,e?[r,i[r]]:i[r]);return p}};e.exports={entries:u(!0),values:u(!1)}},function(e,t,r){var o=r(336),i=r(358);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var n={insert:"head",singleton:!1};o(i,n);e.exports=i.locals||{}},function(e,t,r){(t=r(337)(!1)).push([e.i,"#zego-whiteboard-input {\n  position: absolute;\n  width: 0px;\n  height: 0px;\n  padding: 0px;\n  border: none;\n}\n\n[id^='zego-whiteboard-zoom'] {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  user-select:none;\n}\n\n[id^='zego-whiteboard-con'],\n[id^='zego-whiteboard-con'] > div {\n  transform-origin: 0 0;\n}\n\n[id^='zego-whiteboard'] {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  position: absolute;\n}\n[id^='zego-whiteboard'] *,\n[id^='zego-whiteboard'] ::after,\n[id^='zego-whiteboard'] ::before {\n  box-sizing: border-box !important;\n}\n[id^='zego-whiteboard'] [id^='zego-graphics-bg-container'] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  display: flex;\n}\n[id^='zego-whiteboard'] [id^='zego-graphics-bgImage-container'] {\n  flex: 1;\n}\n[id^='zego-whiteboard'] [id^='zego-graphics-container'] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n}\n\n[id^='zego-graphics-container'] [id^='zego-laser'] {\n  transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear;\n  -moz-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear; /* Firefox 4 */\n  -webkit-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear; /* Safari 和 Chrome */\n  -o-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear; /* Opera */\n  -ms-transition: transform 0.2s linear, left 0.2s linear, right 0.2s linear;\n  margin-left: -8px;\n  margin-top: -8px;\n}\n\n/* [id^='zego-graphics-container'] path.transition {\n    transition: transform 0.2s linear;\n    -moz-transition: transform 0.2s linear;\n    -webkit-transition: transform 0.2s linear;\n    -o-transition: transform 0.2s linear;\n    -ms-transition: transform 0.2s linear;\n}\n\n[id^='zego-graphics-container'] line.transition {\n    transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -moz-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -webkit-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -o-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n    -ms-transition: x1 0.2s linear, y1 0.2s linear, x2 0.2s linear, y2 0.2s linear, transform 0.2s linear;\n}\n\n[id^='zego-graphics-container'] rect.transition {\n    transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -moz-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -webkit-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -o-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n    -ms-transition: x 0.2s linear, y 0.2s linear, width 0.2s linear, height 0.2s linear, transform 0.2s linear;\n}\n\n[id^='zego-graphics-container'] ellipse.transition {\n    transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -moz-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -webkit-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -o-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n    -ms-transition: cx 0.2s linear, cy 0.2s linear, rx 0.2s linear, ry 0.2s linear, transform 0.2s linear;\n} */\n\n[id^='zego-whiteboard'] [id^='zego-box-container'] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n}\n[id^='zego-whiteboard'] svg {\n  transform-origin: 0px 0px 0px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n  left: 0;\n  right: 0;\n  pointer-events: none;\n}\n[id^='zego-whiteboard'] textarea {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  border: none;\n  outline: none;\n  background: transparent;\n  resize: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  padding: 0;\n  line-height: 1;\n  font-family: inherit;\n  font-size: inherit;\n  box-sizing: border-box;\n  color: inherit;\n  font-style: inherit;\n  font-weight: inherit;\n  white-space: pre-wrap;\n  word-break: break-all;\n  overflow: hidden;\n}\n[id^='zego-whiteboard'] pre {\n  display: block;\n  visibility: hidden;\n  margin: 0px 0px;\n  font-family: inherit;\n  font-size: inherit;\n  color: inherit;\n  font-style: inherit;\n  font-weight: inherit;\n  line-height: 1;\n  padding: 0;\n  overflow: hidden;\n}\n[id^='zego-graphics-box'] {\n  position: absolute;\n}\n[id^='zego-textarea'] {\n  position: absolute;\n  border: 1px dashed transparent;\n  overflow: hidden;\n}\n[id^='zego-other-container'] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  cursor: none;\n  overflow: hidden;\n}\n[id^='zego-other-container'] div {\n  box-sizing: border-box;\n}\n[id^='zego-laser'] {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: rgba(255, 78, 51, 1);\n  border: 2px solid rgba(255, 144, 128, 1);\n  box-shadow: 0px 0px 8px 0px rgba(254, 94, 70, 0.7);\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\n[id^='zego-cursor'] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  /* cursor: none; */\n}\n\n[id^='zego-cursor'] > img {\n  user-select: none;\n  -webkit-user-drag: none;\n  /* cursor: none; */\n}\n\n[id^='zego-box-container'] .img-editor-box,\n[id^='zego-box-container'] .graphics-box {\n  display: none;\n  position: absolute;\n  overflow: visible;\n  margin: 0;\n  padding: 0;\n  z-index: 2;\n  border: 2px solid #b0b3b8;\n  box-shadow: 0 0 1px 0 #ffffff, inset 0 0 1px 0 #ffffff;\n  transform-origin: 0px 0px 0px;\n  transition: border 0.3s;\n  -moz-transition: border 0.3s; /* Firefox 4 */\n  -webkit-transition: border 0.3s; /* Safari 和 Chrome */\n  -o-transition: border 0.3s; /* Opera */\n}\n\n[id^='zego-box-container'] .operation-point-desktop {\n  width: 12px;\n  height: 12px;\n  position: absolute;\n  background-color: #ffffff;\n  border: 2px solid #b0b3b8;\n}\n[id^='zego-box-container'] .operation-point-desktop:active,\n[id^='zego-box-container'] .operation-point-desktop:hover {\n  transform: scale(1.5);\n  border: 2px solid #eb98c7;\n}\n\n[id^='zego-box-container'] .operation-point-desktop.left-top {\n  left: -6px;\n  top: -6px;\n  cursor: nwse-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.right-top {\n  right: -6px;\n  top: -6px;\n  cursor: nesw-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.left-bottom {\n  left: -6px;\n  bottom: -6px;\n  cursor: nesw-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.right-bottom {\n  right: -6px;\n  bottom: -6px;\n  cursor: nwse-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.top {\n  top: -6px;\n  cursor: ns-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.right {\n  right: -6px;\n  cursor: ew-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.bottom {\n  bottom: -6px;\n  cursor: ns-resize;\n}\n[id^='zego-box-container'] .operation-point-desktop.left {\n  left: -6px;\n  cursor: ew-resize;\n}\n",""]),e.exports=t},function(e,t,r){var o=r(8),i=r(360);o({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,r){var o=r(4),i=r(9),n=r(7),a=r(23),s=r(259).trim,c=r(260),u=o.parseInt,l=o.Symbol,d=l&&l.iterator,p=/^[+-]?0x/i,h=n(p.exec),f=8!==u(c+"08")||22!==u(c+"0x16")||d&&!i((function(){u(Object(d))}));e.exports=f?function(e,t){var r=s(a(e));return u(r,t>>>0||(h(p,r)?16:10))}:u},function(e,t,r){var o=r(8),i=r(362);o({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(e,t,r){var o=r(4),i=r(9),n=r(7),a=r(23),s=r(259).trim,c=r(260),u=n("".charAt),l=o.parseFloat,d=o.Symbol,p=d&&d.iterator,h=1/l(c+"-0")!=-1/0||p&&!i((function(){l(Object(p))}));e.exports=h?function(e){var t=s(a(e)),r=l(t);return 0===r&&"-"==u(t,0)?-0:r}:l},function(e,t,r){"use strict";var o=r(8),i=r(257).start;o({target:"String",proto:!0,forced:r(364)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var o=r(56);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(o)},function(e,t,r){"use strict";var o=r(211);(0,r(12).exportTypedArrayStaticMethod)("from",r(212),o)},function(e,t,r){r(210)("Int32",(function(e){return function(t,r,o){return e(this,t,r,o)}}))},function(e,t,r){"use strict";var o=t;function i(){o.util._configure(),o.Writer._configure(o.BufferWriter),o.Reader._configure(o.BufferReader)}o.build="minimal",o.Writer=r(346),o.BufferWriter=r(376),o.Reader=r(347),o.BufferReader=r(377),o.util=r(172),o.rpc=r(378),o.roots=r(380),o.configure=i,i()},function(e,t,r){"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),o=0,i=2,n=!0;for(;i<arguments.length;)r[o++]=arguments[i++];return new Promise((function(i,a){r[o]=function(e){if(n)if(n=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){n&&(n=!1,a(e))}}))}},function(e,t,r){"use strict";var o=t;o.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),n=new Array(123),a=0;a<64;)n[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;o.encode=function(e,t,r){for(var o,n=null,a=[],s=0,c=0;t<r;){var u=e[t++];switch(c){case 0:a[s++]=i[u>>2],o=(3&u)<<4,c=1;break;case 1:a[s++]=i[o|u>>4],o=(15&u)<<2,c=2;break;case 2:a[s++]=i[o|u>>6],a[s++]=i[63&u],c=0}s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=i[o],a[s++]=61,1===c&&(a[s++]=61)),n?(s&&n.push(String.fromCharCode.apply(String,a.slice(0,s))),n.join("")):String.fromCharCode.apply(String,a.slice(0,s))};o.decode=function(e,t,r){for(var o,i=r,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&a>1)break;if(void 0===(c=n[c]))throw Error("invalid encoding");switch(a){case 0:o=c,a=1;break;case 1:t[r++]=o<<2|(48&c)>>4,o=c,a=2;break;case 2:t[r++]=(15&o)<<4|(60&c)>>2,o=c,a=3;break;case 3:t[r++]=(3&o)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return r-i},o.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,r){"use strict";function o(){this._listeners={}}e.exports=o,o.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},o.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],o=0;o<r.length;)r[o].fn===t?r.splice(o,1):++o;return this},o.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],o=1;o<arguments.length;)r.push(arguments[o++]);for(o=0;o<t.length;)t[o].fn.apply(t[o++].ctx,r)}return this}},function(e,t,r){"use strict";function o(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),o=128===r[3];function i(e,o,i){t[0]=e,o[i]=r[0],o[i+1]=r[1],o[i+2]=r[2],o[i+3]=r[3]}function n(e,o,i){t[0]=e,o[i]=r[3],o[i+1]=r[2],o[i+2]=r[1],o[i+3]=r[0]}function a(e,o){return r[0]=e[o],r[1]=e[o+1],r[2]=e[o+2],r[3]=e[o+3],t[0]}function s(e,o){return r[3]=e[o],r[2]=e[o+1],r[1]=e[o+2],r[0]=e[o+3],t[0]}e.writeFloatLE=o?i:n,e.writeFloatBE=o?n:i,e.readFloatLE=o?a:s,e.readFloatBE=o?s:a}():function(){function t(e,t,r,o){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,o);else if(isNaN(t))e(2143289344,r,o);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,o);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,o);else{var n=Math.floor(Math.log(t)/Math.LN2);e((i<<31|n+127<<23|8388607&Math.round(t*Math.pow(2,-n)*8388608))>>>0,r,o)}}function r(e,t,r){var o=e(t,r),i=2*(o>>31)+1,n=o>>>23&255,a=8388607&o;return 255===n?a?NaN:i*(1/0):0===n?1401298464324817e-60*i*a:i*Math.pow(2,n-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,n),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),o=128===r[7];function i(e,o,i){t[0]=e,o[i]=r[0],o[i+1]=r[1],o[i+2]=r[2],o[i+3]=r[3],o[i+4]=r[4],o[i+5]=r[5],o[i+6]=r[6],o[i+7]=r[7]}function n(e,o,i){t[0]=e,o[i]=r[7],o[i+1]=r[6],o[i+2]=r[5],o[i+3]=r[4],o[i+4]=r[3],o[i+5]=r[2],o[i+6]=r[1],o[i+7]=r[0]}function a(e,o){return r[0]=e[o],r[1]=e[o+1],r[2]=e[o+2],r[3]=e[o+3],r[4]=e[o+4],r[5]=e[o+5],r[6]=e[o+6],r[7]=e[o+7],t[0]}function s(e,o){return r[7]=e[o],r[6]=e[o+1],r[5]=e[o+2],r[4]=e[o+3],r[3]=e[o+4],r[2]=e[o+5],r[1]=e[o+6],r[0]=e[o+7],t[0]}e.writeDoubleLE=o?i:n,e.writeDoubleBE=o?n:i,e.readDoubleLE=o?a:s,e.readDoubleBE=o?s:a}():function(){function t(e,t,r,o,i,n){var a=o<0?1:0;if(a&&(o=-o),0===o)e(0,i,n+t),e(1/o>0?0:2147483648,i,n+r);else if(isNaN(o))e(0,i,n+t),e(2146959360,i,n+r);else if(o>17976931348623157e292)e(0,i,n+t),e((a<<31|2146435072)>>>0,i,n+r);else{var s;if(o<22250738585072014e-324)e((s=o/5e-324)>>>0,i,n+t),e((a<<31|s/4294967296)>>>0,i,n+r);else{var c=Math.floor(Math.log(o)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=o*Math.pow(2,-c))>>>0,i,n+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,i,n+r)}}}function r(e,t,r,o,i){var n=e(o,i+t),a=e(o,i+r),s=2*(a>>31)+1,c=a>>>20&2047,u=4294967296*(1048575&a)+n;return 2047===c?u?NaN:s*(1/0):0===c?5e-324*s*u:s*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function i(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=o(o)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,r){"use strict";var o=t;o.length=function(e){for(var t=0,r=0,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(o+1))?(++o,t+=4):t+=3;return t},o.read=function(e,t,r){if(r-t<1)return"";for(var o,i=null,n=[],a=0;t<r;)(o=e[t++])<128?n[a++]=o:o>191&&o<224?n[a++]=(31&o)<<6|63&e[t++]:o>239&&o<365?(o=((7&o)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,n[a++]=55296+(o>>10),n[a++]=56320+(1023&o)):n[a++]=(15&o)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,n)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,n.slice(0,a))),i.join("")):String.fromCharCode.apply(String,n.slice(0,a))},o.write=function(e,t,r){for(var o,i,n=r,a=0;a<e.length;++a)(o=e.charCodeAt(a))<128?t[r++]=o:o<2048?(t[r++]=o>>6|192,t[r++]=63&o|128):55296==(64512&o)&&56320==(64512&(i=e.charCodeAt(a+1)))?(o=65536+((1023&o)<<10)+(1023&i),++a,t[r++]=o>>18|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>12|224,t[r++]=o>>6&63|128,t[r++]=63&o|128);return r-n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var o=r||8192,i=o>>>1,n=null,a=o;return function(r){if(r<1||r>i)return e(r);a+r>o&&(n=e(o),a=0);var s=t.call(n,a,a+=r);return 7&a&&(a=1+(7|a)),s}}},function(e,t,r){"use strict";e.exports=i;var o=r(172);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var n=i.zero=new i(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return n;var t=e<0;t&&(e=-e);var r=e>>>0,o=(e-r)/4294967296>>>0;return t&&(o=~o>>>0,r=~r>>>0,++r>4294967295&&(r=0,++o>4294967295&&(o=0))),new i(r,o)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(o.isString(e)){if(!o.Long)return i.fromNumber(parseInt(e,10));e=o.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):n},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return o.Long?new o.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?n:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},function(e,t,r){"use strict";e.exports=n;var o=r(346);(n.prototype=Object.create(o.prototype)).constructor=n;var i=r(172);function n(){o.call(this)}function a(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}n._configure=function(){n.alloc=i._Buffer_allocUnsafe,n.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var o=0;o<e.length;)t[r++]=e[o++]}},n.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(n.writeBytesBuffer,t,e),this},n.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},n._configure()},function(e,t,r){"use strict";e.exports=n;var o=r(347);(n.prototype=Object.create(o.prototype)).constructor=n;var i=r(172);function n(e){o.call(this,e)}n._configure=function(){i.Buffer&&(n.prototype._slice=i.Buffer.prototype.slice)},n.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},n._configure()},function(e,t,r){"use strict";t.Service=r(379)},function(e,t,r){"use strict";e.exports=i;var o=r(172);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");o.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(o.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,n,a){if(!n)throw TypeError("request must be specified");var s=this;if(!a)return o.asPromise(e,s,t,r,i,n);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](n).finish(),(function(e,r){if(e)return s.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,r){"use strict";e.exports={}},function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},,function(e,t,r){var o,i,n,a,s;o=r(390),i=r(381).utf8,n=r(391),a=r(381).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):n(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=o.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,d=-1732584194,p=271733878,h=0;h<r.length;h++)r[h]=16711935&(r[h]<<8|r[h]>>>24)|4278255360&(r[h]<<24|r[h]>>>8);r[c>>>5]|=128<<c%32,r[14+(c+64>>>9<<4)]=c;var f=s._ff,g=s._gg,_=s._hh,m=s._ii;for(h=0;h<r.length;h+=16){var y=u,v=l,b=d,w=p;u=f(u,l,d,p,r[h+0],7,-680876936),p=f(p,u,l,d,r[h+1],12,-389564586),d=f(d,p,u,l,r[h+2],17,606105819),l=f(l,d,p,u,r[h+3],22,-1044525330),u=f(u,l,d,p,r[h+4],7,-176418897),p=f(p,u,l,d,r[h+5],12,1200080426),d=f(d,p,u,l,r[h+6],17,-1473231341),l=f(l,d,p,u,r[h+7],22,-45705983),u=f(u,l,d,p,r[h+8],7,1770035416),p=f(p,u,l,d,r[h+9],12,-1958414417),d=f(d,p,u,l,r[h+10],17,-42063),l=f(l,d,p,u,r[h+11],22,-1990404162),u=f(u,l,d,p,r[h+12],7,1804603682),p=f(p,u,l,d,r[h+13],12,-40341101),d=f(d,p,u,l,r[h+14],17,-1502002290),u=g(u,l=f(l,d,p,u,r[h+15],22,1236535329),d,p,r[h+1],5,-165796510),p=g(p,u,l,d,r[h+6],9,-1069501632),d=g(d,p,u,l,r[h+11],14,643717713),l=g(l,d,p,u,r[h+0],20,-373897302),u=g(u,l,d,p,r[h+5],5,-701558691),p=g(p,u,l,d,r[h+10],9,38016083),d=g(d,p,u,l,r[h+15],14,-660478335),l=g(l,d,p,u,r[h+4],20,-405537848),u=g(u,l,d,p,r[h+9],5,568446438),p=g(p,u,l,d,r[h+14],9,-1019803690),d=g(d,p,u,l,r[h+3],14,-187363961),l=g(l,d,p,u,r[h+8],20,1163531501),u=g(u,l,d,p,r[h+13],5,-1444681467),p=g(p,u,l,d,r[h+2],9,-51403784),d=g(d,p,u,l,r[h+7],14,1735328473),u=_(u,l=g(l,d,p,u,r[h+12],20,-1926607734),d,p,r[h+5],4,-378558),p=_(p,u,l,d,r[h+8],11,-2022574463),d=_(d,p,u,l,r[h+11],16,1839030562),l=_(l,d,p,u,r[h+14],23,-35309556),u=_(u,l,d,p,r[h+1],4,-1530992060),p=_(p,u,l,d,r[h+4],11,1272893353),d=_(d,p,u,l,r[h+7],16,-155497632),l=_(l,d,p,u,r[h+10],23,-1094730640),u=_(u,l,d,p,r[h+13],4,681279174),p=_(p,u,l,d,r[h+0],11,-358537222),d=_(d,p,u,l,r[h+3],16,-722521979),l=_(l,d,p,u,r[h+6],23,76029189),u=_(u,l,d,p,r[h+9],4,-640364487),p=_(p,u,l,d,r[h+12],11,-421815835),d=_(d,p,u,l,r[h+15],16,530742520),u=m(u,l=_(l,d,p,u,r[h+2],23,-995338651),d,p,r[h+0],6,-198630844),p=m(p,u,l,d,r[h+7],10,1126891415),d=m(d,p,u,l,r[h+14],15,-1416354905),l=m(l,d,p,u,r[h+5],21,-57434055),u=m(u,l,d,p,r[h+12],6,1700485571),p=m(p,u,l,d,r[h+3],10,-1894986606),d=m(d,p,u,l,r[h+10],15,-1051523),l=m(l,d,p,u,r[h+1],21,-2054922799),u=m(u,l,d,p,r[h+8],6,1873313359),p=m(p,u,l,d,r[h+15],10,-30611744),d=m(d,p,u,l,r[h+6],15,-1560198380),l=m(l,d,p,u,r[h+13],21,1309151649),u=m(u,l,d,p,r[h+4],6,-145523070),p=m(p,u,l,d,r[h+11],10,-1120210379),d=m(d,p,u,l,r[h+2],15,718787259),l=m(l,d,p,u,r[h+9],21,-343485551),u=u+y>>>0,l=l+v>>>0,d=d+b>>>0,p=p+w>>>0}return o.endian([u,l,d,p])})._ff=function(e,t,r,o,i,n,a){var s=e+(t&r|~t&o)+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._gg=function(e,t,r,o,i,n,a){var s=e+(t&o|r&~o)+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._hh=function(e,t,r,o,i,n,a){var s=e+(t^r^o)+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._ii=function(e,t,r,o,i,n,a){var s=e+(r^(t|~o))+(i>>>0)+a;return(s<<n|s>>>32-n)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=o.wordsToBytes(s(e,t));return t&&t.asBytes?r:t&&t.asString?a.bytesToString(r):o.bytesToHex(r)}},,,,,,function(e,t,r){r(8)({target:"Number",stat:!0},{isInteger:r(233)})},function(e,t){var r,o;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&o.rotl(e,8)|4278255360&o.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=o.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,o=0;r<e.length;r++,o+=8)t[o>>>5]|=e[r]<<24-o%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],o=0;o<e.length;o+=3)for(var i=e[o]<<16|e[o+1]<<8|e[o+2],n=0;n<4;n++)8*o+6*n<=8*e.length?t.push(r.charAt(i>>>6*(3-n)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],o=0,i=0;o<e.length;i=++o%4)0!=i&&t.push((r.indexOf(e.charAt(o-1))&Math.pow(2,-2*i+8)-1)<<2*i|r.indexOf(e.charAt(o))>>>6-2*i);return t}},e.exports=o},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";r.r(t),r.d(t,"ZegoSuperBoardManager",(function(){return q}));r(45),r(30),r(59),r(82),r(83),r(84),r(38),r(49),r(67),r(389),r(99),r(209),r(131),r(227),r(113),r(171),r(75),r(120),r(52),r(53),r(268),r(352);var o,i,n,a,s,c,u,l,d,p=r(349),h=r(350),f=r(351),g=r(1),_=r(5),m=r(47),y=r(2),v=(r(72),r(383)),b=r.n(v),w=r(6);!function(e){e[e.None=0]="None",e[e.Pen=1]="Pen",e[e.Text=2]="Text",e[e.Line=4]="Line",e[e.Rect=8]="Rect",e[e.Ellipse=16]="Ellipse",e[e.Selector=32]="Selector",e[e.Eraser=64]="Eraser",e[e.Laser=128]="Laser",e[e.Click=256]="Click",e[e.CustomImage=512]="CustomImage"}(o||(o={})),function(e){e[e.None=1]="None",e[e.Draw=2]="Draw",e[e.Scroll=4]="Scroll",e[e.Zoom=8]="Zoom"}(i||(i={})),function(e){e[e.Graphic=0]="Graphic",e[e.Custom=1]="Custom"}(n||(n={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Bottom=2]="Bottom",e[e.Top=3]="Top",e[e.Center=4]="Center"}(a||(a={})),function(e){e.DisableH5ImageDrag="disableH5ImageDrag",e.PptStepMode="pptStepMode",e.Domain="domain",e.ThumbnailMode="thumbnailMode"}(s||(s={})),function(e){e[e.Unknown=0]="Unknown",e[e.PPT=1]="PPT",e[e.DOC=2]="DOC",e[e.ELS=4]="ELS",e[e.PDF=8]="PDF",e[e.IMG=16]="IMG",e[e.TXT=32]="TXT",e[e.DynamicPPTH5=512]="DynamicPPTH5",e[e.CustomH5=4096]="CustomH5"}(c||(c={})),function(e){e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.WAITING=4]="WAITING",e[e.CONVERTING=8]="CONVERTING",e[e.CONVERTED=16]="CONVERTED",e[e.CONVERTFAIL=32]="CONVERTFAIL",e[e.CONVERTCANCEL=64]="CONVERTCANCEL"}(u||(u={})),function(e){e[e.Vector=1]="Vector",e[e.IMG=2]="IMG",e[e.VectorAndIMG=3]="VectorAndIMG",e[e.DynamicPPTH5=6]="DynamicPPTH5",e[e.CustomH5=7]="CustomH5"}(l||(l={})),function(e){e[e.ZegoSuperBoardSuccess=0]="ZegoSuperBoardSuccess",e[e.ZegoSuperBoardErrorInternal=3100001]="ZegoSuperBoardErrorInternal",e[e.ZegoSuperBoardErrorParamInvalid=3100002]="ZegoSuperBoardErrorParamInvalid",e[e.ZegoSuperBoardErrorNetworkTimeout=3100003]="ZegoSuperBoardErrorNetworkTimeout",e[e.ZegoSuperBoardErrorNetworkDisconnect=3100004]="ZegoSuperBoardErrorNetworkDisconnect",e[e.ZegoSuperBoardErrorResponse=3100005]="ZegoSuperBoardErrorResponse",e[e.ZegoSuperBoardErrorRequestTooFrequent=3100006]="ZegoSuperBoardErrorRequestTooFrequent",e[e.ZegoSuperBoardErrorVersionMismatch=3100007]="ZegoSuperBoardErrorVersionMismatch",e[e.ZegoSuperBoardErrorLogFolderNotAccess=3140010]="ZegoSuperBoardErrorLogFolderNotAccess",e[e.ZegoSuperBoardErrorCacheFolderNotAccess=3140011]="ZegoSuperBoardErrorCacheFolderNotAccess",e[e.ZegoSuperBoardErrorNoLoginRoom=3110001]="ZegoSuperBoardErrorNoLoginRoom",e[e.ZegoSuperBoardErrorUserNotExist=3110002]="ZegoSuperBoardErrorUserNotExist",e[e.ZegoSuperBoardErrorViewNotExist=3120001]="ZegoSuperBoardErrorViewNotExist",e[e.ZegoSuperBoardErrorViewCreateFail=3120002]="ZegoSuperBoardErrorViewCreateFail",e[e.ZegoSuperBoardErrorViewModifyFail=3120003]="ZegoSuperBoardErrorViewModifyFail",e[e.ZegoSuperBoardErrorViewNameLimit=3120004]="ZegoSuperBoardErrorViewNameLimit",e[e.ZegoSuperBoardErrorViewParentNotExist=3120005]="ZegoSuperBoardErrorViewParentNotExist",e[e.ZegoSuperBoardErrorViewNumLimit=3120006]="ZegoSuperBoardErrorViewNumLimit",e[e.ZegoSuperBoardErrorAnimationInfoLimit=3120007]="ZegoSuperBoardErrorAnimationInfoLimit",e[e.ZegoSuperBoardErrorGraphicNotExist=3130001]="ZegoSuperBoardErrorGraphicNotExist",e[e.ZegoSuperBoardErrorGraphicCreateFail=3130002]="ZegoSuperBoardErrorGraphicCreateFail",e[e.ZegoSuperBoardErrorGraphicModifyFail=3130003]="ZegoSuperBoardErrorGraphicModifyFail",e[e.ZegoSuperBoardErrorGraphicUnableDraw=3130004]="ZegoSuperBoardErrorGraphicUnableDraw",e[e.ZegoSuperBoardErrorGraphicDataLimit=3130005]="ZegoSuperBoardErrorGraphicDataLimit",e[e.ZegoSuperBoardErrorGraphicNumLimit=3130006]="ZegoSuperBoardErrorGraphicNumLimit",e[e.ZegoSuperBoardErrorGraphicTextLimit=3130007]="ZegoSuperBoardErrorGraphicTextLimit",e[e.ZegoSuperBoardErrorGraphicImageSizeLimit=3130008]="ZegoSuperBoardErrorGraphicImageSizeLimit",e[e.ZegoSuperBoardErrorGraphicImageTypeNotSupport=3130009]="ZegoSuperBoardErrorGraphicImageTypeNotSupport",e[e.ZegoSuperBoardErrorGraphicIllegalAddress=3130010]="ZegoSuperBoardErrorGraphicIllegalAddress",e[e.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit=3130011]="ZegoWhiteboardViewErrorGraphicCursorOffsetLimit",e[e.ZegoSuperBoardErrorInitFail=3140001]="ZegoSuperBoardErrorInitFail",e[e.ZegoSuperBoardErrorGetListFail=3140002]="ZegoSuperBoardErrorGetListFail",e[e.ZegoSuperBoardErrorCreateFail=3140003]="ZegoSuperBoardErrorCreateFail",e[e.ZegoSuperBoardErrorDestroyFail=3140004]="ZegoSuperBoardErrorDestroyFail",e[e.ZegoSuperBoardErrorAttachFail=3140005]="ZegoSuperBoardErrorAttachFail",e[e.ZegoSuperBoardErrorClearFail=3140006]="ZegoSuperBoardErrorClearFail",e[e.ZegoSuperBoardErrorScrollFail=3140007]="ZegoSuperBoardErrorScrollFail",e[e.ZegoSuperBoardErrorUndoFail=3140008]="ZegoSuperBoardErrorUndoFail",e[e.ZegoSuperBoardErrorRedoFail=3140009]="ZegoSuperBoardErrorRedoFail",e[e.ZegoSuperBoardErrorSwitchFail=3140012]="ZegoSuperBoardErrorSwitchFail",e[e.ZegoSuperBoardErrorNoAuthScale=3150001]="ZegoSuperBoardErrorNoAuthScale",e[e.ZegoSuperBoardErrorNoAuthScroll=3150002]="ZegoSuperBoardErrorNoAuthScroll",e[e.ZegoSuperBoardErrorNoAuthCreateGraphic=3150003]="ZegoSuperBoardErrorNoAuthCreateGraphic",e[e.ZegoSuperBoardErrorNoAuthUpdateGraphic=3150004]="ZegoSuperBoardErrorNoAuthUpdateGraphic",e[e.ZegoSuperBoardErrorNoAuthMoveGraphic=3150005]="ZegoSuperBoardErrorNoAuthMoveGraphic",e[e.ZegoSuperBoardErrorNoAuthDeleteGraphic=3150006]="ZegoSuperBoardErrorNoAuthDeleteGraphic",e[e.ZegoSuperBoardErrorNoAuthClearGraphic=3150007]="ZegoSuperBoardErrorNoAuthClearGraphic",e[e.ZegoSuperBoardErrorDocParamInvalid=3100002]="ZegoSuperBoardErrorDocParamInvalid",e[e.ZegoSuperBoardErrorFileNotExist=3111001]="ZegoSuperBoardErrorFileNotExist",e[e.ZegoSuperBoardErrorUploadFailed=3111002]="ZegoSuperBoardErrorUploadFailed",e[e.ZegoSuperBoardErrorUnsupportRenderType=3111003]="ZegoSuperBoardErrorUnsupportRenderType",e[e.ZegoSuperBoardErrorFileEncrypt=3121001]="ZegoSuperBoardErrorFileEncrypt",e[e.ZegoSuperBoardErrorFileSizeLimit=3121002]="ZegoSuperBoardErrorFileSizeLimit",e[e.ZegoSuperBoardErrorFileSheetLimit=3121003]="ZegoSuperBoardErrorFileSheetLimit",e[e.ZegoSuperBoardErrorConvertFail=3121004]="ZegoSuperBoardErrorConvertFail",e[e.ZegoSuperBoardErrorConvertCancel=3121005]="ZegoSuperBoardErrorConvertCancel",e[e.ZegoSuperBoardErrorFileContentEmpty=3121006]="ZegoSuperBoardErrorFileContentEmpty",e[e.ZegoSuperBoardErrorFileReadOnly=3121007]="ZegoSuperBoardErrorFileReadOnly",e[e.ZegoSuperBoardErrorConvertElementNotSupported=3121008]="ZegoSuperBoardErrorConvertElementNotSupported",e[e.ZegoSuperBoardErrorConvertFileTypeInvalid=3121009]="ZegoSuperBoardErrorConvertFileTypeInvalid",e[e.ZegoSuperBoardErrorFileCorruption=3131018]="ZegoSuperBoardErrorFileCorruption",e[e.ZegoSuperBoardErrorFileContentIncomplete=3131019]="ZegoSuperBoardErrorFileContentIncomplete",e[e.ZegoSuperBoardErrorAuthParamInvalid=3131001]="ZegoSuperBoardErrorAuthParamInvalid",e[e.ZegoSuperBoardErrorFilePathNotAccess=3131002]="ZegoSuperBoardErrorFilePathNotAccess",e[e.ZegoSuperBoardErrorInitFailed=3131003]="ZegoSuperBoardErrorInitFailed",e[e.ZegoSuperBoardErrorSizeInvalid=3131004]="ZegoSuperBoardErrorSizeInvalid",e[e.ZegoSuperBoardErrorFreeSpaceLimit=3131005]="ZegoSuperBoardErrorFreeSpaceLimit",e[e.ZegoSuperBoardErrorUploadNotSupported=3131006]="ZegoSuperBoardErrorUploadNotSupported",e[e.ZegoSuperBoardErrorUploadDuplicated=3131007]="ZegoSuperBoardErrorUploadDuplicated",e[e.ZegoSuperBoardErrorEmptyDomain=3131008]="ZegoSuperBoardErrorEmptyDomain",e[e.ZegoSuperBoardErrorDuplicateInit=3131009]="ZegoSuperBoardErrorDuplicateInit",e[e.ZegoSuperBoardErrorServerFileNotExist=3131010]="ZegoSuperBoardErrorServerFileNotExist",e[e.ZegoSuperBoardErrorDocLogFolderNotAccess=3131011]="ZegoSuperBoardErrorDocLogFolderNotAccess",e[e.ZegoSuperBoardErrorDocCacheFolderNotAccess=3131012]="ZegoSuperBoardErrorDocCacheFolderNotAccess",e[e.ZegoSuperBoardErrorDocDataFolderNotAccess=3131013]="ZegoSuperBoardErrorDocDataFolderNotAccess",e[e.ZegoSuperBoardErrorCacheNotSupported=3131014]="ZegoSuperBoardErrorCacheNotSupported",e[e.ZegoSuperBoardErrorCacheFailed=3131015]="ZegoSuperBoardErrorCacheFailed",e[e.ZegoSuperBoardErrorZipFileInvalid=3131016]="ZegoSuperBoardErrorZipFileInvalid",e[e.ZegoSuperBoardErrorH5FileInvalid=3131017]="ZegoSuperBoardErrorH5FileInvalid",e[e.ZegoBridgeErrorNotReady=3112001]="ZegoBridgeErrorNotReady",e[e.ZegoBridgeErrorParamInvalid=3112002]="ZegoBridgeErrorParamInvalid",e[e.ZegoBridgeErrorRecordListLimit=3112003]="ZegoBridgeErrorRecordListLimit",e[e.ZegoBridgeErrorH5=3112006]="ZegoBridgeErrorH5",e[e.ZegoSuperBoardErrorConvertFileUnsafe=3121010]="ZegoSuperBoardErrorConvertFileUnsafe",e[e.ZegoSuperBoardErrorConvertElementNotExported=3121011]="ZegoSuperBoardErrorConvertElementNotExported",e[e.ZegoSuperBoardErrorRequestFailure=3100009]="ZegoSuperBoardErrorRequestFailure"}(d||(d={}));var S,I,x=r(32),O=((S={})[d.ZegoSuperBoardErrorInternal]="内部错误",S[d.ZegoSuperBoardErrorParamInvalid]="参数错误",S[d.ZegoSuperBoardErrorNetworkTimeout]="网络超时",S[d.ZegoSuperBoardErrorNetworkDisconnect]="网络断开",S[d.ZegoSuperBoardErrorResponse]="网络回包错误",S[d.ZegoSuperBoardErrorRequestTooFrequent]="请求过于频繁",S[d.ZegoSuperBoardErrorNoLoginRoom]="未登录房间",S[d.ZegoSuperBoardErrorUserNotExist]="用户不存在",S[d.ZegoSuperBoardErrorViewNotExist]="白板view不存在",S[d.ZegoSuperBoardErrorViewCreateFail]="创建白板view失败",S[d.ZegoSuperBoardErrorViewModifyFail]="修改白板view失败",S[d.ZegoSuperBoardErrorViewNameLimit]="白板view名称或者content过长",S[d.ZegoSuperBoardErrorViewParentNotExist]="白板view的parent不存在",S[d.ZegoSuperBoardErrorViewNumLimit]="超过白板最大数量限制",S[d.ZegoSuperBoardErrorGraphicNotExist]="图元不存在",S[d.ZegoSuperBoardErrorGraphicCreateFail]="创建图元错误",S[d.ZegoSuperBoardErrorGraphicModifyFail]="修改图元错误",S[d.ZegoSuperBoardErrorGraphicUnableDraw]="未开启绘制",S[d.ZegoSuperBoardErrorGraphicDataLimit]="图元数据大小超过限制",S[d.ZegoSuperBoardErrorGraphicNumLimit]="超过图元最大数量限制",S[d.ZegoSuperBoardErrorGraphicTextLimit]="文本字数超过上限",S[d.ZegoSuperBoardErrorGraphicImageSizeLimit]="图片图元大小超限制",S[d.ZegoSuperBoardErrorGraphicImageTypeNotSupport]="不支持的图片类型",S[d.ZegoSuperBoardErrorGraphicIllegalAddress]="无效图片地址",S[d.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit]="光标设置偏移值超出限制",S[d.ZegoSuperBoardErrorInitFail]="初始化失败",S[d.ZegoSuperBoardErrorGetListFail]="拉取白板view列表失败",S[d.ZegoSuperBoardErrorCreateFail]="创建白板view失败",S[d.ZegoSuperBoardErrorDestroyFail]="销毁白板view失败",S[d.ZegoSuperBoardErrorAttachFail]="attach白板view失败",S[d.ZegoSuperBoardErrorClearFail]="清空白板view失败",S[d.ZegoSuperBoardErrorScrollFail]="滚动白板view失败",S[d.ZegoSuperBoardErrorUndoFail]="撤销操作失败",S[d.ZegoSuperBoardErrorRedoFail]="重做操作失败",S[d.ZegoSuperBoardErrorNoAuthScale]="无白板缩放权限",S[d.ZegoSuperBoardErrorNoAuthScroll]="无白板滚动权限",S[d.ZegoSuperBoardErrorNoAuthCreateGraphic]="无图元创建权限",S[d.ZegoSuperBoardErrorNoAuthUpdateGraphic]="无图元编辑权限",S[d.ZegoSuperBoardErrorNoAuthMoveGraphic]="无图元移动权限",S[d.ZegoSuperBoardErrorNoAuthDeleteGraphic]="无图元删除权限",S[d.ZegoSuperBoardErrorNoAuthClearGraphic]="无白板清空权限",S[d.ZegoSuperBoardErrorAnimationInfoLimit]="动画信息过长",S[d.ZegoSuperBoardErrorFileNotExist]="找不到对应的本地文件",S[d.ZegoSuperBoardErrorUploadFailed]="上传失败",S[d.ZegoSuperBoardErrorUnsupportRenderType]="不支持渲染模式",S[d.ZegoSuperBoardErrorFileEncrypt]="需要转码的文件被加密",S[d.ZegoSuperBoardErrorFileSizeLimit]="文件内容过大",S[d.ZegoSuperBoardErrorFileSheetLimit]="文件页数过多",S[d.ZegoSuperBoardErrorConvertFail]="格式转换失败",S[d.ZegoSuperBoardErrorConvertCancel]="格式转换被取消",S[d.ZegoSuperBoardErrorFileContentEmpty]="文件内容为空",S[d.ZegoSuperBoardErrorFileReadOnly]="文件为只读模式",S[d.ZegoSuperBoardErrorConvertElementNotSupported]="\t源文件中存在不支持转码的元素",S[d.ZegoSuperBoardErrorConvertFileTypeInvalid]="文件后缀名不符合 ZEGO 定义的文件规范",S[d.ZegoSuperBoardErrorFileCorruption]="文件损坏",S[d.ZegoSuperBoardErrorFileContentIncomplete]="文件内容不完整",S[d.ZegoSuperBoardErrorAuthParamInvalid]="认证参数错误",S[d.ZegoSuperBoardErrorInitFailed]="初始化失败",S[d.ZegoSuperBoardErrorFreeSpaceLimit]="本地空间不足",S[d.ZegoSuperBoardErrorUploadNotSupported]="不支持文件上传功能",S[d.ZegoSuperBoardErrorUploadDuplicated]="正在上传相同文件",S[d.ZegoSuperBoardErrorEmptyDomain]="空域名",S[d.ZegoSuperBoardErrorSizeInvalid]="无法获取当前 view 宽高",S[d.ZegoSuperBoardErrorServerFileNotExist]="找不到对应的转码后文件",S[d.ZegoSuperBoardErrorCacheNotSupported]="不支持预加载该文件",S[d.ZegoSuperBoardErrorCacheFailed]="预加载失败",S[d.ZegoSuperBoardErrorZipFileInvalid]="无效的 ZIP 文件",S[d.ZegoSuperBoardErrorH5FileInvalid]="无效的 H5 文件",S[d.ZegoSuperBoardErrorConvertFileUnsafe]="源文件中存在安全隐患，无法正常打开",S[d.ZegoSuperBoardErrorConvertElementNotExported]="转码结束后存在图片、音视频文件未正常导出",S[d.ZegoSuperBoardErrorInternal]="内部错误",S[d.ZegoSuperBoardErrorNetworkTimeout]="网络超时",S[d.ZegoSuperBoardErrorDuplicateInit]="已初始化",S[d.ZegoSuperBoardErrorRequestFailure]="请求失败",S[d.ZegoBridgeErrorNotReady]="H5 没有调用 getReady",S[d.ZegoBridgeErrorParamInvalid]="参数错误",S[d.ZegoBridgeErrorRecordListLimit]="recordList 字节长度超过限制",S[d.ZegoBridgeErrorH5]="H5 内部代码执行出错",S),E=((I={})[x.b.ZegoWhiteboardViewErrorInternal]=d.ZegoSuperBoardErrorInternal,I[x.b.ZegoWhiteboardViewErrorParamInvalid]=d.ZegoSuperBoardErrorParamInvalid,I[x.b.ZegoWhiteboardViewErrorNetworkTimeout]=d.ZegoSuperBoardErrorNetworkTimeout,I[x.b.ZegoWhiteboardViewErrorNetworkDisconnect]=d.ZegoSuperBoardErrorNetworkDisconnect,I[x.b.ZegoWhiteboardViewErrorInvalidRsp]=d.ZegoSuperBoardErrorResponse,I[x.b.ZegoWhiteboardViewErrorRequestTooMany]=d.ZegoSuperBoardErrorRequestTooFrequent,I[x.b.ZegoWhiteboardViewErrorVersionMismatch]=d.ZegoSuperBoardErrorVersionMismatch,I[x.b.ZegoWhiteboardViewErrorNoLoginRoom]=d.ZegoSuperBoardErrorNoLoginRoom,I[x.b.ZegoWhiteboardViewErrorUserNotExist]=d.ZegoSuperBoardErrorUserNotExist,I[x.b.ZegoWhiteboardViewErrorViewNotExist]=d.ZegoSuperBoardErrorViewNotExist,I[x.b.ZegoWhiteboardViewErrorViewCreateFail]=d.ZegoSuperBoardErrorViewCreateFail,I[x.b.ZegoWhiteboardViewErrorViewModifyFail]=d.ZegoSuperBoardErrorViewModifyFail,I[x.b.ZegoWhiteboardViewErrorViewNameLimit]=d.ZegoSuperBoardErrorViewNameLimit,I[x.b.ZegoWhiteboardViewErrorViewParentNotExist]=d.ZegoSuperBoardErrorViewParentNotExist,I[x.b.ZegoWhiteboardViewErrorViewNumLimit]=d.ZegoSuperBoardErrorViewNumLimit,I[x.b.ZegoWhiteboardViewErrorAnimationInfoLimit]=d.ZegoSuperBoardErrorAnimationInfoLimit,I[x.b.ZegoWhiteboardViewErrorGraphicNotExist]=d.ZegoSuperBoardErrorGraphicNotExist,I[x.b.ZegoWhiteboardViewErrorGraphicCreateFail]=d.ZegoSuperBoardErrorGraphicCreateFail,I[x.b.ZegoWhiteboardViewErrorGraphicModifyFail]=d.ZegoSuperBoardErrorGraphicModifyFail,I[x.b.ZegoWhiteboardViewErrorGraphicUnableDraw]=d.ZegoSuperBoardErrorGraphicUnableDraw,I[x.b.ZegoWhiteboardViewErrorGraphicDataLimit]=d.ZegoSuperBoardErrorGraphicDataLimit,I[x.b.ZegoWhiteboardViewErrorGraphicNumLimit]=d.ZegoSuperBoardErrorGraphicNumLimit,I[x.b.ZegoWhiteboardViewErrorGraphicTextLimit]=d.ZegoSuperBoardErrorGraphicTextLimit,I[x.b.ZegoWhiteboardViewErrorGraphicImageSizeLimit]=d.ZegoSuperBoardErrorGraphicImageSizeLimit,I[x.b.ZegoWhiteboardViewErrorGraphicImageTypeNotSupport]=d.ZegoSuperBoardErrorGraphicImageTypeNotSupport,I[x.b.ZegoWhiteboardViewErrorInitFail]=d.ZegoSuperBoardErrorInitFail,I[x.b.ZegoWhiteboardViewErrorGetListFail]=d.ZegoSuperBoardErrorGetListFail,I[x.b.ZegoWhiteboardViewErrorCreateFail]=d.ZegoSuperBoardErrorCreateFail,I[x.b.ZegoWhiteboardViewErrorDestroyFail]=d.ZegoSuperBoardErrorDestroyFail,I[x.b.ZegoWhiteboardViewErrorAttachFail]=d.ZegoSuperBoardErrorAttachFail,I[x.b.ZegoWhiteboardViewErrorClearFail]=d.ZegoSuperBoardErrorClearFail,I[x.b.ZegoWhiteboardViewErrorScrollFail]=d.ZegoSuperBoardErrorScrollFail,I[x.b.ZegoWhiteboardViewErrorUndoFail]=d.ZegoSuperBoardErrorUndoFail,I[x.b.ZegoWhiteboardViewErrorRedoFail]=d.ZegoSuperBoardErrorRedoFail,I[x.b.ZegoWhiteboardViewErrorNoAuthScale]=d.ZegoSuperBoardErrorNoAuthScale,I[x.b.ZegoWhiteboardViewErrorNoAuthScroll]=d.ZegoSuperBoardErrorNoAuthScroll,I[x.b.ZegoWhiteboardViewErrorNoAuthCreateGraphic]=d.ZegoSuperBoardErrorNoAuthCreateGraphic,I[x.b.ZegoWhiteboardViewErrorNoAuthUpdateGraphic]=d.ZegoSuperBoardErrorNoAuthUpdateGraphic,I[x.b.ZegoWhiteboardViewErrorNoAuthMoveGraphic]=d.ZegoSuperBoardErrorNoAuthMoveGraphic,I[x.b.ZegoWhiteboardViewErrorNoAuthDeleteGraphic]=d.ZegoSuperBoardErrorNoAuthDeleteGraphic,I[x.b.ZegoWhiteboardViewErrorNoAuthClearGraphic]=d.ZegoSuperBoardErrorNoAuthClearGraphic,I[x.b.ZegoWhiteboardViewErrorGraphicIllegalUrl]=d.ZegoSuperBoardErrorGraphicIllegalAddress,I[x.b.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit]=d.ZegoWhiteboardViewErrorGraphicCursorOffsetLimit,I[x.b.ZegoWhiteboardViewErrorLogFolderNotAccess]=d.ZegoSuperBoardErrorLogFolderNotAccess,I[x.b.ZegoWhiteboardViewErrorCacheFolderNotAccess]=d.ZegoSuperBoardErrorCacheFolderNotAccess,I[y.b.ZegoDocsViewErrorInternal]=d.ZegoSuperBoardErrorInternal,I[y.b.ZegoDocsViewErrorNetworkTimeout]=d.ZegoSuperBoardErrorNetworkTimeout,I[y.b.ZegoDocsViewErrorParamInvalid]=d.ZegoSuperBoardErrorDocParamInvalid,I[y.b.ZegoDocsViewErrorFileNotExist]=d.ZegoSuperBoardErrorFileNotExist,I[y.b.ZegoDocsViewErrorUploadFailed]=d.ZegoSuperBoardErrorUploadFailed,I[y.b.ZegoDocsViewErrorUnsupportRenderType]=d.ZegoSuperBoardErrorUnsupportRenderType,I[y.b.ZegoDocsViewErrorFileEncrypt]=d.ZegoSuperBoardErrorFileEncrypt,I[y.b.ZegoDocsViewErrorFileSizeLimit]=d.ZegoSuperBoardErrorFileSizeLimit,I[y.b.ZegoDocsViewErrorFileSheetLimit]=d.ZegoSuperBoardErrorFileSheetLimit,I[y.b.ZegoDocsViewErrorConvertFail]=d.ZegoSuperBoardErrorConvertFail,I[y.b.ZegoDocsViewErrorConvertCancel]=d.ZegoSuperBoardErrorConvertCancel,I[y.b.ZegoDocsViewErrorFileContentEmpty]=d.ZegoSuperBoardErrorFileContentEmpty,I[y.b.ZegoDocsViewErrorFileReadOnly]=d.ZegoSuperBoardErrorFileReadOnly,I[y.b.ZegoDocsViewErrorConvertElementNotSupported]=d.ZegoSuperBoardErrorConvertElementNotSupported,I[y.b.ZegoDocsViewErrorConvertFileTypeInvalid]=d.ZegoSuperBoardErrorConvertFileTypeInvalid,I[y.b.ZegoDocsViewErrorFileCorruption]=d.ZegoSuperBoardErrorFileCorruption,I[y.b.ZegoDocsViewErrorFileContentIncomplete]=d.ZegoSuperBoardErrorFileContentIncomplete,I[y.b.ZegoDocsViewErrorAuthParamInvalid]=d.ZegoSuperBoardErrorAuthParamInvalid,I[y.b.ZegoDocsViewErrorFilePathNotAccess]=d.ZegoSuperBoardErrorFilePathNotAccess,I[y.b.ZegoDocsViewErrorInitFailed]=d.ZegoSuperBoardErrorInitFailed,I[y.b.ZegoDocsViewErrorSizeInvalid]=d.ZegoSuperBoardErrorSizeInvalid,I[y.b.ZegoDocsViewErrorFreeSpaceLimit]=d.ZegoSuperBoardErrorFreeSpaceLimit,I[y.b.ZegoDocsViewErrorUploadNotSupported]=d.ZegoSuperBoardErrorUploadNotSupported,I[y.b.ZegoDocsViewErrorUploadDuplicated]=d.ZegoSuperBoardErrorUploadDuplicated,I[y.b.ZegoDocsViewErrorEmptyDomain]=d.ZegoSuperBoardErrorEmptyDomain,I[y.b.ZegoDocsViewErrorServerFileNotExist]=d.ZegoSuperBoardErrorServerFileNotExist,I[y.b.ZegoDocsViewErrorCacheNotSupported]=d.ZegoSuperBoardErrorCacheNotSupported,I[y.b.ZegoDocsViewErrorCacheFailed]=d.ZegoSuperBoardErrorCacheFailed,I[y.b.ZegoDocsViewErrorZipFileInvalid]=d.ZegoSuperBoardErrorZipFileInvalid,I[y.b.ZegoDocsViewErrorH5FileInvalid]=d.ZegoSuperBoardErrorH5FileInvalid,I[y.b.ZegoDocsViewErrorHaveInit]=d.ZegoSuperBoardErrorDuplicateInit,I[y.b.ZegoDocsViewErrorConvertFileUnsafe]=d.ZegoSuperBoardErrorConvertFileUnsafe,I[y.b.ZegoDocsViewErrorConvertElementNotExported]=d.ZegoSuperBoardErrorConvertElementNotExported,I[y.b.ZegoDocsViewErrorRequestFailure]=d.ZegoSuperBoardErrorRequestFailure,I[10001]="H5 没有调用 getReady",I[10002]="参数错误",I[10003]="recordList 字节长度超过限制",I[10006]="H5 内部代码执行出错",I),P=function(){return b()("webSuperboard"+((new Date).getTime()+Math.round(1e3*Math.random())))},k=function(){return Object(w.d)()},D=function(e,t){var r;return{code:r=function(e){return E[e]||e}(e),message:t=O[r]||t||O[d.ZegoSuperBoardErrorInternal]}};function T(e){var t;try{t=new Blob([e]).size}catch(r){t=unescape(encodeURIComponent(e)).length}return t}var A=function(e){if(T(e)<=128)return e;for(var t=e.length/2|0,r=t,o=t+1;r>0&&o<e.length;){var i=e.substr(0,r)+"..."+e.substr(o);if(T(i)<=128)return i;r--,o++}return e},C=function(){function e(){if(this.parentDomID="",this.isUseBoardView=!0,this.curSubView=null,e.instance)return e.instance;e.instance=this}return e.getInstance=function(){return this.instance||(this.instance=new e)},e.prototype.setParentDomID=function(e){return this.parentDomID=e,g.a.getInstance().info(["SuperBorad_BoardView"],"setParentDomID",JSON.stringify({parentDomID:e})),this},e.prototype.getParentDomID=function(){return g.a.getInstance().info(["SuperBorad_BoardView"],"getParentDomID",JSON.stringify({parentDomID:this.parentDomID})),this.parentDomID},e.prototype.enableUseBoardView=function(e){this.isUseBoardView=e},e.prototype.setCurrentSuperBoardSubView=function(e,t){return g.a.getInstance().info(["SuperBorad_BoardView"],"setCurrentSuperBoardSubView",JSON.stringify({subView:null==e?void 0:e.getModel(),sheetIndex:t})),this.isUseBoardView?(this.curSubView=e,this.curSubView&&this.curSubView.switchWhiteboardView(t)):this.curSubView=null,this},e.prototype.getCurrentSuperBoardSubView=function(){var e;return g.a.getInstance().info(["SuperBorad_BoardView"],"API.getCurrentSuperBoardSubView",JSON.stringify({curSubView:null===(e=this.curSubView)||void 0===e?void 0:e.getModel()})),this.curSubView},e.prototype.switchSuperBoardSubView=function(e,t){return g.a.getInstance().info(["SuperBorad_BoardView"],"API.switchSuperBoardSubView",JSON.stringify({uniqueID:e,sheetIndex:t})),new Promise((function(r,o){_.e.emit(_.d.SyncSwitchMod,e,t,r,o)}))},e}(),B=(r(258),function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))}),N=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},M=function(){function e(e,t,r){var o;this.curDocsView=null,this.whiteboardViews=e,this.docsViews=t;var i=e.findIndex((function(e){return!!e}));this.switchWhiteboardView(i);var n,a=this.curWhiteboardView.getFileInfo(),s=[];if(r)if(a&&a.fileType===c.ELS){var u=null===(o=this.curDocsView)||void 0===o?void 0:o.getExcelSheetNameList();u&&u.findIndex((function(t,r){e.map((function(e){var r;(null===(r=e.getFileInfo())||void 0===r?void 0:r.fileName)==t&&s.push(e.getID())}))}))}else s.push(this.curWhiteboardView.getID());(n=this.curWhiteboardView.getUniqueID())||(n=a&&a.fileType===c.ELS?a.fileID:this.curWhiteboardView.getID()),this.model=Object.freeze({uniqueID:n,name:this.curWhiteboardView.getName(),createTime:this.curWhiteboardView.getCreateTime(),fileID:a?a.fileID:"",fileType:a?a.fileType:0,whiteboardIDList:r?s:e.map((function(e){return e.getID()}))})}return e.prototype.getWhiteboardViewList=function(){return this.whiteboardViews},e.prototype.getCurrentWhiteboardView=function(){return this.curWhiteboardView},e.prototype.findWhiteboardView=function(e){return this.whiteboardViews[e]||this.whiteboardViews[0]},e.prototype.switchWhiteboardView=function(e){this.curWhiteboardView=this.whiteboardViews[e],this.curDocsView=this.docsViews[e]},e.prototype.insertView=function(e,t,r){this.whiteboardViews[e]=t,this.docsViews[e]=r,this.model.whiteboardIDList[e]=t.getID()},e.prototype.getModel=function(){return this.model},e.prototype.getPageCount=function(){var e=this.curWhiteboardView.getPageCount();return g.a.getInstance().info(["SuperBorad_SubView"],"API.getPageCount",JSON.stringify({pageCount:e})),e},e.prototype.getCurrentPage=function(){var e=this.curWhiteboardView.getCurrentPage();return g.a.getInstance().info(["SuperBorad_SubView"],"API.getCurrentPage",JSON.stringify({currentPage:e})),e},e.prototype.getCurrentStep=function(){var e=this.curDocsView?this.curDocsView.getCurrentStep():1;return g.a.getInstance().info(["SuperBorad_SubView"],"API.getCurrentStep",JSON.stringify({currentStep:e})),e},e.prototype.getVisibleSize=function(){var e=this.curWhiteboardView.getVisibleSize();return g.a.getInstance().info(["SuperBorad_SubView"],"API.getVisibleSize",JSON.stringify({visibleSize:e})),e},e.prototype.flipToPage=function(e){g.a.getInstance().info(["SuperBorad_SubView"],"API.flipToPage",JSON.stringify({page:e}));var t=(e-1)/this.getPageCount();return g.a.getInstance().info(["SuperBorad_SubView"],"flipToPage",JSON.stringify({percent:t})),this.model.fileID?this.curWhiteboardView.scroll(0,t):this.curWhiteboardView.scroll(t,0)},e.prototype.flipToPrePage=function(){var e=this.getCurrentPage();return g.a.getInstance().info(["SuperBorad_SubView"],"API.flipToPrePage",JSON.stringify({page:e-1})),e>1&&this.flipToPage(e-1)},e.prototype.flipToNextPage=function(){var e=this.getCurrentPage();return g.a.getInstance().info(["SuperBorad_SubView"],"API.flipToNextPage",JSON.stringify({page:e+1})),e<this.getPageCount()&&this.flipToPage(e+1)},e.prototype.preStep=function(){g.a.getInstance().info(["SuperBorad_SubView"],"API.preStep"),this.curDocsView&&this.curDocsView.previousStep()},e.prototype.nextStep=function(){g.a.getInstance().info(["SuperBorad_SubView"],"API.nextStep"),this.curDocsView&&this.curDocsView.nextStep()},e.prototype.addText=function(e,t,r){g.a.getInstance().info(["SuperBorad_SubView"],"API.addText",JSON.stringify({text:e,positionX:t,positionY:r})),this.curWhiteboardView.addText(e,t,r)},e.prototype.addImage=function(e,t,r,o,i){var n=this;return g.a.getInstance().info(["SuperBorad_SubView"],"API.addImage",JSON.stringify({type:e,positionX:t,positionY:r,address:o})),new Promise((function(a,s){return B(n,void 0,void 0,(function(){var n,c,u;return N(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.curWhiteboardView.addImage(e,t,r,o,i)];case 1:return n=l.sent(),a(n),[3,3];case 2:return c=l.sent(),u=D(c.code,c.msg),g.a.getInstance().error(["SuperBorad_SubView"],"API.addImage",JSON.stringify({transErr:u})),s(u),[3,3];case 3:return[2]}}))}))}))},e.prototype.setBackgroundImage=function(e,t,r){var o=this;return g.a.getInstance().info(["SuperBorad_SubView"],"API.setBackgroundImage",JSON.stringify({address:e,mode:t})),new Promise((function(i,n){return B(o,void 0,void 0,(function(){var o,a,s;return N(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.curWhiteboardView.setBackgroundImage(e,t,r)];case 1:return o=c.sent(),i(o),[3,3];case 2:return a=c.sent(),s=D(a.code,a.msg),g.a.getInstance().error(["SuperBorad_SubView"],"API.setBackgroundImage",JSON.stringify(s)),n(s),[3,3];case 3:return[2]}}))}))}))},e.prototype.clearBackgroundImage=function(){g.a.getInstance().info(["SuperBorad_SubView"],"API.clearBackgroundImage"),this.curWhiteboardView.clearBackgroundImage()},e.prototype.clearAllPage=function(){return g.a.getInstance().info(["SuperBorad_SubView"],"API.clearAllPage"),this.curWhiteboardView.clear()},e.prototype.clearCurrentPage=function(){g.a.getInstance().info(["SuperBorad_SubView"],"API.clearCurrentPage"),this.curWhiteboardView.clearCurrentPage()},e.prototype.clearSelected=function(){g.a.getInstance().info(["SuperBorad_SubView"],"API.clearSelected"),this.curWhiteboardView.deleteSelectedGraphics()},e.prototype.undo=function(){g.a.getInstance().info(["SuperBorad_SubView"],"API.undo"),this.curWhiteboardView.undo()},e.prototype.redo=function(){g.a.getInstance().info(["SuperBorad_SubView"],"API.redo"),this.curWhiteboardView.redo()},e.prototype.setScaleFactor=function(e,t,r){g.a.getInstance().info(["SuperBorad_SubView"],"API.setScaleFactor",JSON.stringify({scaleFactor:e,scaleOffsetX:t,scaleOffsetY:r})),this.curWhiteboardView.setScaleFactor(e,t,r)},e.prototype.getScaleFactor=function(){var e=this.curWhiteboardView.getScaleFactor();return g.a.getInstance().info(["SuperBorad_SubView"],"API.getScaleFactor",JSON.stringify({scaleFactor:e})),e},e.prototype.setOperationMode=function(e){g.a.getInstance().info(["SuperBorad_SubView"],"API.setOperationMode",JSON.stringify({mode:e})),this.curWhiteboardView.setWhiteboardOperationMode(e)},e.prototype.snapshot=function(e){var t=this;return g.a.getInstance().info(["SuperBorad_SubView"],"API.snapshot",JSON.stringify({customData:e})),new Promise((function(r,o){return B(t,void 0,void 0,(function(){var t,i;return N(this,(function(n){try{t=this.curWhiteboardView.snapshot(e),r(t)}catch(e){i=D(e.code,e.msg),o(i)}return[2]}))}))}))},e.prototype.reloadView=function(){g.a.getInstance().info(["SuperBorad_SubView"],"API.reloadView"),this.curWhiteboardView.reloadView()},e.prototype.getCurrentSheetName=function(){var e=this.model.fileID&&this.model.fileType===c.ELS?this.curWhiteboardView.getFileInfo().fileName:"";return g.a.getInstance().info(["SuperBorad_SubView"],"API.getCurrentSheetName",JSON.stringify({currentSheetName:e})),e},e.prototype.getExcelSheetNameList=function(){var e=this.curDocsView?this.curDocsView.getExcelSheetNameList():[];return g.a.getInstance().info(["SuperBorad_SubView"],"API.getExcelSheetNameList",JSON.stringify({list:e})),e},e.prototype.getThumbnailUrlList=function(){var e=this.curDocsView?this.curDocsView.getThumbnailUrlList():[];return g.a.getInstance().info(["SuperBorad_SubView"],"API.getThumbnailUrlList",JSON.stringify({list:e})),e},e.prototype.getPPTNotes=function(e){var t=this.curDocsView?this.curDocsView.getPPTNotes(e):"";return g.a.getInstance().info(["SuperBorad_SubView"],"API.getPPTNotes",JSON.stringify({page:e,notes:t})),t},e.prototype.stopPlayPPTVideo=function(e){g.a.getInstance().info(["SuperBorad_SubView"],"API.stopPlayPPTVideo",JSON.stringify({page:e})),this.curDocsView&&this.curDocsView.stopPlay(e)},e}(),L=function(e){var t=this;this.standarWebRTC={},this.standarWebRTC={},e.hasOwnProperty("zegoWebRTM")||e.hasOwnProperty("RTM")?this.standarWebRTC.RTCType=1:this.standarWebRTC.RTCType=0;var r=this.standarWebRTC.RTCType;this.standarWebRTC.getState=function(){return r?e.zegoWebRTM.stateCenter:e.stateCenter},this.standarWebRTC.getSocket=function(){var t;return r?e.zegoWebRTM.socketCenter||(null===(t=e.zegoWebRTM.modules)||void 0===t?void 0:t.service):e.zegoWebRTC.RTM.service},this.standarWebRTC.sendMessage=function(e,r,o,i){return t.standarWebRTC.getSocket().sendMessage(e,r,o,i)},this.standarWebRTC.sendSwitchMessage=function(t,o,i,n){return r?e.zegoWebRTM.sendSwitchMessage(t,o,i,n):e.zegoWebRTC.RTM.sendSwitchMessage(t,o,i,n)},this.standarWebRTC.getReqHead=function(t){return r?e.zegoWebRTM.getReqHead(t):e.zegoWebRTC.RTM.getReqHead(t)},this.standarWebRTC.onSwitchMessage=function(t){return r?e.zegoWebRTM.onSwitchMessage(t):e.zegoWebRTC.RTM.onSwitchMessage(t)},this.standarWebRTC.sendPB=function(t){return!!r&&e.zegoWebRTM.sendPB(t)},this.standarWebRTC.setSdkLoginRelateService=function(t){return r?e.zegoWebRTM.setSdkLoginRelateService(t):e.zegoWebRTC.RTM.setSdkLoginRelateService(t)},this.standarWebRTC.setProtoFormat=function(t){return r?e.zegoWebRTM.setProtoFormat(t):e.zegoWebRTC.RTM.setProtoFormat(t)},this.standarWebRTC._on=function(t,o){return r?e.zegoWebRTM._on(t,o):e._on(t,o)}},V=function(){return(V=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},j=function(e,t,r,o){return new(r||(r=Promise))((function(i,n){function a(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},R=function(e,t){var r,o,i,n,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(i=2&n[0]?o.return:n[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,n[1])).done)return i;switch(o=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,o=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){a.label=n[1];break}if(6===n[0]&&a.label<i[1]){a.label=i[1],i=n;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(n);break}i[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(e,a)}catch(e){n=[6,e],o=0}finally{r=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}},H=function(){function e(){this.subViews=[],this.isUseBoardView=!0,this.isLoginAttached=!1,this.viewAddTaskList=[],this.viewAddTaskIndex=0,this.viewAddTaskPending=!1,this.whiteboardViewMaxLength=50,this.localSwitch=!1,this.logConfig={logLevel:"debug",remoteLogLevel:"debug"}}return e.prototype.init=function(e,t){if(Object(g.b)(t,"SuperBoard",{SUPER_VER:this.getSDKVersion()}),g.a.startTimingUpload(),e&&t&&t.parentDomID&&t.appID&&t.token||(g.a.getInstance().error(["SuperBorad_Manager"],"API.init",JSON.stringify({config:t,msg:"参数错误，初始化失败"})),Promise.reject(new Error("参数错误，初始化失败"))),!Number.isInteger(t.appID))return Promise.reject(new Error("appid must be positive integer number and not empty"));var r=V({userID:"",isTestEnv:!1},t),o=new L(e);return this.zegoDocsService=new f.a(r),this.zegoWhiteboard=new p.a(new h.a(o)),g.a.getInstance().info(["SuperBorad_Manager","API"],"init",JSON.stringify(t)),this.getSuperBoardView().setParentDomID(t.parentDomID),this.bindRoomStateUpdate(),this.bindEvents(),Promise.resolve(!0)},e.prototype.bindRoomStateUpdate=function(){var e=this;_.e.on(_.c.SuperRoomDisConnected,(function(){e.subViews=[],e.isLoginAttached=!1,e.getSuperBoardView().setCurrentSuperBoardSubView(null,0)}))},e.prototype.bindEvents=function(){var e=this;_.e.on(_.d.SyncSwitchMod,(function(t,r,o,i){e.onSyncSwitchViewEvent(t,r,o,i)})),_.e.on(_.d.RemoteSwitchMod,(function(t,r){if(e.localSwitch){var o=e.subViews.find((function(e){return e.getModel().uniqueID==t})),i=0;return o&&(i=o.getWhiteboardViewList().findIndex((function(e){return e.getID()==r}))),void _.e.emit(_.d.RemoteSubViewSwitched,t,i)}if(e.viewAddTaskList.length){e.viewAddTaskHandle({name:"RemoteSwitchMod",fn:function(){return j(e,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return[4,this.onRemoteSwitchViewEvent(t,r)];case 1:return e.sent(),[2]}}))}))}})}else e.onRemoteSwitchViewEvent(t,r)})),_.e.on(_.d.RemoteModAdd,(function(t){if(e.isLoginAttached){e.viewAddTaskHandle({name:"RemoteModAdd",fn:function(){return j(e,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return[4,this.onRemoteModAddEvent(t)];case 1:return e.sent(),[2]}}))}))}})}})),_.e.on(_.d.RemoteModRemoved,(function(t,r){e.viewAddTaskHandle({name:"RemoteModRemoved",fn:function(){e.onRemoteModRemovedEvent(t,r)}})}))},e.prototype.viewAddTaskHandle=function(e){return j(this,void 0,void 0,(function(){return R(this,(function(t){switch(t.label){case 0:if(this.viewAddTaskList.push(e),this.viewAddTaskPending&&this.viewAddTaskList.length)return[2];t.label=1;case 1:return this.viewAddTaskIndex<=this.viewAddTaskList.length?(this.viewAddTaskPending=!0,this.viewAddTaskList[this.viewAddTaskIndex]?[4,this.viewAddTaskList[this.viewAddTaskIndex].fn()]:[3,3]):[3,5];case 2:t.sent(),t.label=3;case 3:this.viewAddTaskIndex++,t.label=4;case 4:return[3,1];case 5:return this.viewAddTaskList.length=0,this.viewAddTaskIndex=0,this.viewAddTaskPending=!1,[2]}}))}))},e.prototype.setCustomizedConfig=function(e,t){return g.a.getInstance().info(["SuperBorad_Manager","API"],"setCustomizedConfig",JSON.stringify({key:e,value:t})),"localSwitch"===e?(this.localSwitch="true"==t,!0):this.zegoDocsService.setConfig(e,t)},e.prototype.getCustomizedConfig=function(e){var t=this.zegoDocsService.getConfig(e);return g.a.getInstance().info(["SuperBorad_Manager","API"],"getCustomizedConfig",JSON.stringify({key:e,value:t})),t},e.prototype.on=function(e,t){var r;return"error"==e&&t&&(r=function(e){var r=String(e.code);r.startsWith("10")||(r.startsWith("31")||(e=D(e.code,e.msg)),g.a.getInstance().error(["SuperBorad_Manager"],"API.onError",JSON.stringify({error:e})),t(e))}),_.e.on(e,r||t)},e.prototype.off=function(e,t){return _.e.off(e,t)},e.prototype.getSDKVersion=function(){return"2.3.0"},e.prototype.getSuperBoardView=function(){var e=C.getInstance();return e.enableUseBoardView(this.isUseBoardView),e},e.prototype.enableSuperBoardView=function(e){g.a.getInstance().info(["SuperBorad_Manager","API"],"enableSuperBoardView",JSON.stringify({enable:e})),this.isUseBoardView=e},e.prototype.getSuperBoardSubView=function(e){var t=this.isUseBoardView?null:this.subViews.find((function(t){return t.getModel().uniqueID===e}))||null;return g.a.getInstance().info(["SuperBorad_Manager","API"],"getSuperBoardSubView",JSON.stringify({uniqueID:e,subView:null==t?void 0:t.getModel()})),t},e.prototype.attachSuperBoardSubView=function(e,t){var r=this;if(g.a.getInstance().info(["SuperBorad_Manager","API"],"attachSuperBoardSubView",JSON.stringify({view:e.getModel(),parentDomID:t})),this.isUseBoardView)return Promise.reject(new Error("仅限于不使用 ZegoSuperBoardView 的场景"));var o=e;if(!o||!o.getCurrentWhiteboardView())return Promise.reject(new Error("白板不存在"));var i=o.getCurrentWhiteboardView(),n=i.getRootDomID();if(n&&n!==t)return g.a.getInstance().error(["SuperBorad_Manager","API"],"attachSuperBoardSubView",JSON.stringify({rootDomID:n,parentDomID:t})),Promise.reject(new Error("不允许挂载到多个容器"));var a=o.getModel().fileID;return a?new Promise((function(e,o){var n,s=null===(n=i.getFileInfo())||void 0===n?void 0:n.fileName,c=r.zegoDocsService.createView(i.getID(),s);r.zegoDocsService.setDocsViewParent(c,t),c.loadFile(a,"",(function(t){g.a.getInstance().error(["SuperBorad_Manager","Inner"],"loadFile",JSON.stringify({fileID:a,fileName:s,whiteboardID:i.getID(),viewID:t.viewID})),r.zegoWhiteboard.attachView(i,t.viewID).then(e,o)})).catch(o)})):(g.a.getInstance().info(["SuperBorad_Manager","API"],"attachSuperBoardSubView",JSON.stringify({whiteboardViewID:i.getID(),parentDomID:t})),this.zegoWhiteboard.attachView(i,t))},e.prototype.createWhiteboardView=function(e){return j(this,void 0,void 0,(function(){var t,r,o,i;return R(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),[4,this.zegoWhiteboard.getViewList()];case 1:return n.sent().length>=this.whiteboardViewMaxLength?[2,Promise.reject(D(d.ZegoSuperBoardErrorViewNumLimit))]:(e.perPageWidth|=0,e.perPageHeight|=0,e.pageCount|=0,t={uniqueID:P(),name:A(e.name),aspectWidth:e.perPageWidth*e.pageCount,aspectHeight:e.perPageHeight,pageCount:e.pageCount},g.a.getInstance().info(["SuperBorad_Manager","API"],"createWhiteboardView",JSON.stringify({model:t})),[4,this.zegoWhiteboard.createView(t)]);case 2:return r=n.sent(),o=new M([r],[],this.localSwitch),this.isUseBoardView?(this.getSuperBoardView().setCurrentSuperBoardSubView(o,0),[4,this.zegoWhiteboard.attachView(r,this.getSuperBoardView().getParentDomID())]):[3,4];case 3:n.sent(),this.zegoWhiteboard.switchView(r.getID()),n.label=4;case 4:return this.subViews.push(o),g.a.getInstance().info(["SuperBorad_Manager","API"],"createWhiteboardView",JSON.stringify({subViewModel:o.getModel()})),[2,o.getModel()];case 5:throw i=n.sent(),D(i.code,i.msg);case 6:return[2]}}))}))},e.prototype.createFileView=function(e){var t=this;return g.a.getInstance().info(["SuperBorad_Manager","API"],"createFileView",JSON.stringify({config:e})),new Promise((function(r,o){return j(t,void 0,void 0,(function(){var t,i,n,a,s,c,u,l,p,h,f,_,m=this;return R(this,(function(v){switch(v.label){case 0:t=e.fileID,i=this.getSuperBoardView().getParentDomID(),n=P(),a=k(),v.label=1;case 1:return v.trys.push([1,3,,4]),s=this.zegoDocsService.createView(a),[4,this.zegoDocsService.getDocsViewFileInfo(s,e.fileID)];case 2:return c=v.sent(),[3,4];case 3:return u=v.sent(),[2,o(D(u.code,u.msg))];case 4:return[4,this.zegoWhiteboard.getViewList()];case 5:if(l=v.sent(),c.fileType===y.c.ZegoDocsViewFileTypeELS){if((p=null===(_=c.sheets)||void 0===_?void 0:_.length)&&l.length+p>=this.whiteboardViewMaxLength)return o(D(d.ZegoSuperBoardErrorViewNumLimit)),[2]}else if(l.length>=this.whiteboardViewMaxLength)return o(D(d.ZegoSuperBoardErrorViewNumLimit)),[2];return h=function(e){return j(m,void 0,void 0,(function(){var c,u,l,d,p,h,f,_,m,v;return R(this,(function(b){switch(b.label){case 0:g.a.getInstance().info(["SuperBorad_Manager","Inner"],"onCreateView",JSON.stringify({fileType:e.fileType,sheets:e.sheets})),b.label=1;case 1:if(b.trys.push([1,16,,17]),e.fileType!==y.c.ZegoDocsViewFileTypeELS)return[3,10];c=e.sheets,u=[],l=[],d=c.length-1,b.label=2;case 2:return d>0?[4,this.createExcelRestFileView(i,n,t,c[d])]:[3,5];case 3:p=b.sent(),h=p[0],f=p[1],u.push(h),l.push(f),b.label=4;case 4:return d--,[3,2];case 5:return[4,this.createAndAttachFileView(n,a,e)];case 6:return _=b.sent(),u.push(_),l.push(s),u.reverse(),l.reverse(),m=new M(u,l,this.localSwitch),this.subViews.push(m),this.isUseBoardView?(this.getSuperBoardView().setCurrentSuperBoardSubView(m,0),g.a.getInstance().info(["SuperBorad_Manager","Inner"],"switchView",JSON.stringify({whiteboardID:a})),[4,this.zegoWhiteboard.attachView(_,e.viewID)]):[3,9];case 7:return b.sent(),[4,this.zegoWhiteboard.switchView(a)];case 8:b.sent(),b.label=9;case 9:return r(m.getModel()),[3,15];case 10:return[4,this.createAndAttachFileView(n,a,e)];case 11:return _=b.sent(),m=new M([_],[s],this.localSwitch),this.subViews.push(m),this.isUseBoardView?(this.getSuperBoardView().setCurrentSuperBoardSubView(m,0),g.a.getInstance().info(["SuperBorad_Manager"],"switchView",JSON.stringify({whiteboardID:a})),[4,this.zegoWhiteboard.attachView(_,e.viewID)]):[3,14];case 12:return b.sent(),[4,this.zegoWhiteboard.switchView(a)];case 13:b.sent(),b.label=14;case 14:r(m.getModel()),b.label=15;case 15:return[3,17];case 16:return v=b.sent(),v=D(v.code,v.msg),o(v),[3,17];case 17:return[2]}}))}))},c.fileType!=y.c.ZegoDocsViewFileTypeVideo&&c.fileType!=y.c.ZegoDocsViewFileTypeAudio?[3,7]:[4,s.loadFile(t,"")];case 6:return f=v.sent(),[2,r(f.fileUrls)];case 7:this.isUseBoardView?(this.zegoDocsService.setDocsViewParent(s,i),s.loadFile(t,"",h).catch((function(e){o(D(e.code,e.msg))}))):(g.a.getInstance().info(["SuperBorad_Manager","Inner"],"getDocsViewFileInfo",JSON.stringify({fileID:t})),this.zegoDocsService.getDocsViewFileInfo(s,t).then(h).catch((function(e){o(D(e.code,e.msg))}))),v.label=8;case 8:return[2]}}))}))}))},e.prototype.destroySuperBoardSubView=function(e){var t,r=this;g.a.getInstance().info(["SuperBorad_Manager","API"],"destroySuperBoardSubView",JSON.stringify({uniqueID:e}));var o=this.subViews.findIndex((function(t){return t.getModel().uniqueID==e}));if(-1!=o){var i=null===(t=this.getSuperBoardView().getCurrentSuperBoardSubView())||void 0===t?void 0:t.getModel().uniqueID,n=this.subViews.splice(o,1)[0].getWhiteboardViewList().map((function(e){return j(r,void 0,void 0,(function(){return R(this,(function(t){switch(t.label){case 0:return[4,this.zegoWhiteboard.destroyView(e)];case 1:return t.sent(),[2]}}))}))}));return Promise.all(n).then((function(){return j(r,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return[4,this.findZorderSubView(i)];case 1:return e.sent(),[2]}}))}))})).catch((function(e){}))}return Promise.reject(new Error("白板不存在"))},e.prototype.findZorderSubView=function(e){return j(this,void 0,void 0,(function(){var t,r,o,i,n;return R(this,(function(a){switch(a.label){case 0:return this.isUseBoardView?0===this.subViews.length?[3,2]:(t=this.zegoWhiteboard.getCurrentActivitedView(),r=t[0],o=t[1],g.a.getInstance().info(["SuperBorad_Manager","Inner"],"CurrentActivitedView",JSON.stringify({UniqueID:r,whiteboardID:o})),(i=this.subViews.find((function(e){return e.getModel().uniqueID==r})))&&e!==r?(n=i.getWhiteboardViewList().findIndex((function(e){return e.getID()==o})),[4,this.onSyncSwitchViewEvent(r,n)]):[2]):[2];case 1:return a.sent(),[3,3];case 2:this.getSuperBoardView().setCurrentSuperBoardSubView(null,0),a.label=3;case 3:return[2]}}))}))},e.prototype.querySuperBoardSubViewModelList=function(){return j(this,void 0,void 0,(function(){var e,t,r,o,i,n,a,s,c,u,l,d,p;return R(this,(function(h){switch(h.label){case 0:return this.subViews.length?(e=this.subViews.map((function(e){return e.getModel()})),g.a.getInstance().info(["SuperBorad_Manager","API"],"querySuperBoardSubViewModelList",JSON.stringify({modelList:e})),[2,Promise.resolve(e)]):[4,this.zegoWhiteboard.getViewList()];case 1:t=h.sent(),r={},t.forEach((function(e){var t=e,o=t.getUniqueID();r[o]?r[o].push(t):r[o]=[t]})),o=Object.keys(r),i=function(e){var t,i,a,s;return R(this,(function(c){switch(c.label){case 0:return t=o[e],n.subViews.find((function(e){return e.getModel().uniqueID===t}))?[3,2]:(i=r[t],[4,n.generateDocsViews(i,null===(c=i[0].getFileInfo())||void 0===c?void 0:c.fileID)]);case 1:a=c.sent(),s=new M(i,a,n.localSwitch),n.subViews.push(s),c.label=2;case 2:return[2]}}))},n=this,a=0,h.label=2;case 2:return a<o.length?[5,i(a)]:[3,5];case 3:h.sent(),h.label=4;case 4:return a++,[3,2];case 5:return s=this.zegoWhiteboard.getCurrentActivitedView(),c=s[0],u=s[1],(l=this.subViews.find((function(e){return e.getModel().uniqueID==c})))?(d=l.getWhiteboardViewList().findIndex((function(e){return e.getID()==u})),this.getSuperBoardView().setCurrentSuperBoardSubView(l,d)):this.getSuperBoardView().setCurrentSuperBoardSubView(null,0),this.isLoginAttached=!0,p=this.subViews.map((function(e){return e.getModel()})),g.a.getInstance().info(["SuperBorad_Manager","API"],"querySuperBoardSubViewModelList",JSON.stringify({modelList:p})),[2,Promise.resolve(p)]}}))}))},e.prototype.clearCache=function(){return g.a.getInstance().info(["SuperBorad_Manager","API"],"clearCache"),this.zegoWhiteboard.clear()},e.prototype.setDeferredRenderingTime=function(e){g.a.getInstance().info(["SuperBorad_Manager","API"],"clearCasetDeferredRenderingTimeche",JSON.stringify({delay:e})),this.zegoWhiteboard.setDeferredRenderingTime(e)},e.prototype.enableSyncScale=function(e){g.a.getInstance().info(["SuperBorad_Manager","API"],"enableSyncScale",JSON.stringify({enable:e})),this.zegoWhiteboard.enableSyncScale(e)},e.prototype.enableResponseScale=function(e){g.a.getInstance().info(["SuperBorad_Manager","API"],"enableResponseScale",JSON.stringify({enable:e})),this.zegoWhiteboard.enableResponseScale(e)},e.prototype.enableHandwriting=function(e){g.a.getInstance().info(["SuperBorad_Manager","API"],"enableHandwriting",JSON.stringify({enable:e})),this.zegoWhiteboard.enableHandwriting(e)},e.prototype.enableCustomCursor=function(e){g.a.getInstance().info(["SuperBorad_Manager","API"],"enableCustomCursor",JSON.stringify({enable:e})),this.zegoWhiteboard.enableCustomCursor(e)},e.prototype.enableRemoteCursorVisible=function(e){g.a.getInstance().info(["SuperBorad_Manager","API"],"enableRemoteCursorVisible",JSON.stringify({enable:e})),this.zegoWhiteboard.enableRemoteCursorVisible(e)},e.prototype.setCustomCursorAttribute=function(e,t){var r=this;return g.a.getInstance().info(["SuperBorad_Manager","API"],"enableCustomCursor",JSON.stringify({type:e,attr:t})),new Promise((function(o,i){return j(r,void 0,void 0,(function(){var r,n;return R(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.zegoWhiteboard.setCustomCursorAttribute(e,t)];case 1:return r=a.sent(),o(r),[3,3];case 2:return n=a.sent(),i(D(n.code,n.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.setToolType=function(e){g.a.getInstance().info(["SuperBorad_Manager","API"],"setToolType",JSON.stringify({type:e}));var t=Object(m.o)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setToolType(e)})),t},e.prototype.getToolType=function(){var e=Object(m.e)();return g.a.getInstance().info(["SuperBorad_Manager","API"],"getToolType",JSON.stringify({val:e})),e},e.prototype.setFontBold=function(e){return g.a.getInstance().info(["SuperBorad_Manager","API"],"setFontBold",JSON.stringify({isBold:e})),Object(m.l)(e)},e.prototype.isFontBold=function(){var e=Object(m.f)();return g.a.getInstance().info(["SuperBorad_Manager","API"],"getToolType",JSON.stringify({val:e})),e},e.prototype.setFontItalic=function(e){return g.a.getInstance().info(["SuperBorad_Manager","API"],"setFontItalic",JSON.stringify({isItalic:e})),Object(m.m)(e)},e.prototype.isFontItalic=function(){var e=Object(m.g)();return g.a.getInstance().info(["SuperBorad_Manager","API"],"isFontItalic",JSON.stringify({val:e})),e},e.prototype.setFontSize=function(e){g.a.getInstance().info(["SuperBorad_Manager","API"],"setFontSize",JSON.stringify({size:e}));var t=Object(m.n)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setFontSize(e)})),t},e.prototype.getFontSize=function(){var e=Object(m.d)();return g.a.getInstance().info(["SuperBorad_Manager","API"],"getFontSize",JSON.stringify({val:e})),e},e.prototype.setBrushSize=function(e){g.a.getInstance().info(["SuperBorad_Manager","API"],"setBrushSize",JSON.stringify({size:e}));var t=Object(m.k)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setBrushSize(e)})),t},e.prototype.getBrushSize=function(){var e=Object(m.c)();return g.a.getInstance().info(["SuperBorad_Manager","API"],"getBrushSize",JSON.stringify({val:e})),e},e.prototype.setBrushColor=function(e){return g.a.getInstance().info(["SuperBorad_Manager","API"],"setBrushColor",JSON.stringify({color:e})),Object(m.j)(e)},e.prototype.getBrushColor=function(){var e=Object(m.b)();return g.a.getInstance().info(["SuperBorad_Manager","API"],"getBrushColor",JSON.stringify({val:e})),e},e.prototype.setWhiteboardBackgroundColor=function(e){g.a.getInstance().info(["SuperBorad_Manager","API"],"setWhiteboardBackgroundColor",JSON.stringify({color:e}));var t=Object(m.i)(e);return t&&this.zegoWhiteboard.getActivitedViews().forEach((function(t){return t.setBackgroundColor(e)})),t},e.prototype.isHandwritingEnabled=function(){var e=Object(m.h)();return g.a.getInstance().info(["SuperBorad_Manager","API"],"isHandwritingEnabled",JSON.stringify({val:e})),e},e.prototype.getWhiteboardBackgroundColor=function(){var e=Object(m.a)();return g.a.getInstance().info(["SuperBorad_Manager","API"],"getBackgroundColor",JSON.stringify({val:e})),e},e.prototype.uploadFile=function(e,t,r){var o=this;return g.a.getInstance().info(["SuperBorad_Manager","API"],"uploadFile",JSON.stringify({file:e,renderType:t})),new Promise((function(i,n){return j(o,void 0,void 0,(function(){var o,a;return R(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.zegoDocsService.uploadFile(e,t,{},r)];case 1:return o=s.sent(),i(o),[3,3];case 2:return a=s.sent(),n(D(a.code,a.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.cancelUploadFile=function(e){var t=this;return g.a.getInstance().info(["SuperBorad_Manager","API"],"cancelUploadFile",JSON.stringify({fileHash:e})),new Promise((function(r,o){return j(t,void 0,void 0,(function(){var t,i;return R(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.zegoDocsService.cancelUploadFile(e)];case 1:return t=n.sent(),r(t),[3,3];case 2:return i=n.sent(),o(D(i.code,i.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.uploadH5File=function(e,t,r){var o=this;return g.a.getInstance().info(["SuperBorad_Manager","API"],"uploadH5File",JSON.stringify({fileObject:function(){return{lastModified:e.lastModified,name:e.name,size:e.size,type:e.type}},config:t})),new Promise((function(i,n){return j(o,void 0,void 0,(function(){var o,a;return R(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.zegoDocsService.uploadH5File(e,t,r)];case 1:return o=s.sent(),i(o),[3,3];case 2:return a=s.sent(),n(D(a.code,a.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.cacheFile=function(e){var t=this;return g.a.getInstance().info(["SuperBorad_Manager","API"],"cacheFile",JSON.stringify({fileID:e})),new Promise((function(r,o){return j(t,void 0,void 0,(function(){var t,i;return R(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.zegoDocsService.cacheFile(e)];case 1:return t=n.sent(),r(t),[3,3];case 2:return i=n.sent(),o(D(i.code,i.msg)),[3,3];case 3:return[2]}}))}))}))},e.prototype.setLogConfig=function(e){e.logLevel&&(this.logConfig.logLevel=e.logLevel),e.remoteLogLevel&&(this.logConfig.remoteLogLevel=e.remoteLogLevel),g.a.getInstance().setLogConfig(this.logConfig)},e.prototype.createAndAttachFileView=function(e,t,r){return j(this,void 0,void 0,(function(){var o;return R(this,(function(i){switch(i.label){case 0:return o={uniqueID:e,name:A(r.name||r.fileName),aspectWidth:r.width,aspectHeight:r.height,pageCount:r.pageCount,fileInfo:{fileID:r.fileID,fileName:r.fileName,fileType:r.fileType}},g.a.getInstance().info(["SuperBorad_Manager","Inner"],"createAndAttachFileView",JSON.stringify({model:o,whiteboardID:t,viewID:r.viewID})),[4,this.zegoWhiteboard.createView(o,t)];case 1:return[2,i.sent()]}}))}))},e.prototype.createExcelRestFileView=function(e,t,r,o){var i=this;return new Promise((function(n,a){var s=k(),c=i.zegoDocsService.createView(s,o);i.isUseBoardView&&i.zegoDocsService.setDocsViewParent(c,e),i.zegoDocsService.getDocsViewFileInfo(c,r).then((function(e){return j(i,void 0,void 0,(function(){var r,i,u;return R(this,(function(l){switch(l.label){case 0:r={uniqueID:t,name:A(e.name),aspectWidth:e.width,aspectHeight:e.height,pageCount:e.pageCount,fileInfo:{fileID:e.fileID,fileName:o,fileType:e.fileType}},g.a.getInstance().info(["SuperBorad_Manager","Inner"],"createExcelRestFileView",JSON.stringify({model:r,whiteboardID:s})),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.zegoWhiteboard.createView(r,s)];case 2:return i=l.sent(),n([i,c]),[3,4];case 3:return u=l.sent(),a(D(u.code,u.msg)),[3,4];case 4:return[2]}}))}))}))}))},e.prototype.stopVideo=function(){var e=this.getSuperBoardView().getCurrentSuperBoardSubView();(g.a.getInstance().info(["SuperBorad_Manager","Inner"],"stopVideo",JSON.stringify({fileID:null==e?void 0:e.getModel().fileID,fileType:null==e?void 0:e.getModel().fileType})),e)&&((e.getModel().fileID&&e.getModel().fileType===c.CustomH5||e.getModel().fileType===c.DynamicPPTH5)&&e.stopPlayPPTVideo(0))},e.prototype.generateDocsViews=function(e,t){var r=this;if(t){var o=e.map((function(e,o){var i=r.zegoDocsService.createView(e.getID(),o);return r.zegoDocsService.getDocsViewFileInfo(i,t).then((function(){return i}))}));return Promise.all(o)}return Promise.resolve([])},e.prototype.emitRemoteSubViewAddEvent=function(e,t,r){var o=this.subViews.find((function(t){return t.getModel().uniqueID===e}));o||(o=new M([t],r?[r]:[],this.localSwitch),this.subViews.push(o)),this.isUseBoardView&&this.getSuperBoardView().setCurrentSuperBoardSubView(o,0),g.a.getInstance().info(["SuperBorad_Manager","Inner"],"RemoteSubViewAdd",JSON.stringify({uniqueID:e})),_.e.emit(_.d.RemoteSubViewAdd,e)},e.prototype.onSyncSwitchViewEvent=function(e,t,r,o){return j(this,void 0,void 0,(function(){var i,n,a,s,u,l,d,p,h=this;return R(this,(function(f){switch(f.label){case 0:if(!this.isUseBoardView)return[2,o&&o(!1)];if(g.a.getInstance().info(["SuperBorad_Manager","Inner"],"onSyncSwitchViewEvent",JSON.stringify({uniqueID:e,sheetIndex:t})),!(i=this.subViews.find((function(t){return t.getModel().uniqueID==e}))))return[3,8];f.label=1;case 1:return f.trys.push([1,6,,7]),i.getModel().fileType===c.ELS?(n=i.getExcelSheetNameList(),t="number"==typeof t?t:+n.findIndex((function(e){return e===i.getCurrentSheetName()}))):t=0,a=i.findWhiteboardView(t),s=a.getID(),[4,this.zegoWhiteboard.switchView(s)];case 2:return f.sent(),u=this.getSuperBoardView().getParentDomID(),(l=i.getModel().fileID)?(d=this.zegoDocsService.createView(s,t),this.zegoDocsService.setDocsViewParent(d,u),this.getSuperBoardView().setCurrentSuperBoardSubView(i,t),d.loadFile(l,"",(function(e){return j(h,void 0,void 0,(function(){var t;return R(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.zegoWhiteboard.attachView(a,e.viewID)];case 1:return i.sent(),r&&r(!0),[3,3];case 2:return t=i.sent(),o&&o(D(t.code,t.msg)),[3,3];case 3:return[2]}}))}))})),[3,5]):[3,3];case 3:return this.getSuperBoardView().setCurrentSuperBoardSubView(i,0),[4,this.zegoWhiteboard.attachView(a,u)];case 4:f.sent(),r&&r(!0),f.label=5;case 5:return this.lastSwitchUniqueID=e,this.lastSwitchWhiteboardID=s,[3,7];case 6:return p=f.sent(),o&&o(D(p.code,p.msg)),[3,7];case 7:return[3,9];case 8:g.a.getInstance().error(["SuperBorad_Manager","Inner"],"onSyncSwitchViewEvent_error","白板不存在"),o&&o(new Error("白板不存在")),f.label=9;case 9:return[2]}}))}))},e.prototype.onRemoteSwitchViewEvent=function(e,t){return!this.isUseBoardView||this.lastSwitchUniqueID===e&&this.lastSwitchWhiteboardID===t?(g.a.getInstance().warn(["SuperBorad_Manager","Inner"],"onRemoteSwitchViewEvent","切换白板与当前展示相同"),Promise.resolve()):this.switchView(e,t)},e.prototype.switchView=function(e,t){return j(this,void 0,void 0,(function(){var r,o,i,n,a,s,c=this;return R(this,(function(u){switch(u.label){case 0:return g.a.getInstance().info(["SuperBorad_Manager","Inner"],"switchView",JSON.stringify({uniqueID:e,whiteboardID:t})),this.stopVideo(),(r=this.subViews.find((function(t){return t.getModel().uniqueID==e})))?(o=r.getWhiteboardViewList().findIndex((function(e){return e.getID()==t})),i=r.findWhiteboardView(o),n=this.getSuperBoardView().getParentDomID(),(a=r.getModel().fileID)?(s=this.zegoDocsService.createView(t,o),this.zegoDocsService.setDocsViewParent(s,n),g.a.getInstance().info(["SuperBorad_Manager","Inner"],"switchView",JSON.stringify({whiteboardID:i.getID(),uniqueID:e,fileID:a,msg:"切换文件白板"})),s.loadFile(a,"",(function(t){return j(c,void 0,void 0,(function(){var n;return R(this,(function(a){switch(a.label){case 0:return g.a.getInstance().info(["SuperBorad_Manager","Inner"],"switchView_loadFile",JSON.stringify({viewID:t.viewID})),this.getSuperBoardView().setCurrentSuperBoardSubView(r,o),[4,this.zegoWhiteboard.attachView(i,t.viewID)];case 1:return a.sent(),(null==(n=this.getSuperBoardView().getCurrentSuperBoardSubView())?void 0:n.getModel().uniqueID)==e?_.e.emit(_.d.RemoteSubViewExcelSwitched,e,o):_.e.emit(_.d.RemoteSubViewSwitched,e),[2]}}))}))})),[3,3]):[3,1]):[3,4];case 1:return g.a.getInstance().info(["SuperBorad_Manager","Inner"],"switchView",JSON.stringify({whiteboardID:i.getID(),uniqueID:e,msg:"切换白板"})),this.getSuperBoardView().setCurrentSuperBoardSubView(r,0),[4,this.zegoWhiteboard.attachView(i,n)];case 2:u.sent(),_.e.emit(_.d.RemoteSubViewSwitched,e),u.label=3;case 3:this.lastSwitchUniqueID=e,this.lastSwitchWhiteboardID=t,u.label=4;case 4:return[2]}}))}))},e.prototype.onRemoteModAddEvent=function(e){return j(this,void 0,void 0,(function(){var t,r,o,i,n,a,s,c,u,l,d,p,h,f,m;return R(this,(function(v){switch(v.label){case 0:return this.isLoginAttached?(t=this.getSuperBoardView().getParentDomID(),r=e.getID(),o=e.getFileInfo(),i=e.getUniqueID(),g.a.getInstance().info(["SuperBorad_Manager","Inner"],"onRemoteModAddEvent",JSON.stringify({uniqueID:i,whiteboardID:r,file:o})),(n=this.subViews.find((function(e){return e.getModel().uniqueID===i})))?o?(s=o.fileID,a=o.fileName,o.fileType!==y.c.ZegoDocsViewFileTypeELS?[3,5]:(l=n.getExcelSheetNameList(),d=l.findIndex((function(e){return e===a})),m=this.zegoDocsService.createView(r,a),this.isUseBoardView&&this.zegoDocsService.setDocsViewParent(m,t),n.getWhiteboardViewList().reduce((function(e,t){return t?++e:e}),0)+1<l.length?[4,this.zegoDocsService.getDocsViewFileInfo(m,s)]:[3,2])):[3,7]:[3,9]):[2];case 1:return v.sent(),n.insertView(d,e,m),[3,4];case 2:return[4,this.zegoDocsService.getDocsViewFileInfo(m,s)];case 3:v.sent(),n.insertView(d,e,m),n.switchWhiteboardView(0),_.e.emit(_.d.RemoteSubViewAdd,i),v.label=4;case 4:return[3,6];case 5:g.a.getInstance().info(["SuperBorad_Manager","Inner"],"RemoteSubViewAdd",JSON.stringify({uniqueID:i})),_.e.emit(_.d.RemoteSubViewAdd,i),v.label=6;case 6:return[3,8];case 7:g.a.getInstance().info(["SuperBorad_Manager","Inner"],"RemoteSubViewAdd",JSON.stringify({uniqueID:i})),_.e.emit(_.d.RemoteSubViewAdd,i),v.label=8;case 8:return[3,15];case 9:return o?(s=o.fileID,c=o.fileName,o.fileType!==y.c.ZegoDocsViewFileTypeELS?[3,11]:(m=this.zegoDocsService.createView(r,c),this.isUseBoardView&&this.zegoDocsService.setDocsViewParent(m,t),[4,this.zegoDocsService.getDocsViewFileInfo(m,s)])):[3,14];case 10:return u=v.sent(),l=u.sheets,d=l.findIndex((function(e){return e===c})),(p=this.subViews.find((function(e){return e.getModel().uniqueID===i})))||(f=[],(h=[])[d]=e,f[d]=m,p=new M(h,f,this.localSwitch),this.subViews.push(p),p.switchWhiteboardView(d),this.getSuperBoardView().setCurrentSuperBoardSubView(p,d),1===l.length&&this.emitRemoteSubViewAddEvent(i,e,m)),[3,13];case 11:return m=this.zegoDocsService.createView(r),[4,this.zegoDocsService.getDocsViewFileInfo(m,s)];case 12:v.sent(),this.emitRemoteSubViewAddEvent(i,e,m),v.label=13;case 13:return[3,15];case 14:this.emitRemoteSubViewAddEvent(i,e),v.label=15;case 15:return[2]}}))}))},e.prototype.onRemoteModRemovedEvent=function(e,t){var r=this.subViews.findIndex((function(t){return t.getModel().uniqueID===e}));if(-1==r)g.a.getInstance().info(["SuperBorad_Manager","Inner"],"RemoteSubViewRemoved",JSON.stringify({uniqueID:e})),_.e.emit(_.d.RemoteSubViewRemoved,e);else{var o=this.subViews[r],i=o.getModel(),n=i.fileType;if(i.fileID&&n==c.ELS){var a=o.getWhiteboardViewList(),s=a.findIndex((function(e){return e.getID()==t}));if(a.splice(s,1),0!==a.reduce((function(e,t){return t?++e:e}),0))return}this.subViews.splice(r,1),this.isUseBoardView&&0===this.subViews.length&&this.getSuperBoardView().setCurrentSuperBoardSubView(null,0),g.a.getInstance().info(["SuperBorad_Manager","Inner"],"RemoteSubViewRemoved",JSON.stringify({uniqueID:e})),_.e.emit(_.d.RemoteSubViewRemoved,e)}},e}(),q=function(){function e(){if(e.instance)return e.instance;this.zegoSuperBoardService=new H,e.instance=this}return e.getInstance=function(){return this.instance||(this.instance=new e)},e.prototype.init=function(e,t){return this.zegoSuperBoardService.init(e,t)},e.prototype.setCustomizedConfig=function(e,t){return this.zegoSuperBoardService.setCustomizedConfig(e,t)},e.prototype.getCustomizedConfig=function(e){return this.zegoSuperBoardService.getCustomizedConfig(e)},e.prototype.on=function(e,t){return this.zegoSuperBoardService.on(e,t)},e.prototype.off=function(e,t){return this.zegoSuperBoardService.off(e,t)},e.prototype.getSDKVersion=function(){return this.zegoSuperBoardService.getSDKVersion()},e.prototype.getSuperBoardView=function(){return this.zegoSuperBoardService.getSuperBoardView()},e.prototype.enableSuperBoardView=function(e){this.zegoSuperBoardService.enableSuperBoardView(e)},e.prototype.getSuperBoardSubView=function(e){return this.zegoSuperBoardService.getSuperBoardSubView(e)},e.prototype.attachSuperBoardSubView=function(e,t){return this.zegoSuperBoardService.attachSuperBoardSubView(e,t)},e.prototype.createWhiteboardView=function(e){return this.zegoSuperBoardService.createWhiteboardView(e)},e.prototype.createFileView=function(e){return this.zegoSuperBoardService.createFileView(e)},e.prototype.destroySuperBoardSubView=function(e){return this.zegoSuperBoardService.destroySuperBoardSubView(e)},e.prototype.querySuperBoardSubViewList=function(){return this.zegoSuperBoardService.querySuperBoardSubViewModelList()},e.prototype.clearCache=function(){return this.zegoSuperBoardService.clearCache()},e.prototype.setDeferredRenderingTime=function(e){this.zegoSuperBoardService.setDeferredRenderingTime(e)},e.prototype.enableSyncScale=function(e){this.zegoSuperBoardService.enableSyncScale(e)},e.prototype.enableResponseScale=function(e){this.zegoSuperBoardService.enableResponseScale(e)},e.prototype.enableHandwriting=function(e){this.zegoSuperBoardService.enableHandwriting(e)},e.prototype.enableCustomCursor=function(e){this.zegoSuperBoardService.enableCustomCursor(e)},e.prototype.enableRemoteCursorVisible=function(e){this.zegoSuperBoardService.enableRemoteCursorVisible(e)},e.prototype.setCustomCursorAttribute=function(e,t){return this.zegoSuperBoardService.setCustomCursorAttribute(e,t)},e.prototype.setToolType=function(e){return this.zegoSuperBoardService.setToolType(e)},e.prototype.getToolType=function(){return this.zegoSuperBoardService.getToolType()},e.prototype.setFontBold=function(e){return this.zegoSuperBoardService.setFontBold(e)},e.prototype.isFontBold=function(){return this.zegoSuperBoardService.isFontBold()},e.prototype.setFontItalic=function(e){return this.zegoSuperBoardService.setFontItalic(e)},e.prototype.isFontItalic=function(){return this.zegoSuperBoardService.isFontItalic()},e.prototype.setFontSize=function(e){return this.zegoSuperBoardService.setFontSize(e)},e.prototype.getFontSize=function(){return this.zegoSuperBoardService.getFontSize()},e.prototype.setBrushSize=function(e){return this.zegoSuperBoardService.setBrushSize(e)},e.prototype.getBrushSize=function(){return this.zegoSuperBoardService.getBrushSize()},e.prototype.setBrushColor=function(e){return this.zegoSuperBoardService.setBrushColor(e)},e.prototype.getBrushColor=function(){return this.zegoSuperBoardService.getBrushColor()},e.prototype.setWhiteboardBackgroundColor=function(e){return this.zegoSuperBoardService.setWhiteboardBackgroundColor(e)},e.prototype.getWhiteboardBackgroundColor=function(){return this.zegoSuperBoardService.getWhiteboardBackgroundColor()},e.prototype.isHandwritingEnabled=function(){return this.zegoSuperBoardService.isHandwritingEnabled()},e.prototype.uploadFile=function(e,t,r){return this.zegoSuperBoardService.uploadFile(e,t,r)},e.prototype.cancelUploadFile=function(e){return this.zegoSuperBoardService.cancelUploadFile(e)},e.prototype.uploadH5File=function(e,t,r){return this.zegoSuperBoardService.uploadH5File(e,t,r)},e.prototype.cacheFile=function(e){return this.zegoSuperBoardService.cacheFile(e)},e.prototype.setLogConfig=function(e){return this.zegoSuperBoardService.setLogConfig(e)},e}()}])}));